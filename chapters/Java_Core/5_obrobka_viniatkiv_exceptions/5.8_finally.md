---
layout: default
title: "finally"
parent: "–û–±—Ä–æ–±–∫–∞ –≤–∏–Ω—è—Ç–∫—ñ–≤ (Exceptions)"
grand_parent: "Java Core"
nav_order: 8
---

# finally

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –ë–ª–æ–∫ `finally` –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∑–∞–≤–∂–¥–∏ –ø—ñ—Å–ª—è `try` –∞–±–æ `catch`, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —á–∏ –≤–∏–Ω–∏–∫ –≤–∏–Ω—è—Ç–æ–∫, —á–∏ –Ω—ñ. –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ–≥–æ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤.

* –ø–æ–Ω—è—Ç—Ç—è: `finally`, –æ—á–∏—â–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤.

* –ø—Ä–∏–∫–ª–∞–¥–∏: –ó–∞–∫—Ä–∏—Ç—Ç—è `FileReader` —É `finally` –±–ª–æ—Ü—ñ.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥—É, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —É `try`/`catch` —î `return` –∞–±–æ —ñ–Ω—à–∏–π –≤–∏–Ω—è—Ç–æ–∫. –ù–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ª–∏—à–µ –ø—Ä–∏ –∂–æ—Ä—Å—Ç–∫–æ–º—É –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ JVM.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è, –∫–æ–ª–∏ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è/–Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è `finally`.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**`finally`** ‚Äî —Ü–µ –±–ª–æ–∫ –∫–æ–¥—É, —è–∫–∏–π –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è **`try`** –∞–±–æ **`catch`** —É –±—É–¥—å-—è–∫–æ–º—É –≤–∏–ø–∞–¥–∫—É ‚Äî –≤–∏–Ω—è—Ç–æ–∫ –±—É–≤ —á–∏ –Ω—ñ.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¶–µ —è–∫ –≥–∞—Ä–∞–Ω—Ç—ñ—è –≤—ñ–¥ Java: ¬´–©–æ –± –Ω–µ —Å—Ç–∞–ª–æ—Å—è ‚Äî —Ü–µ–π –∫–æ–¥ —è –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ –≤–∏–∫–æ–Ω–∞—é.¬ª

---

## **–ù–∞–≤—ñ—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω finally?**

**üì¶ –¢–∏–ø–æ–≤—ñ —Ü—ñ–ª—ñ:**

* –ó–∞–∫—Ä–∏—Ç–∏ —Ñ–∞–π–ª–∏ –∞–±–æ –º–µ—Ä–µ–∂–µ–≤—ñ –∑‚Äô—î–¥–Ω–∞–Ω–Ω—è
* –ó–≤—ñ–ª—å–Ω–∏—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏ (Scanner, Streams, DB connection)
* –û—á–∏—Å—Ç–∏—Ç–∏ —Ç–∏–º—á–∞—Å–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ
* –ó—Ä–æ–±–∏—Ç–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è –∞–±–æ –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è

### **‚úîÔ∏è –ü—Ä–∏–∫–ª–∞–¥:**

```java
FileReader reader = null;
try {
    reader = new FileReader("file.txt");
    // —Ä–æ–±–æ—Ç–∞ –∑ —Ñ–∞–π–ª–æ–º
} catch (IOException e) {
    System.out.println("–ü–æ–º–∏–ª–∫–∞ —á–∏—Ç–∞–Ω–Ω—è");
} finally {
    if (reader != null) {
        try {
            reader.close();
        } catch (IOException e) {
            System.out.println("–ü–æ–º–∏–ª–∫–∞ –∑–∞–∫—Ä–∏—Ç—Ç—è");
        }
    }
}
```

üìå **`finally`** –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —á–∏ –≤–∏–Ω–∏–∫ –≤–∏–Ω—è—Ç–æ–∫.

---

## **–ö–æ–ª–∏ finally –Ω–µ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î? (‚ö†Ô∏è)**

| –°–∏—Ç—É–∞—Ü—ñ—è | –ß–æ–º—É –Ω–µ –ø—Ä–∞—Ü—é—î |
| :---: | :---: |
| **`System.exit(0);`** | JVM –∑–∞–≤–µ—Ä—à—É—î —Ä–æ–±–æ—Ç—É –Ω–µ–≥–∞–π–Ω–æ |
| **`Runtime.getRuntime().halt()`** | JVM –∂–æ—Ä—Å—Ç–∫–æ –∑—É–ø–∏–Ω—è—î—Ç—å—Å—è |
| JVM crash (**`OutOfMemoryError`**, **`StackOverflowError`**) | JVM –∞–≤–∞—Ä—ñ–π–Ω–æ –ø–∞–¥–∞—î |
| **`Thread.stop()`** (–∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–π) | –ü–æ—Ç—ñ–∫ –∑—É–ø–∏–Ω—è—î—Ç—å—Å—è –±–µ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**`finally`** ‚Äî —è–∫ –ø—Ä–∏–±–∏—Ä–∞–ª—å–Ω–∏–∫: –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∑–∞–≤–∂–¥–∏ –ø—ñ—Å–ª—è –ø–æ–¥—ñ—ó.

–ê–±–æ:  
**`try`** ‚Äî —Å–ø—Ä–æ–±—É–π  
**`catch`** ‚Äî –≤–ø—ñ–π–º–∞–π  
**`finally`** ‚Äî –≤—Å–µ –æ–¥–Ω–æ –ø—Ä–∏–±–µ—Ä–∏

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* **`finally`** –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è **`try`** / **`catch`**.
* –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å—ñ–≤.
* –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è –Ω–∞–≤—ñ—Ç—å –ø—ñ—Å–ª—è **`return`** –∞–±–æ –≤–∏–Ω—è—Ç–∫—ñ–≤.
* –ù–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ª–∏—à–µ –ø—Ä–∏ –∂–æ—Ä—Å—Ç–∫–æ–º—É –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ JVM (**`System.exit`**, –∞–≤–∞—Ä—ñ–π–Ω–∏–π –∫—Ä–∞—à).

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –±–ª–æ–∫ `finally` —ñ —è–∫–∞ –π–æ–≥–æ –≥–æ–ª–æ–≤–Ω–∞ –º–µ—Ç–∞ –≤ –æ–±—Ä–æ–±—Ü—ñ –≤–∏–Ω—è—Ç–∫—ñ–≤?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`finally`** ‚Äî —Ü–µ –±–ª–æ–∫ –∫–æ–¥—É, —è–∫–∏–π —î —á–∞—Å—Ç–∏–Ω–æ—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó `try-catch`. –ô–æ–≥–æ –∫–ª—é—á–æ–≤–∞ –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ –≤—ñ–Ω **–≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è** –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è `try` (—ñ `catch`, —è–∫—â–æ –≤—ñ–Ω –±—É–≤), –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —á–∏ –≤–∏–Ω–∏–∫ –≤–∏–Ω—è—Ç–æ–∫, —á–∏ –Ω—ñ.
>
> **–ì–æ–ª–æ–≤–Ω–∞ –º–µ—Ç–∞:**
> **–ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–µ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤**, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ —ó—Ö –≤–∏—Ç–æ–∫—É (`resource leaks`). –¶–µ –º–æ–∂—É—Ç—å –±—É—Ç–∏:
>
> * –§–∞–π–ª–æ–≤—ñ –ø–æ—Ç–æ–∫–∏ (`InputStream`, `OutputStream`).
> * –ó'—î–¥–Ω–∞–Ω–Ω—è –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö (`Connection`).
> * –ú–µ—Ä–µ–∂–µ–≤—ñ —Å–æ–∫–µ—Ç–∏ (`Socket`).
> * –ë—É–¥—å-—è–∫—ñ —ñ–Ω—à—ñ —Ä–µ—Å—É—Ä—Å–∏, —â–æ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å —è–≤–Ω–æ–≥–æ –∑–∞–∫—Ä–∏—Ç—Ç—è.
>
> –†–æ–∑–º—ñ—â—É—é—á–∏ –∫–æ–¥ –æ—á–∏—â–µ–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `reader.close()`) —É `finally` –±–ª–æ—Ü—ñ, –≤–∏ –º–æ–∂–µ—Ç–µ –±—É—Ç–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ –≤—ñ–Ω –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤ `try` –±–ª–æ—Ü—ñ —Å—Ç–∞–Ω–µ—Ç—å—Å—è –ø–æ–º–∏–ª–∫–∞.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–¶–µ —è–∫ –ø—Ä–∞–≤–∏–ª–æ "–∑–∞–≤–∂–¥–∏ –≤–∏–º–∏–∫–∞–π —Å–≤—ñ—Ç–ª–æ, –∫–æ–ª–∏ –≤–∏—Ö–æ–¥–∏—à –∑ –∫—ñ–º–Ω–∞—Ç–∏". –ù–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —â–æ –≤–∏ —Ä–æ–±–∏–ª–∏ –≤ –∫—ñ–º–Ω–∞—Ç—ñ (–±–ª–æ–∫ `try`) –∞–±–æ —á–∏ —Å—Ç–∞–ª–∞—Å—è —Ç–∞–º —è–∫–∞—Å—å —Ö–∞–ª–µ–ø–∞ (–±–ª–æ–∫ `catch`), –≤–∏ –Ω–∞ –≤–∏—Ö–æ–¥—ñ –≤—Å–µ –æ–¥–Ω–æ –∫–ª–∞—Ü–Ω–µ—Ç–µ –≤–∏–º–∏–∫–∞—á–µ–º (`finally`).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ë–∞–∑–æ–≤–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è `finally` —è–∫ –º–µ—Ö–∞–Ω—ñ–∑–º—É –¥–ª—è –Ω–∞–¥—ñ–π–Ω–æ–≥–æ –æ—á–∏—â–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –±–ª–æ–∫—ñ–≤, —è–∫—â–æ –≤ `try` –Ω–µ–º–∞—î –≤–∏–Ω—è—Ç–∫—É: `try`, `catch`, `finally`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫—â–æ –≤ `try` –±–ª–æ—Ü—ñ –≤–∏–Ω—è—Ç–æ–∫ **–Ω–µ –≤–∏–Ω–∏–∫–∞—î**:
>
> 1. **`try` –±–ª–æ–∫:** –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø–æ–≤–Ω—ñ—Å—Ç—é.
> 2. **`catch` –±–ª–æ–∫:** **–ü—Ä–æ–ø—É—Å–∫–∞—î—Ç—å—Å—è**. –í—ñ–Ω –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ª–∏—à–µ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –≤–∏–Ω–∏–∫–∞—î –≤–∏–Ω—è—Ç–æ–∫ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ —Ç–∏–ø—É.
> 3. **`finally` –±–ª–æ–∫:** –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è `try`.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> try {
>     System.out.println("1. –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è try");
> } catch (Exception e) {
>     System.out.println("2. –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è catch");
> } finally {
>     System.out.println("3. –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è finally");
> }
> ```
>
> **–í–∏–≤—ñ–¥:**
>
> ```
>
> 1. –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è try
> 3. –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è finally
>
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –±–∞–∑–æ–≤–æ–≥–æ "—â–∞—Å–ª–∏–≤–æ–≥–æ" –ø–æ—Ç–æ–∫—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó `try-catch-finally`.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, —è–∫—â–æ –≤ `try` –≤–∏–Ω–∏–∫–∞—î –≤–∏–Ω—è—Ç–æ–∫, —è–∫–∏–π –ø–µ—Ä–µ—Ö–æ–ø–ª—é—î—Ç—å—Å—è `catch`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫—â–æ –≤ `try` –±–ª–æ—Ü—ñ –≤–∏–Ω–∏–∫–∞—î –≤–∏–Ω—è—Ç–æ–∫, —è–∫–∏–π –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è:
>
> 1. **`try` –±–ª–æ–∫:** –í–∏–∫–æ–Ω–∞–Ω–Ω—è **–Ω–µ–≥–∞–π–Ω–æ –ø–µ—Ä–µ—Ä–∏–≤–∞—î—Ç—å—Å—è** –≤ —Ç–æ–º—É –º—ñ—Å—Ü—ñ, –¥–µ –≤–∏–Ω–∏–∫ –≤–∏–Ω—è—Ç–æ–∫. –†–µ—à—Ç–∞ –∫–æ–¥—É –≤ `try` –±–ª–æ—Ü—ñ –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è.
> 2. **`catch` –±–ª–æ–∫:** –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π `catch` –±–ª–æ–∫.
> 3. **`finally` –±–ª–æ–∫:** –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è `catch`.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> try {
>     System.out.println("1. –ü–æ—á–∞—Ç–æ–∫ try");
>     if (true) throw new RuntimeException();
>     System.out.println("2. –ö—ñ–Ω–µ—Ü—å try (–Ω–µ–¥–æ—Å—è–∂–Ω–∏–π)");
> } catch (Exception e) {
>     System.out.println("3. –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è catch");
> } finally {
>     System.out.println("4. –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è finally");
> }
> ```
>
> **–í–∏–≤—ñ–¥:**
>
> ```
>
> 1. –ü–æ—á–∞—Ç–æ–∫ try
> 3. –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è catch
> 4. –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è finally
>
> ```
>
> –†—è–¥–æ–∫ "2. –ö—ñ–Ω–µ—Ü—å try" –Ω—ñ–∫–æ–ª–∏ –Ω–µ –±—É–¥–µ –≤–∏–≤–µ–¥–µ–Ω–æ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –ø–æ—Ç–æ–∫—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥–ª—è —Å—Ü–µ–Ω–∞—Ä—ñ—é, –∫–æ–ª–∏ –≤–∏–Ω—è—Ç–æ–∫ —É—Å–ø—ñ—à–Ω–æ –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–µ `finally` –±–ª–æ–∫ —ñ—Å–Ω—É–≤–∞—Ç–∏ –±–µ–∑ `catch` –±–ª–æ–∫—É? –Ø–∫—â–æ —Ç–∞–∫, —Ç–æ –Ω–∞–≤—ñ—â–æ?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, –º–æ–∂–µ.** –ö–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è **`try-finally`** —î –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤–∞–ª—ñ–¥–Ω–æ—é.
>
> **–ù–∞–≤—ñ—â–æ –≤–æ–Ω–∞ –ø–æ—Ç—Ä—ñ–±–Ω–∞:**
>
> –í–æ–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è, –∫–æ–ª–∏ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ **–≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ —è–∫—É—Å—å –¥—ñ—é –ø–æ –æ—á–∏—â–µ–Ω–Ω—é**, –∞–ª–µ –≤–∏ **–Ω–µ –∑–±–∏—Ä–∞—î—Ç–µ—Å—è –æ–±—Ä–æ–±–ª—è—Ç–∏ –≤–∏–Ω—è—Ç–æ–∫** –Ω–∞ —Ü—å–æ–º—É —Ä—ñ–≤–Ω—ñ. –í–∏–Ω—è—Ç–æ–∫ –±—É–¥–µ **–ø—Ä–æ–∫–∏–Ω—É—Ç–æ –¥–∞–ª—ñ** –ø–æ —Å—Ç–µ–∫—É –≤–∏–∫–ª–∏–∫—ñ–≤, –∞–ª–µ —Ç—ñ–ª—å–∫–∏ **–ø—ñ—Å–ª—è** —Ç–æ–≥–æ, —è–∫ `finally` –±–ª–æ–∫ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public void processData() throws IOException {
>     FileWriter writer = new FileWriter("out.txt");
>     try {
>         // –†–æ–±–æ—Ç–∞, —è–∫–∞ –º–æ–∂–µ –∫–∏–Ω—É—Ç–∏ IOException
>         writer.write("data");
>     } finally {
>         // –¶–µ–π –∫–æ–¥ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ write() –∫–∏–Ω—É–≤ –≤–∏–Ω—è—Ç–æ–∫.
>         // –ú–∏ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –∑–∞–∫—Ä–∏—î–º–æ —Ä–µ—Å—É—Ä—Å.
>         System.out.println("–ó–∞–∫—Ä–∏–≤–∞—î–º–æ —Ä–µ—Å—É—Ä—Å...");
>         writer.close();
>     }
> }
> ```
>
> –Ø–∫—â–æ –≤ `try` –≤–∏–Ω–∏–∫–Ω–µ `IOException`, –≤—ñ–Ω –Ω–µ –±—É–¥–µ —Ç—É—Ç –ø–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–∏–π, –∞ –±—É–¥–µ –ø—Ä–æ–∫–∏–Ω—É—Ç–∏–π –¥–∞–ª—ñ. –ê–ª–µ –ø–µ—Ä–µ–¥ —Ü–∏–º `finally` –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –≤–∏–∫–ª–∏—á–µ `writer.close()`.
>
> **–°—É—á–∞—Å–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –î–ª—è —Ä–æ–±–æ—Ç–∏ –∑ —Ä–µ—Å—É—Ä—Å–∞–º–∏ —Ü–µ–π –ø–∞—Ç–µ—Ä–Ω –ø–µ—Ä–µ–≤–∞–∂–Ω–æ –∑–∞–º—ñ–Ω–µ–Ω–æ –Ω–∞ `try-with-resources`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –º–æ–∂–ª–∏–≤–∏—Ö —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–∏—Ö –∫–æ–º–±—ñ–Ω–∞—Ü—ñ–π —Ç–∞ —ó—Ö–Ω—å–æ–≥–æ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è, —è–∫—â–æ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è `return` –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —É `try` –±–ª–æ—Ü—ñ, –∞ —Ç–∞–∫–æ–∂ —î `finally` –±–ª–æ–∫?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫—â–æ –≤ `try` –±–ª–æ—Ü—ñ —î `return`, –∞ –≤ `finally` –Ω–µ–º–∞—î, —Ç–æ:
>
> 1. –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è `try` –±–ª–æ–∫.
> 2. –ó–Ω–∞—á–µ–Ω–Ω—è, —â–æ –º–∞—î –±—É—Ç–∏ –ø–æ–≤–µ—Ä–Ω—É—Ç–æ, **–æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è —ñ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è**.
> 3. **–í–∏–∫–æ–Ω—É—î—Ç—å—Å—è `finally` –±–ª–æ–∫.**
> 4. –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è `finally`, –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä—Ç–∞—î **–∑–±–µ—Ä–µ–∂–µ–Ω–µ —Ä–∞–Ω—ñ—à–µ –∑–Ω–∞—á–µ–Ω–Ω—è**.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public int getValue() {
>     try {
>         System.out.println("–ü–æ–≤–µ—Ä—Ç–∞—î–º–æ 10 –∑ try");
>         return 10;
>     } finally {
>         System.out.println("–í–∏–∫–æ–Ω—É—î–º–æ finally");
>     }
> }
> ```
>
> **–í–∏–≤—ñ–¥:**
>
> ```
>
> –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ 10 –∑ try
> –í–∏–∫–æ–Ω—É—î–º–æ finally
> // –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä–Ω–µ 10
> ```
>
> **–í–∞–∂–ª–∏–≤–æ:** –Ø–∫—â–æ `finally` –±–ª–æ–∫ **–∑–º—ñ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏–º—ñ—Ç–∏–≤—É** (—á–µ—Ä–µ–∑ —è–∫—É—Å—å –ª–æ–∫–∞–ª—å–Ω—É –∑–º—ñ–Ω–Ω—É), —Ü–µ **–Ω–µ –≤–ø–ª–∏–Ω–µ** –Ω–∞ –∑–Ω–∞—á–µ–Ω–Ω—è, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è. –ê–ª–µ —è–∫—â–æ –≤—ñ–Ω –∑–º—ñ–Ω–∏—Ç—å **—Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞**, –Ω–∞ —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è, —Ç–æ —Ü—ñ –∑–º—ñ–Ω–∏ –±—É–¥—É—Ç—å –≤–∏–¥–∏–º—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ `return` –≤–∑–∞—î–º–æ–¥—ñ—î –∑ `finally`, –∫–æ–ª–∏ `finally` –Ω–µ –ø–µ—Ä–µ—Ä–∏–≤–∞—î –ø–æ—Ç—ñ–∫.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –±—É–¥–µ, —è–∫—â–æ `return` –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —ñ –≤ `try`, —ñ –≤ `finally`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`return` –∑ `finally` –±–ª–æ–∫—É –∑–∞–≤–∂–¥–∏ "–ø–µ—Ä–µ–º–∞–≥–∞—î"**.
>
> –Ø–∫—â–æ `return` —î —ñ –≤ `try`, —ñ –≤ `finally`, —Ç–æ `return` –∑ `try` –±—É–¥–µ **–ø—Ä–æ—ñ–≥–Ω–æ—Ä–æ–≤–∞–Ω–æ**, –∞ –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ `finally` –±–ª–æ–∫—É.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public int getValue() {
>     try {
>         return 1;
>     } finally {
>         return 2;
>     }
> }
> // –ú–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä–Ω–µ 2
> ```
>
> **–ß–æ–º—É —Ü–µ –ø–æ–≥–∞–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞:**
>
> 1. **–ó–∞–ø–ª—É—Ç–∞–Ω–∞ –ª–æ–≥—ñ–∫–∞:** –¶–µ —Ä–æ–±–∏—Ç—å –ø–æ—Ç—ñ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏ –¥—É–∂–µ –Ω–µ—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–∏–º.
> 2. **–ü—Ä–æ–∫–æ–≤—Ç—É–≤–∞–Ω–Ω—è –≤–∏–Ω—è—Ç–∫—ñ–≤:** –Ø–∫—â–æ –≤ `try` –±–ª–æ—Ü—ñ –≤–∏–Ω–∏–∫–Ω–µ –≤–∏–Ω—è—Ç–æ–∫, –∞ `finally` –º–∞—î `return`, —Ç–æ —Ü–µ–π –≤–∏–Ω—è—Ç–æ–∫ –±—É–¥–µ "–ø—Ä–æ–∫–æ–≤—Ç–Ω—É—Ç–æ", —ñ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É –±—É–¥–µ –≤—Ç—Ä–∞—á–µ–Ω–∞.
>
> **–°—É—á–∞—Å–Ω—ñ IDE —Ç–∞ –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä–∏ –∫–æ–¥—É –ø–æ–ø–µ—Ä–µ–¥–∂–∞—é—Ç—å –ø—Ä–æ `return` —É `finally` —è–∫ –ø—Ä–æ —Å–µ—Ä–π–æ–∑–Ω—É –ø–æ–º–∏–ª–∫—É —Å—Ç–∏–ª—é.**

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–¶–µ –∫–ª–∞—Å–∏—á–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è-–ø–∞—Å—Ç–∫–∞ –Ω–∞ –∑–Ω–∞–Ω–Ω—è –Ω–µ–æ—á–µ–≤–∏–¥–Ω–∏—Ö, –∞–ª–µ –≤–∞–∂–ª–∏–≤–∏—Ö –∞—Å–ø–µ–∫—Ç—ñ–≤ –º–æ–≤–∏.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–∑–≤—ñ—Ç—å —Ç—Ä–∏ —Å–∏—Ç—É–∞—Ü—ñ—ó, –≤ —è–∫–∏—Ö `finally` –±–ª–æ–∫ –º–æ–∂–µ –Ω–µ –≤–∏–∫–æ–Ω–∞—Ç–∏—Å—è. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –•–æ—á–∞ `finally` –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –º–∞–π–∂–µ –∑–∞–≤–∂–¥–∏, —î –∫—ñ–ª—å–∫–∞ –≤–∏–Ω—è—Ç–∫–æ–≤–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ–π, –∫–æ–ª–∏ –π–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î—Ç—å—Å—è:
>
> 1. **–í–∏–∫–ª–∏–∫ `System.exit()`:**
>     * –Ø–∫—â–æ `try` –∞–±–æ `catch` –±–ª–æ–∫ –≤–∏–∫–ª–∏–∫–∞—î `System.exit()`, JVM **–Ω–µ–≥–∞–π–Ω–æ –∑–∞–≤–µ—Ä—à—É—î —Å–≤–æ—é —Ä–æ–±–æ—Ç—É**, —ñ `finally` –Ω–µ –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–æ.
>
> 2. **–§–∞—Ç–∞–ª—å–Ω–∞ –ø–æ–º–∏–ª–∫–∞ JVM (`Error`):**
>     * –Ø–∫—â–æ –≤–∏–Ω–∏–∫–∞—î –∫—Ä–∏—Ç–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞, —è–∫–∞ "–≤–±–∏–≤–∞—î" –≤—ñ—Ä—Ç—É–∞–ª—å–Ω—É –º–∞—à–∏–Ω—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–±—ñ–π –∞–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è, –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä JVM, –∞–±–æ –¥—É–∂–µ –≥–ª–∏–±–æ–∫–∏–π `StackOverflowError`), `finally` –º–æ–∂–µ –Ω–µ –≤–∏–∫–æ–Ω–∞—Ç–∏—Å—è.
>
> 3. **–ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π —Ü–∏–∫–ª –∞–±–æ –¥–µ–¥–ª–æ–∫ —É `try`/`catch`:**
>     * –Ø–∫—â–æ –ø–æ—Ç—ñ–∫ "–∑–∞–≤–∏—Å–∞—î" –Ω–∞–∑–∞–≤–∂–¥–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `try` –∞–±–æ `catch`, –≤—ñ–Ω –ø—Ä–æ—Å—Ç–æ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –¥—ñ–π–¥–µ –¥–æ `finally`.
>
> –í—Å—ñ —ñ–Ω—à—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó, –≤–∫–ª—é—á–∞—é—á–∏ –Ω–µ–ø–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω—ñ –≤–∏–Ω—è—Ç–∫–∏ —Ç–∞ `return`, –ø—Ä–∏–∑–≤–µ–¥—É—Ç—å –¥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è `finally`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫—ñ –∑–Ω–∞–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É JVM —Ç–∞ –≥—Ä–∞–Ω–∏—á–Ω–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤, —â–æ –≤–∏—Ö–æ–¥—è—Ç—å –∑–∞ –º–µ–∂—ñ –∑–≤–∏—á–∞–π–Ω–æ—ó –ª–æ–≥—ñ–∫–∏.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–≤—ñ—â–æ –≤–∫–ª–∞–¥–∞—Ç–∏ `try-catch` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `finally`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í–∫–ª–∞–¥–µ–Ω–∏–π `try-catch` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `finally` –±—É–≤ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º **–¥–æ –ø–æ—è–≤–∏ `try-with-resources`** –¥–ª—è –Ω–∞–¥—ñ–π–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ —Ä–µ—Å—É—Ä—Å—ñ–≤.
>
> **–ü—Ä–æ–±–ª–µ–º–∞:**
>
> –ú–µ—Ç–æ–¥ `close()`, —è–∫–∏–π –≤–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç–µ —É `finally` –¥–ª—è –∑–∞–∫—Ä–∏—Ç—Ç—è —Ä–µ—Å—É—Ä—Å—É, —Å–∞–º –º–æ–∂–µ –∫–∏–Ω—É—Ç–∏ `checked` –≤–∏–Ω—è—Ç–æ–∫ (`IOException`).
>
> ```java
> finally {
>     if (resource != null) {
>         // resource.close(); // –ü–æ–º–∏–ª–∫–∞ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó: close() –º–æ–∂–µ –∫–∏–Ω—É—Ç–∏ IOException
>     }
> }
> ```
>
> –©–æ–± –æ–±—Ä–æ–±–∏—Ç–∏ —Ü–µ–π –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–∏–Ω—è—Ç–æ–∫ –∑ `close()`, –π–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –æ–±–µ—Ä–Ω—É—Ç–∏ —É —Å–≤—ñ–π –≤–ª–∞—Å–Ω–∏–π `try-catch`.
>
> **–ö–ª–∞—Å–∏—á–Ω–∞ "–≥—Ä–æ–º—ñ–∑–¥–∫–∞" —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
>
> ```java
> finally {
>     if (resource != null) {
>         try {
>             resource.close();
>         } catch (IOException e) {
>             // –ó–∞–∑–≤–∏—á–∞–π, —Ü–µ–π –≤–∏–Ω—è—Ç–æ–∫ "–∫–æ–≤—Ç–∞–ª–∏", –±–æ –≤—ñ–Ω –º–µ–Ω—à –≤–∞–∂–ª–∏–≤–∏–π,
>             // –Ω—ñ–∂ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –≤–∏–Ω—è—Ç–æ–∫ –∑ try –±–ª–æ–∫—É
>             e.printStackTrace();
>         }
>     }
> }
> ```
>
> –¶–µ–π –∫–æ–¥ —î —Å–∫–ª–∞–¥–Ω–∏–º, –±–∞–≥–∞—Ç–æ—Å–ª—ñ–≤–Ω–∏–º —ñ —Å—Ö–∏–ª—å–Ω–∏–º –¥–æ –ø–æ–º–∏–ª–æ–∫. **–°—É—á–∞—Å–Ω–∏–π `try-with-resources`** –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏—Ä—ñ—à—É—î —Ü—é –ø—Ä–æ–±–ª–µ–º—É, —Ä–æ–±–ª—è—á–∏ —Ç–∞–∫—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–æ—é –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ —Ä–µ—Å—É—Ä—Å–∞–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —ñ—Å—Ç–æ—Ä–∏—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É —Ç–∞ –ø—Ä–æ–±–ª–µ–º, —è–∫—ñ –≤–∏—Ä—ñ—à–∏–ª–∏ –Ω–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –º–æ–≤–∏.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–π –≤–∏–Ω—è—Ç–æ–∫ –±—É–¥–µ –æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–∏–Ω—É—Ç–æ –∑ –º–µ—Ç–æ–¥—É, —è–∫—â–æ –ø–æ–º–∏–ª–∫–∞ –≤–∏–Ω–∏–∫–∞—î —ñ –≤ `try`, —ñ –≤ `finally`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ó–∞–≤–∂–¥–∏ –±—É–¥–µ –∫–∏–Ω—É—Ç–æ –≤–∏–Ω—è—Ç–æ–∫ –∑ `finally` –±–ª–æ–∫—É.**
>
> **–ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –ø–æ–¥—ñ–π:**
>
> 1. –£ `try` –±–ª–æ—Ü—ñ –∫–∏–¥–∞—î—Ç—å—Å—è –≤–∏–Ω—è—Ç–æ–∫ (–Ω–∞–∑–≤–µ–º–æ –π–æ–≥–æ `ExceptionFromTry`).
> 2. –í–∏–∫–æ–Ω–∞–Ω–Ω—è `try` –±–ª–æ–∫—É –ø–µ—Ä–µ—Ä–∏–≤–∞—î—Ç—å—Å—è. JVM –≥–æ—Ç—É—î—Ç—å—Å—è –ø—Ä–æ–∫–∏–Ω—É—Ç–∏ `ExceptionFromTry` –¥–∞–ª—ñ.
> 3. **–ü–µ—Ä–µ–¥ —Ç–∏–º, —è–∫ –ø—Ä–æ–∫–∏–Ω—É—Ç–∏ `ExceptionFromTry`**, –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –±–ª–æ–∫ `finally`.
> 4. –£ `finally` –∫–∏–¥–∞—î—Ç—å—Å—è **–Ω–æ–≤–∏–π –≤–∏–Ω—è—Ç–æ–∫** (`ExceptionFromFinally`).
> 5. –¶–µ–π –Ω–æ–≤–∏–π –≤–∏–Ω—è—Ç–æ–∫ **–ø–µ—Ä–µ–∫—Ä–∏–≤–∞—î —Ç–∞ "–ø—Ä–∏–≥–Ω—ñ—á—É—î"** –ø–æ—á–∞—Ç–∫–æ–≤–∏–π.
> 6. **`ExceptionFromTry` –±—É–¥–µ –≤—Ç—Ä–∞—á–µ–Ω–æ**, —ñ –∑ –º–µ—Ç–æ–¥—É –±—É–¥–µ –∫–∏–Ω—É—Ç–æ –ª–∏—à–µ `ExceptionFromFinally`.
>
> –¶–µ –≤–≤–∞–∂–∞—î—Ç—å—Å—è –¥—É–∂–µ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ—é –ø–æ–≤–µ–¥—ñ–Ω–∫–æ—é, –æ—Å–∫—ñ–ª—å–∫–∏ **–≤—Ç—Ä–∞—á–∞—î—Ç—å—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø–µ—Ä—à–æ–ø—Ä–∏—á–∏–Ω—É –ø—Ä–æ–±–ª–µ–º–∏**. –°–∞–º–µ —Ç–æ–º—É –∫–∏–¥–∞—Ç–∏ –≤–∏–Ω—è—Ç–∫–∏ –∑ `finally` ‚Äî —Ü–µ —Å–µ—Ä–π–æ–∑–Ω–∏–π –∞–Ω—Ç–∏–ø–∞—Ç–µ—Ä–Ω.
>
> –ú–µ—Ö–∞–Ω—ñ–∑–º **"–ø—Ä–∏–¥—É—à–µ–Ω–∏—Ö –≤–∏–Ω—è—Ç–∫—ñ–≤" (suppressed exceptions)**, —è–∫–∏–π —î —É `try-with-resources`, –±—É–≤ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è —Å–∞–º–µ —Ü—ñ—î—ó –ø—Ä–æ–±–ª–µ–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ï–∫—Å–ø–µ—Ä—Ç–Ω–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–∞–≤–∏–ª –æ–±—Ä–æ–±–∫–∏ –≤–∏–Ω—è—Ç–∫—ñ–≤ —É —Å–∫–ª–∞–¥–Ω–∏—Ö, –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–Ω–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ—è—Ö.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –∫—Ä–∞—â–µ: `try-with-resources` —á–∏ `try-finally`? –Ü —á–æ–º—É? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`try-with-resources` —î –∞–±—Å–æ–ª—é—Ç–Ω–æ –∫—Ä–∞—â–∏–º –≤–∏–±–æ—Ä–æ–º** –ø—Ä–∞–∫—Ç–∏—á–Ω–æ —É –≤—Å—ñ—Ö –≤–∏–ø–∞–¥–∫–∞—Ö, –∫–æ–ª–∏ –≤–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –∑ —Ä–µ—Å—É—Ä—Å–∞–º–∏, —â–æ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å `AutoCloseable`.
>
> **–ü–µ—Ä–µ–≤–∞–≥–∏ `try-with-resources`:**
>
> 1. **–õ–∞–∫–æ–Ω—ñ—á–Ω—ñ—Å—Ç—å —Ç–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å:** –ö–æ–¥ –∑–Ω–∞—á–Ω–æ –∫–æ—Ä–æ—Ç—à–∏–π —ñ —á–∏—Å—Ç—ñ—à–∏–π. –ù–µ–º–∞—î –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ —É –≥—Ä–æ–º—ñ–∑–¥–∫–æ–º—É `finally` –±–ª–æ—Ü—ñ —Ç–∞ –≤–∫–ª–∞–¥–µ–Ω–∏—Ö `try-catch`.
>
> 2. **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑—É—î –ø—Ä–æ—Ü–µ—Å –∑–∞–∫—Ä–∏—Ç—Ç—è, —É—Å—É–≤–∞—é—á–∏ —Ä–∏–∑–∏–∫ –ª—é–¥—Å—å–∫–æ—ó –ø–æ–º–∏–ª–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞–±—É—Ç–∏ –Ω–∞–ø–∏—Å–∞—Ç–∏ `finally` –∞–±–æ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–∏—Ç–∏ –≤–∏–Ω—è—Ç–æ–∫ –ø—Ä–∏ `close()`).
>
> 3. **–ö–æ—Ä–µ–∫—Ç–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –≤–∏–Ω—è—Ç–∫—ñ–≤ (Suppressed Exceptions):** –¶–µ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∞ –ø–µ—Ä–µ–≤–∞–≥–∞. –Ø–∫—â–æ –≤–∏–Ω—è—Ç–æ–∫ –≤–∏–Ω–∏–∫–∞—î —ñ –≤ `try` –±–ª–æ—Ü—ñ, —ñ –ø—Ä–∏ –∑–∞–∫—Ä–∏—Ç—Ç—ñ —Ä–µ—Å—É—Ä—Å—É, `try-with-resources` **–Ω–µ –≤—Ç—Ä–∞—á–∞—î** —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∂–æ–¥–µ–Ω –∑ –Ω–∏—Ö. –í–∏–Ω—è—Ç–æ–∫ –∑ `close()` –¥–æ–¥–∞—î—Ç—å—Å—è –¥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —è–∫ "–ø—Ä–∏–¥—É—à–µ–Ω–∏–π". –£ `try-finally` –≤–∏–Ω—è—Ç–æ–∫ –∑ `close()` –ø—Ä–æ—Å—Ç–æ "–∑–∞—Ç—Ä–µ" –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π.
>
> **–ö–æ–ª–∏ `try-finally` –≤—Å–µ —â–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ç—Ä—ñ–±–µ–Ω:**
>
> * –î–ª—è –æ—á–∏—â–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤, —è–∫—ñ **–Ω–µ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å** —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `AutoCloseable`.
> * –î–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥—ñ–π, –Ω–µ –ø–æ–≤'—è–∑–∞–Ω–∏—Ö —ñ–∑ –∑–∞–∫—Ä–∏—Ç—Ç—è–º —Ä–µ—Å—É—Ä—Å—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å–∫–∏–¥–∞–Ω–Ω—è —è–∫–æ–≥–æ—Å—å —Å—Ç–∞–Ω—É), —è–∫—ñ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∏–∫–æ–Ω–∞—Ç–∏—Å—è –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏—Ö –Ω–∞–π–∫—Ä–∞—â–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ Java —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è, —á–æ–º—É –≤–æ–Ω–∏ –∫—Ä–∞—â—ñ –∑–∞ —Å—Ç–∞—Ä—ñ –ø—ñ–¥—Ö–æ–¥–∏.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `break` –∞–±–æ `continue` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `finally` –±–ª–æ–∫—É? ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–æ —Ü–µ –º–æ–∂–ª–∏–≤–æ**, –∞–ª–µ —Ü–µ **–Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –ø–æ–≥–∞–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞**, —è–∫–∞ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–æ—ó —Ç–∞ –Ω–µ—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏.
>
> **–ü—Ä–æ–±–ª–µ–º–∞:**
>
> –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó `break` —Ç–∞ `continue` –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø–æ—Ç–æ–∫–æ–º **—Ü–∏–∫–ª—É**. –ö–æ–ª–∏ –≤–æ–Ω–∏ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è —É `finally`, –≤–æ–Ω–∏ –º–æ–∂—É—Ç—å **"–ø—Ä–æ–∫–æ–≤—Ç–Ω—É—Ç–∏" –≤–∏–Ω—è—Ç–æ–∫**, —è–∫–∏–π –±—É–≤ –∫–∏–Ω—É—Ç–∏–π —É `try` –±–ª–æ—Ü—ñ.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> for (int i = 0; i < 3; i++) {
>     try {
>         if (i == 1) throw new RuntimeException("–ü–æ–º–∏–ª–∫–∞!");
>         System.out.println("i = " + i);
>     } finally {
>         System.out.println("Finally –¥–ª—è i = " + i);
>         continue; // –ü–µ—Ä–µ—Ä–≤–µ–º–æ –±—É–¥—å-—â–æ —ñ –ø–µ—Ä–µ–π–¥–µ–º–æ –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó —ñ—Ç–µ—Ä–∞—Ü—ñ—ó
>     }
> }
> ```
>
> **–í–∏–≤—ñ–¥:**
>
> ```
>
> i = 0
> Finally –¥–ª—è i = 0
> Finally –¥–ª—è i = 1
> i = 2
> Finally –¥–ª—è i = 2
> ```
>
> `RuntimeException` –±—É–≤ **–∫–∏–Ω—É—Ç–∏–π, –∞–ª–µ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –±—É–≤ –æ–±—Ä–æ–±–ª–µ–Ω–∏–π —ñ –Ω–µ –ø—Ä–æ–∫–∏–Ω—É–≤—Å—è –¥–∞–ª—ñ**. `continue` —É `finally` –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Ä–≤–∞–≤ –ø—Ä–æ—Ü–µ—Å –æ–±—Ä–æ–±–∫–∏ –≤–∏–Ω—è—Ç–∫—É —ñ –∑–º—É—Å–∏–≤ —Ü–∏–∫–ª –ø–µ—Ä–µ–π—Ç–∏ –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó —ñ—Ç–µ—Ä–∞—Ü—ñ—ó.
>
> –¢–∞–∫–∏–π –∫–æ–¥ —î –¥—É–∂–µ –∑–∞–ø–ª—É—Ç–∞–Ω–∏–º —ñ –ø–æ—Ä—É—à—É—î –≤—Å—ñ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è —â–æ–¥–æ —Ä–æ–±–æ—Ç–∏ `finally` —Ç–∞ –≤–∏–Ω—è—Ç–∫—ñ–≤. –ô–æ–≥–æ —Å–ª—ñ–¥ —É–Ω–∏–∫–∞—Ç–∏ –∑–∞ –±—É–¥—å-—è–∫—É —Ü—ñ–Ω—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î—É–∂–µ –≥–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å —Ä—ñ–∑–Ω—ñ –∫–µ—Ä—É—é—á—ñ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó. –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –Ω–∞ –∑–Ω–∞–Ω–Ω—è "—Ç–µ–º–Ω–∏—Ö –∫—É—Ç–∫—ñ–≤" –º–æ–≤–∏.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –±—É–¥–µ –≤–∏–≤–µ–¥–µ–Ω–æ —Ü–∏–º –∫–æ–¥–æ–º, —è–∫—â–æ –≤—ñ–Ω –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –º–µ—Ç–æ–¥—É, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î `int`?
`try { return 1; } finally { System.out.println("Finally block"); }`
‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> 1. –°–ø–æ—á–∞—Ç–∫—É –±—É–¥–µ –≤–∏–≤–µ–¥–µ–Ω–æ **"Finally block"**.
> 2. –ü–æ—Ç—ñ–º –º–µ—Ç–æ–¥ **–ø–æ–≤–µ—Ä–Ω–µ `1`**.
>
> **–ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:**
>
> * `try` –±–ª–æ–∫ –≥–æ—Ç—É—î—Ç—å—Å—è –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è `1`.
> * –ü–µ—Ä–µ–¥ —Ñ–∞–∫—Ç–∏—á–Ω–∏–º –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è–º **–æ–±–æ–≤'—è–∑–∫–æ–≤–æ** –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è `finally` –±–ª–æ–∫.
> * –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è `System.out.println("Finally block")`.
> * –ë–ª–æ–∫ `finally` –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è. –û—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –Ω–µ –ø–µ—Ä–µ—Ä–∏–≤–∞—î –ø–æ—Ç—ñ–∫ –∫–µ—Ä—É–≤–∞–Ω–Ω—è, –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –ø–æ—á–∞—Ç–∫–æ–≤–æ—ó —Ç–æ—á–∫–∏ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è.
> * –ú–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è `1`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è —ñ –∑–∞–∫—Ä—ñ–ø–ª–µ–Ω–Ω—è –∑–Ω–∞–Ω—å –ø—Ä–æ –≤–∑–∞—î–º–æ–¥—ñ—é `return` —Ç–∞ `finally`.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —â–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è, —è–∫—â–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–∏–¥–∞—î –≤–∏–Ω—è—Ç–æ–∫. –ß–∏ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è `finally`? ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è.** –Ø–∫—â–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —è–∫–∏–π –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `try` –±–ª–æ–∫—É, –∫–∏–¥–∞—î –≤–∏–Ω—è—Ç–æ–∫, —Ü–µ –Ω—ñ—á–∏–º –Ω–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ –≤–∏–Ω—è—Ç–∫—É, –∫–∏–Ω—É—Ç–æ–≥–æ –±—É–¥—å-—è–∫–∏–º —ñ–Ω—à–∏–º –º–µ—Ç–æ–¥–æ–º.
>
> **–°—Ü–µ–Ω–∞—Ä—ñ–π:**
>
> ```java
> class BadConstructor {
>     public BadConstructor() throws Exception {
>         throw new Exception("–ü–æ–º–∏–ª–∫–∞ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ");
>     }
> }
>
> //...
>
> try {
>     System.out.println("–°–ø—Ä–æ–±–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–±'—î–∫—Ç");
>     BadConstructor obj = new BadConstructor();
>     System.out.println("–û–±'—î–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ"); // –Ω–µ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è
> } catch (Exception e) {
>     System.out.println("–ó–ª–æ–≤–ª–µ–Ω–æ –≤–∏–Ω—è—Ç–æ–∫: " + e.getMessage());
> } finally {
>     System.out.println("–ë–ª–æ–∫ finally");
> }
> ```
>
> **–ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –≤–∏–≤–æ–¥—É:**
>
> ```
>
> –°–ø—Ä–æ–±–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–±'—î–∫—Ç
> –ó–ª–æ–≤–ª–µ–Ω–æ –≤–∏–Ω—è—Ç–æ–∫: –ü–æ–º–∏–ª–∫–∞ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ
> –ë–ª–æ–∫ finally
>
> ```
>
> 1. –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `BadConstructor()`.
> 2. –í—ñ–Ω –∫–∏–¥–∞—î `Exception`. –ü—Ä–æ—Ü–µ—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ **–ø–µ—Ä–µ—Ä–∏–≤–∞—î—Ç—å—Å—è**.
> 3. –í–∏–Ω—è—Ç–æ–∫ –ø–µ—Ä–µ—Ö–æ–ø–ª—é—î—Ç—å—Å—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º `catch` –±–ª–æ–∫–æ–º.
> 4. **–ü—ñ—Å–ª—è `catch`** –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è `finally`.
>
> **–í–∞–∂–ª–∏–≤–æ:** –æ—Å–∫—ñ–ª—å–∫–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–µ –∑–∞–≤–µ—Ä—à–∏–≤ —Ä–æ–±–æ—Ç—É, –ø–æ—Å–∏–ª–∞–Ω–Ω—è `obj` –Ω–µ –±—É–¥–µ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ, —ñ –æ–±'—î–∫—Ç, –¥–ª—è —è–∫–æ–≥–æ –±—É–ª–æ –≤–∏–¥—ñ–ª–µ–Ω–æ –ø–∞–º'—è—Ç—å, —Å—Ç–∞–Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∏–º –¥–ª—è –∑–±–∏—Ä–∞—á–∞ —Å–º—ñ—Ç—Ç—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –≤–∏–Ω—è—Ç–∫–∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö –≤–ø–∏—Å—É—é—Ç—å—Å—è –≤ –∑–∞–≥–∞–ª—å–Ω—É –º–æ–¥–µ–ª—å –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–µ `finally` –±–ª–æ–∫ –∑–º—ñ–Ω–∏—Ç–∏ —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –∑ `try` –±–ª–æ–∫—É? ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, –º–æ–∂–µ, —è–∫—â–æ –æ–±'—î–∫—Ç —î –∑–º—ñ–Ω–Ω–∏–º (mutable).**
>
> * –ó–Ω–∞—á–µ–Ω–Ω—è, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –∑ `try` –±–ª–æ–∫—É, –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è —ñ **–∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è** –ø–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º `finally`.
> * –Ø–∫—â–æ —Ü–µ **–ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏–π —Ç–∏–ø**, —Ç–æ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –π–æ–≥–æ –∫–æ–ø—ñ—è, —ñ `finally` –Ω–µ –º–æ–∂–µ –Ω–∞ –Ω–µ—ó –≤–ø–ª–∏–Ω—É—Ç–∏.
> * –Ø–∫—â–æ —Ü–µ **–ø–æ—Å–∏–ª–∞–ª—å–Ω–∏–π —Ç–∏–ø**, —Ç–æ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è **–ø–æ—Å–∏–ª–∞–Ω–Ω—è** –Ω–∞ –æ–±'—î–∫—Ç. `finally` –Ω–µ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ —Å–∞–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è, –∞–ª–µ –≤—ñ–Ω **–º–æ–∂–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –æ–±'—î–∫—Ç–∞** –∑–∞ —Ü–∏–º –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º —ñ **–∑–º—ñ–Ω–∏—Ç–∏ –π–æ–≥–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω**.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public List<String> getList() {
>     List<String> list = new ArrayList<>();
>     try {
>         list.add("A");
>         return list;
>     } finally {
>         list.add("B"); // –ó–º—ñ–Ω—é—î–º–æ —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞
>     }
> }
>
> // –í–∏–∫–ª–∏–∫
> List<String> result = getList();
> System.out.println(result); // –í–∏–≤–µ–¥–µ [A, B]
> ```
>
> **–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
>
> 1. –£ `try` –±–ª–æ–∫ –≥–æ—Ç—É—î—Ç—å—Å—è –¥–æ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–ø–∏—Å–æ–∫ `[A]`.
> 2. `finally` –¥–æ–¥–∞—î –µ–ª–µ–º–µ–Ω—Ç `"B"` –¥–æ —Ç–æ–≥–æ —Å–∞–º–æ–≥–æ –æ–±'—î–∫—Ç–∞, –Ω–∞ —è–∫–∏–π –≤–∫–∞–∑—É—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è.
> 3. –ú–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∑–º—ñ–Ω–µ–Ω–∏–π –æ–±'—î–∫—Ç.
>
> –¶–µ —â–µ –æ–¥–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞, —á–æ–º—É –∫–æ–¥ —É `finally` –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –¥—É–∂–µ –ø—Ä–æ—Å—Ç–∏–º —ñ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–º –ª–∏—à–µ –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î—É–∂–µ –≥–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –ø–µ—Ä–µ–¥–∞—á–µ—é –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º —Ç–∞ –ø–µ—Ä–µ–¥–∞—á–µ—é –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º, —Ç–∞ —ó—ó –Ω–∞—Å–ª—ñ–¥–∫—ñ–≤ –¥–ª—è `finally` –±–ª–æ–∫—É.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–π –∑–≤'—è–∑–æ–∫ –º—ñ–∂ `finally` —Ç–∞ `Thread.interrupt()`? ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –¥—É–∂–µ –≤–∞–∂–ª–∏–≤–∏–π –∞—Å–ø–µ–∫—Ç –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –∫–æ–¥—É.
>
> –ö–æ–ª–∏ –ø–æ—Ç—ñ–∫ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É `Thread.sleep()` –∞–±–æ `Object.wait()`), —ñ —ñ–Ω—à–∏–π –ø–æ—Ç—ñ–∫ –≤–∏–∫–ª–∏–∫–∞—î –Ω–∞ –Ω—å–æ–º—É `.interrupt()`, —Ç–æ –º–µ—Ç–æ–¥ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è **–∫–∏–¥–∞—î `InterruptedException`** (`checked`).
>
> **–ü—Ä–æ–±–ª–µ–º–∞:**
> –î—É–∂–µ —á–∞—Å—Ç–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ "–∫–æ–≤—Ç–∞—é—Ç—å" —Ü–µ–π –≤–∏–Ω—è—Ç–æ–∫, –Ω–µ –≤—ñ–¥–Ω–æ–≤–ª—é—é—á–∏ –ø–µ—Ä–µ—Ä–≤–∞–Ω–∏–π —Å—Ç–∞—Ç—É—Å –ø–æ—Ç–æ–∫—É.
>
> **–ù–∞–π–∫—Ä–∞—â–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ (–∑ `finally`):**
>
> –ö–æ–ª–∏ –≤–∏ –ª–æ–≤–∏—Ç–µ `InterruptedException`, –Ω–∞–π–∫—Ä–∞—â–æ—é –ø—Ä–∞–∫—Ç–∏–∫–æ—é —î **–Ω–µ–≥–∞–π–Ω–æ –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –ø–æ—Ç–æ–∫—É**, –≤–∏–∫–ª–∏–∫–∞–≤—à–∏ `Thread.currentThread().interrupt()`.
>
> –Ü–Ω–æ–¥—ñ –±—É–≤–∞—î —Ç–∞–∫, —â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ —è–∫—É—Å—å –¥—ñ—é, –∞–ª–µ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –º–æ–∂–µ —Å—Ç–∞—Ç–∏—Å—è –ø–æ—Å–µ—Ä–µ–¥–∏–Ω—ñ. `finally` –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –≤–∞–∂–ª–∏–≤–∏–π –∫–æ–¥ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è.
>
> ```java
> public void run() {
>     try {
>         while (!Thread.currentThread().isInterrupted()) {
>             //... —Ä–æ–±–∏–º–æ —â–æ—Å—å, —â–æ –º–æ–∂–µ –∫–∏–Ω—É—Ç–∏ InterruptedException ...
>             someBlockingCall();
>         }
>     } catch (InterruptedException e) {
>         // –ü–æ–º–∏–ª–∫–∞ –±—É–ª–∞ –æ–±—Ä–æ–±–ª–µ–Ω–∞, –∞–ª–µ –º–∏ –ø–æ–≤–∏–Ω–Ω—ñ –∑–±–µ—Ä–µ–≥—Ç–∏ —Å—Ç–∞—Ç—É—Å,
>         // —â–æ–± –∫–æ–¥ –≤–∏—â–æ–≥–æ —Ä—ñ–≤–Ω—è –∑–Ω–∞–≤, —â–æ –ø–æ—Ç—ñ–∫ –±—É–ª–æ –ø–µ—Ä–µ—Ä–≤–∞–Ω–æ.
>         Thread.currentThread().interrupt();
>     } finally {
>         // –¶–µ–π –∫–æ–¥ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –ø–æ—Ç—ñ–∫ –±—É–ª–æ –ø–µ—Ä–µ—Ä–≤–∞–Ω–æ
>         cleanupResources();
>     }
> }
> ```
>
> `finally` –±–ª–æ–∫ —Ç—É—Ç —î –≥–∞—Ä–∞–Ω—Ç—ñ—î—é, —â–æ —Ä–µ—Å—É—Ä—Å–∏ –±—É–¥—É—Ç—å –∑–≤—ñ–ª—å–Ω–µ–Ω—ñ, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –ø–æ—Ç—ñ–∫ –±—É–ª–æ –ø–µ—Ä–µ—Ä–≤–∞–Ω–æ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è `try` –±–ª–æ–∫—É. –ê –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –≤ `catch` –¥–æ–∑–≤–æ–ª—è—î –∫–æ–¥—É –≤–∏—â–æ–≥–æ —Ä—ñ–≤–Ω—è –∫–æ—Ä–µ–∫—Ç–Ω–æ –≤—ñ–¥—Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ï–∫—Å–ø–µ—Ä—Ç–Ω—ñ –∑–Ω–∞–Ω–Ω—è –∑ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω –∑–Ω–∞—Ç–∏ –Ω–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ –æ–±—Ä–æ–±–∫–∏ `InterruptedException`.*
