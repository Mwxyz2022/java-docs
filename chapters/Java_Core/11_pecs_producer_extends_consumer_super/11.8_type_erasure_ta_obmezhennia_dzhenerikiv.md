---
layout: default
title: "Type Erasure —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤"
parent: "PECS (Producer Extends, Consumer Super)"
grand_parent: "Java Core"
nav_order: 8
---

# Type Erasure —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `Type Erasure` ‚Äì —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º, –ø—Ä–∏ —è–∫–æ–º—É –≤—Å—ñ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ —Å—Ç–∏—Ä–∞—é—Ç—å—Å—è –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó (–∑–∞–º—ñ–Ω—é—é—Ç—å—Å—è –Ω–∞ `Object` –∞–±–æ –º–µ–∂—É —Ç–∏–ø—É). –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –∑–≤–æ—Ä–æ—Ç–Ω—É —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å, –∞–ª–µ –æ–±–º–µ–∂—É—î –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ `runtime` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–µ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ `new T[]` –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `instanceof T`).

* –ø–æ–Ω—è—Ç—Ç—è: Type Erasure, `raw types`, `new T[]` (–∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ), `instanceof T` (–∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ).

* –ø—Ä–∏–∫–ª–∞–¥–∏: `List<String>` —Å—Ç–∞—î `List` —É –±–∞–π—Ç–∫–æ–¥—ñ. `T[] array = new T[10];` (–ø–æ–º–∏–ª–∫–∞ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó).

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ü—Ä–∏—á–∏–Ω–∞ ‚Äì –∑–≤–æ—Ä–æ—Ç–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∑ –¥–æ-JDK 5. –ù–∞—Å–ª—ñ–¥–∫–∏ ‚Äì –≤—Ç—Ä–∞—Ç–∞ —Ç–∏–ø–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –≤ `runtime`.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ß–æ–º—É `Type Erasure` —ñ—Å–Ω—É—î, —ó—ó –Ω–∞—Å–ª—ñ–¥–∫–∏ –¥–ª—è `runtime`.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**Type Erasure (—Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤)** ‚Äî —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º —É Java, –∑–∞ —è–∫–æ–≥–æ –≤—Å—ñ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ **—Å—Ç–∏—Ä–∞—é—Ç—å—Å—è –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó**, —ñ –≤ –±–∞–π—Ç–∫–æ–¥—ñ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –ª–∏—à–µ **—Å–∏—Ä—ñ —Ç–∏–ø–∏ (raw types)**. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, **`List<String> -> List.`**

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

Java —Ç–∞–∫–∞: ‚Äú–£—Å—ñ —Ü—ñ –≤–∞—à—ñ **`<T>`** ‚Äî —Ü–µ –ø—Ä–∏–∫–æ–ª—å–Ω–æ, –∞–ª–µ –º–µ–Ω—ñ –ø–æ—Ç—Ä—ñ–±–µ–Ω –ª–∏—à–µ –æ–¥–∏–Ω **`Object`** —É —Ä–∞–Ω—Ç–∞–π–º—ñ\!‚Äù

–¢–æ–±—Ç–æ: –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ ‚Äî —Ü–µ –ª–∏—à–µ **–∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–Ω–∞ —Ü—É–∫–µ—Ä–∫–∞**

---

## **–û—Å–Ω–æ–≤–Ω–µ**

üìä **–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—Ä–∏ Type Erasure?**

* **`List<String> -> List`**
* –í—Å—ñ **`T`** -> –∑–∞–º—ñ–Ω—é—é—Ç—å—Å—è –Ω–∞ **`Object`** –∞–±–æ –Ω–∞ upper bound (**`extends`**)
* –í–∏–¥–∞–ª—è—é—Ç—å—Å—è –≤—Å—ñ —É–∑–∞–≥–∞–ª—å–Ω–µ–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏

‚ùå **–©–æ –Ω–µ –º–æ–∂–Ω–∞ —á–µ—Ä–µ–∑ —Ü–µ?**

* –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Å–∏–≤ –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤: **`new T[]`** ‚Äî ‚ùå
* –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç–∏–ø: **`if (obj instanceof List<T>`**`)` ‚Äî ‚ùå
* –î—ñ–∑–Ω–∞—Ç–∏—Å—è —Ç–∏–ø **`T`** –ø—ñ–¥ —á–∞—Å runtime ‚Äî ‚ùå

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

–£—è–≤–∏, —â–æ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä ‚Äî –±–∞—Ä–º–µ–Ω, –∞ —Ç–∏ –∑–∞–º–æ–≤–ª—è—î—à –∫–æ–∫—Ç–µ–π–ª—å **`List<String>`**.

–ë–∞—Ä–º–µ–Ω –∫–∞–∂–µ: ‚Äú–Ø –Ω–µ —Ä–æ–∑—É–º—ñ—é, —â–æ —Ç–∞–º —É—Å–µ—Ä–µ–¥–∏–Ω—ñ, —è –ø—Ä–æ—Å—Ç–æ –¥–∞–º —Ç–æ–±—ñ —Å–∫–ª—è–Ω–∫—É **`List`** ‚Äî —Å–∞–º —Ä–æ–∑–±–µ—Ä–µ—à—Å—è‚Äù.

–í—Å—ñ —Ç–∏–ø–∏ ‚Äî –ø—Ä–æ—Å—Ç–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è. –£ –±–∞—Ä—ñ (—Ç–æ–±—Ç–æ –≤ JVM) –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –ª–∏—à–µ —Å–∫–ª—è–Ω–∫–∏

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **‚ùå –ù–µ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Å–∏–≤ —Ç–∏–ø—É T:**

```java
public <T> void createArray() {
    T[] array = new T[10]; // –ö–æ–º–ø—ñ–ª—å–Ω–∞ –ø–æ–º–∏–ª–∫–∞!
}
```

‚úÖ –ê–ª–µ –º–æ–∂–Ω–∞ –æ–±—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é:

```java
@SuppressWarnings("unchecked")
T[] array = (T[]) Array.newInstance(clazz, 10);
```

---

### **‚ùå –ù–µ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ instanceof —ñ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º —Ç–∏–ø—É:**

```java
if (obj instanceof List<String>) { // ‚ùå Error
}
```

‚úÖ –õ–∏—à–µ:

```java
if (obj instanceof List) { // ‚úîÔ∏è
}
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –©–æ —Ö–æ—á–µ–º–æ | –ú–æ–∂–Ω–∞ –≤ Java? | –ü—Ä–∏—á–∏–Ω–∞ |
| :---: | :---: | :---: |
| **`new T[]`** | ‚ùå | –ù–µ–º–∞—î —Ç–∏–ø—É **`T`** –≤ runtime |
| **`instanceof List<T>`** | ‚ùå | **`T`** —Å—Ç–µ—Ä—Ç–æ |
| **`Class<T>`** | ‚ùå | **`T`** –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π |
| **`List<?> list = new ArrayList<String>()`** | ‚úÖ | –°—Ç–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ OK |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**T \= –¢–∏–º—á–∞—Å–æ–≤–∏–π, –±–æ –π–æ–≥–æ —Å—Ç–∏—Ä–∞—é—Ç—å.**

–ê–±–æ:

**"Erase the T ‚Äî you‚Äôre left with O(bject)"**

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* Java **—Å—Ç–∏—Ä–∞—î –≤—Å—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ç–∏–ø—ñ–≤** –ø—Ä–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó ‚Äî —Ü–µ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **Type Erasure**.
* –¶–µ –¥–æ–∑–≤–æ–ª—è—î **—Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∑ Java –¥–æ –≤–µ—Ä—Å—ñ—ó 5**, –∞–ª–µ –æ–±–º–µ–∂—É—î –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –Ω–∞ –µ—Ç–∞–ø—ñ runtime.
* –ß–µ—Ä–µ–∑ —Ü–µ **–Ω–µ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –º–∞—Å–∏–≤–∏**, —Ä–æ–±–∏—Ç–∏ **`instanceof`** –∑ **`T`**, –∞–±–æ –¥—ñ–∑–Ω–∞–≤–∞—Ç–∏—Å—è —Ç–∏–ø –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.
* –ù–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ —Ü–µ ‚Äî **—á–µ—Ä–≤–æ–Ω–∞ –∫–Ω–æ–ø–∫–∞**: –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ —Å–ø–∏—Ç–∞—é—Ç—å "–∞ —á–æ–º—É **`new T[]`** –Ω–µ –ø—Ä–∞—Ü—é—î?" –∞–±–æ "–∞ —â–æ –∑–∞–ª–∏—à–∏—Ç—å—Å—è –ø—ñ—Å–ª—è –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó?"

---

**üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Java Generics FAQ ‚Äì Oracle**](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ (Type Erasure) —ñ —è–∫–∞ –π–æ–≥–æ –≥–æ–ª–æ–≤–Ω–∞ –º–µ—Ç–∞ –≤ Java?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–°—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤** ‚Äî —Ü–µ –ø—Ä–æ—Ü–µ—Å, –ø—ñ–¥ —á–∞—Å —è–∫–æ–≥–æ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä Java **–≤–∏–¥–∞–ª—è—î** –≤—Å—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –¥–∂–µ–Ω–µ—Ä–∏–∫-—Ç–∏–ø–∏ (`<String>`, `<T>`) –ø—ñ—Å–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ, –∑–∞–º—ñ–Ω—é—é—á–∏ —ó—Ö –Ω–∞ —ó—Ö–Ω—ñ "–º–µ–∂—ñ" –∞–±–æ –Ω–∞ `Object`.
>
> **–ì–æ–ª–æ–≤–Ω–∞ –º–µ—Ç–∞:** –ó–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è **–∑–≤–æ—Ä–æ—Ç–Ω–æ—ó —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ (backward compatibility)**. –î–∂–µ–Ω–µ—Ä—ñ–∫–∏ –±—É–ª–∏ –¥–æ–¥–∞–Ω—ñ –≤ Java 5. –©–æ–± –Ω–æ–≤–∏–π –∫–æ–¥ –∑ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∞–º–∏ –º—ñ–≥ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑—ñ —Å—Ç–∞—Ä–∏–º–∏, –≤–∂–µ —Å–∫–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω–∏–º–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞–º–∏ (—è–∫—ñ –Ω–µ –∑–Ω–∞–ª–∏ –ø—Ä–æ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏) —Ç–∞ —Å—Ç–∞—Ä–æ—é JVM, –±—É–ª–æ –≤–∏—Ä—ñ—à–µ–Ω–æ –Ω–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –±–∞–π—Ç-–∫–æ–¥. –ó–∞–≤–¥—è–∫–∏ —Å—Ç–∏—Ä–∞–Ω–Ω—é —Ç–∏–ø—ñ–≤, –¥–ª—è JVM `List<String>` —Ç–∞ —Å–∏—Ä–∏–π `List` –≤–∏–≥–ª—è–¥–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–æ.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–¶–µ —è–∫ –ø–∏—Å–∞—Ç–∏ —á–µ—Ä–Ω–µ—Ç–∫—É –∑ –∫–æ–ª—å–æ—Ä–æ–≤–∏–º–∏ –º–∞—Ä–∫–µ—Ä–∞–º–∏ (—Ç–∏–ø–∞–º–∏) –¥–ª—è —è—Å–Ω–æ—Å—Ç—ñ. –ö–æ–ª–∏ –≤–∏ –ø–∏—à–µ—Ç–µ —Ñ—ñ–Ω–∞–ª—å–Ω—É –≤–µ—Ä—Å—ñ—é (–±–∞–π—Ç-–∫–æ–¥), –≤–∏ –ø–µ—Ä–µ–ø–∏—Å—É—î—Ç–µ –≤—Å–µ —á–æ—Ä–Ω–æ—é —Ä—É—á–∫–æ—é, —ñ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ–ª—å–æ—Ä–∏ (—Ç–∏–ø–∏) –∑–Ω–∏–∫–∞—î, –∞–ª–µ —Å–∞–º —Ç–µ–∫—Å—Ç –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ ‚Äî —Ü–µ —Ü—ñ–Ω–∞ –∑–∞ –∑–≤–æ—Ä–æ—Ç–Ω—É —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å, —ñ —Ü–µ –∫–ª—é—á–æ–≤–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤ –≤ Java.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—ñ —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞–∫–ª–∞–¥–∞—î –Ω–∞ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –°—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –∫—ñ–ª—å–∫–æ—Ö –≤–∞–∂–ª–∏–≤–∏—Ö –æ–±–º–µ–∂–µ–Ω—å, –∑ —è–∫–∏–º–∏ —Å—Ç–∏–∫–∞—é—Ç—å—Å—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏:
>
> 1. **–ù–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä–∏—Ç–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä —Ç–∏–ø—É-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞:**
>     * –ö–æ–¥ `new T()` —î –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–º, –æ—Å–∫—ñ–ª—å–∫–∏ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è JVM –Ω–µ –∑–Ω–∞—î, —â–æ —Ç–∞–∫–µ `T`, —â–æ–± –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –π–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.
>
> 2. **–ù–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Å–∏–≤ –¥–∂–µ–Ω–µ—Ä–∏–∫-—Ç–∏–ø—É:**
>     * –ö–æ–¥ `new T[10]` –∞–±–æ `new List<String>[10]` —î –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–º. –¶–µ –ø–æ–≤'—è–∑–∞–Ω–æ –∑ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–æ–º –º—ñ–∂ —Ç–∏–º, —è–∫ –º–∞—Å–∏–≤–∏ —Ç–∞ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å (runtime vs compile-time).
>
> 3. **–ù–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `instanceof` –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏:**
>     * –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ `obj instanceof List<String>` –Ω–µ–º–æ–∂–ª–∏–≤–∞, —Ç–æ–º—É —â–æ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è JVM –±–∞—á–∏—Ç—å —Ç—ñ–ª—å–∫–∏ `List` —ñ –Ω–µ –º–æ–∂–µ –≤—ñ–¥—Ä—ñ–∑–Ω–∏—Ç–∏ `List<String>` –≤—ñ–¥ `List<Integer>`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ç—Ä—å–æ—Ö "—Å—Ç–æ–≤–ø—ñ–≤" –æ–±–º–µ–∂–µ–Ω—å –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤, —è–∫—ñ —î –ø—Ä—è–º–∏–º –Ω–∞—Å–ª—ñ–¥–∫–æ–º —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤. –¶–µ –±–∞–∑–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è –Ω–∞ —Ü—é —Ç–µ–º—É.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑ `List<String>` —Ç–∞ `List<T extends Number>` –ø—ñ—Å–ª—è —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∏–ø-–ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞ —Å–≤–æ—é **–º–µ–∂—É (bound)**.
>
> 1. **–î–ª—è –Ω–µ–æ–±–º–µ–∂–µ–Ω–∏—Ö –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤ (`List<String>` –∞–±–æ `Box<T>`):**
>     * –¢–∏–ø-–ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞ **`Object`**.
>     * `List<String>` –ø—ñ—Å–ª—è —Å—Ç–∏—Ä–∞–Ω–Ω—è —Å—Ç–∞—î —Å–∏—Ä–∏–º `List`, —è–∫–∏–π –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ –ø—Ä–∞—Ü—é—î –∑ `Object`.
>     * –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –¥–æ–¥–∞—î –Ω–µ—è–≤–Ω—ñ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤ (`(String)`) –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤.
>
> 2. **–î–ª—è –æ–±–º–µ–∂–µ–Ω–∏—Ö –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤ (`List<T extends Number>`):**
>     * –¢–∏–ø-–ø–∞—Ä–∞–º–µ—Ç—Ä `T` –∑–∞–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞ **–π–æ–≥–æ –≤–µ—Ä—Ö–Ω—é –º–µ–∂—É**, –≤ –¥–∞–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É `Number`.
>     * –£ –±–∞–π—Ç-–∫–æ–¥—ñ —Ç–∞–∫–∏–π –∫–ª–∞—Å –∞–±–æ –º–µ—Ç–æ–¥ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ `Number`, –∞ –Ω–µ –∑ `Object`. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –º–µ—Ç–æ–¥–∏ –∫–ª–∞—Å—É `Number` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `doubleValue()`) –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –ø—Ä–∏–≤–µ–¥–µ–Ω—å —Ç–∏–ø—ñ–≤ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Å–∞–º–æ–≥–æ –¥–∂–µ–Ω–µ—Ä–∏–∫-–∫–æ–¥—É.
>
>     ```java
>     // –î–æ —Å—Ç–∏—Ä–∞–Ω–Ω—è: class Box<T extends Number> { private T item; ... }
>     // –ü—ñ—Å–ª—è —Å—Ç–∏—Ä–∞–Ω–Ω—è: class Box { private Number item; ... }
>     ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ `bounded types` –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ –ø—Ä–æ—Ü–µ—Å —Å—Ç–∏—Ä–∞–Ω–Ω—è.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É —Ü–µ–π –∫–æ–¥ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –ø–æ–º–∏–ª–∫–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó: `public void method(List<String> list)` —ñ `public void method(List<Integer> list)` –≤ –æ–¥–Ω–æ–º—É –∫–ª–∞—Å—ñ? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫–∏–π –∫–æ–¥ –Ω–µ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ —Ç–µ, —â–æ **–ø—ñ—Å–ª—è —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ –æ–±–∏–¥–≤–∞ –º–µ—Ç–æ–¥–∏ –º–∞—Ç–∏–º—É—Ç—å –æ–¥–Ω–∞–∫–æ–≤—É —Å–∏–≥–Ω–∞—Ç—É—Ä—É**.
>
> 1. `public void method(List<String> list)` –ø—ñ—Å–ª—è —Å—Ç–∏—Ä–∞–Ω–Ω—è –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ `public void method(List list)`.
> 2. `public void method(List<Integer> list)` –ø—ñ—Å–ª—è —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∞–∫–æ–∂ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ `public void method(List list)`.
>
> –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ, –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É JVM, –≤–∏ –Ω–∞–º–∞–≥–∞—î—Ç–µ—Å—è –æ–≥–æ–ª–æ—Å–∏—Ç–∏ **–¥–≤–∞ –º–µ—Ç–æ–¥–∏ –∑ —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—é –Ω–∞–∑–≤–æ—é —Ç–∞ —ñ–¥–µ–Ω—Ç–∏—á–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤**, —â–æ —î –Ω–µ–ø—Ä–∏–ø—É—Å—Ç–∏–º–∏–º. –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –≤–∏—è–≤–∏—Ç—å —Ü–µ–π –∫–æ–Ω—Ñ–ª—ñ–∫—Ç —ñ –≤–∏–¥–∞—Å—Ç—å –ø–æ–º–∏–ª–∫—É.
>
> –¶–µ –∫–ª–∞—Å–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ —Ç–æ–≥–æ, —è–∫ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ –æ–±–º–µ–∂—É—î –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ **–ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ—Ç–æ–¥—ñ–≤ (overloading)**.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –≤–ø–ª–∏–≤—É —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ –Ω–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä–∏ –º–µ—Ç–æ–¥—ñ–≤ —Ç–∞ –º–µ—Ö–∞–Ω—ñ–∑–º –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –º–æ–∂–Ω–∞ –æ–±—ñ–π—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ `new T()`? –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û—Å–∫—ñ–ª—å–∫–∏ –º–∏ –Ω–µ –º–æ–∂–µ–º–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ `new T()` –Ω–∞–ø—Ä—è–º—É, –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ **–ø–µ—Ä–µ–¥–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ç–∏–ø `T` –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**.
>
> **–ù–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏–π —Å–ø–æ—Å—ñ–± ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ `Class<T>` –æ–±'—î–∫—Ç–∞ (Type Token):**
>
> –ú–∏ –ø–µ—Ä–µ–¥–∞—î–º–æ –æ–±'—î–∫—Ç `Class` –¥–ª—è –Ω–∞—à–æ–≥–æ —Ç–∏–ø—É –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∞–±–æ –º–µ—Ç–æ–¥, –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ **—Ä–µ—Ñ–ª–µ–∫—Å—ñ—é** –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ–∫–∑–µ–º–ø–ª—è—Ä–∞.
>
> ```java
> import java.lang.reflect.InvocationTargetException;
>
> public class Factory<T> {
>
>     // –ú–µ—Ç–æ–¥, —â–æ —Å—Ç–≤–æ—Ä—é—î –µ–∫–∑–µ–º–ø–ª—è—Ä, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é
>     public T createInstance(Class<T> clazz)
>         throws NoSuchMethodException, InvocationTargetException,
>                InstantiationException, IllegalAccessException {
>
>         // –û—Ç—Ä–∏–º—É—î–º–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ —ñ —Å—Ç–≤–æ—Ä—é—î–º–æ –µ–∫–∑–µ–º–ø–ª—è—Ä
>         return clazz.getDeclaredConstructor().newInstance();
>     }
> }
>
> // –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
> Factory<String> stringFactory = new Factory<>();
> String s = stringFactory.createInstance(String.class);
> ```
>
> **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–∑ Java 8+):** –ü–µ—Ä–µ–¥–∞—á–∞ "—Ñ–∞–±—Ä–∏–∫–∏" —É –≤–∏–≥–ª—è–¥—ñ `Supplier<T>`.
> `public T createInstance(Supplier<T> supplier) { return supplier.get(); }`

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –ø–∞—Ç–µ—Ä–Ω—ñ–≤ (—è–∫ "Type Token") —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ (—Ä–µ—Ñ–ª–µ–∫—Å—ñ—è) –¥–ª—è –æ–±—Ö–æ–¥—É –æ–±–º–µ–∂–µ–Ω—å, —â–æ –Ω–∞–∫–ª–∞–¥–∞—é—Ç—å—Å—è —Å—Ç–∏—Ä–∞–Ω–Ω—è–º —Ç–∏–ø—ñ–≤.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å –Ω–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ, —á–æ–º—É –Ω–µ –º–æ–∂–Ω–∞ —Ä–æ–±–∏—Ç–∏ `instanceof List<String>`.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –Ω–µ–º–æ–∂–ª–∏–≤–æ —á–µ—Ä–µ–∑ **—Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤**. –ü—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (runtime) JVM **–Ω–µ –º–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó** –ø—Ä–æ —Ç–∏–ø-–∞—Ä–≥—É–º–µ–Ω—Ç `<String>`.
>
> `if (obj instanceof List<String>) { ... } // –ü–û–ú–ò–õ–ö–ê –ö–û–ú–ü–Ü–õ–Ø–¶–Ü–á`
>
> –î–ª—è JVM —ñ `List<String>`, —ñ `List<Integer>` —î –ø—Ä–æ—Å—Ç–æ `List`. –í–æ–Ω–∞ –Ω–µ –º–æ–∂–µ –≤—ñ–¥—Ä—ñ–∑–Ω–∏—Ç–∏ —ó—Ö. –û–ø–µ—Ä–∞—Ç–æ—Ä `instanceof` –ø—Ä–∞—Ü—é—î –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, —ñ –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–∞ —Ü—å–æ–º—É –µ—Ç–∞–ø—ñ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ `String` –Ω–µ–º–∞—î, —Ç–∞–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —î –Ω–µ–º–æ–∂–ª–∏–≤–æ—é.
>
> **–©–æ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –Ω–∞—Ç–æ–º—ñ—Å—Ç—å:**
>
> –ú–æ–∂–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ "—Å–∏—Ä–∏–π" —Ç–∏–ø:
> `if (obj instanceof List) { ... }`
>
> –ê —è–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç–∏–ø –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –¥–æ–≤–µ–¥–µ—Ç—å—Å—è —ñ—Ç–µ—Ä—É–≤–∞—Ç–∏ –ø–æ –∫–æ–ª–µ–∫—Ü—ñ—ó —ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Ç–∏–ø –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ –æ–∫—Ä–µ–º–æ, —â–æ –Ω–µ —î –Ω–∞–¥—ñ–π–Ω–∏–º (–∫–æ–ª–µ–∫—Ü—ñ—è –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—å–æ—é).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø—ñ–≤ —É —Ä–∞–Ω—Ç–∞–π–º—ñ.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ "–º–æ—Å—Ç–∏–∫–æ–≤–∏–π" –º–µ—Ç–æ–¥ (bridge method) —ñ —è–∫—É –ø—Ä–æ–±–ª–µ–º—É, –ø–æ–≤'—è–∑–∞–Ω—É –∑—ñ —Å—Ç–∏—Ä–∞–Ω–Ω—è–º —Ç–∏–ø—ñ–≤, –≤—ñ–Ω –≤–∏—Ä—ñ—à—É—î? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **"–ú–æ—Å—Ç–∏–∫–æ–≤–∏–π" –º–µ—Ç–æ–¥** ‚Äî —Ü–µ —Å–∏–Ω—Ç–µ—Ç–∏—á–Ω–∏–π (–∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–æ–º) –º–µ—Ç–æ–¥, —è–∫–∏–π —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è **–ø–æ–ª—ñ–º–æ—Ä—Ñ—ñ–∑–º—É** –ø—Ä–∏ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—ñ –≤—ñ–¥ –¥–∂–µ–Ω–µ—Ä–∏–∫-—Ç–∏–ø—ñ–≤.
>
> **–ü—Ä–æ–±–ª–µ–º–∞:**
>
> ```java
> class Node<T> { public void setData(T data) { /* ... */ } }
>
> class MyNode extends Node<String> {
>     @Override public void setData(String data) { /* ... */ }
> }
> ```
>
> –ü—ñ—Å–ª—è —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤, —Å–∏–≥–Ω–∞—Ç—É—Ä–∏ –º–µ—Ç–æ–¥—ñ–≤ —Å—Ç–∞—é—Ç—å `setData(Object data)` —É `Node` —Ç–∞ `setData(String data)` —É `MyNode`. –ó —Ç–æ—á–∫–∏ –∑–æ—Ä—É JVM, —Ü–µ **–Ω–µ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è**, –∞ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è. –ü–æ–ª—ñ–º–æ—Ä—Ñ–Ω–∏–π –≤–∏–∫–ª–∏–∫ —á–µ—Ä–µ–∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è `Node` –Ω–µ –ø—Ä–∞—Ü—é–≤–∞–≤ –±–∏ —è–∫ –æ—á—ñ–∫—É–≤–∞–ª–æ—Å—è.
>
> **–†—ñ—à–µ–Ω–Ω—è:** –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –¥–æ–¥–∞—î –≤ `MyNode` **–Ω–µ–≤–∏–¥–∏–º–∏–π "–º—ñ—Å—Ç"**:
>
> ```java
> public void setData(Object data) { // –°–∏–≥–Ω–∞—Ç—É—Ä–∞, —è–∫ —É –±–∞—Ç—å–∫–∞
>     setData((String) data);       // –í–∏–∫–ª–∏–∫–∞—î –≤–∞—à, —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω–∏–π –º–µ—Ç–æ–¥
> }
> ```
>
> –¶–µ–π "–º—ñ—Å—Ç" –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –ø–æ–ª—ñ–º–æ—Ä—Ñ—ñ–∑–º –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ, –¥–µ–ª–µ–≥—É—é—á–∏ –≤–∏–∫–ª–∏–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –º–µ—Ç–æ–¥—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î—É–∂–µ –≥–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä "–æ–±—Ö–æ–¥–∏—Ç—å" –ø—Ä–æ–±–ª–µ–º–∏, —Å—Ç–≤–æ—Ä–µ–Ω—ñ —Å—Ç–∏—Ä–∞–Ω–Ω—è–º —Ç–∏–ø—ñ–≤, –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –æ—Å–Ω–æ–≤–Ω–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ –û–û–ü.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –ø–æ–≤'—è–∑–∞–Ω—ñ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ —Ç–∞ "—Å–∏—Ä—ñ" —Ç–∏–ø–∏ (raw types)? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –°–∏—Ä—ñ —Ç–∏–ø–∏ —î –ø—Ä—è–º–∏–º **–Ω–∞—Å–ª—ñ–¥–∫–æ–º —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º** –º–µ—Ö–∞–Ω—ñ–∑–º—É —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤.
>
> 1. **–ù–∞—Å–ª—ñ–¥–æ–∫:** –ü—ñ—Å–ª—è —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤, –≤—Å—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω—ñ —Ç–∏–ø–∏ (`List<String>`) –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –Ω–∞ —Å–∏—Ä—ñ (`List`) —É –±–∞–π—Ç-–∫–æ–¥—ñ. –¢–æ–±—Ç–æ, —Å–∏—Ä–∏–π —Ç–∏–ø ‚Äî —Ü–µ —Ç–µ, –∑ —á–∏–º JVM –ø—Ä–∞—Ü—é—î –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.
>
> 2. **–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:** –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–∏—Ä—ñ —Ç–∏–ø–∏ –≤ –∫–æ–¥—ñ (`List list = ...`) –±—É–ª–∞ –∑–∞–ª–∏—à–µ–Ω–∞ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ –¥–ª—è **–∑–≤–æ—Ä–æ—Ç–Ω–æ—ó —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ**. –¶–µ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–∞—Ä–æ–º—É –∫–æ–¥—É, —è–∫–∏–π –Ω–µ –∑–Ω–∞–≤ –ø—Ä–æ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏, –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ –Ω–æ–≤–∏–º–∏ –¥–∂–µ–Ω–µ—Ä–∏–∫-–∫–æ–ª–µ–∫—Ü—ñ—è–º–∏, –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–∞ —Ä—ñ–≤–Ω—ñ JVM –≤–æ–Ω–∏ –≤—Å—ñ —î —Å–∏—Ä–∏–º–∏.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, —Å–∏—Ä—ñ —Ç–∏–ø–∏ ‚Äî —Ü–µ "–≤—ñ–∫–Ω–æ" —É —Å–≤—ñ—Ç –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤ –ø—ñ—Å–ª—è —Å—Ç–∏—Ä–∞–Ω–Ω—è. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ó—Ö –≤–∏–º–∏–∫–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Ç–∏–ø—ñ–≤ –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó —ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∞—î –≤—Å—é –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å –∑–∞ —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å –Ω–∞ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —Å–∏—Ä—ñ —Ç–∏–ø–∏ —î –Ω–µ –ø—Ä–æ—Å—Ç–æ "—Å—Ç–∞—Ä–∏–º —Å—Ç–∏–ª–µ–º", –∞ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ—é —á–∞—Å—Ç–∏–Ω–æ—é –º–µ—Ö–∞–Ω—ñ–∑–º—É —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ, —â–æ —Å—Ç–∞–≤ –º–æ–∂–ª–∏–≤–∏–º –∑–∞–≤–¥—è–∫–∏ —Å—Ç–∏—Ä–∞–Ω–Ω—é —Ç–∏–ø—ñ–≤.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ç–∏–ø-–∞—Ä–≥—É–º–µ–Ω—Ç –¥–∂–µ–Ω–µ—Ä–∏–∫–∞ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è? –ù–∞–ø—Ä–∏–∫–ª–∞–¥, `String` —É `List<String>`. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–ø—Ä—è–º—É ‚Äî –Ω—ñ, —á–µ—Ä–µ–∑ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤. –ê–ª–µ —î "–æ–±—Ö—ñ–¥–Ω—ñ —à–ª—è—Ö–∏" –¥–ª—è –ø–µ–≤–Ω–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤:
>
> 1. **–î–ª—è –ø–æ–ª—ñ–≤ —Ç–∞ –º–µ—Ç–æ–¥—ñ–≤:** –Ø–∫—â–æ –¥–∂–µ–Ω–µ—Ä–∏–∫-—Ç–∏–ø —î —á–∞—Å—Ç–∏–Ω–æ—é **—Å–∏–≥–Ω–∞—Ç—É—Ä–∏ –ø–æ–ª—è –∞–±–æ –º–µ—Ç–æ–¥—É**, –π–æ–≥–æ –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ —á–µ—Ä–µ–∑ **—Ä–µ—Ñ–ª–µ–∫—Å—ñ—é**.
>
>     ```java
>     public List<String> myList;
>     // ...
>     Field field = MyClass.class.getDeclaredField("myList");
>     Type genericType = field.getGenericType(); // –ü–æ–≤–µ—Ä–Ω–µ ParameterizedType
>     Type actualType = ((ParameterizedType) genericType).getActualTypeArguments()[0]; // java.lang.String
>     ```
>
> 2. **–î–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö —Ç–∞ –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ ‚Äî –ø–∞—Ç–µ—Ä–Ω Super Type Token:**
>     * –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ç–∏–ø –ø–æ–≤–Ω—ñ—Å—Ç—é —Å—Ç–∏—Ä–∞—î—Ç—å—Å—è. –©–æ–± —ó—ó –∑–±–µ—Ä–µ–≥—Ç–∏, —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è **–∞–Ω–æ–Ω—ñ–º–Ω–∏–π –ø—ñ–¥–∫–ª–∞—Å**.
>     * `new TypeToken<List<String>>() {}` ‚Äî –≤ –±–∞–π—Ç-–∫–æ–¥—ñ —Ü—å–æ–≥–æ –∞–Ω–æ–Ω—ñ–º–Ω–æ–≥–æ –∫–ª–∞—Å—É –±—É–¥–µ –∑–±–µ—Ä–µ–∂–µ–Ω–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ç–µ, —â–æ –π–æ–≥–æ —Å—É–ø–µ—Ä–∫–ª–∞—Å –±—É–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–∏–π —è–∫ `List<String>`.
>     * –¶—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –º–æ–∂–Ω–∞ –≤–∏—Ç—è–≥—Ç–∏ —á–µ—Ä–µ–∑ `getGenericSuperclass()`. –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞—Ö, —è–∫-–æ—Ç `Gson`, `Guava`.
>
> –û—Ç–∂–µ, –≤ –∑–∞–≥–∞–ª—å–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –≤—Ç—Ä–∞—á–∞—î—Ç—å—Å—è, –∞–ª–µ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ä–µ—Ñ–ª–µ–∫—Å—ñ—ó —ó—ó –º–æ–∂–Ω–∞ –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏, —è–∫—â–æ –≤–æ–Ω–∞ –±—É–ª–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–∞ –≤ –º–µ—Ç–∞–¥–∞–Ω–∏—Ö –∫–ª–∞—Å—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –ø—Ä–æ—Å—É–Ω—É—Ç–∏—Ö —Ç–µ—Ö–Ω—ñ–∫ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—ó —Ç–∞ –ø–∞—Ç–µ—Ä–Ω—É Super Type Token –¥–ª—è –æ–±—Ö–æ–¥—É –æ–±–º–µ–∂–µ–Ω—å —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `String[]` —Ç–∞ `Object[]` —Ä—ñ–∑–Ω—ñ –≤ —Ä–∞–Ω—Ç–∞–π–º—ñ, –∞ `List<String>` —Ç–∞ `List<Object>` ‚Äî –Ω—ñ? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> * **–ú–∞—Å–∏–≤–∏ (`String[]` vs `Object[]`):**
>   * –ú–∞—Å–∏–≤–∏ —î **reified** (—Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ). –û–±'—î–∫—Ç –º–∞—Å–∏–≤—É **–∑–±–µ—Ä—ñ–≥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å–≤—ñ–π —Ç–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞** –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è. JVM –∑–Ω–∞—î, —â–æ —Ü–µ `String[]`, —ñ –Ω–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–∫–ª–∞—Å—Ç–∏ —Ç—É–¥–∏ `Integer`. –¢–æ–º—É `new String[0].getClass() != new Object[0].getClass()`.
>
> * **–î–∂–µ–Ω–µ—Ä—ñ–∫–∏ (`List<String>` vs `List<Object>`):**
>   * –î–∂–µ–Ω–µ—Ä—ñ–∫–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —á–µ—Ä–µ–∑ **—Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤**. –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ `<String>` —Ç–∞ `<Object>` —Å—Ç–∏—Ä–∞—î—Ç—å—Å—è.
>   * –ü—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–±–∏–¥–≤–∞ —î –ø—Ä–æ—Å—Ç–æ `List` (–∞–±–æ `ArrayList`).
>   * –¢–æ–º—É `new ArrayList<String>().getClass() == new ArrayList<Object>().getClass()`. –î–ª—è JVM —Ü–µ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –∫–ª–∞—Å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ß—ñ—Ç–∫–µ —Ä–æ–∑–º–µ–∂—É–≤–∞–Ω–Ω—è –º—ñ–∂ "reified" —Ç–∏–ø–∞–º–∏ (–º–∞—Å–∏–≤–∏) —Ç–∞ "non-reified" —Ç–∏–ø–∞–º–∏ (–¥–∂–µ–Ω–µ—Ä—ñ–∫–∏) —Ç–∞ —ó—Ö–Ω—å–æ—é –ø–æ–≤–µ–¥—ñ–Ω–∫–æ—é –≤ —Ä–∞–Ω—Ç–∞–π–º—ñ.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –≤–ø–ª–∏–≤–∞—î —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í–ø–ª–∏–≤ —î, –∞–ª–µ –≤—ñ–Ω –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–∏–π.
>
> **–ù–µ–≥–∞—Ç–∏–≤–Ω–∏–π –≤–ø–ª–∏–≤:**
>
> 1. **–ê–≤—Ç–æ–±–æ–∫—Å–∏–Ω–≥/–∞–Ω–±–æ–∫—Å–∏–Ω–≥:** –û—Å–∫—ñ–ª—å–∫–∏ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ –Ω–µ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –ø—Ä–∏–º—ñ—Ç–∏–≤–∞–º–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–ª–∞—Å—ñ–≤-–æ–±–≥–æ—Ä—Ç–æ–∫ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ —ñ –º–æ–∂–µ –∑–Ω–∏–∑–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —É "–≥–∞—Ä—è—á–æ–º—É" –∫–æ–¥—ñ.
> 2. **–ù–µ—è–≤–Ω—ñ –∫–∞—Å—Ç–∏:** –î–æ–¥–∞–Ω—ñ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–æ–º –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤ (`(String) obj`) –º–∞—é—Ç—å –Ω–µ–≤–µ–ª–∏–∫—ñ, –∞–ª–µ —ñ—Å–Ω—É—é—á—ñ –Ω–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏.
> 3. **–ú–æ—Å—Ç–∏–∫–æ–≤—ñ –º–µ—Ç–æ–¥–∏:** –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö —Å–∏–Ω—Ç–µ—Ç–∏—á–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ —Ç–∞–∫–æ–∂ –º–æ–∂–µ —Ç—Ä–æ—Ö–∏ –≤–ø–ª–∏–Ω—É—Ç–∏ –Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å –≤–∏–∫–ª–∏–∫—ñ–≤.
>
> **–ü–æ–∑–∏—Ç–∏–≤–Ω–∏–π –≤–ø–ª–∏–≤:**
>
> 1. **–ú–µ–Ω—à–∏–π —Ä–æ–∑–º—ñ—Ä –∫–æ–¥—É:** –û—Å–∫—ñ–ª—å–∫–∏ –¥–ª—è `List<String>`, `List<Integer>` —Ç–æ—â–æ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–Ω–∞ –≤–µ—Ä—Å—ñ—è –∫–ª–∞—Å—É, —Ü–µ –∑–Ω–∞—á–Ω–æ –∑–º–µ–Ω—à—É—î —Ä–æ–∑–º—ñ—Ä —Å–∫–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω–∏—Ö `.jar` —Ñ–∞–π–ª—ñ–≤ –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ –ø—ñ–¥—Ö–æ–¥–æ–º, —è–∫ —É C++, –¥–µ –¥–ª—è –∫–æ–∂–Ω–æ—ó –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü—ñ—ó —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –æ–∫—Ä–µ–º–∏–π –∫–æ–¥.
>
> –ó–∞–≥–∞–ª–æ–º, –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ –≤ Java —î –Ω–µ–≤–µ–ª–∏–∫–∏–º –∫–æ–º–ø—Ä–æ–º—ñ—Å–æ–º —É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∑–∞—Ä–∞–¥–∏ –≤–µ–ª–∏—á–µ–∑–Ω–æ–≥–æ –≤–∏–≥—Ä–∞—à—É –≤ —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ —Ç–∞ –∑–≤–æ—Ä–æ—Ç–Ω—ñ–π —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ. –î–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤ —Ü–µ–π –≤–ø–ª–∏–≤ —î –Ω–µ–∑–Ω–∞—á–Ω–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–æ–º–ø—Ä–æ–º—ñ—Å–∏, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –¥–∏–∑–∞–π–Ω–µ—Ä—Å—å–∫–∏–º–∏ —Ä—ñ—à–µ–Ω–Ω—è–º–∏ –º–æ–≤–∏.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –¥–∂–µ–Ω–µ—Ä–∏–∫-–∫–ª–∞—Å –Ω–µ –º–æ–∂–µ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ `Throwable`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –°–ø—Ä–æ–±–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ `class MyException<T> extends Exception {}` –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ **–ø–æ–º–∏–ª–∫–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó**.
>
> **–ü—Ä–∏—á–∏–Ω–∞:**
> –ú–µ—Ö–∞–Ω—ñ–∑–º –æ–±—Ä–æ–±–∫–∏ –≤–∏–Ω—è—Ç–∫—ñ–≤ –≤ Java (`catch`) –ø—Ä–∞—Ü—é—î **–ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**. –ë–ª–æ–∫ `catch` –ø–æ–≤–∏–Ω–µ–Ω —Ç–æ—á–Ω–æ –∑–Ω–∞—Ç–∏, —è–∫–∏–π —Ç–∏–ø –≤–∏–Ω—è—Ç–∫—É –≤—ñ–Ω –ª–æ–≤–∏—Ç—å, —â–æ–± –ø—Ä–∏–π–Ω—è—Ç–∏ —Ä—ñ—à–µ–Ω–Ω—è.
>
> –ß–µ—Ä–µ–∑ **—Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤**, `MyException<String>` —ñ `MyException<Integer>` –¥–ª—è JVM –±—É–ª–∏ –± –æ–¥–Ω–∏–º —ñ —Ç–∏–º –∂–µ —Å–∏—Ä–∏–º —Ç–∏–ø–æ–º `MyException`. –¶–µ –∑—Ä–æ–±–∏–ª–æ –± –Ω–µ–º–æ–∂–ª–∏–≤–∏–º –Ω–∞–ø–∏—Å–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ `catch` –±–ª–æ–∫–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü—ñ–π:
>
> ```java
> try {
>     // ...
> } catch (MyException<String> e) { // –ù–µ–º–æ–∂–ª–∏–≤–æ —Ä–æ–∑—Ä—ñ–∑–Ω–∏—Ç–∏ –≤ —Ä–∞–Ω—Ç–∞–π–º—ñ
>     // ...
> } catch (MyException<Integer> e) { // –≤—ñ–¥ —Ü—å–æ–≥–æ
>     // ...
> }
> ```
>
> –©–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ —Ç–∞–∫–æ—ó –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—ñ —ñ –∑–±–µ—Ä–µ–≥—Ç–∏ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å –º–µ—Ö–∞–Ω—ñ–∑–º—É –æ–±—Ä–æ–±–∫–∏ –≤–∏–Ω—è—Ç–∫—ñ–≤, —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –º–æ–≤–∏ –∑–∞–±–æ—Ä–æ–Ω–∏–ª–∏ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –¥–∂–µ–Ω–µ—Ä–∏–∫-–∫–ª–∞—Å–∏, —â–æ —î –Ω–∞—â–∞–¥–∫–∞–º–∏ `Throwable`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –≤–∑–∞—î–º–æ–¥—ñ—ó —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ –∑ —ñ–Ω—à–∏–º–∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏–º–∏ –º–µ—Ö–∞–Ω—ñ–∑–º–∞–º–∏ Java, —Ç–∞–∫–∏–º–∏ —è–∫ –æ–±—Ä–æ–±–∫–∞ –≤–∏–Ω—è—Ç–∫—ñ–≤.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –∑–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è –∫—É–ø–∏ (Heap Pollution) —ñ —è–∫ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ –¥–æ –Ω—å–æ–≥–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ó–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è –∫—É–ø–∏** ‚Äî —Ü–µ —Å–∏—Ç—É–∞—Ü—ñ—è, –∫–æ–ª–∏ –∑–º—ñ–Ω–Ω–∞ **–ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–æ–≥–æ —Ç–∏–ø—É** –ø–æ—á–∏–Ω–∞—î –ø–æ—Å–∏–ª–∞—Ç–∏—Å—è –Ω–∞ –æ–±'—î–∫—Ç, —è–∫–∏–π **–Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î** —ó—ó —Ç–∏–ø—É-–ø–∞—Ä–∞–º–µ—Ç—Ä—É.
>
> **–Ø–∫ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ –¥–æ –Ω—å–æ–≥–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å:**
>
> –¶–µ —Å—Ç–∞—î—Ç—å—Å—è –ø—Ä–∏ –∑–º—ñ—à—É–≤–∞–Ω–Ω—ñ **–ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–æ–≥–æ** —Ç–∞ **—Å–∏—Ä–æ–≥–æ (raw)** –∫–æ–¥—É. –°–∏—Ä—ñ —Ç–∏–ø–∏ "–≤—ñ–¥–∫–ª—é—á–∞—é—Ç—å" –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –ø–æ–∫–ª–∞—Å—Ç–∏ –æ–±'—î–∫—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø—É –≤ –∫–æ–ª–µ–∫—Ü—ñ—é.
>
> ```java
> List<String> strings = new ArrayList<>();
>
> // 1. –ü—Ä–∏—Å–≤–æ—î–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–æ—ó –∫–æ–ª–µ–∫—Ü—ñ—ó —Å–∏—Ä—ñ–π –∑–º—ñ–Ω–Ω—ñ–π
> List rawList = strings;
>
> // 2. –ß–µ—Ä–µ–∑ —Å–∏—Ä—É –∑–º—ñ–Ω–Ω—É –¥–æ–¥–∞—î–º–æ –æ–±'—î–∫—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø—É. –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –º–æ–≤—á–∏—Ç—å.
> // –°–∞–º–µ —Ç—É—Ç –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è –∫—É–ø–∏.
> rawList.add(123);
>
> // 3. –ü–æ–º–∏–ª–∫–∞ `ClassCastException` –≤–∏–Ω–∏–∫–∞—î –ø—ñ–∑–Ω—ñ—à–µ,
> // –∫–æ–ª–∏ –º–∏ –Ω–∞–º–∞–≥–∞—î–º–æ—Å—è –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –∫–æ–ª–µ–∫—Ü—ñ—î—é —è–∫ –∑ —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ—é.
> String s = strings.get(0); // –û–π!
> ```
>
> –°—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ —î –ø–µ—Ä—à–æ–ø—Ä–∏—á–∏–Ω–æ—é, –±–æ —Å–∞–º–µ —á–µ—Ä–µ–∑ –Ω—å–æ–≥–æ `List<String>` —Ç–∞ `List` —î —Å—É–º—ñ—Å–Ω–∏–º–∏ –Ω–∞ —Ä—ñ–≤–Ω—ñ –±–∞–π—Ç-–∫–æ–¥—É, —â–æ –¥–æ–∑–≤–æ–ª—è—î —Ç–∞–∫—ñ –Ω–µ–±–µ–∑–ø–µ—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î–µ—Ç–∞–ª—å–Ω–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –≤–∑–∞—î–º–æ–¥—ñ—è —Å–∏—Ä–∏—Ö —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö —Ç–∏–ø—ñ–≤ —Å—Ç–≤–æ—Ä—é—î "–¥—ñ—Ä—É" –≤ —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –º–∞—Å–∏–≤ `T[]` –∑ `List<T>`? –Ø–∫ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —Ü–µ? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, –º–æ–∂–Ω–∞, –∞–ª–µ –Ω–µ –Ω–∞–ø—Ä—è–º—É.
>
> **–ü—Ä–æ–±–ª–µ–º–∞ —á–µ—Ä–µ–∑ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤:**
> –ú–µ—Ç–æ–¥ `toArray()` –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ –ø–æ–≤–µ—Ä–Ω–µ `Object[]`, –±–æ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è `List<T>` –Ω–µ –∑–Ω–∞—î, —â–æ —Ç–∞–∫–µ `T`.
>
> **–†—ñ—à–µ–Ω–Ω—è:**
> –ü–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π –º–µ—Ç–æ–¥ **`toArray(T[] a)`**.
>
> ```java
> List<String> list = List.of("a", "b");
> // –ú–∏ –ø–µ—Ä–µ–¥–∞—î–º–æ –º–∞—Å–∏–≤-—à–∞–±–ª–æ–Ω, —â–æ–± –ø–æ–≤—ñ–¥–æ–º–∏—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π —Ç–∏–ø
> String[] array = list.toArray(new String[0]);
> ```
>
> **–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î "–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º":**
>
> 1. `new String[0]` –ø–µ—Ä–µ–¥–∞—î –≤ –º–µ—Ç–æ–¥ **—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ç–∏–ø `String` –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è** (—á–µ—Ä–µ–∑ –æ–±'—î–∫—Ç `Class` –º–∞—Å–∏–≤—É).
> 2. –ú–µ—Ç–æ–¥ `toArray` –±–∞—á–∏—Ç—å, —â–æ –ø–µ—Ä–µ–¥–∞–Ω–∏–π –º–∞—Å–∏–≤ –∑–∞–º–∞–ª–∏–π.
> 3. –í—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é (`Array.newInstance(a.getClass().getComponentType(), ...)`) –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è **–Ω–æ–≤–æ–≥–æ –º–∞—Å–∏–≤—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø—É —Ç–∞ —Ä–æ–∑–º—ñ—Ä—É**.
> 4. –í—ñ–Ω –∫–æ–ø—ñ—é—î –µ–ª–µ–º–µ–Ω—Ç–∏ —ñ –ø–æ–≤–µ—Ä—Ç–∞—î —Ü–µ–π –Ω–æ–≤–∏–π, —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏–π –º–∞—Å–∏–≤.
>
> –¶–µ–π –º–µ—Ö–∞–Ω—ñ–∑–º —î —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–∏–º "–æ–±—Ö—ñ–¥–Ω–∏–º —à–ª—è—Ö–æ–º", —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –ø–æ–¥–æ–ª–∞—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è, –Ω–∞–∫–ª–∞–¥–µ–Ω–µ —Å—Ç–∏—Ä–∞–Ω–Ω—è–º —Ç–∏–ø—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ `toArray(T[] a)` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é –¥–ª—è –æ–±—Ö–æ–¥—É –ø—Ä–æ–±–ª–µ–º, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑—ñ —Å—Ç–∏—Ä–∞–Ω–Ω—è–º —Ç–∏–ø—ñ–≤.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–±–∏ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ –≤ Java –±—É–ª–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –±–µ–∑ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ (reified generics), —è–∫—ñ –∑ –ø–æ—Ç–æ—á–Ω–∏—Ö –æ–±–º–µ–∂–µ–Ω—å –∑–Ω–∏–∫–ª–∏ –±? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫–±–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ç–∏–ø-–∞—Ä–≥—É–º–µ–Ω—Ç –∑–±–µ—Ä—ñ–≥–∞–ª–∞—Å—è –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, –±—ñ–ª—å—à—ñ—Å—Ç—å –ø–æ—Ç–æ—á–Ω–∏—Ö –æ–±–º–µ–∂–µ–Ω—å –ø—Ä–æ—Å—Ç–æ –± –∑–Ω–∏–∫–ª–∞.
>
> **–©–æ —Å—Ç–∞–ª–æ –± –º–æ–∂–ª–∏–≤–∏–º:**
>
> 1. **`new T()`:** –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ `T` —Å—Ç–∞–ª–æ –± –º–æ–∂–ª–∏–≤–∏–º, –æ—Å–∫—ñ–ª—å–∫–∏ JVM –∑–Ω–∞–ª–∞ –±, —â–æ —Ç–∞–∫–µ `T`.
> 2. **`new List<String>[10]`:** –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤—ñ–≤ —Å—Ç–∞–ª–æ –± –±–µ–∑–ø–µ—á–Ω–∏–º, –æ—Å–∫—ñ–ª—å–∫–∏ JVM –º–æ–≥–ª–∞ –± –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Ç–∏–ø–∏ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —ñ –∫–∏–¥–∞—Ç–∏ `ArrayStoreException` —É —Ä–∞–∑—ñ –Ω–µ–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ.
> 3. **`instanceof List<String>`:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—ñ–≤ –∑ `instanceof` —Å—Ç–∞–ª–∞ –± –º–æ–∂–ª–∏–≤–æ—é, –æ—Å–∫—ñ–ª—å–∫–∏ JVM –º–æ–≥–ª–∞ –± —Ä–æ–∑—Ä—ñ–∑–Ω–∏—Ç–∏ `List<String>` —ñ `List<Integer>`.
> 4. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–∏–º—ñ—Ç–∏–≤—ñ–≤ (`List<int>`):** –ú–æ–∂–ª–∏–≤–æ, —Å–∏—Å—Ç–µ–º–∞ —Ç–∏–ø—ñ–≤ –±—É–ª–∞ –± —Å–ø—Ä–æ–µ–∫—Ç–æ–≤–∞–Ω–∞ —Ç–∞–∫, —â–æ–± –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ –º–æ–≥–ª–∏ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —ñ –∑ –ø—Ä–∏–º—ñ—Ç–∏–≤–∞–º–∏ –Ω–∞–ø—Ä—è–º—É.
> 5. **–î–∂–µ–Ω–µ—Ä–∏–∫-–≤–∏–Ω—è—Ç–∫–∏ (`MyException<T>`):** –ë–ª–æ–∫ `catch` –º—ñ–≥ –±–∏ —Ä–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏ `MyException<String>` —Ç–∞ `MyException<Integer>`, —Ç–æ–º—É –∑–∞–±–æ—Ä–æ–Ω—É, —Å–∫–æ—Ä—ñ—à –∑–∞ –≤—Å–µ, –±—É–ª–æ –± –∑–Ω—è—Ç–æ.
>
> –ü—Ä–æ—Ç–µ, —Ü–µ –ø—Ä–∏–∑–≤–µ–ª–æ –± –¥–æ **–≤—Ç—Ä–∞—Ç–∏ –∑–≤–æ—Ä–æ—Ç–Ω–æ—ó —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ** —ñ **–∑–±—ñ–ª—å—à–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É** —Å–∫–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω–æ–≥–æ –∫–æ–¥—É (code bloat), –æ—Å–∫—ñ–ª—å–∫–∏ –¥–ª—è –∫–æ–∂–Ω–æ—ó –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü—ñ—ó –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –± –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –∞–±–æ –Ω–∞–≤—ñ—Ç—å –∫–æ–¥.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –¥–æ –≥—ñ–ø–æ—Ç–µ—Ç–∏—á–Ω–æ–≥–æ –º–∏—Å–ª–µ–Ω–Ω—è. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –ø–æ—Ç–æ—á–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è —î –Ω–µ –Ω–µ–¥–æ–ª—ñ–∫–æ–º, –∞ –∫–æ–º–ø—Ä–æ–º—ñ—Å–æ–º.*
