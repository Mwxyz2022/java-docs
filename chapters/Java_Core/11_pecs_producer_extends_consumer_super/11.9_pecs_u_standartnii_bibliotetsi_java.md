---
layout: default
title: "PECS —É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ–π –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ Java"
parent: "PECS (Producer Extends, Consumer Super)"
grand_parent: "Java Core"
nav_order: 9
---

# PECS —É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ–π –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ Java

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –ü—Ä–∏–Ω—Ü–∏–ø PECS (Producer Extends, Consumer Super) —à–∏—Ä–æ–∫–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è —É —Å–∏–≥–Ω–∞—Ç—É—Ä–∞—Ö –º–µ—Ç–æ–¥—ñ–≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—ó –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ Java –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —Ç–∏–ø–æ–±–µ–∑–ø–µ–∫–∏ —Ç–∞ –≥–Ω—É—á–∫–æ—Å—Ç—ñ.

* –ø–æ–Ω—è—Ç—Ç—è: PECS, Producer Extends, Consumer Super.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `Collections.copy(List<? super T> dest, List<? extends T> src)` (`src` ‚Äì –≤–∏—Ä–æ–±–Ω–∏–∫, `dest` ‚Äì —Å–ø–æ–∂–∏–≤–∞—á); `Comparator<? super T>` (—Å–ø–æ–∂–∏–≤–∞—î –æ–±'—î–∫—Ç–∏ –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è); `Consumer<? super T>`.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –î–µ–º–æ–Ω—Å—Ç—Ä—É—î, —è–∫ `extends` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è "–¥–∂–µ—Ä–µ–ª" –¥–∞–Ω–∏—Ö, –∞ `super` ‚Äì –¥–ª—è "–ø—Ä–∏–π–º–∞—á—ñ–≤".

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è PECS –≤ API (`Collections.copy()`, `Comparator`), –∞–Ω–∞–ª—ñ–∑ —Å–∏–≥–Ω–∞—Ç—É—Ä.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**PECS (Producer Extends, Consumer Super)** ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø –≤–∏–±–æ—Ä—É wildcard-–æ–±–º–µ–∂–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —á–∏—Ç–∞—î–º–æ –º–∏ –∑ –æ–±'—î–∫—Ç–∞ —á–∏ –ø–∏—à–µ–º–æ –≤ –Ω—å–æ–≥–æ. –í—ñ–Ω —à–∏—Ä–æ–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—ó –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ Java, –æ—Å–æ–±–ª–∏–≤–æ –≤ API, –¥–µ –≤–∞–∂–ª–∏–≤–∞ –±–µ–∑–ø–µ–∫–∞ —Ç–∏–ø—ñ–≤.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

* –Ø–∫—â–æ **—Ç—ñ–ª—å–∫–∏ —á–∏—Ç–∞—î–º–æ** –∑ –æ–±'—î–∫—Ç–∞ -> **`? extends T`**
* –Ø–∫—â–æ **—Ç—ñ–ª—å–∫–∏ –¥–æ–¥–∞—î–º–æ/–ø–∏—à–µ–º–æ** –≤ –æ–±'—î–∫—Ç -> **`? super T`**

–¶–µ –ø—Ä–∞–≤–∏–ª–æ ‚Äî —è–∫ –∫–æ–º–ø–∞—Å, —è–∫–∏–π –¥–æ–ø–æ–º–∞–≥–∞—î –Ω–µ –∑–ª–∞–º–∞—Ç–∏ —Ç–∏–ø–æ–≤—É —Å–∏—Å—Ç–µ–º—É Java.

---

## üìä **–¢–∏–ø–æ–≤—ñ API –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º PECS:**

| API | Wildcard | –ü–æ—è—Å–Ω–µ–Ω–Ω—è |
| :---: | :---: | :---: |
| **`Collections.copy(dest, src)`** | **`List<? super T>, List<? extends T>`** | **`src`** ‚Äî producer, **`dest`** ‚Äî consumer |
| **`Comparator<? super T>`** | **`super`** | –ü–æ—Ä—ñ–≤–Ω—é—î –æ–±'—î–∫—Ç–∏ —Ç–∏–ø—É **`T`**, —Å–ø–æ–∂–∏–≤–∞—î —ó—Ö |
| **`Consumer<? super T>`** | **`super`** | –ü—Ä–∏–π–º–∞—î –æ–±'—î–∫—Ç–∏ —Ç–∏–ø—É **`T`**, —Å–ø–æ–∂–∏–≤–∞—á |
| **`Function<T, R>`** | –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–∏–ø | **`T`** ‚Äî –≤—Ö—ñ–¥, **`R`** ‚Äî –≤–∏—Ö—ñ–¥ |
| **`Stream<? extends T>`** | **`extends`** | –î–∂–µ—Ä–µ–ª–æ –¥–∞–Ω–∏—Ö ‚Äî —Ç—ñ–ª—å–∫–∏ —á–∏—Ç–∞–Ω–Ω—è |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

–£—è–≤–∏ –¥–≤–∞ –≤—ñ–¥—Ä–∞:

* –û–¥–Ω–µ **–Ω–∞–ª–∏—Ç–æ** (producer): –º–æ–∂–Ω–∞ —Ç—ñ–ª—å–∫–∏ **–Ω–∞–ª–∏–≤–∞—Ç–∏ –≤ —Å–∫–ª—è–Ω–∫—É** ‚Äî **`extends`**.
* –î—Ä—É–≥–µ **–ø–æ—Ä–æ–∂–Ω—î** (consumer): –º–æ–∂–Ω–∞ —Ç—ñ–ª—å–∫–∏ **–Ω–∞–ª–∏–≤–∞—Ç–∏ –≤ –Ω—å–æ–≥–æ** ‚Äî **`super`**.

Java API ‚Äî —Ü–µ –±–∞—Ä–º–µ–Ω, —è–∫–∏–π —Ö–æ—á–µ, —â–æ–± –Ω—ñ—â–æ –Ω–µ —Ä–æ–∑–ª–∏–ª–æ—Å—å. üòÑ

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **üì¶ `Collections.copy(...)`**

```java
<T> void copy(List<? super T> dest, List<? extends T> src)
```

* **`src`** ‚Äî producer, –º–∏ –ª–∏—à–µ —á–∏—Ç–∞—î–º–æ –∑ –Ω—å–æ–≥–æ -> **`extends`**
* **`dest`** ‚Äî consumer, –º–∏ –∑–∞–ø–∏—Å—É—î–º–æ –≤ –Ω—å–æ–≥–æ -> **`super`**

---

### **üîç `Comparator<? super T>`**

```java
void sort(List<T> list, Comparator<? super T> comparator)
```

* –ü–æ—Ä—ñ–≤–Ω—é—î –µ–ª–µ–º–µ–Ω—Ç–∏ **`T`** -> —Å–ø–æ–∂–∏–≤–∞—î -> **`super`**

---

### **üîß `Consumer<? super T>`**

```java
Consumer<? super T> consumer = t -> System.out.println(t);
```

* **`accept(T t)`** -> –ø—Ä–∏–π–º–∞—î **`T`** -> –æ—Ç–∂–µ **`super`**

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –í–∏–ø–∞–¥–æ–∫ | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à | –ß–æ–º—É? |
| :---: | :---: | :---: |
| **–ß–∏—Ç–∞–Ω–Ω—è –∑ –∫–æ–ª–µ–∫—Ü—ñ—ó** | **`? extends T`** | –ë–æ –ª–∏—à–µ —á–∏—Ç–∞—î—à |
| **–ó–∞–ø–∏—Å —É –∫–æ–ª–µ–∫—Ü—ñ—é** | **`? super T`** | –ë–æ –ª–∏—à–µ –∑–∞–ø–∏—Å—É—î—à |
| **–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è** | **`Comparator<? super T>`** | –ë–æ –≤—ñ–Ω ‚Äú—Å–ø–æ–∂–∏–≤–∞—î‚Äù –æ–±'—î–∫—Ç–∏ T |
| **Callback, –ª–æ–≥—ñ–∫–∞ –æ–±—Ä–æ–±–∫–∏** | **`Consumer<? super T>`** | –°–ø–æ–∂–∏–≤–∞—î –æ–±'—î–∫—Ç |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**PECS**:

* **P**roducer -> **`extends`**
* **C**onsumer -> **`super`**

üîÅ "If it **produces**, it **extends**.  
If it **consumes**, it‚Äôs **super**."

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* PECS ‚Äî –∫–ª—é—á –¥–æ –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è wildcard-—ñ–≤.
* –í Java API —Ü–µ –ø—Ä–∞–≤–∏–ª–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–µ –±—É–∫–≤–∞–ª—å–Ω–æ: —É **`copy`**, **`Comparator`**, **`Consumer`**, **`Function`**.
* –†–æ–∑—É–º—ñ–Ω–Ω—è PECS ‚Äî –º–∞—Å—Ç—Ö–µ–≤ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∞—Ö, –æ—Å–æ–±–ª–∏–≤–æ –ø—ñ–¥ —á–∞—Å –∞–Ω–∞–ª—ñ–∑—É —Å–∏–≥–Ω–∞—Ç—É—Ä –º–µ—Ç–æ–¥—ñ–≤.
* –Ø–∫—â–æ –≤–∞–≥–∞—î—à—Å—è ‚Äî –∑–∞–ø–∏—Ç–∞–π —Å–µ–±–µ: "–ß–∏ —Ü–µ —á–∏—Ç–∞—î —á–∏ –ø–∏—à–µ?" -> –≤—ñ–¥–ø–æ–≤—ñ–¥—å –±—É–¥–µ **`extends`** –∞–±–æ **`super`**.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Oracle: Generics \- Wildcards**](https://docs.oracle.com/javase/tutorial/java/generics/wildcards.html)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–π –Ω–∞–π–±—ñ–ª—å—à –∫–∞–Ω–æ–Ω—ñ—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–∏–Ω—Ü–∏–ø—É PECS —É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ–π –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ Java?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–π–±—ñ–ª—å—à –∫–∞–Ω–æ–Ω—ñ—á–Ω–∏–º —ñ —á–∞—Å—Ç–æ —Ü–∏—Ç–æ–≤–∞–Ω–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º —î —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É `Collections.copy()`:
>
> **`public static <T> void copy(List<? super T> dest, List<? extends T> src)`**
>
> **–†–æ–∑–±—ñ—Ä –∑–≥—ñ–¥–Ω–æ –∑ PECS:**
>
> 1. **`List<? extends T> src` (–î–∂–µ—Ä–µ–ª–æ, Producer):**
>     * –°–ø–∏—Å–æ–∫ `src` —î **–≤–∏—Ä–æ–±–Ω–∏–∫–æ–º (producer)**, –æ—Å–∫—ñ–ª—å–∫–∏ –º–∏ –∑ –Ω—å–æ–≥–æ —Ç—ñ–ª—å–∫–∏ **—á–∏—Ç–∞—î–º–æ** –µ–ª–µ–º–µ–Ω—Ç–∏.
>     * –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è **`extends`** –¥–æ–∑–≤–æ–ª—è—î –Ω–∞–º –ø–µ—Ä–µ–¥–∞—Ç–∏ —è–∫ –¥–∂–µ—Ä–µ–ª–æ —Å–ø–∏—Å–æ–∫ –±—É–¥—å-—è–∫–æ–≥–æ –ø—ñ–¥—Ç–∏–ø—É `T`. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –º–æ–∂–Ω–∞ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∑ `List<Integer>` —É `List<Number>`.
>
> 2. **`List<? super T> dest` (–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è, Consumer):**
>     * –°–ø–∏—Å–æ–∫ `dest` —î **—Å–ø–æ–∂–∏–≤–∞—á–µ–º (consumer)**, –æ—Å–∫—ñ–ª—å–∫–∏ –º–∏ –≤ –Ω—å–æ–≥–æ —Ç—ñ–ª—å–∫–∏ **–∑–∞–ø–∏—Å—É—î–º–æ** –µ–ª–µ–º–µ–Ω—Ç–∏.
>     * –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è **`super`** –¥–æ–∑–≤–æ–ª—è—î –Ω–∞–º –ø–µ—Ä–µ–¥–∞—Ç–∏ —è–∫ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å–ø–∏—Å–æ–∫, —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω–∏–π `T` –∞–±–æ –±—É–¥—å-—è–∫–∏–º –π–æ–≥–æ –ø—Ä–µ–¥–∫–æ–º.
>
> –¶—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ä–æ–±–∏—Ç—å –º–µ—Ç–æ–¥ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≥–Ω—É—á–∫–∏–º, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –º—ñ–∂ —Å—É–º—ñ—Å–Ω–∏–º–∏, –∞–ª–µ –Ω–µ —ñ–¥–µ–Ω—Ç–∏—á–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ —Å–ø–∏—Å–∫—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è "—Ö—Ä–µ—Å—Ç–æ–º–∞—Ç—ñ–π–Ω–æ–≥–æ" –ø—Ä–∏–∫–ª–∞–¥—É PECS. –ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–æ—è—Å–Ω–∏—Ç–∏, —á–æ–º—É `src` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `extends`, –∞ `dest` ‚Äî `super`.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–†–æ–∑–≥–ª—è–Ω–µ–º–æ `List.sort(Comparator<? super E> c)`. –ß–æ–º—É `Comparator` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `super`, –∞ –Ω–µ `extends`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `Comparator` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `super`, —Ç–æ–º—É —â–æ –≤—ñ–Ω —î **—Å–ø–æ–∂–∏–≤–∞—á–µ–º (consumer)**.
>
> –ô–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥ `compare(T o1, T o2)` "—Å–ø–æ–∂–∏–≤–∞—î" –¥–≤–∞ –æ–±'—î–∫—Ç–∏ –¥–ª—è —ó—Ö –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è. –ó–≥—ñ–¥–Ω–æ –∑ –ø—Ä–∞–≤–∏–ª–æ–º PECS, –¥–ª—è —Å–ø–æ–∂–∏–≤–∞—á—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `super`.
>
> **–ü—Ä–∞–∫—Ç–∏—á–Ω–∞ –∫–æ—Ä–∏—Å—Ç—å:**
>
> –¶–µ –¥–æ–∑–≤–æ–ª—è—î —Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—é –¥–æ—á—ñ—Ä–Ω—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä –¥–ª—è –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –∫–ª–∞—Å—É.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> class Person { String name; /* ... */ }
> class Student extends Person { /* ... */ }
>
> // –°—Ç–≤–æ—Ä—é—î–º–æ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä –¥–ª—è –±—É–¥—å-—è–∫–∏—Ö Person
> Comparator<Person> personComparator = Comparator.comparing(Person::getName);
>
> List<Student> students = new ArrayList<>();
> // ...
>
> // –ú–∏ –º–æ–∂–µ–º–æ —Å–æ—Ä—Ç—É–≤–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ (List<Student>),
> // –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä –¥–ª—è –ª—é–¥–µ–π (Comparator<Person>)
> students.sort(personComparator);
> ```
>
> –¶–µ –ø—Ä–∞—Ü—é—î, –±–æ –º–µ—Ç–æ–¥ `sort` –æ—á—ñ–∫—É—î `Comparator<? super Student>`, –∞ `Comparator<Person>` –∑–∞–¥–æ–≤–æ–ª—å–Ω—è—î —Ü—é —É–º–æ–≤—É, –æ—Å–∫—ñ–ª—å–∫–∏ `Person` —î —Å—É–ø–µ—Ä—Ç–∏–ø–æ–º –¥–ª—è `Student`. –ö–æ–º–ø–∞—Ä–∞—Ç–æ—Ä, —â–æ –≤–º—ñ—î –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –ª—é–¥–µ–π, —Ç–∏–º –±—ñ–ª—å—à–µ –≤–º—ñ—î –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ —ñ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ PECS –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –¥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏—Ö —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤. –†–æ–∑—É–º—ñ–Ω–Ω—è, —â–æ `Comparator` —î "—Å–ø–æ–∂–∏–≤–∞—á–µ–º".*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ PECS –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –¥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É `Function<T, R>` —É `Stream.map`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –°–∏–≥–Ω–∞—Ç—É—Ä–∞ `Stream.map` —î —ñ–¥–µ–∞–ª—å–Ω–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –æ–±–æ—Ö —á–∞—Å—Ç–∏–Ω PECS:
>
> `<R> Stream<R> map(Function<? super T, ? extends R> mapper)`
>
> 1. **–í—Ö—ñ–¥ (`? super T`):**
>     * –§—É–Ω–∫—Ü—ñ—è `mapper` —î **—Å–ø–æ–∂–∏–≤–∞—á–µ–º** —Å–≤–æ–≥–æ –≤—Ö—ñ–¥–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç—É (—Ç–∏–ø—É `T`).
>     * –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `super` (–∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å) –¥–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–¥–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é, —â–æ –ø—Ä–∞—Ü—é—î –∑ `T` –∞–±–æ –±—É–¥—å-—è–∫–∏–º –π–æ–≥–æ –ø—Ä–µ–¥–∫–æ–º. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –æ–±—Ä–æ–±–∏—Ç–∏ `Stream<Integer>` –º–æ–∂–Ω–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Function<Number, ...>`.
>
> 2. **–í–∏—Ö—ñ–¥ (`? extends R`):**
>     * –§—É–Ω–∫—Ü—ñ—è `mapper` —î **–≤–∏—Ä–æ–±–Ω–∏–∫–æ–º** —Å–≤–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É (—Ç–∏–ø—É `R`).
>     * –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `extends` (–∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å) –¥–æ–∑–≤–æ–ª—è—î —Ñ—É–Ω–∫—Ü—ñ—ó –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –æ–±'—î–∫—Ç —Ç–∏–ø—É `R` –∞–±–æ –±—É–¥—å-—è–∫–∏–π –π–æ–≥–æ –Ω–∞—â–∞–¥–æ–∫. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ `map` –æ—á—ñ–∫—É—î `Stream<Number>`, —Ñ—É–Ω–∫—Ü—ñ—è –º–æ–∂–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ `Integer`.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `Stream.map` —î –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≥–Ω—É—á–∫–∏–º, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –º–æ–∂–µ –ø—Ä–∏–π–º–∞—Ç–∏ –±—ñ–ª—å—à –∑–∞–≥–∞–ª—å–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é —è–∫ –≤—Ö—ñ–¥ —ñ –¥–æ–∑–≤–æ–ª—è—î —Ü—ñ–π —Ñ—É–Ω–∫—Ü—ñ—ó –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –±—ñ–ª—å—à –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ï–∫—Å–ø–µ—Ä—Ç–Ω–∏–π —Ä—ñ–≤–µ–Ω—å —Ä–æ–∑—É–º—ñ–Ω–Ω—è PECS. –ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ —Å–∏–≥–Ω–∞—Ç—É—Ä–∏ `Stream API`.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ –∑ JDK, –¥–µ `extends`-wildcard –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, —â–æ —î "–≤–∏—Ä–æ–±–Ω–∏–∫–æ–º".

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –•–æ—Ä–æ—à–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º —î –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `ArrayList`, —â–æ –ø—Ä–∏–π–º–∞—î —ñ–Ω—à—É –∫–æ–ª–µ–∫—Ü—ñ—é:
>
> `public ArrayList(Collection<? extends E> c)`
>
> **–ê–Ω–∞–ª—ñ–∑:**
>
> * `E` ‚Äî —Ü–µ —Ç–∏–ø –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ `ArrayList`, —è–∫–∏–π –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ.
> * `Collection<? extends E> c` ‚Äî —Ü–µ –≤—Ö—ñ–¥–Ω–∞ –∫–æ–ª–µ–∫—Ü—ñ—è.
> * –¶—è –∫–æ–ª–µ–∫—Ü—ñ—è `c` —î **–≤–∏—Ä–æ–±–Ω–∏–∫–æ–º (producer)**, –æ—Å–∫—ñ–ª—å–∫–∏ –º–∏ –∑ –Ω–µ—ó —Ç—ñ–ª—å–∫–∏ **—á–∏—Ç–∞—î–º–æ** –µ–ª–µ–º–µ–Ω—Ç–∏, —â–æ–± —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —ó—Ö —É –Ω–æ–≤–∏–π `ArrayList`.
>
> –ó–∞–≤–¥—è–∫–∏ `? extends E`, –≤–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `ArrayList<Number>`, –ø–µ—Ä–µ–¥–∞–≤—à–∏ –≤ –Ω—å–æ–≥–æ `List<Integer>`, –±–æ `Integer` —î –Ω–∞—â–∞–¥–∫–æ–º `Number`.
>
> ```java
> List<Integer> integers = List.of(1, 2);
> List<Number> numbers = new ArrayList<>(integers); // –¶–µ–π –≤–∏–∫–ª–∏–∫ –≤–∞–ª—ñ–¥–Ω–∏–π –∑–∞–≤–¥—è–∫–∏ ? extends
> ```
>
> –¶–µ —Ä–æ–±–∏—Ç—å API –∑–Ω–∞—á–Ω–æ –±—ñ–ª—å—à –≥–Ω—É—á–∫–∏–º –¥–ª—è –∫–ª—ñ—î–Ω—Ç–∞.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–í–º—ñ–Ω–Ω—è –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ —Ç–∞ –ø–æ—è—Å–Ω—é–≤–∞—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥–∏ PECS —É –ø–æ—à–∏—Ä–µ–Ω–∏—Ö –∫–ª–∞—Å–∞—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—ó –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£—è–≤—ñ—Ç—å, —â–æ –≤–∏ –ø–∏—à–µ—Ç–µ –º–µ—Ç–æ–¥ `pushAll(Iterable<E> src, Deque<E> dest)`. –Ø–∫ –±–∏ –≤–∏ –ø–æ–∫—Ä–∞—â–∏–ª–∏ –π–æ–≥–æ —Å–∏–≥–Ω–∞—Ç—É—Ä—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é PECS?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ü–æ—Ç–æ—á–Ω–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ `pushAll(Iterable<E> src, Deque<E> dest)` —î –∑–∞–Ω–∞–¥—Ç–æ –æ–±–º–µ–∂—É—é—á–æ—é. –í–æ–Ω–∞ –≤–∏–º–∞–≥–∞—î, —â–æ–± `src` —Ç–∞ `dest` –º–∞–ª–∏ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π —Ç–∏–ø `E`.
>
> –ó–∞—Å—Ç–æ—Å—É—î–º–æ PECS:
>
> 1. `src` (–¥–∂–µ—Ä–µ–ª–æ) —î **–≤–∏—Ä–æ–±–Ω–∏–∫–æ–º (producer)**. –ú–∏ –∑ –Ω—å–æ–≥–æ —Ç—ñ–ª—å–∫–∏ —á–∏—Ç–∞—î–º–æ –µ–ª–µ–º–µ–Ω—Ç–∏. –û—Ç–∂–µ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ **`extends`**.
>
> 2. `dest` (–ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è) —î **—Å–ø–æ–∂–∏–≤–∞—á–µ–º (consumer)**. –ú–∏ –≤ –Ω—å–æ–≥–æ —Ç—ñ–ª—å–∫–∏ –ø–∏—à–µ–º–æ (`push`). –û—Ç–∂–µ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ **`super`**.
>
> **–ü–æ–∫—Ä–∞—â–µ–Ω–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞:**
>
> `public <E> void pushAll(Iterable<? extends E> src, Deque<? super E> dest)`
>
> **–©–æ —Ü–µ –¥–∞—î?**
>
> –¢–µ–ø–µ—Ä –º–∏ –º–æ–∂–µ–º–æ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "–∑–∞–ø—É—à–∏—Ç–∏" –µ–ª–µ–º–µ–Ω—Ç–∏ –∑ `Iterable<Integer>` —É `Deque<Number>`.
>
> ```java
> Iterable<Integer> integers = List.of(1, 2);
> Deque<Number> numbers = new ArrayDeque<>();
>
> pushAll(integers, numbers); // –¢–µ–ø–µ—Ä –≤–∞–ª—ñ–¥–Ω–æ!
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è PECS –¥–ª—è –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –≥–Ω—É—á–∫–∏—Ö —É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `java.util.function.Consumer` –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º PECS? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Consumer<T>` —î –∫–∞–Ω–æ–Ω—ñ—á–Ω–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º **—Å–ø–æ–∂–∏–≤–∞—á–∞ (consumer)**. –ô–æ–≥–æ —î–¥–∏–Ω–∏–π –º–µ—Ç–æ–¥ `accept(T t)` "—Å–ø–æ–∂–∏–≤–∞—î" –æ–±'—î–∫—Ç —Ç–∏–ø—É `T`.
>
> –¢–æ–º—É –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ `Consumer` —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –º–∞–π–∂–µ –∑–∞–≤–∂–¥–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è **`super`**-wildcard, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –¥—Ä—É–≥—ñ–π —á–∞—Å—Ç–∏–Ω—ñ PECS.
>
> **–ü—Ä–∏–∫–ª–∞–¥: `Iterable.forEach(Consumer<? super T> action)`**
>
> * `T` ‚Äî —Ç–∏–ø –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –≤ `Iterable`.
> * `forEach` –ø—Ä–∏–π–º–∞—î `Consumer<? super T>`.
>
> **–ß–æ–º—É `super`?**
>
> –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∞–º –æ–±—Ä–æ–±–∏—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—é –¥–æ—á—ñ—Ä–Ω—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é "—Å–ø–æ–∂–∏–≤–∞—á–∞" –¥–ª—è –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –∫–ª–∞—Å—É.
>
> ```java
> List<String> strings = List.of("a", "b");
> // –°—Ç–≤–æ—Ä—é—î–º–æ —Å–ø–æ–∂–∏–≤–∞—á–∞ –¥–ª—è Object
> Consumer<Object> objectPrinter = obj -> System.out.println("Object: " + obj);
>
> // –ú–∏ –º–æ–∂–µ–º–æ –æ–±—Ä–æ–±–∏—Ç–∏ List<String> –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Consumer<Object>
> strings.forEach(objectPrinter);
> ```
>
> `Consumer`, —è–∫–∏–π –≤–º—ñ—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ `Object`, —Ç–∏–º –±—ñ–ª—å—à–µ –≤–º—ñ—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —ñ –∑ `String`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –ø—Ä–∏–Ω—Ü–∏–ø–∏ PECS –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –¥–æ –¥–∏–∑–∞–π–Ω—É `Stream API` —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏—Ö —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `? extends` –∑–∞–±–æ—Ä–æ–Ω—è—î `add()`, –∞ `? super` –æ–±–º–µ–∂—É—î `get()`? –ü–æ—è—Å–Ω—ñ—Ç—å –ª–æ–≥—ñ–∫—É –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –∑–∞—Ö–∏—Å–Ω—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç—É–≤–∞–Ω–Ω—è —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ.
>
> * **`List<? extends Number>` ‚Äî —á–æ–º—É `add` –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ?**
>   * –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –∑–Ω–∞—î, —â–æ —Ü–µ —Å–ø–∏—Å–æ–∫ –Ω–∞—â–∞–¥–∫—ñ–≤ `Number`, –∞–ª–µ **–Ω–µ –∑–Ω–∞—î, —è–∫–æ–≥–æ —Å–∞–º–µ**. –¶–µ –º–æ–∂–µ –±—É—Ç–∏ `List<Integer>` –∞–±–æ `List<Double>`.
>   * –Ø–∫—â–æ –± –≤—ñ–Ω –¥–æ–∑–≤–æ–ª–∏–≤ `list.add(new Integer(1))`, –∞ —Å–ø–∏—Å–æ–∫ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –±—É–≤ `List<Double>`, —Ü–µ –± –ø—Ä–∏–∑–≤–µ–ª–æ –¥–æ –ø–æ–º–∏–ª–∫–∏ —Ç–∏–ø—É.
>   * –û—Å–∫—ñ–ª—å–∫–∏ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –Ω–µ –º–æ–∂–µ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ –±–µ–∑–ø–µ–∫—É, –≤—ñ–Ω –∑–∞–±–æ—Ä–æ–Ω—è—î –æ–ø–µ—Ä–∞—Ü—ñ—é.
>
> * **`List<? super Integer>` ‚Äî —á–æ–º—É `get` –æ–±–º–µ–∂–µ–Ω–∏–π –¥–æ `Object`?**
>   * –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –∑–Ω–∞—î, —â–æ —Ü–µ —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–∫—ñ–≤ `Integer`, –∞–ª–µ **–Ω–µ –∑–Ω–∞—î, —è–∫–æ–≥–æ —Å–∞–º–µ**. –¶–µ –º–æ–∂–µ –±—É—Ç–∏ `List<Integer>`, `List<Number>` –∞–±–æ `List<Object>`.
>   * –Ø–∫—â–æ –º–∏ –≤–∏–∫–ª–∏—á–µ–º–æ `get()`, –º–∏ –Ω–µ –º–æ–∂–µ–º–æ –±—É—Ç–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ –æ—Ç—Ä–∏–º–∞—î–º–æ `Integer`. –Ø–∫—â–æ —Ü–µ `List<Number>`, –º–∏ –º–æ–∂–µ–º–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ `Double`. –Ø–∫—â–æ —Ü–µ `List<Object>`, –º–æ–∂–µ–º–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ `String`.
>   * –Ñ–¥–∏–Ω–∏–π —Ç–∏–ø, –¥–æ —è–∫–æ–≥–æ –º–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –±—É–¥—å-—è–∫–∏–π –µ–ª–µ–º–µ–Ω—Ç –∑ –±—É–¥—å-—è–∫–æ–≥–æ –∑ —Ü–∏—Ö —Å–ø–∏—Å–∫—ñ–≤, ‚Äî —Ü–µ **`Object`**. –¢–æ–º—É `get()` –ø–æ–≤–µ—Ä—Ç–∞—î `Object`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–æ—è—Å–Ω–∏—Ç–∏ –ª–æ–≥—ñ–∫—É –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞, —â–æ —Å—Ç–æ—ó—Ç—å –∑–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏ wildcards.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å —ñ —è–∫ –≤–æ–Ω–∞ –ø–æ–≤'—è–∑–∞–Ω–∞ –∑ PECS? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–Ü–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å** ‚Äî —Ü–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º. –í–æ–Ω–∞ –æ–∑–Ω–∞—á–∞—î, —â–æ –º—ñ–∂ `Generic<A>` —Ç–∞ `Generic<B>` –Ω–µ–º–∞—î –≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ `A` —î –ø—ñ–¥—Ç–∏–ø–æ–º `B`. (`List<String>` –Ω–µ —î `List<Object>`).
>
> **–Ø–∫ —Ü–µ –ø–æ–≤'—è–∑–∞–Ω–æ –∑ PECS?**
>
> PECS (—ñ wildcards `extends`/`super`) —î –º–µ—Ö–∞–Ω—ñ–∑–º–æ–º, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î **"–∑–ª–∞–º–∞—Ç–∏"** —Ü—é —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å —ñ –∑—Ä–æ–±–∏—Ç–∏ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ **–∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–∏–º–∏ (`extends`)** –∞–±–æ **–∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–∏–º–∏ (`super`)**, –∞–ª–µ –≤ **—Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏–π —Å–ø–æ—Å—ñ–±**.
>
> * `? extends` –≤–≤–æ–¥–∏—Ç—å **–∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å**, –∞–ª–µ —Ü—ñ–Ω–æ—é —î –∑–∞–±–æ—Ä–æ–Ω–∞ –Ω–∞ –∑–∞–ø–∏—Å.
> * `? super` –≤–≤–æ–¥–∏—Ç—å **–∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å**, –∞–ª–µ —Ü—ñ–Ω–æ—é —î –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ —á–∏—Ç–∞–Ω–Ω—è.
>
> –û—Ç–∂–µ, PECS ‚Äî —Ü–µ –Ω–∞–±—ñ—Ä –ø—Ä–∞–≤–∏–ª, —è–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å —Ç–∞ –∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –≥–Ω—É—á–∫—ñ—Å—Ç—å, –Ω–µ –≤—Ç—Ä–∞—á–∞—é—á–∏ –ø—Ä–∏ —Ü—å–æ–º—É —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ PECS ‚Äî —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—é, —è–∫–∞ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —î —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–æ—é.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –ø—Ä–∞–≤–∏–ª–æ PECS –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä—ñ –º–µ—Ç–æ–¥—É `Collections.max`? ‚≠êÔ∏è‚≠êÔ∏è
`public static <T extends Comparable<? super T>> T max(Collection<? extends T> coll)`

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> PECS —Ç—É—Ç –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è —è–∫ –¥–ª—è –∫–æ–ª–µ–∫—Ü—ñ—ó, —Ç–∞–∫ —ñ –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è —Ç–∏–ø—É `T`.
>
> 1. **`Collection<? extends T> coll`**:
>     * –ö–æ–ª–µ–∫—Ü—ñ—è `coll` —î **–≤–∏—Ä–æ–±–Ω–∏–∫–æ–º (Producer)**. –ú–∏ –∑ –Ω–µ—ó —Ç—ñ–ª—å–∫–∏ —á–∏—Ç–∞—î–º–æ –µ–ª–µ–º–µ–Ω—Ç–∏, —â–æ–± –∑–Ω–∞–π—Ç–∏ –º–∞–∫—Å–∏–º—É–º.
>     * –¢–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `extends`, —â–æ –¥–æ–∑–≤–æ–ª—è—î –∑–Ω–∞–π—Ç–∏ –º–∞–∫—Å–∏–º—É–º —É `Collection<Integer>`, `Collection<Double>` —Ç–æ—â–æ, —Ä–æ–∑–≥–ª—è–¥–∞—é—á–∏ —ó—Ö —è–∫ `Collection<? extends Number>`.
>
> 2. **`T extends Comparable<? super T>`**:
>     * –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Comparable` —Ç—É—Ç –≤–∏—Å—Ç—É–ø–∞—î –≤ —Ä–æ–ª—ñ **—Å–ø–æ–∂–∏–≤–∞—á–∞ (Consumer)**. –ô–æ–≥–æ –º–µ—Ç–æ–¥ `compareTo(T o)` "—Å–ø–æ–∂–∏–≤–∞—î" —ñ–Ω—à–∏–π –æ–±'—î–∫—Ç –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è.
>     * –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `super` –¥–æ–∑–≤–æ–ª—è—î –Ω–∞–º –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ –º–∞–∫—Å–∏–º—É–º, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É –∫–æ–ª–µ–∫—Ü—ñ—ó `Student`, —è–∫—â–æ —Å–∞–º `Student` –Ω–µ —Ä–µ–∞–ª—ñ–∑—É—î `Comparable`, –∞–ª–µ –π–æ–≥–æ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π –∫–ª–∞—Å `Person` ‚Äî —Ç–∞–∫.
>
> –¶—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ —î –æ–¥–Ω—ñ—î—é –∑ –Ω–∞–π—Å–∫–ª–∞–¥–Ω—ñ—à–∏—Ö —ñ –Ω–∞–π–≥–Ω—É—á–∫—ñ—à–∏—Ö —É JDK, —ñ –≤–æ–Ω–∞ —á—É–¥–æ–≤–æ —ñ–ª—é—Å—Ç—Ä—É—î –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –æ–±–æ—Ö —á–∞—Å—Ç–∏–Ω PECS.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ï–∫—Å–ø–µ—Ä—Ç–Ω–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è PECS —Ç–∞ –π–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –¥–æ –ø—Ä–æ—Å—É–Ω—É—Ç–∏—Ö –¥–∂–µ–Ω–µ—Ä–∏–∫-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£—è–≤—ñ—Ç—å, —â–æ –≤–∏ –Ω–µ –∑–Ω–∞—î—Ç–µ –ø—Ä–æ PECS. –Ø–∫ –±–∏ –≤–∏ –Ω–∞–ø–∏—Å–∞–ª–∏ –º–µ—Ç–æ–¥ `copy`, —ñ –≤ —á–æ–º—É –±—É–ª–∏ –± –π–æ–≥–æ –Ω–µ–¥–æ–ª—ñ–∫–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ë–µ–∑ –∑–Ω–∞–Ω–Ω—è PECS, –Ω–∞–π–±—ñ–ª—å—à –æ—á–µ–≤–∏–¥–Ω–∏–º —Ä—ñ—à–µ–Ω–Ω—è–º –±—É–ª–æ –± –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è **—Ç–æ—á–Ω–æ–≥–æ —Ç–∏–ø—É `T`**:
>
> ```java
> public static <T> void copy(List<T> dest, List<T> src) {
>     for (T item : src) {
>         dest.add(item);
>     }
> }
> ```
>
> **–ù–µ–¥–æ–ª—ñ–∫–∏ —Ü—å–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É:**
>
> 1. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≥–Ω—É—á–∫–æ—Å—Ç—ñ:** –¶–µ–π –º–µ—Ç–æ–¥ –≤–∏–º–∞–≥–∞—î, —â–æ–± —ñ `src`, —ñ `dest` –º–∞–ª–∏ **–∞–±—Å–æ–ª—é—Ç–Ω–æ –æ–¥–Ω–∞–∫–æ–≤–∏–π —Ç–∏–ø-–∞—Ä–≥—É–º–µ–Ω—Ç**.
> 2. **–ù–µ –º–æ–∂–Ω–∞ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –º—ñ–∂ —Å—É–º—ñ—Å–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏:** –í–∏ –Ω–µ –∑–º–æ–∂–µ—Ç–µ –≤–∏–∫–æ–Ω–∞—Ç–∏ —Ç–∞–∫–∏–π –ª–æ–≥—ñ—á–Ω–∏–π —ñ –±–µ–∑–ø–µ—á–Ω–∏–π –≤–∏–∫–ª–∏–∫:
>
>     ```java
>     List<Integer> integers = List.of(1, 2, 3);
>     List<Number> numbers = new ArrayList<>();
>
>     // copy(numbers, integers); // –ü–û–ú–ò–õ–ö–ê –ö–û–ú–ü–Ü–õ–Ø–¶–Ü–á!
>     ```
>
>     –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –Ω–µ –∑–º–æ–∂–µ –≤–∏–≤–µ—Å—Ç–∏ —Ç–∏–ø `T`, —è–∫–∏–π –æ–¥–Ω–æ—á–∞—Å–Ω–æ –±—É–≤ –±–∏ `Number` —ñ `Integer`.
>
> PECS –≤–∏—Ä—ñ—à—É—î —Å–∞–º–µ —Ü—é –ø—Ä–æ–±–ª–µ–º—É, "—Ä–æ–∑–≤'—è–∑—É—é—á–∏" –≤–∏–º–æ–≥–∏ –¥–æ —Ç–∏–ø—ñ–≤ `src` —Ç–∞ `dest`, —Ä–æ–±–ª—è—á–∏ –æ–¥–∏–Ω –∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–∏–º, –∞ —ñ–Ω—à–∏–π ‚Äî –∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫—É —Å–∞–º–µ –ø—Ä–æ–±–ª–µ–º—É –≥–Ω—É—á–∫–æ—Å—Ç—ñ –≤–∏—Ä—ñ—à—É—î PECS, —Ç–∞ —è–∫—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è –º–∞—î "–Ω–∞—ó–≤–Ω–∞" —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑ —Ç–æ—á–Ω–∏–º —Ç–∏–ø–æ–º `T`.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ PECS –¥–ª—è –≤–ª–∞—Å–Ω–∏—Ö –¥–∂–µ–Ω–µ—Ä–∏–∫-–∫–ª–∞—Å—ñ–≤? –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, –º–æ–∂–Ω–∞ —ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ, —è–∫—â–æ –≤–∏ –ø–∏—à–µ—Ç–µ API, —â–æ –ø—Ä–∞—Ü—é—î –∑ –≤–∞—à–∏–º–∏ –¥–∂–µ–Ω–µ—Ä–∏–∫-–∫–ª–∞—Å–∞–º–∏.
>
> –£—è–≤—ñ–º–æ, —É –Ω–∞—Å —î –≤–ª–∞—Å–Ω–∏–π –¥–∂–µ–Ω–µ—Ä–∏–∫-–∫–ª–∞—Å `Container<T>` —ñ –º–∏ —Ö–æ—á–µ–º–æ –Ω–∞–ø–∏—Å–∞—Ç–∏ –º–µ—Ç–æ–¥, —â–æ –ø–µ—Ä–µ–ª–∏–≤–∞—î –µ–ª–µ–º–µ–Ω—Ç–∏ –∑ –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ —ñ–Ω—à–∏–π.
>
> ```java
> public class Container<T> {
>     private T item;
>     public void set(T item) { this.item = item; }
>     public T get() { return this.item; }
> }
>
> public class ContainerUtils {
>     // –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ PECS –¥–ª—è –º–µ—Ç–æ–¥—É
>     public static <T> void pour(Container<? extends T> producer, Container<? super T> consumer) {
>         T item = producer.get();
>         consumer.set(item);
>     }
>
>     public static void main(String[] args) {
>         Container<Integer> intContainer = new Container<>();
>         intContainer.set(10);
>
>         Container<Number> numberContainer = new Container<>();
>
>         // –ü–µ—Ä–µ–ª–∏–≤–∞—î–º–æ –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑ Integer –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è Number
>         pour(intContainer, numberContainer);
>
>         System.out.println(numberContainer.get()); // 10
>     }
> }
> ```
>
> –ü—Ä–∏–Ω—Ü–∏–ø –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —Ç–∏–º —Å–∞–º–∏–º: –¥–∂–µ—Ä–µ–ª–æ (`producer`) ‚Äî `extends`, –ø—Ä–∏–π–º–∞—á (`consumer`) ‚Äî `super`. –¶–µ —Ä–æ–±–∏—Ç—å —É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω–∏–π –º–µ—Ç–æ–¥ `pour` –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≥–Ω—É—á–∫–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∏ PECS –Ω–µ —Ç—ñ–ª—å–∫–∏ –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π, –∞–ª–µ –π –¥–æ –≤–ª–∞—Å–Ω–∏—Ö –¥–∂–µ–Ω–µ—Ä–∏–∫-–∫–ª–∞—Å—ñ–≤.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `List.add` –Ω–µ –º–æ–∂–µ –ø—Ä–∏–π–Ω—è—Ç–∏ `? extends T`? –Ø–∫–µ –ø—Ä–∞–≤–∏–ª–æ –±—É–¥–µ –ø–æ—Ä—É—à–µ–Ω–æ? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫–±–∏ –º–µ—Ç–æ–¥ `add` –º—ñ–≥ –ø—Ä–∏–π–º–∞—Ç–∏ `? extends T`, —Ü–µ –± –∑—Ä—É–π–Ω—É–≤–∞–ª–æ **—Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å**, —è–∫—É –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏.
>
> –†–æ–∑–≥–ª—è–Ω–µ–º–æ –ø—Ä–∏–∫–ª–∞–¥:
>
> `List<Integer> integers = new ArrayList<>();`
> `List<? extends Number> numbers = integers; // –í–∞–ª—ñ–¥–Ω–∏–π –≤–∏–∫–ª–∏–∫`
>
> –Ø–∫–±–∏ —É `numbers` –º–æ–∂–Ω–∞ –±—É–ª–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `add`, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑ `Double`:
>
> `numbers.add(new Double(3.14)); // –£—è–≤—ñ–º–æ, —â–æ —Ü–µ –º–æ–∂–ª–∏–≤–æ`
>
> –¢–æ–¥—ñ –º–∏ –± –ø–æ–∫–ª–∞–ª–∏ `Double` –≤ `ArrayList`, —è–∫–∏–π –±—É–≤ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —è–∫ `ArrayList<Integer>`.
>
> –ü—ñ–∑–Ω—ñ—à–µ, –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –æ—Ç—Ä–∏–º–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç –∑ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫—É `integers`:
>
> `Integer myInt = integers.get(0);`
>
> –ú–∏ –± –æ—Ç—Ä–∏–º–∞–ª–∏ **`ClassCastException` –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**, —Ç–æ–º—É —â–æ –Ω–∞–º–∞–≥–∞–ª–∏—Å—è –± –ø—Ä–∏–≤–µ—Å—Ç–∏ `Double` –¥–æ `Integer`.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `extends` –≤–≤–æ–¥–∏—Ç—å –æ–±–º–µ–∂–µ–Ω–Ω—è **"—Ç—ñ–ª—å–∫–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è"** —Å–∞–º–µ –¥–ª—è —Ç–æ–≥–æ, —â–æ–± —É–Ω–µ–º–æ–∂–ª–∏–≤–∏—Ç–∏ –ø–æ–¥—ñ–±–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –∑–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è –∫—É–ø–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î—É–∂–µ —á—ñ—Ç–∫–µ, –ø–æ–∫—Ä–æ–∫–æ–≤–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ —Å–∞–º–µ –ø–æ—Ä—É—à—É—î—Ç—å—Å—è —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å, —è–∫—â–æ —ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ `extends`.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –≤–∑–∞–≥–∞–ª—ñ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ PECS —ñ –∑–∞–≤–∂–¥–∏ –ø–∏—Å–∞—Ç–∏ –º–µ—Ç–æ–¥–∏, —â–æ –ø—Ä–∏–π–º–∞—é—Ç—å `Collection<T>`? –Ø–∫—ñ –±—É–¥—É—Ç—å –Ω–∞—Å–ª—ñ–¥–∫–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, –º–æ–∂–Ω–∞, —ñ –≤–∞—à –∫–æ–¥ **–±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏**.
>
> **–ù–∞—Å–ª—ñ–¥–∫–∏:** –í–∞—à API –±—É–¥–µ **–º–µ–Ω—à –≥–Ω—É—á–∫–∏–º —ñ –º–µ–Ω—à –∑—Ä—É—á–Ω–∏–º** –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.
>
> –í–∏ –±—É–¥–µ—Ç–µ –∑–º—É—à—É–≤–∞—Ç–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤ –≤–∞—à–æ–≥–æ API —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—ó **—Ç–æ—á–Ω–æ–≥–æ —Ç–∏–ø—É**, –Ω–∞–≤—ñ—Ç—å –∫–æ–ª–∏ —Ü–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
> –í–∏ –Ω–∞–ø–∏—Å–∞–ª–∏ –º–µ—Ç–æ–¥ `void process(List<Number> list)`.
> –í–∞—à –∫–ª—ñ—î–Ω—Ç –º–∞—î `List<Integer>`.
>
> **–©–æ –¥–æ–≤–µ–¥–µ—Ç—å—Å—è —Ä–æ–±–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç—É:**
>
> ```java
> List<Integer> myInts = ...;
>
> // –ö–ª—ñ—î–Ω—Ç –Ω–µ –º–æ–∂–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –≤–∞—à –º–µ—Ç–æ–¥ –Ω–∞–ø—Ä—è–º—É.
> // –ô–æ–º—É –¥–æ–≤–µ–¥–µ—Ç—å—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∫–æ–ª–µ–∫—Ü—ñ—é —ñ —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ.
> List<Number> tempNumbers = new ArrayList<>(myInts);
> process(tempNumbers);
> ```
>
> –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ:
>
> * –ù–∞–ø–∏—Å–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ, —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥—É.
> * –ù–µ–ø–æ—Ç—Ä—ñ–±–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç –ø–∞–º'—è—Ç—ñ —Ç–∞ –ø—Ä–æ—Ü–µ—Å–æ—Ä–Ω–æ–≥–æ —á–∞—Å—É –Ω–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è.
>
> –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è PECS (`process(List<? extends Number> list)`) –¥–æ–∑–≤–æ–ª–∏–ª–æ –± –∫–ª—ñ—î–Ω—Ç—É –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ `myInts` –Ω–∞–ø—Ä—è–º—É.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** –í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ PECS –Ω–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –ø–æ–º–∏–ª–æ–∫, –∞ –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è **–Ω–µ—è–∫—ñ—Å–Ω–æ–≥–æ, –∂–æ—Ä—Å—Ç–∫–æ–≥–æ —Ç–∞ –Ω–µ–∑—Ä—É—á–Ω–æ–≥–æ API**.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –¥—É–º–∞—Ç–∏ –ø—Ä–æ –¥–∏–∑–∞–π–Ω API –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –π–æ–≥–æ "–∫–ª—ñ—î–Ω—Ç–∞". –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —Ç–∞–∫–µ "—Ö–æ—Ä–æ—à–∏–π" —ñ "–ø–æ–≥–∞–Ω–∏–π" API.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –ø—Ä–∞–≤–∏–ª–æ PECS –¥–æ–ø–æ–º–∞–≥–∞—î –≤ —Ä–æ–±–æ—Ç—ñ –∑ `Optional`? –†–æ–∑–≥–ª—è–Ω—å—Ç–µ `Optional.map(Function<? super T, ? extends U> mapper)`. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫ —Å–∞–º–æ, —è–∫ —ñ –¥–ª—è `Stream`, —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ `map` –¥–ª—è `Optional` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î PECS –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó –≥–Ω—É—á–∫–æ—Å—Ç—ñ.
>
> **`Optional.map(Function<? super T, ? extends U> mapper)`:**
>
> 1. **`? super T` (–≤—Ö—ñ–¥–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü—ñ—ó):**
>     * `Optional<T>` —î **–≤–∏—Ä–æ–±–Ω–∏–∫–æ–º** –∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∏–ø—É `T` –¥–ª—è —Ñ—É–Ω–∫—Ü—ñ—ó `mapper`. –¢–æ–º—É `mapper` —î **—Å–ø–æ–∂–∏–≤–∞—á–µ–º** —Ü—å–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è.
>     * –ó–≥—ñ–¥–Ω–æ –∑ PECS, –¥–ª—è —Å–ø–æ–∂–∏–≤–∞—á–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ **`super`**.
>     * –¶–µ –¥–æ–∑–≤–æ–ª—è—î –æ–±—Ä–æ–±–∏—Ç–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Optional<String>` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Function<Object, ...>`, –æ—Å–∫—ñ–ª—å–∫–∏ —Ñ—É–Ω–∫—Ü—ñ—è, —â–æ –ø—Ä–∏–π–º–∞—î `Object`, —Ç–∏–º –±—ñ–ª—å—à–µ –∑–º–æ–∂–µ –ø—Ä–∏–π–Ω—è—Ç–∏ —ñ `String`.
>
> 2. **`? extends U` (—Ç–∏–ø, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è):**
>     * –§—É–Ω–∫—Ü—ñ—è `mapper` —î **–≤–∏—Ä–æ–±–Ω–∏–∫–æ–º** –Ω–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∏–ø—É `U` –¥–ª—è –Ω–æ–≤–æ–≥–æ `Optional`.
>     * –ó–≥—ñ–¥–Ω–æ –∑ PECS, –¥–ª—è –≤–∏—Ä–æ–±–Ω–∏–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ **`extends`**.
>     * –¶–µ –¥–æ–∑–≤–æ–ª—è—î —Ñ—É–Ω–∫—Ü—ñ—ó –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∏–ø—É `U` –∞–±–æ –±—É–¥—å-—è–∫–æ–≥–æ –π–æ–≥–æ –Ω–∞—â–∞–¥–∫–∞. –Ø–∫—â–æ –º–µ—Ç–æ–¥ `map` –æ—á—ñ–∫—É—î `Number`, —Ñ—É–Ω–∫—Ü—ñ—è –º–æ–∂–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ `Integer`.
>
> –¶—è –≥–Ω—É—á–∫—ñ—Å—Ç—å —Ä–æ–±–∏—Ç—å `Optional.map` –ø–æ—Ç—É–∂–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω—å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ PECS —î —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–º, —è–∫–∏–π –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –¥–æ –≤—Å—ñ—Ö —Å—É—á–∞—Å–Ω–∏—Ö –¥–∂–µ–Ω–µ—Ä–∏–∫-API –≤ Java, –∞ –Ω–µ —Ç—ñ–ª—å–∫–∏ –¥–æ –∫–æ–ª–µ–∫—Ü—ñ–π.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –≤–≤–∞–∂–∞—Ç–∏, —â–æ `<T>` ‚Äî —Ü–µ –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó, –∞ `?` ‚Äî –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è? –ü–æ—è—Å–Ω—ñ—Ç—å. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, —Ü–µ –¥—É–∂–µ –≥–∞—Ä–Ω–µ **—Å–ø—Ä–æ—â–µ–Ω–µ –ø—Ä–∞–≤–∏–ª–æ**, —è–∫–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å—É—Ç—å.
>
> * **`<T>` ‚Äî –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:**
>   * –ö–æ–ª–∏ –≤–∏ **–ø–∏—à–µ—Ç–µ –¥–∂–µ–Ω–µ—Ä–∏–∫-–∫–ª–∞—Å –∞–±–æ –º–µ—Ç–æ–¥**, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω —ñ–º–µ–Ω–æ–≤–∞–Ω–∏–π —Ç–∏–ø-–ø–∞—Ä–∞–º–µ—Ç—Ä (`T`), —â–æ–± **–ø–æ—Å–∏–ª–∞—Ç–∏—Å—è –Ω–∞ –Ω—å–æ–≥–æ** –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –≤–∞—à–æ–≥–æ –∫–æ–¥—É: –æ–≥–æ–ª–æ—à—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ, –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –∑–≤'—è–∑–∫–∏ –º—ñ–∂ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –≤–∏–∑–Ω–∞—á–∞—Ç–∏ —Ç–∏–ø –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è. `<T>` –ø–æ—Ç—Ä—ñ–±–µ–Ω —Ç–æ–º—É, —Ö—Ç–æ **—Ä–µ–∞–ª—ñ–∑—É—î** —É–∑–∞–≥–∞–ª—å–Ω–µ–Ω—É –ª–æ–≥—ñ–∫—É.
>
> * **`?` (wildcard) ‚Äî –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
>   * –ö–æ–ª–∏ –≤–∏, —è–∫ **–∫–ª—ñ—î–Ω—Ç API**, **–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ** –≤–∂–µ —ñ—Å–Ω—É—é—á—ñ –¥–∂–µ–Ω–µ—Ä–∏–∫-–∫–ª–∞—Å–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `List`), –∞–ª–µ —Ö–æ—á–µ—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ —Å–≤—ñ–π –º–µ—Ç–æ–¥, —â–æ —ó—Ö –ø—Ä–∏–π–º–∞—î, –±—ñ–ª—å—à –≥–Ω—É—á–∫–∏–º, –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ `?`. –í–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞—Ç–∏ —Ç–æ—á–Ω–æ–≥–æ —Ç–∏–ø—É –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ ‚Äî –≤–∏ –ª–∏—à–µ "—Å–ø–æ–∂–∏–≤–∞—î—Ç–µ" –∞–±–æ "–≤–∏—Ä–æ–±–ª—è—î—Ç–µ" –¥–∞–Ω—ñ. Wildcard –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è **–≥–Ω—É—á–∫–æ—Å—Ç—ñ —Å–∏–≥–Ω–∞—Ç—É—Ä** –≤ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–º—É –∫–æ–¥—ñ.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> * `ArrayList<T>` ‚Äî **—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è** —Å–ø–∏—Å–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `<T>`.
> * `print(List<?>)` ‚Äî **–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è** —Å–ø–∏—Å–∫—É –≤ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–º—É –∫–æ–¥—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `<?>`.
>
> –¶–µ –ø—Ä–∞–≤–∏–ª–æ –¥–æ–ø–æ–º–∞–≥–∞—î –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —â–æ `<T>` —î —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –∞–≤—Ç–æ—Ä–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏/–∫–ª–∞—Å—É, –∞ `?` ‚Äî —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –∞–≤—Ç–æ—Ä–∞ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–≥–æ –∫–æ–¥—É, —â–æ –≤–∏–∫–ª–∏–∫–∞—î —Ü–µ–π –∫–ª–∞—Å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å —É–∑–∞–≥–∞–ª—å–Ω—é–≤–∞—Ç–∏ —Ç–∞ —Ñ–æ—Ä–º—É–ª—é–≤–∞—Ç–∏ –ø—Ä–æ—Å—Ç—ñ, –∞–ª–µ —Ç–æ—á–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞-–µ–≤—Ä–∏—Å—Ç–∏–∫–∏ –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü—ñ–π.*
