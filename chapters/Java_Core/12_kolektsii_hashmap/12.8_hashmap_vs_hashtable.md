---
layout: default
title: "HashMap vs Hashtable"
parent: "–ö–æ–ª–µ–∫—Ü—ñ—ó: HashMap"
grand_parent: "Java Core"
nav_order: 8
---

# HashMap vs Hashtable

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `HashMap` —Ç–∞ `Hashtable` ‚Äì –æ–±–∏–¥–≤—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó `Map`. `Hashtable` —î —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–æ—é (–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é, –∞–ª–µ –ø–æ–≤—ñ–ª—å–Ω–æ—é), —Ç–æ–¥—ñ —è–∫ `HashMap` ‚Äì –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–æ—é (–Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é, –∞–ª–µ —à–≤–∏–¥—à–æ—é).

* –ø–æ–Ω—è—Ç—Ç—è: `HashMap`, `Hashtable`, —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è, `null` –∫–ª—é—á—ñ/–∑–Ω–∞—á–µ–Ω–Ω—è.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `HashMap` –¥–æ–∑–≤–æ–ª—è—î –æ–¥–∏–Ω `null` –∫–ª—é—á —Ç–∞ `null` –∑–Ω–∞—á–µ–Ω–Ω—è. `Hashtable` –Ω–µ –¥–æ–∑–≤–æ–ª—è—î `null` –∞–Ω—ñ –¥–ª—è –∫–ª—é—á—ñ–≤, –∞–Ω—ñ –¥–ª—è –∑–Ω–∞—á–µ–Ω—å.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: `Hashtable` —î `legacy` –∫–ª–∞—Å–æ–º, `ConcurrentHashMap` ‚Äì –∫—Ä–∞—â–∞ —Å—É—á–∞—Å–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –†—ñ–∑–Ω–∏—Ü—è (—Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è, `null`), —á–æ–º—É `Hashtable` –∑–∞—Å—Ç–∞—Ä—ñ–ª–∞.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**`HashMap`** —ñ **`Hashtable`** ‚Äî —Ü–µ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É **`Map`** —É Java, —è–∫—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å –ø–∞—Ä–∏ **`–∫–ª—é—á‚Äì–∑–Ω–∞—á–µ–Ω–Ω—è`** –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Ö–µ—à—É–≤–∞–Ω–Ω—è. –û—Å–Ω–æ–≤–Ω–∞ –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –ø–æ–ª—è–≥–∞—î –≤ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó: **`Hashtable`** —î —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∏–º, –∞ **`HashMap`** ‚Äî –Ω—ñ.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–û–±–∏–¥–≤—ñ ‚Äî —Ü–µ ‚Äú—Å–ª–æ–≤–Ω–∏–∫–∏‚Äù –¥–ª—è Java, –¥–µ –º–æ–∂–Ω–∞ —à–≤–∏–¥–∫–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∫–ª—é—á–µ–º. –ê–ª–µ **`Hashtable`** ‚Äî —Ü–µ —Å—Ç–∞—Ä—à–∏–π, " –æ–±–µ—Ä–µ–∂–Ω–∏–π" –±—Ä–∞—Ç, —è–∫–∏–π –¥–±–∞—î –ø—Ä–æ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω—ñ—Å—Ç—å, –∞ **`HashMap`** ‚Äî —à–≤–∏–¥–∫–∏–π, –∞–ª–µ –Ω–µ –∑–∞—Ö–∏—â–µ–Ω–∏–π –≤—ñ–¥ –æ–¥–Ω–æ—á–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –∑ —Ä—ñ–∑–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤.

---

## **–û—Å–Ω–æ–≤–Ω–µ**

|           –ü–∞—Ä–∞–º–µ—Ç—Ä           |              HashMap              |             Hashtable              |
|:----------------------------:|:---------------------------------:|:----------------------------------:|
|     **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∏–π**      |               ‚ùå –ù—ñ                |               ‚úÖ –¢–∞–∫                |
|  **–î–æ–∑–≤–æ–ª—è—î `null` –∫–ª—é—á—ñ**   |      ‚úÖ –û–¥–∏–Ω **`null`** –∫–ª—é—á       |                ‚ùå –ù—ñ                |
| **–î–æ–∑–≤–æ–ª—è—î `null` –∑–Ω–∞—á–µ–Ω–Ω—è** |       ‚úÖ –ë—É–¥—å-—è–∫–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å        |                ‚ùå –ù—ñ                |
|      **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å**      | üîº –®–≤–∏–¥—à–∏–π —É –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–∏—Ö —É–º–æ–≤–∞—Ö | üîΩ –ü–æ–≤—ñ–ª—å–Ω—ñ—à–∏–π —á–µ—Ä–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é |
|      **–í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–∏–π –∑**      |             Java 1.2              |              Java 1.0              |
|    **–†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –¥–ª—è**    |   –°—É—á–∞—Å–Ω–∏—Ö, –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–∏—Ö —Ä—ñ—à–µ–Ω—å   |     –ó–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö, legacy-—Å–∏—Å—Ç–µ–º      |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

–£—è–≤–∏ –¥–≤—ñ —à–∞—Ñ–∏ –∑ —à—É—Ö–ª—è–¥–∞–º–∏:

* **`HashMap`** ‚Äî –∫–æ–∂–µ–Ω –ø—ñ–¥—Ö–æ–¥–∏—Ç—å —ñ –±–µ—Ä–µ —â–æ —Ö–æ—á–µ (—à–≤–∏–¥–∫–æ, –∞–ª–µ —Ö–∞–æ—Å —É –±–∞–≥–∞—Ç–æ–ª—é–¥–¥—ñ).
* **`Hashtable`** ‚Äî –Ω–∞ –¥–≤–µ—Ä—è—Ö –æ—Ö–æ—Ä–æ–Ω–µ—Ü—å (—Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è), –∫–æ–∂–µ–Ω —á–µ–∫–∞—î —á–µ—Ä–≥–∏, –≤—Å–µ –ø–æ–≤—ñ–ª—å–Ω–æ, –∞–ª–µ –±–µ–∑–ø–µ—á–Ω–æ.  
  –¢–∞–∫–æ–∂ **`HashMap`** –¥–æ–∑–≤–æ–ª—è—î –∑–∞–ª–∏—à–∏—Ç–∏ –æ–¥–∏–Ω —è—â–∏–∫ –±–µ–∑ —ñ–º–µ–Ω—ñ (**`null`** –∫–ª—é—á), –∞ **`Hashtable`** ‚Äî ‚Äú—É –Ω–∞—Å —Ç–∞–∫ –Ω–µ
  –∑–∞–≤–µ–¥–µ–Ω–æ‚Äù.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
// HashMap –ø—Ä–∏–∫–ª–∞–¥
Map<String, String> hashMap = new HashMap<>();
hashMap.

put(null,"value"); // –¥–æ–∑–≤–æ–ª–µ–Ω–æ
hashMap.

put("key",null);   // –¥–æ–∑–≤–æ–ª–µ–Ω–æ

// Hashtable –ø—Ä–∏–∫–ª–∞–¥
Map<String, String> hashtable = new Hashtable<>();
// hashtable.put(null, "value"); // –í–∏–∫–∏–Ω–µ NullPointerException
// hashtable.put("key", null);   // –í–∏–∫–∏–Ω–µ NullPointerException
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

|        –û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å        |           HashMap            |        Hashtable         |
|:-------------------------:|:----------------------------:|:------------------------:|
|    **`null` —è–∫ –∫–ª—é—á**     |       ‚úÖ –î–æ–∑–≤–æ–ª—è—î –æ–¥–∏–Ω        |      ‚ùå –ù–µ –¥–æ–∑–≤–æ–ª—è—î       |
|  **`null` —è–∫ –∑–Ω–∞—á–µ–Ω–Ω—è**   |          ‚úÖ –î–æ–∑–≤–æ–ª—è—î          |      ‚ùå –ù–µ –¥–æ–∑–≤–æ–ª—è—î       |
|     **–ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ–∫–∞**     |             ‚ùå –ù—ñ             |          ‚úÖ –¢–∞–∫           |
|    **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å**     |           üîº –í–∏—â–∞            |         üîΩ –ù–∏–∂—á–∞         |
|   **–ß–∞—Å–æ–≤–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**   |   O(1) –¥–ª—è **`put`**`/get`   |  O(1), –∞–ª–µ –∑ –Ω–∞–∫–ª–∞–¥–Ω–∏–º–∏  |
| **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å—å–æ–≥–æ–¥–Ω—ñ** | ‚úÖ –û—Å–Ω–æ–≤–Ω–∞ —Å—É—á–∞—Å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è | ‚õî –ó–∞—Å—Ç–∞—Ä—ñ–ª–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**"HashMap ‚Äî –¥–ª—è —à–≤–∏–¥–∫–∏—Ö, Hashtable ‚Äî –¥–ª—è –æ–±–µ—Ä–µ–∂–Ω–∏—Ö."**

–Ü —â–µ:

**"H–∞shMap –ª—é–±–∏—Ç—å null, Hashtable ‚Äî –∞–ª–µ—Ä–≥—ñ—è –Ω–∞ –Ω—å–æ–≥–æ\!"**

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* **`HashMap`** ‚Äî —Å—É—á–∞—Å–Ω–∏–π, —à–≤–∏–¥–∫–∏–π, –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∏–π.
* **`Hashtable`** ‚Äî —Å—Ç–∞—Ä–∏–π, —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∏–π, –Ω–µ –¥–æ–ø—É—Å–∫–∞—î **`null`**.
* –£ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–∞—Ö –∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **`ConcurrentHashMap`**.
* –ù–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∞—Ö —á–∞—Å—Ç–æ –ø–∏—Ç–∞—é—Ç—å –ø—Ä–æ —Ä—ñ–∑–Ω–∏—Ü—é, –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ–∫—É, –æ—Å–æ–±–ª–∏–≤–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ Java Collections Framework.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Oracle Docs ‚Äî HashMap**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html)
* [**Oracle Docs ‚Äî Hashtable**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Hashtable.html)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∞ –∫–ª—é—á–æ–≤–∞ —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ `HashMap` —Ç–∞ `Hashtable`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ö–ª—é—á–æ–≤–∞ —Ä—ñ–∑–Ω–∏—Ü—è –ø–æ–ª—è–≥–∞—î —É **—Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó** —Ç–∞ **–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ**.
>
> * **`HashMap`:**
>   * **–ù–µ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º (not thread-safe).** –í—ñ–Ω –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∏–π, —Ç–æ–º—É –π–æ–≥–æ –Ω–µ –º–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –±–µ–∑ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó.
>   * –ó–∞–≤–¥—è–∫–∏ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó, –≤—ñ–Ω —î –∑–Ω–∞—á–Ω–æ **—à–≤–∏–¥—à–∏–º** –≤ –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–∏—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫–∞—Ö.
>
> * **`Hashtable`:**
>   * **–Ñ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º (thread-safe).** –í—Å—ñ –π–æ–≥–æ –ø—É–±–ª—ñ—á–Ω—ñ –º–µ—Ç–æ–¥–∏ ( `put`, `get`, `remove` —Ç–æ—â–æ) —î **`synchronized`**. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –æ–¥–Ω–æ—á–∞—Å–Ω–æ —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫—É –æ–ø–µ—Ä–∞—Ü—ñ—é.
>   * –ß–µ—Ä–µ–∑ –Ω–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –≤—ñ–Ω —î –∑–Ω–∞—á–Ω–æ **–ø–æ–≤—ñ–ª—å–Ω—ñ—à–∏–º**, –Ω—ñ–∂ `HashMap`.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** `HashMap` ‚Äî —à–≤–∏–¥–∫–∏–π, –∞–ª–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É. `Hashtable` ‚Äî –ø–æ–≤—ñ–ª—å–Ω–∏–π, –∞–ª–µ –±–µ–∑–ø–µ—á–Ω–∏–π –¥–ª—è –∫—ñ–ª—å–∫–æ—Ö –ø–æ—Ç–æ–∫—ñ–≤.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

`HashMap` ‚Äî —Ü–µ –æ–¥–Ω–æ—Å–º—É–≥–æ–≤–∞ –¥–æ—Ä–æ–≥–∞ –±–µ–∑ —Å–≤—ñ—Ç–ª–æ—Ñ–æ—Ä—ñ–≤: —Ä—É—Ö –¥—É–∂–µ —à–≤–∏–¥–∫–∏–π, –ø–æ–∫–∏ –Ω–∞ –Ω—ñ–π –æ–¥–Ω–∞ –º–∞—à–∏–Ω–∞. `Hashtable` ‚Äî —Ü–µ —Ç–∞ —Å–∞–º–∞ –¥–æ—Ä–æ–≥–∞, –∞–ª–µ –∑ –æ–¥–Ω–∏–º –≤–µ–ª–∏–∫–∏–º —Å–≤—ñ—Ç–ª–æ—Ñ–æ—Ä–æ–º, —è–∫–∏–π –ø—Ä–æ–ø—É—Å–∫–∞—î –º–∞—à–∏–Ω–∏ –ø–æ –æ–¥–Ω—ñ–π, —Å—Ç–≤–æ—Ä—é—é—á–∏ –∑–∞—Ç–æ—Ä–∏, –∞–ª–µ –∑–∞–ø–æ–±—ñ–≥–∞—é—á–∏ –∞–≤–∞—Ä—ñ—è–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–æ—ó –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è. –¶–µ –±–∞–∑–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `HashMap` —Ç–∞ `Hashtable` –ø–æ–≤–æ–¥—è—Ç—å—Å—è –∑ `null` –∫–ª—é—á–∞–º–∏ —Ç–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> * **`HashMap`:**
>   * **–ö–ª—é—á—ñ:** –î–æ–∑–≤–æ–ª—è—î **–æ–¥–∏–Ω** –∫–ª—é—á `null`.
>   * **–ó–Ω–∞—á–µ–Ω–Ω—è:** –î–æ–∑–≤–æ–ª—è—î **—Å–∫—ñ–ª—å–∫–∏ –∑–∞–≤–≥–æ–¥–Ω–æ** –∑–Ω–∞—á–µ–Ω—å `null`.
>   * –¶–µ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ –±—ñ–ª—å—à –≥–Ω—É—á–∫–∏–º.
>
> * **`Hashtable`:**
>   * **–ö–ª—é—á—ñ:** **–ù–ï –¥–æ–∑–≤–æ–ª—è—î** `null` –∫–ª—é—á—ñ. –°–ø—Ä–æ–±–∞ –¥–æ–¥–∞—Ç–∏ `null`-–∫–ª—é—á –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ `NullPointerException`.
>   * **–ó–Ω–∞—á–µ–Ω–Ω—è:** **–ù–ï –¥–æ–∑–≤–æ–ª—è—î** `null` –∑–Ω–∞—á–µ–Ω–Ω—è. –°–ø—Ä–æ–±–∞ –¥–æ–¥–∞—Ç–∏ `null`-–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∞–∫–æ–∂ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ `NullPointerException`.
>
> –¶—è —Å—É–≤–æ—Ä—ñ—Å—Ç—å `Hashtable` —É–Ω–µ–º–æ–∂–ª–∏–≤–ª—é—î –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ñ—Å—Ç—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `get(key)` –ø–æ–≤–µ—Ä—Ç–∞—î `null` —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –∫–ª—é—á–∞ –Ω–µ–º–∞—î), –∞–ª–µ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ –º–µ–Ω—à –∑—Ä—É—á–Ω–∏–º —É –¥–µ—è–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π API, –∑–æ–∫—Ä–µ–º–∞, –æ–±—Ä–æ–±–∫–∏ `null`.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `Hashtable` –≤–≤–∞–∂–∞—î—Ç—å—Å—è –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–º (legacy) –∫–ª–∞—Å–æ–º?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `Hashtable` —î —á–∞—Å—Ç–∏–Ω–æ—é Java –∑ –ø–µ—Ä—à–æ—ó –≤–µ—Ä—Å—ñ—ó (JDK 1.0) —ñ –≤–≤–∞–∂–∞—î—Ç—å—Å—è –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–º –∑ –∫—ñ–ª—å–∫–æ—Ö –ø—Ä–∏—á–∏–Ω:
>
> 1. **–ü–æ—è–≤–∞ Collections Framework:** `Hashtable` —ñ—Å–Ω—É–≤–∞–≤ –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Collections Framework (Java 1.2). –ô–æ–≥–æ –ø—ñ–∑–Ω—ñ—à–µ "–∞–¥–∞–ø—Ç—É–≤–∞–ª–∏" –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É `Map`, –∞–ª–µ –≤—ñ–Ω –≤—Å–µ —â–µ –º–∞—î –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –º–µ—Ç–æ–¥–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `elements()`, `contains()`), —è–∫—ñ –Ω–µ –≤—Ö–æ–¥—è—Ç—å –¥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É `Map`.
>
> 2. **–ù–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è:** –ô–æ–≥–æ –ø—ñ–¥—Ö—ñ–¥ –¥–æ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ (–±–ª–æ–∫—É–≤–∞–Ω–Ω—è –≤—Å—ñ—î—ó –º–∞–ø–∏ –ø—Ä–∏ –±—É–¥—å-—è–∫—ñ–π –æ–ø–µ—Ä–∞—Ü—ñ—ó) —î –≥—Ä—É–±–∏–º —ñ –¥—É–∂–µ –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º –¥–ª—è –≤–∏—Å–æ–∫–æ–Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö —Å–∏—Å—Ç–µ–º.
>
> 3. **–Ü—Å–Ω—É—é—Ç—å –∫—Ä–∞—â—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏:**
>     * –î–ª—è **–æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–∏—Ö** –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤ —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **`HashMap`**.
>     * –î–ª—è **–±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω–∏—Ö** ‚Äî **`ConcurrentHashMap`**, —è–∫–∏–π –Ω–∞–¥–∞—î –∑–Ω–∞—á–Ω–æ –∫—Ä–∞—â—É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —ñ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å.
>
> `Hashtable` –∑–∞–ª–∏—à–µ–Ω–∏–π —É JDK –ø–µ—Ä–µ–≤–∞–∂–Ω–æ –¥–ª—è **–∑–≤–æ—Ä–æ—Ç–Ω–æ—ó —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ** –∑—ñ —Å—Ç–∞—Ä–∏–º –∫–æ–¥–æ–º. –£ –Ω–æ–≤–æ–º—É –∫–æ–¥—ñ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —á–æ–º—É `Hashtable` –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Å—É—á–∞—Å–Ω–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º, —Ç–∞ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ –π–æ–≥–æ —Å—É—á–∞—Å–Ω—ñ –∞–Ω–∞–ª–æ–≥–∏.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è –≤–ø–ª–∏–≤–∞—î –Ω–∞ `HashMap` —Ç–∞ `Hashtable`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í–æ–Ω–∏ –Ω–∞–ª–µ–∂–∞—Ç—å –¥–æ —Ä—ñ–∑–Ω–∏—Ö "–≥—ñ–ª–æ–∫" —ñ—î—Ä–∞—Ä—Ö—ñ—ó, —Ö–æ—á–∞ –æ–±–∏–¥–≤–∞ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å `Map`.
>
> * **`HashMap`:**
>   * `public class HashMap<K,V> extends AbstractMap<K,V> implements Map<K,V>, Cloneable, Serializable`
>   * –£—Å–ø–∞–¥–∫–æ–≤—É—î –≤—ñ–¥ **`AbstractMap`**, —â–æ –Ω–∞–¥–∞—î –π–æ–º—É —Å–∫–µ–ª–µ—Ç–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –±–∞–≥–∞—Ç—å–æ—Ö –º–µ—Ç–æ–¥—ñ–≤ `Map`.
>
> * **`Hashtable`:**
>   * `public class Hashtable<K,V> extends Dictionary<K,V> implements Map<K,V>, Cloneable, java.io.Serializable`
>   * –£—Å–ø–∞–¥–∫–æ–≤—É—î –≤—ñ–¥ –∑–∞—Å—Ç–∞—Ä—ñ–ª–æ–≥–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—É **`Dictionary`**, —è–∫–∏–π —ñ—Å–Ω—É–≤–∞–≤ —â–µ –¥–æ Collections Framework. `Dictionary` –≤–≤–∞–∂–∞—î—Ç—å—Å—è –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–º —ñ –π–æ–≥–æ –∑–∞–º—ñ–Ω–∏–≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Map`.
>
> –¶–µ —â–µ —Ä–∞–∑ –ø—ñ–¥–∫—Ä–µ—Å–ª—é—î "–∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ—Å—Ç—å" `Hashtable`. –ô–æ–≥–æ –ø—Ä–∏–Ω–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –¥–æ —Å—Ç–∞—Ä–æ—ó —ñ—î—Ä–∞—Ä—Ö—ñ—ó (`Dictionary`) —î –æ–¥–Ω—ñ—î—é –∑ –ø—Ä–∏—á–∏–Ω, —á–æ–º—É –≤—ñ–Ω –Ω–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Å—Ç–∏–ª—é —Å—É—á–∞—Å–Ω–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —ñ—î—Ä–∞—Ä—Ö—ñ—ó –∫–æ–ª–µ–∫—Ü—ñ–π —Ç–∞ —É—Å–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ `Hashtable` –ø–æ—Ö–æ–¥–∏—Ç—å –≤—ñ–¥ `Dictionary`.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∏ `HashMap` —Ç–∞ `Hashtable` –ø–æ–≤–æ–¥—è—Ç—å—Å—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û–±–∏–¥–≤–∞ –∫–ª–∞—Å–∏ –º–∞—é—Ç—å **`fail-fast` —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∏**, –∞–ª–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∞ `Hashtable` —î —Ç—Ä–æ—Ö–∏ —ñ–Ω—à–æ—é.
>
> * **`HashMap`:**
>   * –Ü—Ç–µ—Ä–∞—Ç–æ—Ä–∏ –¥–ª—è `keySet`, `values`, `entrySet` —î `fail-fast`. –Ø–∫—â–æ –º–∞–ø–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∞ (–±—É–¥—å-—è–∫–∏–º —Å–ø–æ—Å–æ–±–æ–º, –∫—Ä—ñ–º `iterator.remove()`), –±—É–¥–µ –∫–∏–Ω—É—Ç–æ **`ConcurrentModificationException`**.
>
> * **`Hashtable`:**
>   * –Ü—Ç–µ—Ä–∞—Ç–æ—Ä–∏, –æ—Ç—Ä–∏–º–∞–Ω—ñ —á–µ—Ä–µ–∑ `keySet().iterator()` —Ç–∞ `entrySet().iterator()`, —Ç–∞–∫–æ–∂ —î `fail-fast` —ñ –∫–∏–¥–∞—é—Ç—å `ConcurrentModificationException`.
>   * **–ê–ª–µ!** `Hashtable` —Ç–∞–∫–æ–∂ –º–∞—î —Å—Ç–∞—Ä–∏–π –º–µ—Ç–æ–¥ **`elements()`**, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î **`Enumeration`**. `Enumeration` **–Ω–µ —î `fail-fast`**. –í—ñ–Ω –º–æ–∂–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –∑–º—ñ–Ω–∏ –∞–±–æ –Ω–∞–≤—ñ—Ç—å –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –¥–∞–Ω—ñ –±–µ–∑ –±—É–¥—å-—è–∫–∏—Ö –≤–∏–Ω—è—Ç–∫—ñ–≤, —â–æ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–º —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ, –Ω–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é –º–µ—Ç–æ–¥—ñ–≤ —Å–∞–º–æ–≥–æ `Hashtable`.
>
> –¶–µ —â–µ –æ–¥–∏–Ω –ø—Ä–∏–∫–ª–∞–¥ –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ API –≤ `Hashtable`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–£–≤–∞–∂–Ω—ñ—Å—Ç—å –¥–æ –¥–µ—Ç–∞–ª–µ–π. –†–æ–∑—É–º—ñ–Ω–Ω—è –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç–µ–π –Ω–µ —Ç—ñ–ª—å–∫–∏ –º—ñ–∂ –∫–ª–∞—Å–∞–º–∏, –∞ –π –º—ñ–∂ —ó—Ö–Ω—ñ–º–∏ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ —Ç–∞ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–º `Enumeration`.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∞ —Å—É—á–∞—Å–Ω–∞ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ `Hashtable`? –ß–æ–º—É –≤–æ–Ω–∞ –∫—Ä–∞—â–∞? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–π–∫—Ä–∞—â–æ—é —Å—É—á–∞—Å–Ω–æ—é –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ—é —î **`java.util.concurrent.ConcurrentHashMap`**.
>
> **–ß–æ–º—É –≤–æ–Ω–∞ –∫—Ä–∞—â–∞:**
>
> 1. **–ó–Ω–∞—á–Ω–æ –≤–∏—â–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ç–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å:**
>     * `Hashtable` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **—î–¥–∏–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è (lock) –Ω–∞ –≤—Å—é –º–∞–ø—É**. –ë—É–¥—å-—è–∫–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è –±–ª–æ–∫—É—î –≤—Å—ñ —ñ–Ω—à—ñ.
>     * `ConcurrentHashMap` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–¥—Ä—ñ–±–Ω–æ–≥—Ä–∞–Ω—É–ª—è—Ä–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è** (–Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–æ—à–∏–∫—ñ–≤/—Å–µ–≥–º–µ–Ω—Ç—ñ–≤). –¶–µ –¥–æ–∑–≤–æ–ª—è—î –±–∞–≥–∞—Ç—å–æ–º –ø–æ—Ç–æ–∫–∞–º **–æ–¥–Ω–æ—á–∞—Å–Ω–æ** —á–∏—Ç–∞—Ç–∏ —ñ –ø–∏—Å–∞—Ç–∏ –≤ –º–∞–ø—É, –ø–æ–∫–∏ –≤–æ–Ω–∏ –ø—Ä–∞—Ü—é—é—Ç—å –∑ —Ä—ñ–∑–Ω–∏–º–∏ –∫–æ—à–∏–∫–∞–º–∏.
>
> 2. **–ù–µ–±–ª–æ–∫—É—é—á—ñ —á–∏—Ç–∞–Ω–Ω—è:** –û–ø–µ—Ä–∞—Ü—ñ—ó `get()` —É `ConcurrentHashMap` –∑–∞–∑–≤–∏—á–∞–π –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è **–±–µ–∑ –±—É–¥—å-—è–∫–∏—Ö –±–ª–æ–∫—É–≤–∞–Ω—å**, —â–æ –∑–Ω–∞—á–Ω–æ –ø—ñ–¥–≤–∏—â—É—î –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —É —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö –∑ –≤–µ–ª–∏–∫–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é —á–∏—Ç–∞–Ω—å.
>
> 3. **–ê—Ç–æ–º–∞—Ä–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó:** –ù–∞–¥–∞—î –∫–æ—Ä–∏—Å–Ω—ñ –∞—Ç–æ–º–∞—Ä–Ω—ñ –º–µ—Ç–æ–¥–∏, —è–∫-–æ—Ç `putIfAbsent`, `compute`, —è–∫–∏—Ö –Ω–µ–º–∞—î –≤ `Hashtable`.
>
> 4. **`fail-safe` —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∏:** –ô–æ–≥–æ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∏ –Ω–µ –∫–∏–¥–∞—é—Ç—å `ConcurrentModificationException`.
>
> 5. **–î–æ–∑–≤–æ–ª—è—î `null` —è–∫ –∑–Ω–∞—á–µ–Ω–Ω—è.**
>
> –ó–∞–≥–∞–ª–æ–º, `ConcurrentHashMap` –Ω–∞–¥–∞—î –∑–Ω–∞—á–Ω–æ –∫—Ä–∞—â–∏–π —Ä—ñ–≤–µ–Ω—å –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º—É, –Ω—ñ–∂ `Hashtable`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–æ—è—Å–Ω–∏—Ç–∏ –ø–µ—Ä–µ–≤–∞–≥–∏ `ConcurrentHashMap` –Ω–∞–¥ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–º–∏ –ø—ñ–¥—Ö–æ–¥–∞–º–∏.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—É –≤–µ—Ä—Å—ñ—é `HashMap`, –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `ConcurrentHashMap`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, –º–æ–∂–Ω–∞, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω—É –æ–±–≥–æ—Ä—Ç–∫—É –∑ –∫–ª–∞—Å—É `Collections`.
>
> `Map<K, V> syncMap = Collections.synchronizedMap(new HashMap<>());`
>
> **–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**
>
> –ú–µ—Ç–æ–¥ `synchronizedMap()` –ø–æ–≤–µ—Ä—Ç–∞—î –µ–∫–∑–µ–º–ø–ª—è—Ä –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –∫–ª–∞—Å—É `SynchronizedMap`, —è–∫–∏–π "–æ–±–≥–æ—Ä—Ç–∞—î" –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—É `HashMap`. –ö–æ–∂–µ–Ω –π–æ–≥–æ –º–µ—Ç–æ–¥ (`put`, `get`, `remove` —Ç–æ—â–æ) —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `synchronized` –±–ª–æ–∫—É, —è–∫–∏–π –±–ª–æ–∫—É—î –æ–±'—î–∫—Ç-–º—å—é—Ç–µ–∫—Å (–∑–∞–∑–≤–∏—á–∞–π —Å–∞–º `SynchronizedMap`).
>
> **–Ø–∫—ñ –ø—Ä–æ–±–ª–µ–º–∏ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è:**
>
> * –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –º–∞—î —Ç—ñ –∂ —Å–∞–º—ñ **–Ω–µ–¥–æ–ª—ñ–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ**, —â–æ –π `Hashtable`, –æ—Å–∫—ñ–ª—å–∫–∏ —Ç–∞–∫–æ–∂ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —î–¥–∏–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –Ω–∞ –≤—Å—é –º–∞–ø—É.
> * –Ü—Ç–µ—Ä–∞—Ü—ñ—è –ø–æ —Ç–∞–∫—ñ–π –º–∞–ø—ñ –≤—Å–µ —â–µ **–Ω–µ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é** —ñ –≤–∏–º–∞–≥–∞—î –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ `synchronized` –±–ª–æ–∫—É.
>
> –û—Ç–∂–µ, —Ö–æ—á–∞ —Ü–µ–π —Å–ø–æ—Å—ñ–± —ñ—Å–Ω—É—î, `ConcurrentHashMap` –º–∞–π–∂–µ –∑–∞–≤–∂–¥–∏ —î –∫—Ä–∞—â–∏–º –≤–∏–±–æ—Ä–æ–º –¥–ª—è –Ω–æ–≤–∏—Ö –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–∏—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –ø—Ä–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω—ñ –æ–±–≥–æ—Ä—Ç–∫–∏ —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —ó—Ö–Ω—ñ—Ö –æ–±–º–µ–∂–µ–Ω—å.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `HashMap` —ñ `Hashtable` –æ–±—á–∏—Å–ª—é—é—Ç—å —ñ–Ω–¥–µ–∫—Å –∫–æ—à–∏–∫–∞? –ß–∏ —î —Ä—ñ–∑–Ω–∏—Ü—è? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, —î –Ω–µ–≤–µ–ª–∏–∫–∞ —Ä—ñ–∑–Ω–∏—Ü—è –≤ –æ–±—Ä–æ–±—Ü—ñ —Ö–µ—à-–∫–æ–¥—É.
>
> * **`HashMap`:**
>   * –î–æ–∑–≤–æ–ª—è—î `null` –∫–ª—é—á, –¥–ª—è —è–∫–æ–≥–æ —Ö–µ—à –¥–æ—Ä—ñ–≤–Ω—é—î 0.
>   * –ó–∞—Å—Ç–æ—Å–æ–≤—É—î **–¥–æ–¥–∞—Ç–∫–æ–≤—É —Ö–µ—à-—Ñ—É–Ω–∫—Ü—ñ—é** –¥–ª—è "—Ä–æ–∑–º–∞–∑—É–≤–∞–Ω–Ω—è" –±—ñ—Ç—ñ–≤ (`h ^ (h >>> 16)`), —â–æ–± –ø–æ–∫—Ä–∞—â–∏—Ç–∏ —Ä–æ–∑–ø–æ–¥—ñ–ª.
>   * –û–±—á–∏—Å–ª—é—î —ñ–Ω–¥–µ–∫—Å —è–∫ `(capacity - 1) & hash`.
>
> * **`Hashtable`:**
>   * –ù–µ –¥–æ–∑–≤–æ–ª—è—î `null` –∫–ª—é—á—ñ, —Ç–æ–º—É —Ç–∞–∫–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–µ–º–∞—î.
>   * **–ù–µ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —Ö–µ—à-—Ñ—É–Ω–∫—Ü—ñ—ó.** –í—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `hashCode()` –∫–ª—é—á–∞ –Ω–∞–ø—Ä—è–º—É.
>   * –û–±—á–∏—Å–ª—é—î —ñ–Ω–¥–µ–∫—Å –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **–æ–ø–µ—Ä–∞—Ü—ñ—ó –≤–∑—è—Ç—Ç—è –∑–∞–ª–∏—à–∫—É**: `(hash & 0x7FFFFFFF) % capacity`. `& 0x7FFFFFFF` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è, —â–æ–± –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏, —â–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ –¥–æ–¥–∞—Ç–Ω—ñ–º.
>
> –†—ñ–∑–Ω–∏—Ü—è –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞—Ö —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—ó (–±—ñ—Ç–æ–≤–µ "–Ü" –ø—Ä–æ—Ç–∏ –∑–∞–ª–∏—à–∫—É) —Ç–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ —Ö–µ—à—É–≤–∞–Ω–Ω—è —Ä–æ–±–∏—Ç—å `HashMap` –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –±—ñ–ª—å—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –∫–ª—é—á–∞–º–∏ –∑ –ø–æ–≥–∞–Ω–∏–º —Ä–æ–∑–ø–æ–¥—ñ–ª–æ–º —Ö–µ—à-–∫–æ–¥—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫—ñ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—é —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –æ–±–æ—Ö –∫–ª–∞—Å—ñ–≤, –≤–∫–ª—é—á–∞—é—á–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—ó.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `get(key)` —É `Hashtable`, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î `null`, –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –æ–∑–Ω–∞—á–∞—î, —â–æ –∫–ª—é—á–∞ –Ω–µ–º–∞—î? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Ç–æ–º—É, —â–æ `Hashtable` **–Ω–µ –¥–æ–∑–≤–æ–ª—è—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ `null` –∞–Ω—ñ —è–∫ –∫–ª—é—á, –∞–Ω—ñ —è–∫ –∑–Ω–∞—á–µ–Ω–Ω—è**.
>
> –í—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ, –º–µ—Ç–æ–¥ `get(key)` –º–æ–∂–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ `null` **—Ç—ñ–ª—å–∫–∏ –≤ –æ–¥–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É**: –∫–æ–ª–∏ –∑–∞–ø–∏—Å –∑ —Ç–∞–∫–∏–º –∫–ª—é—á–µ–º **–≤—ñ–¥—Å—É—Ç–Ω—ñ–π** —É —Ç–∞–±–ª–∏—Ü—ñ.
>
> –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –Ω—å–æ–≥–æ, `HashMap.get(key)` –º–æ–∂–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ `null` —É –¥–≤–æ—Ö –≤–∏–ø–∞–¥–∫–∞—Ö:
>
> 1. –ö–ª—é—á–∞ –Ω–µ–º–∞—î.
> 2. –ö–ª—é—á —î, –∞–ª–µ –π–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è ‚Äî `null`.
>
> –¶—è "–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ñ—Å—Ç—å" `null` —î –æ–¥–Ω—ñ—î—é –∑ –Ω–µ–±–∞–≥–∞—Ç—å–æ—Ö –ø–µ—Ä–µ–≤–∞–≥ —Å—É–≤–æ—Ä–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É `Hashtable`, —Ö–æ—á–∞ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ –≥–Ω—É—á–∫—ñ—Å—Ç—å `HashMap` –∑–∞–∑–≤–∏—á–∞–π —î –±—ñ–ª—å—à –∫–æ—Ä–∏—Å–Ω–æ—é.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –∑–∞–±–æ—Ä–æ–Ω–∞ –Ω–∞ `null` –≤–ø–ª–∏–≤–∞—î –Ω–∞ —Å–µ–º–∞–Ω—Ç–∏–∫—É –º–µ—Ç–æ–¥—ñ–≤.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ `fail-fast` —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∏ `HashMap` —Ç–∞ `Enumeration` —É `Hashtable`. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> * **`HashMap.iterator()`:**
>   * –ü–æ–≤–µ—Ä—Ç–∞—î `Iterator`, —è–∫–∏–π —î **`fail-fast`**.
>   * –Ø–∫—â–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞–ø–∏ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å —ñ—Ç–µ—Ä–∞—Ü—ñ—ó (–Ω–µ —á–µ—Ä–µ–∑ `iterator.remove()`), –∫–∏–¥–∞—î—Ç—å—Å—è `ConcurrentModificationException`.
>
> * **`Hashtable`:**
>   * –°—É—á–∞—Å–Ω—ñ –º–µ—Ç–æ–¥–∏, —è–∫-–æ—Ç `keySet().iterator()`, —Ç–∞–∫–æ–∂ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å **`fail-fast` —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∏**.
>   * –û–¥–Ω–∞–∫ `Hashtable` –º–∞—î –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–π –º–µ—Ç–æ–¥ **`elements()`**, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î `java.util.Enumeration`.
>   * `Enumeration` **–Ω–µ —î `fail-fast`**.
>   * **–ù–µ–±–µ–∑–ø–µ–∫–∞:** –Ø–∫—â–æ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ —ñ—Ç–µ—Ä—É—î –ø–æ `Hashtable` —á–µ—Ä–µ–∑ `Enumeration`, –∞ —ñ–Ω—à–∏–π –≤ —Ü–µ–π —á–∞—Å –∑–º—ñ–Ω—é—î —ó—ó, –Ω—ñ—è–∫–æ–≥–æ –≤–∏–Ω—è—Ç–∫—É –Ω–µ –±—É–¥–µ. –Ü—Ç–µ—Ä–∞—Ü—ñ—è –º–æ–∂–µ —Ç–∏—Ö–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –∑–º—ñ–Ω–∏ –∞–±–æ –Ω–∞–≤—ñ—Ç—å –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –¥–∞–Ω—ñ.
>
> –ù–∞—è–≤–Ω—ñ—Å—Ç—å –Ω–µ-`fail-fast` `Enumeration` —î —â–µ –æ–¥–Ω—ñ—î—é –ø—Ä–∏—á–∏–Ω–æ—é, —á–æ–º—É `Hashtable` –≤–≤–∞–∂–∞—î—Ç—å—Å—è –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–º —ñ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –ø—Ä–æ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–π `Enumeration` —Ç–∞ –π–æ–≥–æ –Ω–µ–±–µ–∑–ø–µ—á–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–í —è–∫–æ–º—É –≤–∏–ø–∞–¥–∫—É `Hashtable` –º–æ–∂–µ –±—É—Ç–∏ –∫—Ä–∞—â–∏–º –≤–∏–±–æ—Ä–æ–º, –Ω—ñ–∂ `ConcurrentHashMap`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ü—Ä–∞–∫—Ç–∏—á–Ω–æ –Ω—ñ –≤ —è–∫–æ–º—É.**
>
> –£ –±—É–¥—å-—è–∫–æ–º—É —Å—Ü–µ–Ω–∞—Ä—ñ—ó, –¥–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∞ –º–∞–ø–∞, `ConcurrentHashMap` –±—É–¥–µ –∞–±–æ –Ω–∞—Å—Ç—ñ–ª—å–∫–∏ –∂ —Ö–æ—Ä–æ—à–∏–º, –∞–±–æ –∑–Ω–∞—á–Ω–æ –∫—Ä–∞—â–∏–º.
>
> * **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:** `ConcurrentHashMap` –∑–Ω–∞—á–Ω–æ —à–≤–∏–¥—à–∏–π —Ç–∞ –∫—Ä–∞—â–µ –º–∞—Å—à—Ç–∞–±—É—î—Ç—å—Å—è.
> * **API:** `ConcurrentHashMap` –º–∞—î –±—ñ–ª—å—à –±–∞–≥–∞—Ç–∏–π —Ç–∞ –ø–æ—Ç—É–∂–Ω–∏–π API –∑ –∞—Ç–æ–º–∞—Ä–Ω–∏–º–∏ –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏.
>
> **–Ñ–¥–∏–Ω–∏–π –≥—ñ–ø–æ—Ç–µ—Ç–∏—á–Ω–∏–π —ñ –¥—É–∂–µ —Ä—ñ–¥–∫—ñ—Å–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫**, –∫–æ–ª–∏ `Hashtable` –º–æ–∂–µ –±—É—Ç–∏ —Ä–æ–∑–≥–ª—è–Ω—É—Ç–∏–π ‚Äî —Ü–µ **—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –¥—É–∂–µ —Å—Ç–∞—Ä–∏–º (legacy) –∫–æ–¥–æ–º**, —è–∫–∏–π –∑ —è–∫–∏—Ö–æ—Å—å –ø—Ä–∏—á–∏–Ω –≤–∏–º–∞–≥–∞—î –Ω–∞ –≤—Ö—ñ–¥ —Å–∞–º–µ `Hashtable` –∞–±–æ `Dictionary`.
>
> –í —É—Å—å–æ–º—É –Ω–æ–≤–æ–º—É –∫–æ–¥—ñ –≤–∏–±–æ—Ä—É –º—ñ–∂ `Hashtable` —Ç–∞ `ConcurrentHashMap` –Ω–µ —Å—Ç–æ—ó—Ç—å. –°–ª—ñ–¥ –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `ConcurrentHashMap`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —Å—É—á–∞—Å–Ω—ñ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–º—ñ–Ω–∏–ª–∏ –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω—ñ –∞–Ω–∞–ª–æ–≥–∏.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `HashMap` —ñ `Hashtable` –ø–æ–≤–æ–¥—è—Ç—å—Å—è –ø—Ä–∏ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—ñ (`resize`)? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ê–ª–≥–æ—Ä–∏—Ç–º–∏ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —É –Ω–∏—Ö –¥–µ—â–æ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è, —â–æ –∑–Ω–æ–≤—É –∂ —Ç–∞–∫–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —ó—Ö–Ω—ñ–π –≤—ñ–∫.
>
> * **`HashMap`:**
>   * –ó–±—ñ–ª—å—à—É—î —î–º–Ω—ñ—Å—Ç—å **–≤–¥–≤—ñ—á—ñ** (`newCapacity = oldCapacity * 2`).
>   * –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ `capacity` –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —Å—Ç–µ–ø–µ–Ω–µ–º –¥–≤—ñ–π–∫–∏, —â–æ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é `hash & (capacity - 1)`.
>
> * **`Hashtable`:**
>   * –ó–±—ñ–ª—å—à—É—î —î–º–Ω—ñ—Å—Ç—å –∑–∞ —Ñ–æ—Ä–º—É–ª–æ—é **`newCapacity = (oldCapacity * 2) + 1`**.
>   * `+1` —Ä–æ–±–∏—Ç—å—Å—è –¥–ª—è —Ç–æ–≥–æ, —â–æ–± –Ω–æ–≤–∞ —î–º–Ω—ñ—Å—Ç—å –±—É–ª–∞ **–Ω–µ–ø–∞—Ä–Ω–∏–º —á–∏—Å–ª–æ–º**. –£ —Å—Ç–∞—Ä–∏—Ö —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—è—Ö —Ü–µ —ñ–Ω–æ–¥—ñ –≤–≤–∞–∂–∞–ª–æ—Å—è —Ö–æ—Ä–æ—à–æ—é –ø—Ä–∞–∫—Ç–∏–∫–æ—é –¥–ª—è –∑–º–µ–Ω—à–µ–Ω–Ω—è –∫–æ–ª—ñ–∑—ñ–π, –∫–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –æ–ø–µ—Ä–∞—Ü—ñ—è `%`.
>
> –¶—è —Ä—ñ–∑–Ω–∏—Ü—è –≤ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —î —â–µ –æ–¥–Ω–∏–º –¥–æ–∫–∞–∑–æ–º —Ç–æ–≥–æ, —â–æ `HashMap` –º–∞—î –±—ñ–ª—å—à —Å—É—á–∞—Å–Ω—ñ —Ç–∞ –ø—Ä–æ–¥—É–º–∞–Ω—ñ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫—ñ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ –¥–µ—Ç–∞–ª—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó, –∑–æ–∫—Ä–µ–º–∞, –ø—Ä–æ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å –ø–æ–≤–µ–¥—ñ–Ω–∫—É –∑ `null` –∫–ª—é—á–µ–º. –ß–æ–º—É `Hashtable` –Ω–µ –¥–æ–∑–≤–æ–ª—è—î `null`, –∞ `ConcurrentHashMap` (–∑ Java 8) ‚Äî —Ç–∞–∫–æ–∂ –Ω—ñ?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> * **`Hashtable`** –Ω–µ –¥–æ–∑–≤–æ–ª—è—î `null` –∫–ª—é—á—ñ, –±–æ —Ü–µ –±—É–ª–æ –¥–∏–∑–∞–π–Ω–µ—Ä—Å—å–∫–∏–º —Ä—ñ—à–µ–Ω–Ω—è–º –∑ —Å–∞–º–æ–≥–æ –ø–æ—á–∞—Ç–∫—É. –ô–æ–≥–æ –º–µ—Ç–æ–¥ `put` –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –∫–ª—é—á –Ω–∞ `null` —ñ –∫–∏–¥–∞—î `NullPointerException`.
>
> * **`ConcurrentHashMap`** (—ñ –∑ Java 8, —ñ —Ä–∞–Ω—ñ—à–µ) —Ç–∞–∫–æ–∂ **–Ω–µ –¥–æ–∑–≤–æ–ª—è—î `null`** –∫–ª—é—á—ñ –∞–±–æ –∑–Ω–∞—á–µ–Ω–Ω—è. –ü—Ä–∏—á–∏–Ω–∞ —Ç—É—Ç —ñ–Ω—à–∞ —ñ –±—ñ–ª—å—à –æ–±“ë—Ä—É–Ω—Ç–æ–≤–∞–Ω–∞.
>
>     –£ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è `null` –∑ –º–µ—Ç–æ–¥—É `get(key)` –º–∞—î –±—É—Ç–∏ **–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–∏–º**.
>   * –Ø–∫—â–æ –± `ConcurrentHashMap` –¥–æ–∑–≤–æ–ª—è–≤ `null` –∑–Ω–∞—á–µ–Ω–Ω—è (`map.put("key", null)`), —Ç–æ `map.get("key")`, —â–æ –ø–æ–≤–µ—Ä–Ω—É–≤ `null`, –º—ñ–≥ –±–∏ –æ–∑–Ω–∞—á–∞—Ç–∏ –∞–±–æ "–∫–ª—é—á–∞ –Ω–µ–º–∞—î", –∞–±–æ "–∫–ª—é—á —î, –∞–ª–µ –π–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è `null`".
>
>     –£ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤—ñ–π –ø—Ä–æ–≥—Ä–∞–º—ñ, –ø–æ–∫–∏ –≤–∏ –±—É–¥–µ—Ç–µ —Ä–æ–±–∏—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —á–µ—Ä–µ–∑ `containsKey()`, —ñ–Ω—à–∏–π –ø–æ—Ç—ñ–∫ –º–æ–∂–µ –≤–∂–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –∫–ª—é—á. –¢–æ–º—É –¥–ª—è —É—Å—É–Ω–µ–Ω–Ω—è —Ü—ñ—î—ó **–Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—ñ**, —è–∫–∞ —î –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ—é –≤ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ, —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –≤–∏—Ä—ñ—à–∏–ª–∏ –∑–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ `null` –∫–ª—é—á—ñ —Ç–∞ –∑–Ω–∞—á–µ–Ω–Ω—è. –Ø–∫—â–æ `get(key)` –ø–æ–≤–µ—Ä—Ç–∞—î `null`, –≤–∏ –º–æ–∂–µ—Ç–µ –±—É—Ç–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ **—Ç–∞–∫–æ–≥–æ –∫–ª—é—á–∞ –Ω–µ–º–∞—î**.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–æ—è—Å–Ω–∏—Ç–∏, —á–æ–º—É –ø–µ–≤–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è API (—è–∫ –∑–∞–±–æ—Ä–æ–Ω–∞ `null`) —î –Ω–µ –≤–∏–ø–∞–¥–∫–æ–≤–∏–º–∏, –∞ —Å–ª—É–∂–∞—Ç—å –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –Ω–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—â–æ —É –≤–∞—Å —î `HashMap`, —ñ –≤–∞–º —Ä–∞–ø—Ç–æ–º –∑–Ω–∞–¥–æ–±–∏–ª–æ—Å—è –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –Ω–µ—é –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ. –©–æ –∫—Ä–∞—â–µ –∑—Ä–æ–±–∏—Ç–∏?

1. –ó–∞–º—ñ–Ω–∏—Ç–∏ —ó—ó –Ω–∞ `Hashtable`.
2. –û–±–µ—Ä–Ω—É—Ç–∏ —ó—ó –≤ `Collections.synchronizedMap`.
3. –ó–∞–º—ñ–Ω–∏—Ç–∏ —ó—ó –Ω–∞ `ConcurrentHashMap`.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–π–∫—Ä–∞—â–∏–º –≤–∏–±–æ—Ä–æ–º –±—É–¥–µ **–≤–∞—Ä—ñ–∞–Ω—Ç 3: –∑–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ `ConcurrentHashMap`**.
>
> * **–í–∞—Ä—ñ–∞–Ω—Ç 1 (`Hashtable`)**: –ü–æ–≥–∞–Ω–∏–π –≤–∏–±—ñ—Ä. –í–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å, –∞–ª–µ —Ü—ñ–Ω–æ—é –∑–Ω–∞—á–Ω–æ—ó –≤—Ç—Ä–∞—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–∞—Å—Ç–∞—Ä—ñ–ª–æ–≥–æ –∫–ª–∞—Å—É.
>
> * **–í–∞—Ä—ñ–∞–Ω—Ç 2 (`synchronizedMap`)**: –ö—Ä–∞—â–µ, –Ω—ñ–∂ `Hashtable`, –±–æ –≤–∏ –Ω–µ –≤–≤–æ–¥–∏—Ç–µ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–π –∫–ª–∞—Å. –û–¥–Ω–∞–∫, –≤—ñ–Ω –º–∞—î —Ç—ñ —Å–∞–º—ñ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é (–≥–ª–æ–±–∞–ª—å–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è) —Ç–∞ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ—é —ñ—Ç–µ—Ä–∞—Ü—ñ—î—é.
>
> * **–í–∞—Ä—ñ–∞–Ω—Ç 3 (`ConcurrentHashMap`)**:
>   * **–ù–∞–π–∫—Ä–∞—â–∏–π –≤–∏–±—ñ—Ä**. –í–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –∑–Ω–∞—á–Ω–æ –∫—Ä–∞—â—É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ç–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å –∑–∞–≤–¥—è–∫–∏ –¥—Ä—ñ–±–Ω–æ–≥—Ä–∞–Ω—É–ª—è—Ä–Ω–æ–º—É –±–ª–æ–∫—É–≤–∞–Ω–Ω—é.
>   * –ù–∞–¥–∞—î –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –∞—Ç–æ–º–∞—Ä–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, —è–∫—ñ —Ä–æ–±–ª—è—Ç—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∏–π –∫–æ–¥ –ø—Ä–æ—Å—Ç—ñ—à–∏–º.
>   * –ú–∞—î `fail-safe` —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∏.
>
> –ó–∞–≤–∂–¥–∏ —Å–ª—ñ–¥ –Ω–∞–¥–∞–≤–∞—Ç–∏ –ø–µ—Ä–µ–≤–∞–≥—É —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–º –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∏–º –∫–æ–ª–µ–∫—Ü—ñ—è–º, –∞ –Ω–µ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–º —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∏–º –∞–Ω–∞–ª–æ–≥–∞–º –∞–±–æ –æ–±–≥–æ—Ä—Ç–∫–∞–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü—Ä–∞–∫—Ç–∏—á–Ω–µ –≤–º—ñ–Ω–Ω—è –≤–∏–±—Ä–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—ó –∑–∞–¥–∞—á—ñ.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–µ `putAll()` –¥–ª—è `Hashtable` –±—É—Ç–∏ –Ω–µ–∞—Ç–æ–º–∞—Ä–Ω–∏–º? –ü–æ—è—Å–Ω—ñ—Ç—å. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù—ñ, `putAll()` –¥–ª—è `Hashtable` **—î –∞—Ç–æ–º–∞—Ä–Ω–∏–º**. –í–µ—Å—å –º–µ—Ç–æ–¥ —î `synchronized`.
>
> ```java
> // –í Hashtable
> public synchronized void putAll(Map<? extends K, ? extends V> t) {
>     for (Map.Entry<? extends K, ? extends V> e : t.entrySet()) {
>         put(e.getKey(), e.getValue());
>     }
> }
> ```
>
> –ó–∞–≤–¥—è–∫–∏ `synchronized` –Ω–∞ —Ä—ñ–≤–Ω—ñ –º–µ—Ç–æ–¥—É, –∂–æ–¥–µ–Ω —ñ–Ω—à–∏–π –ø–æ—Ç—ñ–∫ –Ω–µ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ `Hashtable`, –ø–æ–∫–∏ –æ–ø–µ—Ä–∞—Ü—ñ—è `putAll` –Ω–µ –±—É–¥–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞.
>
> **–ê–ª–µ —Ü–µ —ñ —î —ó—ó –≥–æ–ª–æ–≤–Ω–∏–º –Ω–µ–¥–æ–ª—ñ–∫–æ–º.**
> –Ø–∫—â–æ –≤–∏ –∫–æ–ø—ñ—é—î—Ç–µ –≤–µ–ª–∏–∫—É –º–∞–ø—É, –≤—Å—è `Hashtable` –±—É–¥–µ **–∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∞** –Ω–∞ –¥–æ–≤–≥–∏–π —á–∞—Å, —â–æ –∑—É–ø–∏–Ω–∏—Ç—å —Ä–æ–±–æ—Ç—É –≤—Å—ñ—Ö —ñ–Ω—à–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤, —è–∫—ñ —Ö–æ—á—É—Ç—å –∑ –Ω–µ—é –ø—Ä–∞—Ü—é–≤–∞—Ç–∏.
>
> –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ —Ü—å–æ–≥–æ, `putAll` –¥–ª—è `ConcurrentHashMap` –ø—Ä–∞—Ü—é—î —ñ–Ω–∞–∫—à–µ: –≤—ñ–Ω –Ω–µ –±–ª–æ–∫—É—î –≤—Å—é –º–∞–ø—É, –∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –≤–∏–∫–æ–Ω—É—î `put` –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞, –¥–µ –∫–æ–∂–Ω–∞ –æ–∫—Ä–µ–º–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è `put` —î –∞—Ç–æ–º–∞—Ä–Ω–æ—é, –∞–ª–µ –≤—Å—è `putAll` –≤ —Ü—ñ–ª–æ–º—É ‚Äî –Ω—ñ. –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –∫—Ä–∞—â—É –ø—Ä–æ–ø—É—Å–∫–Ω—É –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ `synchronized` –Ω–∞ —Ä—ñ–≤–Ω—ñ –º–µ—Ç–æ–¥—É –≥–∞—Ä–∞–Ω—Ç—É—î –∞—Ç–æ–º–∞—Ä–Ω—ñ—Å—Ç—å, –∞–ª–µ —Ü—ñ–Ω–æ—é –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º –∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é.*
