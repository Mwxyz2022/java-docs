---
layout: default
title: "HashMap —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ"
parent: "–ö–æ–ª–µ–∫—Ü—ñ—ó: HashMap"
grand_parent: "Java Core"
nav_order: 10
---

# HashMap —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `HashMap` –Ω–µ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º. –Ø–∫—â–æ –∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤ –∑–º—ñ–Ω—é—é—Ç—å `HashMap` –æ–¥–Ω–æ—á–∞—Å–Ω–æ –±–µ–∑ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó, —Ü–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ `race conditions`, –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö –∞–±–æ —ñ–Ω—à–∏—Ö –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–∏—Ö –Ω–∞—Å–ª—ñ–¥–∫—ñ–≤.

* –ø–æ–Ω—è—Ç—Ç—è: –ü–æ—Ç–æ–∫–æ–Ω–µ–±–µ–∑–ø–µ–∫–∞, `race condition`, `ConcurrentHashMap` (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞), `Collections.synchronizedMap()` (—Å—Ç–∞—Ä—ñ—à–∏–π —Å–ø–æ—Å—ñ–± —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó).

* –ø—Ä–∏–∫–ª–∞–¥–∏: –ü–∞—Ä–∞–ª–µ–ª—å–Ω–∞ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è `HashMap` –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª—É.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –î–ª—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `ConcurrentHashMap`, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î –≤–∏—Å–æ–∫—É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –∑–∞ —Ä–∞—Ö—É–Ω–æ–∫ —Å–µ–≥–º–µ–Ω—Ç–æ–≤–∞–Ω–∏—Ö –±–ª–æ–∫—É–≤–∞–Ω—å.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ü—Ä–æ–±–ª–µ–º–∏ `HashMap` —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ, `ConcurrentHashMap`.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**`HashMap`** ‚Äî —Ü–µ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É **`Map`**, —è–∫–∞ **–Ω–µ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é**. –Ø–∫—â–æ –∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤ –∑–º—ñ–Ω—é—é—Ç—å **`HashMap`** –æ–¥–Ω–æ—á–∞—Å–Ω–æ –±–µ–∑ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó, –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ **–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–∞**.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–Ø–∫—â–æ –∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤ –Ω–∞–º–∞–≥–∞—é—Ç—å—Å—è –æ–¥–Ω–æ—á–∞—Å–Ω–æ –ø–∏—Å–∞—Ç–∏ –∞–±–æ —á–∏—Ç–∞—Ç–∏ –≤ **`HashMap`** ‚Äî –º–æ–∂—É—Ç—å —Å—Ç–∞—Ç–∏—Å—è **–∑–º–∞–≥–∞–Ω–Ω—è –∑–∞ –¥–æ—Å—Ç—É–ø (race condition)**, —ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ —Ö–∞–æ—Ç–∏—á–Ω–∏–π. –¶–µ —è–∫ –¥–µ–∫—ñ–ª—å–∫–∞ —Ä—É–∫ —É –±–∞–Ω–∫—É –∑ –≤–∞—Ä–µ–Ω–Ω—è–º ‚Äî —â–æ—Å—å –ø—Ä–æ–ª–ª—î—Ç—å—Å—è.

---

## **üìä –í–∞—Ä—ñ–∞–Ω—Ç–∏ `Map` –¥–ª—è –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**

| –¢–∏–ø | –ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å | –ü—Ä–∏–º—ñ—Ç–∫–∏ |
| :---: | :---: | :---: |
| **`HashMap`** | ‚ùå –ù—ñ | –ü–æ—Ç–æ–∫–æ–Ω–µ–±–µ–∑–ø–µ—á–Ω–∞ |
| **`Collections.synchronizedMap(map)`** | ‚òëÔ∏è –ß–∞—Å—Ç–∫–æ–≤–∞ | –û–±–≥–æ—Ä—Ç–∞—î —ñ–Ω—à—É Map —ñ–∑ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—é —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—î—é |
| **`ConcurrentHashMap`** | ‚úÖ –¢–∞–∫ | –ü–æ–≤–Ω–∞ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ–∫–∞ —Ç–∞ –≤–∏—Å–æ–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å |
| **`Hashtable`** | ‚úÖ –¢–∞–∫ (—Å—Ç–∞—Ä–∞) | –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∏–π, –∞–ª–µ –º–µ–Ω—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

–£—è–≤–∏, —â–æ —Ç–∏ –∫–ª–∞–¥–µ—à –∫–Ω–∏–∂–∫–∏ –Ω–∞ –ø–æ–ª–∏—Ü—é, –∞ —Ç–≤—ñ–π –¥—Ä—É–≥ –≤ —Ü–µ–π –º–æ–º–µ–Ω—Ç —Ç–µ–∂ –ø–µ—Ä–µ—Å—Ç–∞–≤–ª—è—î –∫–Ω–∏–≥–∏ ‚Äî —á–µ—Ä–µ–∑ —Ö–∞–æ—Å –≤–∏ –≤ –∫—ñ–Ω—Ü—ñ –Ω–µ –∑–Ω–∞–π–¥–µ—Ç–µ –∂–æ–¥–Ω–æ—ó. **`HashMap`** ‚Äî —è–∫ —Ü—è –ø–æ–ª–∏—Ü—è: –±–µ–∑ —É–∑–≥–æ–¥–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –≤—Å–µ –∑–º—ñ—à–∞—î—Ç—å—Å—è

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

‚ùå **–ü—Ä–æ–±–ª–µ–º–Ω–∞ —Å–∏—Ç—É–∞—Ü—ñ—è –∑ HashMap:**

```java
Map<String, Integer> map = new HashMap<>();

Runnable task = () -> {
    for (int i = 0; i < 1000; i++) {
        map.put("key" + i, i);
    }
};

Thread t1 = new Thread(task);
Thread t2 = new Thread(task);
t1.start();
t2.start();
```

üîç **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –º–æ–∂–ª–∏–≤–∞ **–∫–æ—Ä—É–ø—Ü—ñ—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏** ‚Äî —ñ –Ω–∞–≤—ñ—Ç—å –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π —Ü–∏–∫–ª (`CPU 100%`).

‚úÖ **–ë–µ–∑–ø–µ—á–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**

```java
Map<String, Integer> map = new ConcurrentHashMap<>();
```

–ê–±–æ:

```java
Map<String, Integer> map = Collections.synchronizedMap(new HashMap<>());
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –í–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å | `HashMap` | `ConcurrentHashMap` | `Hashtable` |
| :---: | :---: | :---: | :---: |
| **–ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å** | ‚ùå –ù–µ–º–∞—î | ‚úÖ –¢–∞–∫ | ‚úÖ –¢–∞–∫ |
| **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å** | üîº –í–∏—Å–æ–∫–∞ (—Å–æ–ª–æ) | ‚úÖ –í–∏—Å–æ–∫–∞ (–º—É–ª—å—Ç–∏) | üîΩ –ù–∏–∑—å–∫–∞ (–≤—Å–µ –±–ª–æ–∫—É—î) |
| **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ `null` –∫–ª—é—á—ñ–≤** | ‚úÖ 1 –∫–ª—é—á | ‚ùå –ù—ñ | ‚ùå –ù—ñ |
| **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è** | ‚ùå –ù–µ–º–∞—î | ‚úÖ –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ —Å–µ–≥–º–µ–Ω—Ç–∏ | ‚úÖ –ú–µ—Ç–æ–¥ —Ä—ñ–≤–µ–Ω—å (–ø–æ–≤—ñ–ª—å–Ω–æ) |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**"HashMap ‚Äî –¥–ª—è —Å–∞–º–æ—Ç–Ω—å–æ–≥–æ, ConcurrentHashMap ‚Äî –¥–ª—è –∫–æ–º–ø–∞–Ω—ñ—ó."**

–∞–±–æ

**"Concurrent ‚Äî –Ω–µ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É—î, HashMap ‚Äî —Ö–∞–π –∂–∏–≤–µ —Ö–∞–æ—Å\!"**

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* **`HashMap`** **–Ω–µ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é** —ñ –Ω–µ –ø–æ–≤–∏–Ω–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—å –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω–æ–º—É –∫–æ–¥—ñ.
* –î–ª—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ:
  * **`ConcurrentHashMap`** ‚Äî –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π —ñ —Å—É—á–∞—Å–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç.
  * **`Collections.synchronizedMap(...)`** ‚Äî —Å—Ç–∞—Ä–∏–π, –º–µ–Ω—à –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç.
* –ß–∞—Å—Ç–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∞—Ö —á–µ—Ä–µ–∑ **–≤–∞–∂–ª–∏–≤—ñ—Å—Ç—å –ø–æ—Ç–æ–∫—ñ–≤ —Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó**.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Java Concurrency ‚Äî ConcurrentHashMap (Oracle)**](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ —î `HashMap` –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º (thread-safe)?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù—ñ, `HashMap` **–Ω–µ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º**.
>
> –Ø–∫—â–æ –∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤ –æ—Ç—Ä–∏–º—É—é—Ç—å –¥–æ—Å—Ç—É–ø –¥–æ –æ–¥–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ `HashMap` –æ–¥–Ω–æ—á–∞—Å–Ω–æ, —ñ –ø—Ä–∏–Ω–∞–π–º–Ω—ñ –æ–¥–∏–Ω –∑ –Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ –∑–º—ñ–Ω—é—î –º–∞–ø—É (—á–µ—Ä–µ–∑ `put`, `remove`, `clear` —Ç–æ—â–æ), —Ç–æ –∑–æ–≤–Ω—ñ—à–Ω—è **—Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —î –æ–±–æ–≤'—è–∑–∫–æ–≤–æ—é**.
>
> –ë–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó —Ç–∞–∫–∞ –≤–∑–∞—î–º–æ–¥—ñ—è –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏, –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö —ñ –Ω–∞–≤—ñ—Ç—å –¥–æ **–Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏—Ö —Ü–∏–∫–ª—ñ–≤** (—É —Å—Ç–∞—Ä–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö Java).

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**</h4>

–¶–µ —è–∫ –Ω–∞–º–∞–≥–∞—Ç–∏—Å—è –ø–∏—Å–∞—Ç–∏ –≤ –æ–¥–Ω–æ–º—É –∑–æ—à–∏—Ç—ñ –≤–¥–≤–æ—Ö –æ–¥–Ω–æ—á–∞—Å–Ω–æ. –í–∏ –º–æ–∂–µ—Ç–µ –∑–∞–≤–∞–∂–∞—Ç–∏ –æ–¥–∏–Ω –æ–¥–Ω–æ–º—É, –∑–∞–∫—Ä–µ—Å–ª—é–≤–∞—Ç–∏ –∑–∞–ø–∏—Å–∏ —ñ–Ω—à–æ–≥–æ, —ñ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ —Ç–µ–∫—Å—Ç —Å—Ç–∞–Ω–µ –Ω–µ—á–∏—Ç–∞–±–µ–ª—å–Ω–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–æ–≥–æ —Ñ–∞–∫—Ç—É –ø—Ä–æ `HashMap` ‚Äî –≤—ñ–Ω –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –≤–∏–∫–ª—é—á–Ω–æ –¥–ª—è –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –º–æ–∂–µ —Å—Ç–∞—Ç–∏—Å—è, —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `HashMap` —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –Ω–∏–∑–∫–∏ —Å–µ—Ä–π–æ–∑–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º:
>
> 1. **–°—Ç–∞–Ω –≥–æ–Ω–∏—Ç–≤–∏ (Race Condition):** –î–≤–∞ –ø–æ—Ç–æ–∫–∏ –º–æ–∂—É—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è, –∑–º—ñ–Ω–∏—Ç–∏ –π–æ–≥–æ —ñ –∑–∞–ø–∏—Å–∞—Ç–∏ –Ω–∞–∑–∞–¥. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –æ–¥–Ω–∞ –∑—ñ –∑–º—ñ–Ω –±—É–¥–µ –≤—Ç—Ä–∞—á–µ–Ω–∞. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—Ä–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞.
>
> 2. **–ü–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏:** –û–ø–µ—Ä–∞—Ü—ñ—ó, —è–∫-–æ—Ç `resize` (—Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ), –Ω–µ —î –∞—Ç–æ–º–∞—Ä–Ω–∏–º–∏. –Ø–∫—â–æ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –ø–æ—á–∏–Ω–∞—î `resize`, –∞ —ñ–Ω—à–∏–π –≤ —Ü–µ–π —á–∞—Å –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç, –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ –∑–≤'—è–∑–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É –ª–∞–Ω—Ü—é–∂–∫–∞—Ö –∫–æ–ª—ñ–∑—ñ–π) –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ø–æ—à–∫–æ–¥–∂–µ–Ω—ñ.
>
> 3. **–ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π —Ü–∏–∫–ª (Infinite Loop):** –¶–µ –≤—ñ–¥–æ–º–∞ –ø—Ä–æ–±–ª–µ–º–∞ –≤ **—Å—Ç–∞—Ä–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö Java (–¥–æ Java 8)**. –ü—ñ–¥ —á–∞—Å –æ–ø–µ—Ä–∞—Ü—ñ—ó `resize` —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –ª–∞–Ω—Ü—é–∂–æ–∫ –∫–æ–ª—ñ–∑—ñ–π –º—ñ–≥ "–∑–∞—Ü–∏–∫–ª–∏—Ç–∏—Å—è" —Å–∞–º –Ω–∞ —Å–µ–±–µ. –ü–æ–¥–∞–ª—å—à–∞ —Å–ø—Ä–æ–±–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `get()` –¥–ª—è —Ü—å–æ–≥–æ –∫–æ—à–∏–∫–∞ –ø—Ä–∏–∑–≤–æ–¥–∏–ª–∞ –¥–æ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª—É —ñ 100% –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞.
>
> 4. **–í—Ç—Ä–∞—Ç–∞ –¥–∞–Ω–∏—Ö:** –î–æ–¥–∞–Ω–∏–π –æ–¥–Ω–∏–º –ø–æ—Ç–æ–∫–æ–º –µ–ª–µ–º–µ–Ω—Ç –º–æ–∂–µ –±—É—Ç–∏ "–ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω–∏–π" –∞–±–æ –≤—Ç—Ä–∞—á–µ–Ω–∏–π –ø—ñ–¥ —á–∞—Å `resize`, —ñ–Ω—ñ—Ü—ñ–π–æ–≤–∞–Ω–æ–≥–æ —ñ–Ω—à–∏–º –ø–æ—Ç–æ–∫–æ–º.
>
> 5. **`ConcurrentModificationException`:** –ú–æ–∂–µ –±—É—Ç–∏ –∫–∏–Ω—É—Ç–æ, —è–∫—â–æ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ —ñ—Ç–µ—Ä—É—î, –∞ —ñ–Ω—à–∏–π –∑–º—ñ–Ω—é—î –º–∞–ø—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –Ω–µ–≥–∞—Ç–∏–≤–Ω–∏—Ö –Ω–∞—Å–ª—ñ–¥–∫—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–µ–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—ñ —ñ—Å–Ω—É—é—Ç—å –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ `HashMap`? –ù–∞–∑–≤—ñ—Ç—å —Ö–æ—á–∞ –± –¥–≤—ñ.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ü—Å–Ω—É—é—Ç—å –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å–ø–æ—Å–æ–±–∏ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—É `Map`:
>
> 1. **`ConcurrentHashMap` (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥):**
>     * –¶–µ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –∫–ª–∞—Å –∑ –ø–∞–∫–µ—Ç—É `java.util.concurrent`, —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –¥–ª—è –≤–∏—Å–æ–∫–æ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.
>     * –í—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–¥—Ä—ñ–±–Ω–æ–≥—Ä–∞–Ω—É–ª—è—Ä–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è** (–Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–æ—à–∏–∫—ñ–≤), —â–æ –¥–æ–∑–≤–æ–ª—è—î –±–∞–≥–∞—Ç—å–æ–º –ø–æ—Ç–æ–∫–∞–º –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –º–∞–ø–æ—é –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ.
>     * –ù–∞–¥–∞—î –∞—Ç–æ–º–∞—Ä–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, —è–∫-–æ—Ç `putIfAbsent`, `compute`.
>
> 2. **`Collections.synchronizedMap(new HashMap<>())`:**
>     * –¶–µ —Å—Ç–∞—Ç–∏—á–Ω–∏–π –º–µ—Ç–æ–¥-–æ–±–≥–æ—Ä—Ç–∫–∞, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–π "–≤–∏–¥" –∑–≤–∏—á–∞–π–Ω–æ—ó `HashMap`.
>     * **–Ø–∫ –ø—Ä–∞—Ü—é—î:** –ö–æ–∂–µ–Ω –º–µ—Ç–æ–¥ —Ü—ñ—î—ó –æ–±–≥–æ—Ä—Ç–∫–∏ (`get`, `put` —Ç–æ—â–æ) —î `synchronized`, —â–æ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **—î–¥–∏–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –Ω–∞ –≤–µ—Å—å –æ–±'—î–∫—Ç**.
>
> 3. **`Hashtable` (–∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–π –∫–ª–∞—Å):**
>     * –¶–µ —Å—Ç–∞—Ä–∞, `legacy` —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è, —è–∫–∞ —Ç–∞–∫–æ–∂ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é –∑–∞–≤–¥—è–∫–∏ `synchronized`-–º–µ—Ç–æ–¥–∞–º. –á—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –Ω–æ–≤–æ–º—É –∫–æ–¥—ñ **–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è**.
>
> –î–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –Ω–æ–≤–∏—Ö —Ä–æ–∑—Ä–æ–±–æ–∫ `ConcurrentHashMap` —î –Ω–∞–π–∫—Ä–∞—â–∏–º –≤–∏–±–æ—Ä–æ–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏—Ö —Ç–∞ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ –¥–ª—è `Map`.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —á–æ–º—É –ø–µ—Ä–µ–≤–∞–≥–∏ `ConcurrentHashMap` –Ω–∞–¥ `Collections.synchronizedMap`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `ConcurrentHashMap` —î –∑–Ω–∞—á–Ω–æ –∫—Ä–∞—â–∏–º –∑–∞ `synchronizedMap` —á–µ—Ä–µ–∑ –≤–∏—â—É **–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å** —Ç–∞ **–º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å**.
>
> * **–ú–µ—Ö–∞–Ω—ñ–∑–º –±–ª–æ–∫—É–≤–∞–Ω–Ω—è:**
>   * **`synchronizedMap`:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–æ–¥–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –Ω–∞ –≤—Å—é –º–∞–ø—É**. –£ –±—É–¥—å-—è–∫–∏–π –º–æ–º–µ–Ω—Ç —á–∞—Å—É —Ç—ñ–ª—å–∫–∏ **–æ–¥–∏–Ω** –ø–æ—Ç—ñ–∫ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫—É –æ–ø–µ—Ä–∞—Ü—ñ—é. –¶–µ —Å—Ç–≤–æ—Ä—é—î "–ø–ª—è—à–∫–æ–≤–µ –≥–æ—Ä–ª–æ".
>   * **`ConcurrentHashMap`:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–¥—Ä—ñ–±–Ω–æ–≥—Ä–∞–Ω—É–ª—è—Ä–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è**. –ë–ª–æ–∫—É—î—Ç—å—Å—è –Ω–µ –≤—Å—è –º–∞–ø–∞, –∞ –ª–∏—à–µ –æ–∫—Ä–µ–º–∏–π —ó—ó —Å–µ–≥–º–µ–Ω—Ç –∞–±–æ –∫–æ—à–∏–∫. –¶–µ –¥–æ–∑–≤–æ–ª—è—î **–±–∞–≥–∞—Ç—å–æ–º –ø–æ—Ç–æ–∫–∞–º** –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —á–∞—Å—Ç–∏–Ω–∞–º–∏ –º–∞–ø–∏ **–æ–¥–Ω–æ—á–∞—Å–Ω–æ**.
>
> * **–Ü—Ç–µ—Ä–∞—Ü—ñ—è:**
>   * –Ü—Ç–µ—Ä–∞—Ü—ñ—è –ø–æ `synchronizedMap` **–Ω–µ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é** —ñ –≤–∏–º–∞–≥–∞—î –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó. –Ü—Ç–µ—Ä–∞—Ç–æ—Ä —î **`fail-fast`**.
>   * –Ü—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è `ConcurrentHashMap` —î **`fail-safe`**. –í—ñ–Ω –Ω–µ –∫–∏–¥–∞—î `ConcurrentModificationException` —ñ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å—Ç–∞–Ω –º–∞–ø–∏ –Ω–∞ –ø–µ–≤–Ω–∏–π –º–æ–º–µ–Ω—Ç —á–∞—Å—É.
>
> * **–ê—Ç–æ–º–∞—Ä–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó:**
>   * `ConcurrentHashMap` –Ω–∞–¥–∞—î –ø–æ—Ç—É–∂–Ω—ñ –∞—Ç–æ–º–∞—Ä–Ω—ñ –º–µ—Ç–æ–¥–∏ ( `compute`, `merge`), —è–∫–∏—Ö –Ω–µ–º–∞—î —É `synchronizedMap`.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** `ConcurrentHashMap` —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –¥–ª—è –≤–∏—Å–æ–∫–æ–≥–æ –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º—É, —Ç–æ–¥—ñ —è–∫ `synchronizedMap` ‚Äî —Ü–µ –ø—Ä–æ—Å—Ç–µ, –∞–ª–µ –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –≥—Ä—É–±–∏–º (–æ–¥–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è) —Ç–∞ –¥—Ä—ñ–±–Ω–æ–≥—Ä–∞–Ω—É–ª—è—Ä–Ω–∏–º –±–ª–æ–∫—É–≤–∞–Ω–Ω—è–º —Ç–∞ –π–æ–≥–æ –≤–ø–ª–∏–≤—É –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ `HashMap`, –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó –∞–±–æ –æ–±–≥–æ—Ä—Ç–∫–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **—Ä—É—á–Ω–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó**, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `synchronized` –±–ª–æ–∫–∏ –∞–±–æ `Lock`-–∏ –∑ `java.util.concurrent`.
>
> **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `synchronized` –±–ª–æ–∫—É:**
>
> ```java
> public class ManualSyncExample {
>     private final Map<String, String> map = new HashMap<>();
>
>     public void putValue(String key, String value) {
>         // –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç—ñ –º–∞–ø–∏
>         synchronized (map) {
>             map.put(key, value);
>         }
>     }
>
>     public String getValue(String key) {
>         synchronized (map) {
>             return map.get(key);
>         }
>     }
>
>     // –Ü—Ç–µ—Ä–∞—Ü—ñ—è —Ç–∞–∫–æ–∂ –º–∞—î –±—É—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∞
>     public void printAll() {
>         synchronized (map) {
>             for (Map.Entry<String, String> entry : map.entrySet()) {
>                 // ...
>             }
>         }
>     }
> }
> ```
>
> **–ù–µ–¥–æ–ª—ñ–∫–∏ —Ü—å–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É:**
>
> * –í—ñ–Ω **—Å—Ö–∏–ª—å–Ω–∏–π –¥–æ –ø–æ–º–∏–ª–æ–∫**. –†–æ–∑—Ä–æ–±–Ω–∏–∫ –º–æ–∂–µ –∑–∞–±—É—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ —è–∫–∏–π—Å—å –±–ª–æ–∫ –∫–æ–¥—É.
> * –í—ñ–Ω –º–∞—î —Ç—ñ —Å–∞–º—ñ **–ø—Ä–æ–±–ª–µ–º–∏ –∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é**, —â–æ –π `synchronizedMap`, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –æ–¥–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –Ω–∞ –≤—Å—é –º–∞–ø—É.
> * –Ñ –±—ñ–ª—å—à –≥—Ä–æ–º—ñ–∑–¥–∫–∏–º.
>
> –¢–æ–º—É —Ü–µ–π –ø—ñ–¥—Ö—ñ–¥ –∑–∞–∑–≤–∏—á–∞–π –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è. –ö—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≥–æ—Ç–æ–≤—ñ, –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è, —è–∫-–æ—Ç `ConcurrentHashMap`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –±–∞–∑–æ–≤–∏—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –≤ Java —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –Ω–µ–¥–æ–ª—ñ–∫—ñ–≤ —Ä—É—á–Ω–æ–≥–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –±–ª–æ–∫—É–≤–∞–Ω–Ω—è–º–∏.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å –Ω–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ, —è–∫ —Å—Ç–∞–Ω –≥–æ–Ω–∏—Ç–≤–∏ (race condition) –º–æ–∂–µ –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ `HashMap` —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–°—Ç–∞–Ω –≥–æ–Ω–∏—Ç–≤–∏** –≤–∏–Ω–∏–∫–∞—î, –∫–æ–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–æ—ó –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ –¥—ñ–π –∫—ñ–ª—å–∫–æ—Ö –ø–æ—Ç–æ–∫—ñ–≤. –ö–ª–∞—Å–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ ‚Äî –æ–ø–µ—Ä–∞—Ü—ñ—è "–ø–µ—Ä–µ–≤—ñ—Ä-—ñ-–∑–º—ñ–Ω–∏" (check-then-act).
>
> **–ü—Ä–∏–∫–ª–∞–¥: –ª—ñ—á–∏–ª—å–Ω–∏–∫ —Å–ª—ñ–≤.**
>
> ```java
> public class WordCounter {
>     private Map<String, Integer> counts = new HashMap<>();
>
>     // –¶–µ–π –º–µ—Ç–æ–¥ –ù–ï —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º
>     public void increment(String word) {
>         Integer count = counts.get(word);
>         if (count == null) {
>             counts.put(word, 1);
>         } else {
>             counts.put(word, count + 1);
>         }
>     }
> }
> ```
>
> **–°—Ü–µ–Ω–∞—Ä—ñ–π —Å—Ç–∞–Ω—É –≥–æ–Ω–∏—Ç–≤–∏ (–¥–≤–∞ –ø–æ—Ç–æ–∫–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å `increment("hello")`):**
>
> 1. **–ü–æ—Ç—ñ–∫ –ê** –≤–∏–∫–ª–∏–∫–∞—î `counts.get("hello")` —ñ –æ—Ç—Ä–∏–º—É—î `null`.
> 2. **–ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—î—Ç—å—Å—è –Ω–∞ –ü–æ—Ç—ñ–∫ –ë.**
> 3. **–ü–æ—Ç—ñ–∫ –ë** –≤–∏–∫–ª–∏–∫–∞—î `counts.get("hello")` —ñ —Ç–∞–∫–æ–∂ –æ—Ç—Ä–∏–º—É—î `null`.
> 4. **–ü–æ—Ç—ñ–∫ –ë** –≤–∏–∫–æ–Ω—É—î `counts.put("hello", 1)`. –£ –º–∞–ø—ñ —Ç–µ–ø–µ—Ä `{"hello": 1}`.
> 5. **–ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –ü–æ—Ç–æ–∫—É –ê.**
> 6. –ü–æ—Ç—ñ–∫ –ê, —è–∫–∏–π –≤–∂–µ –ø—Ä–æ–π—à–æ–≤ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É `if (count == null)`, —Ç–∞–∫–æ–∂ –≤–∏–∫–æ–Ω—É—î `counts.put("hello", 1)`.
>
> **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö—ñ–Ω—Ü–µ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è "hello" –±—É–¥–µ `1`, —Ö–æ—á–∞ –º–∞–ª–æ –± –±—É—Ç–∏ `2`. **–û–¥–Ω–∞ –∑ —ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞—Ü—ñ–π –±—É–ª–∞ –≤—Ç—Ä–∞—á–µ–Ω–∞.**
>
> –î–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è —Ü—ñ—î—ó –ø—Ä–æ–±–ª–µ–º–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `ConcurrentHashMap` —Ç–∞ –π–æ–≥–æ –∞—Ç–æ–º–∞—Ä–Ω—ñ –º–µ—Ç–æ–¥–∏, —è–∫-–æ—Ç `compute`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–æ–¥ —ñ –∑–Ω–∞–π—Ç–∏ –≤ –Ω—å–æ–º—É –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π —Å—Ç–∞–Ω –≥–æ–Ω–∏—Ç–≤–∏.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `ConcurrentHashMap` –Ω–µ –¥–æ–∑–≤–æ–ª—è—î `null` –∫–ª—é—á—ñ —Ç–∞ –∑–Ω–∞—á–µ–Ω–Ω—è, —Ç–æ–¥—ñ —è–∫ `HashMap` –¥–æ–∑–≤–æ–ª—è—î? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ —Å–≤—ñ–¥–æ–º–µ –¥–∏–∑–∞–π–Ω–µ—Ä—Å—å–∫–µ —Ä—ñ—à–µ–Ω–Ω—è, –ø—Ä–∏–π–Ω—è—Ç–µ –¥–ª—è **—É—Å—É–Ω–µ–Ω–Ω—è –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—ñ** –≤ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.
>
> –í `ConcurrentHashMap` –º–µ—Ç–æ–¥ `get(key)` –ø–æ–≤–µ—Ä—Ç–∞—î `null` —Ç—ñ–ª—å–∫–∏ –≤ –æ–¥–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É: –∫–æ–ª–∏ **–∫–ª—é—á–∞ –Ω–µ —ñ—Å–Ω—É—î**.
>
> –Ø–∫—â–æ –± `ConcurrentHashMap` –¥–æ–∑–≤–æ–ª—è–≤ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ `null` —è–∫ –∑–Ω–∞—á–µ–Ω–Ω—è ( `map.put("key", null)`), —Ç–æ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è `null` –∑ `get("key")` —Å—Ç–∞–ª–æ –± **–Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–∏–º**. –í–æ–Ω–æ –º–æ–≥–ª–æ –± –æ–∑–Ω–∞—á–∞—Ç–∏:
>
> 1. –ö–ª—é—á–∞ –Ω–µ–º–∞—î.
> 2. –ö–ª—é—á —î, –∞–ª–µ –π–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è ‚Äî `null`.
> 3. –ö–ª—é—á –±—É–≤, –∞–ª–µ —ñ–Ω—à–∏–π –ø–æ—Ç—ñ–∫ –π–æ–≥–æ —â–æ–π–Ω–æ –≤–∏–¥–∞–ª–∏–≤.
>
> –£ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤—ñ–π –ø—Ä–æ–≥—Ä–∞–º—ñ, –ø–æ–∫–∏ –≤–∏ –±—É–¥–µ—Ç–µ —Ä–æ–±–∏—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —á–µ—Ä–µ–∑ `containsKey()`, —Å—Ç–∞–Ω –º–∞–ø–∏ –º–æ–∂–µ –∑–Ω–æ–≤—É –∑–º—ñ–Ω–∏—Ç–∏—Å—è.
>
> **–ó–∞–±–æ—Ä–æ–Ω–∏–≤—à–∏ `null` –∫–ª—é—á—ñ —Ç–∞ –∑–Ω–∞—á–µ–Ω–Ω—è**, —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –∑—Ä–æ–±–∏–ª–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É `get()` –∞–±—Å–æ–ª—é—Ç–Ω–æ **–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—é**: —è–∫—â–æ –≤—ñ–Ω –ø–æ–≤–µ—Ä–Ω—É–≤ `null`, –≤–∏ –º–æ–∂–µ—Ç–µ –±—É—Ç–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ç–∞–∫–æ–≥–æ –∫–ª—é—á–∞ –≤ –º–∞–ø—ñ –Ω–µ–º–∞—î (–∞–±–æ –Ω–µ –±—É–ª–æ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤–∏–∫–ª–∏–∫—É). –¶–µ –∑–Ω–∞—á–Ω–æ —Å–ø—Ä–æ—â—É—î –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –Ω–∞–¥—ñ–π–Ω–æ–≥–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –∫–æ–¥—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —á–æ–º—É –ø–µ–≤–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è API —ñ—Å–Ω—É—é—Ç—å –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –Ω–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ —Ç–∞ —É—Å—É–Ω–µ–Ω–Ω—è –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—ñ –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ "–Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π —Ü–∏–∫–ª" —É `HashMap` —ñ —á–æ–º—É –≤—ñ–Ω –≤–∏–Ω–∏–∫–∞–≤ —É —Å—Ç–∞—Ä–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö Java? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π —Ü–∏–∫–ª** ‚Äî —Ü–µ —Å–µ—Ä–π–æ–∑–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞, —è–∫–∞ –º–æ–≥–ª–∞ –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ –≤ `HashMap` —É –≤–µ—Ä—Å—ñ—è—Ö **Java –¥–æ 8** –ø—Ä–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ–º—É –¥–æ—Å—Ç—É–ø—ñ –∫—ñ–ª—å–∫–æ—Ö –ø–æ—Ç–æ–∫—ñ–≤ –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó.
>
> **–ü—Ä–∏—á–∏–Ω–∞:**
> –ü—Ä–æ–±–ª–µ–º–∞ –≤–∏–Ω–∏–∫–∞–ª–∞ –ø—ñ–¥ —á–∞—Å –æ–ø–µ—Ä–∞—Ü—ñ—ó **`resize`**. –ö–æ–ª–∏ –∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –Ω–∞–º–∞–≥–∞–ª–∏—Å—è –≤–∏–∫–æ–Ω–∞—Ç–∏ —Ä–µ—Å–∞–π–∑–∏–Ω–≥, –≤–æ–Ω–∏ –º–æ–≥–ª–∏ –ø–æ—à–∫–æ–¥–∏—Ç–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–∏—Ö, –∞ —Å–∞–º–µ ‚Äî **–∑–≤'—è–∑–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫** —É –æ–¥–Ω–æ–º—É –∑ –∫–æ—à–∏–∫—ñ–≤.
>
> –ß–µ—Ä–µ–∑ —Å—Ç–∞–Ω –≥–æ–Ω–∏—Ç–≤–∏ –ø—ñ–¥ —á–∞—Å –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –≤—É–∑–ª—ñ–≤ —É –Ω–æ–≤—É —Ç–∞–±–ª–∏—Ü—é, –ø–æ—Å–∏–ª–∞–Ω–Ω—è `next` —É –≤—É–∑–ª–∞—Ö –º–æ–≥–ª–∏ –±—É—Ç–∏ –∑–º—ñ–Ω–µ–Ω—ñ —Ç–∞–∫–∏–º —á–∏–Ω–æ–º, —â–æ —É—Ç–≤–æ—Ä—é–≤–∞–≤—Å—è **—Ü–∏–∫–ª**. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—É–∑–æ–ª –ê –ø–æ—Å–∏–ª–∞–≤—Å—è –Ω–∞ –ë, –∞ –≤—É–∑–æ–ª –ë ‚Äî –Ω–∞–∑–∞–¥ –Ω–∞ –ê.
>
> **–ù–∞—Å–ª—ñ–¥–∫–∏:**
> –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ, –±—É–¥—å-—è–∫–∞ —Å–ø—Ä–æ–±–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `get(key)` –¥–ª—è –∫–ª—é—á–∞, —â–æ –ø–æ—Ç—Ä–∞–ø–ª—è—î –≤ —Ü–µ–π –ø–æ—à–∫–æ–¥–∂–µ–Ω–∏–π –∫–æ—à–∏–∫, –ø—Ä–∏–∑–≤–æ–¥–∏–ª–∞ –¥–æ —Ç–æ–≥–æ, —â–æ `HashMap` –ø–æ—á–∏–Ω–∞–≤ **–Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ —Ö–æ–¥–∏—Ç–∏ –ø–æ —Ü—å–æ–º—É —Ü–∏–∫–ª—ñ—á–Ω–æ–º—É –∑–≤'—è–∑–∞–Ω–æ–º—É —Å–ø–∏—Å–∫—É**, –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—á–∏ –ø—Ä–æ—Ü–µ—Å–æ—Ä –Ω–∞ 100%.
>
> –£ Java 8 —Ü—è –ø—Ä–æ–±–ª–µ–º–∞ –±—É–ª–∞ –∑–Ω–∞—á–Ω–æ—é –º—ñ—Ä–æ—é –≤–∏—Ä—ñ—à–µ–Ω–∞ –∑–∞–≤–¥—è–∫–∏ –∑–º—ñ–Ω–∞–º –≤ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ `resize` —Ç–∞ –ø–µ—Ä–µ—Ö–æ–¥—É –¥–æ –¥–µ—Ä–µ–≤ –ø—Ä–∏ –≤–µ–ª–∏–∫–∏—Ö –∫–æ–ª—ñ–∑—ñ—è—Ö.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –ø—Ä–æ –≤—ñ–¥–æ–º—ñ —ñ—Å—Ç–æ—Ä–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ –±–∞–≥–∏ –≤ JDK, —â–æ —Å–≤—ñ–¥—á–∏—Ç—å –ø—Ä–æ –≥–ª–∏–±–æ–∫–∏–π —ñ–Ω—Ç–µ—Ä–µ—Å –¥–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ `Hashtable`, `Collections.synchronizedMap` —Ç–∞ `ConcurrentHashMap` –∑–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **1. `Hashtable` —Ç–∞ `Collections.synchronizedMap`:**
> *–ú–∞—é—Ç—å **–ø—Ä–∞–∫—Ç–∏—á–Ω–æ –æ–¥–Ω–∞–∫–æ–≤—É** (–Ω–∏–∑—å–∫—É) –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —É –≤–∏—Å–æ–∫–æ–Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.
>
> * –û–±–∏–¥–≤–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å **—î–¥–∏–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è (lock) –Ω–∞ –≤–µ—Å—å –æ–±'—î–∫—Ç**. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–æ–Ω–∏ –º–∞—é—Ç—å –¥—É–∂–µ **–Ω–∏–∑—å–∫–∏–π —Ä—ñ–≤–µ–Ω—å –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º—É**. –ü–æ—Ç–æ–∫–∏ "—à–∏–∫—É—é—Ç—å—Å—è –≤ —á–µ—Ä–≥—É", —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø.
>
> **2. `ConcurrentHashMap`:**
> ***–ó–Ω–∞—á–Ω–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—à–∏–π**.
>
> * –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–¥—Ä—ñ–±–Ω–æ–≥—Ä–∞–Ω—É–ª—è—Ä–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è** (–Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–æ—à–∏–∫—ñ–≤), —â–æ –¥–æ–∑–≤–æ–ª—è—î –≤–∏—Å–æ–∫–∏–π —Ä—ñ–≤–µ–Ω—å –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º—É. –ë–∞–≥–∞—Ç–æ –ø–æ—Ç–æ–∫—ñ–≤ –º–æ–∂—É—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –Ω–∏–º –æ–¥–Ω–æ—á–∞—Å–Ω–æ.
> * –û–ø–µ—Ä–∞—Ü—ñ—ó —á–∏—Ç–∞–Ω–Ω—è —î –Ω–µ–±–ª–æ–∫—É—é—á–∏–º–∏, —â–æ —â–µ –±—ñ–ª—å—à–µ –ø—ñ–¥–≤–∏—â—É—î –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —É —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö "read-mostly".
>
> **–ó–∞–≥–∞–ª—å–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ (–≤—ñ–¥ –Ω–∞–π–≥—ñ—Ä—à–æ—ó –¥–æ –Ω–∞–π–∫—Ä–∞—â–æ—ó):**
> `Hashtable` ‚âà `synchronizedMap` **<<** `ConcurrentHashMap`
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `ConcurrentHashMap` —î –±–µ–∑–∑–∞–ø–µ—Ä–µ—á–Ω–∏–º –≤–∏–±–æ—Ä–æ–º –¥–ª—è –±—É–¥—å-—è–∫–æ–≥–æ –Ω–æ–≤–æ–≥–æ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –∫–æ–¥—É, —â–æ –≤–∏–º–∞–≥–∞—î –≤–∏—Å–æ–∫–æ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ß—ñ—Ç–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —ñ—î—Ä–∞—Ä—Ö—ñ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –¥–ª—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏—Ö –º–∞–ø.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—â–æ —É –≤–∞—Å —î `HashMap`, —á–∏ —î —Å–µ–Ω—Å —ñ—Ç–µ—Ä—É–≤–∞—Ç–∏ –ø–æ –Ω—å–æ–º—É –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ, —è–∫—â–æ –≤—Å—ñ –ø–æ—Ç–æ–∫–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å **—Ç—ñ–ª—å–∫–∏ —á–∏—Ç–∞–Ω–Ω—è**?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–µ—Ö–Ω—ñ—á–Ω–æ**, —è–∫—â–æ –≤—Å—ñ –ø–æ—Ç–æ–∫–∏ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –≤–∏–∫–æ–Ω—É—é—Ç—å **—Ç—ñ–ª—å–∫–∏ —á–∏—Ç–∞–Ω–Ω—è** —ñ –º–∞–ø–∞ –Ω–µ –±—É–¥–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è **–Ω—ñ–∫–æ–ª–∏** –ø—ñ—Å–ª—è —ó—ó —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ "–ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó", —Ç–æ —Ü–µ **–±–µ–∑–ø–µ—á–Ω–æ**. –í–∏ –Ω–µ –æ—Ç—Ä–∏–º–∞—î—Ç–µ `ConcurrentModificationException` —á–∏ –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö.
>
> **–û–¥–Ω–∞–∫ —Ç–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ —î –∫—Ä–∏—Ö–∫–∏–º —ñ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è.**
>
> **–†–∏–∑–∏–∫–∏:**
>
> 1. **–ü—Ä–æ–±–ª–µ–º–∞ –≤–∏–¥–∏–º–æ—Å—Ç—ñ (Visibility):** –Ø–∫—â–æ –º–∞–ø–∞ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —Ç–∞ –∑–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º—É –ø–æ—Ç–æ—Ü—ñ, –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ —ñ–Ω—à–∏—Ö, –Ω–µ–º–∞—î –≥–∞—Ä–∞–Ω—Ç—ñ—ó (–±–µ–∑ –Ω–∞–ª–µ–∂–Ω–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∞–±–æ `volatile`), —â–æ —ñ–Ω—à—ñ –ø–æ—Ç–æ–∫–∏ **–ø–æ–±–∞—á–∞—Ç—å** –æ—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏. –û–¥–∏–Ω –ø–æ—Ç—ñ–∫ –º–æ–∂–µ –±–∞—á–∏—Ç–∏ –º–∞–ø—É —á–∞—Å—Ç–∫–æ–≤–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–æ—é –∞–±–æ –≤–∑–∞–≥–∞–ª—ñ –ø–æ—Ä–æ–∂–Ω—å–æ—é.
>
> 2. **–õ–∞–º–∫—ñ—Å—Ç—å –¥–∏–∑–∞–π–Ω—É:** –Ø–∫—â–æ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É —Ö—Ç–æ—Å—å –¥–æ–¥–∞—Å—Ç—å —É –∫–æ–¥ –Ω–∞–≤—ñ—Ç—å –æ–¥–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é –∑–∞–ø–∏—Å—É, –≤—Å—è —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–Ω–µ –Ω–µ–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é.
>
> **–ö—Ä–∞—â–µ —Ä—ñ—à–µ–Ω–Ω—è:**
>
> –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞–ø—É, –∑–∞–ø–æ–≤–Ω–∏—Ç–∏ —ó—ó, –∞ –ø–æ—Ç—ñ–º –∑—Ä–æ–±–∏—Ç–∏ —ó—ó **–Ω–µ–∑–º—ñ–Ω–Ω–æ—é (—ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—é)** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Collections.unmodifiableMap()`. –Ü–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º–∏ "–∑ –∫–æ—Ä–æ–±–∫–∏", —ñ –¥—ñ–ª–∏—Ç–∏—Å—è –Ω–∏–º–∏ –º—ñ–∂ –ø–æ—Ç–æ–∫–∞–º–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ –±–µ–∑–ø–µ—á–Ω–æ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –Ω–µ —Ç—ñ–ª—å–∫–∏ –ø—Ä–æ `race condition`, –∞ –π –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º–∏ **–≤–∏–¥–∏–º–æ—Å—Ç—ñ –∑–º—ñ–Ω (visibility)** –≤ –º–æ–¥–µ–ª—ñ –ø–∞–º'—è—Ç—ñ Java.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —â–æ —Ç–∞–∫–µ –∞—Ç–æ–º–∞—Ä–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó `compute`, `merge` –≤ `ConcurrentHashMap` —ñ —è–∫ –≤–æ–Ω–∏ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å —É–Ω–∏–∫–Ω—É—Ç–∏ `synchronized` –±–ª–æ–∫—ñ–≤. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –º–µ—Ç–æ–¥–∏ –∑ Java 8, —è–∫—ñ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó "–ø–µ—Ä–µ–≤—ñ—Ä-—ñ-–∑–º—ñ–Ω–∏" **–∞—Ç–æ–º–∞—Ä–Ω–æ**, –Ω–µ –≤–∏–º–∞–≥–∞—é—á–∏ –≤—ñ–¥ –∫–ª—ñ—î–Ω—Ç–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –±–ª–æ–∫—É–≤–∞–Ω—å.
>
> * **`compute(key, remappingFunction)`:**
>   * –ü—Ä–∏–π–º–∞—î –∫–ª—é—á —ñ —Ñ—É–Ω–∫—Ü—ñ—é. –§—É–Ω–∫—Ü—ñ—è –æ—Ç—Ä–∏–º—É—î –∫–ª—é—á —Ç–∞ –ø–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è —ñ **–æ–±—á–∏—Å–ª—é—î –Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è**. –¶—è –æ–ø–µ—Ä–∞—Ü—ñ—è —î –∞—Ç–æ–º–∞—Ä–Ω–æ—é.
>   * –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤:
>         `map.compute("word", (k, v) -> v == null ? 1 : v + 1);`
>
> * **`merge(key, value, remappingFunction)`:**
>   * –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è "–æ–±'—î–¥–Ω–∞–Ω–Ω—è" –Ω–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ —ñ—Å–Ω—É—é—á–∏–º.
>   * –Ø–∫—â–æ –∫–ª—é—á–∞ –Ω–µ–º–∞—î, –¥–æ–¥–∞—î—Ç—å—Å—è `value`.
>   * –Ø–∫—â–æ –∫–ª—é—á —î, –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è —Ñ—É–Ω–∫—Ü—ñ—è –¥–æ **—Å—Ç–∞—Ä–æ–≥–æ —ñ –Ω–æ–≤–æ–≥–æ** –∑–Ω–∞—á–µ–Ω—å, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
>   * –¢–∞–∫–æ–∂ –∑—Ä—É—á–Ω–æ –¥–ª—è –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤: `map.merge("word", 1, Integer::sum);`
>
> **–Ø–∫ –≤–æ–Ω–∏ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å:**
> –í–æ–Ω–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å —ñ–Ω–∫–∞–ø—Å—É–ª—é–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –∑–º—ñ–Ω–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –æ–¥–Ω–æ–≥–æ –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É. –¶–µ —É—Å—É–≤–∞—î –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –¥–ª—è –∫–ª—ñ—î–Ω—Ç–∞ –ø–∏—Å–∞—Ç–∏ —Ç–∞–∫–∏–π –∫–æ–¥:
>
> ```java
> synchronized (map) {
>     Integer count = map.get("word");
>     if (count == null) map.put("word", 1);
>     else map.put("word", count + 1);
> }
> ```
>
> –ú–µ—Ç–æ–¥–∏ `compute` —Ç–∞ `merge` —Ä–æ–±–ª—è—Ç—å —Ç–µ –∂ —Å–∞–º–µ, –∞–ª–µ –∑–Ω–∞—á–Ω–æ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–µ (–∑ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è–º –Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–æ—à–∏–∫–∞) —ñ –±—ñ–ª—å—à –≤–∏—Ä–∞–∑–Ω–æ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ API `ConcurrentHashMap` —Ç–∞ –π–æ–≥–æ –ø–µ—Ä–µ–≤–∞–≥ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–Ω—è —á–∏—Å—Ç–æ–≥–æ —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –∫–æ–¥—É.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–π —Ä–æ–∑–º—ñ—Ä `ConcurrentHashMap`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> * –ú–µ—Ç–æ–¥ `size()` –∑–∞–∑–≤–∏—á–∞–π –ø–æ–≤–µ—Ä—Ç–∞—î **–æ—Ü—ñ–Ω–∫—É**, –∞ –Ω–µ —Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –Ω–µ –±–ª–æ–∫—É—î –≤—Å—é –º–∞–ø—É –ø—ñ–¥ —á–∞—Å –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É.
>
> * –û–¥–Ω–∞–∫ `ConcurrentHashMap` –º–∞—î –º–µ—Ç–æ–¥ **`mappingCount()`**, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î **`long`** —ñ —î –±—ñ–ª—å—à –Ω–∞–¥—ñ–π–Ω–∏–º –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É, —Ö–æ—á–∞ —Ç–∞–∫–æ–∂ –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î –∞–±—Å–æ–ª—é—Ç–Ω–æ—ó —Ç–æ—á–Ω–æ—Å—Ç—ñ –ø—ñ–¥ —á–∞—Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∏—Ö –∑–º—ñ–Ω.
>
> **–Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ—á–Ω–∏–π –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–π —Ä–æ–∑–º—ñ—Ä?**
>
> –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω –∞–±—Å–æ–ª—é—Ç–Ω–æ —Ç–æ—á–Ω–∏–π —Ä–æ–∑–º—ñ—Ä, —Ü–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É –º–∞–ø–∞ –Ω–µ –ø–æ–≤–∏–Ω–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è. –¶–µ –π–¥–µ –≤—Ä–æ–∑—Ä—ñ–∑ —ñ–∑ —Å–∞–º–æ—é —ñ–¥–µ—î—é `ConcurrentHashMap`.
>
> **–¢–µ–æ—Ä–µ—Ç–∏—á–Ω–æ**, —â–æ–± —Ü–µ –∑—Ä–æ–±–∏—Ç–∏, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –± –∑–∞–±–ª–æ–∫—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –º–∞–ø–∏ –¥–ª—è –≤—Å—ñ—Ö –ø–æ—Ç–æ–∫—ñ–≤, —â–æ —Ä—É–π–Ω—É—î –≤—Å—ñ —ó—ó –ø–µ—Ä–µ–≤–∞–≥–∏.
>
> –í —Ä–µ–∞–ª—å–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö —Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è `size()` –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—ó –º–∞–ø–∏ —Ä—ñ–¥–∫–æ –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–µ. –Ø–∫—â–æ —Ü–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ, –º–æ–∂–ª–∏–≤–æ, `ConcurrentHashMap` –Ω–µ —î –ø—Ä–∞–≤–∏–ª—å–Ω–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é –¥–ª—è –≤–∞—à–æ—ó –∑–∞–¥–∞—á—ñ, –∞–±–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∑–æ–≤–Ω—ñ—à–Ω—é –ª–æ–≥—ñ–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º `AtomicLong`), —è–∫–∞ –±—É–¥–µ –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ —Ä–æ–∑–º—ñ—Ä.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–º–ø—Ä–æ–º—ñ—Å—ñ–≤ —É –¥–∏–∑–∞–π–Ω—ñ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π, –∑–æ–∫—Ä–µ–º–∞, –º—ñ–∂ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é —Ç–∞ —Å–ª–∞–±–∫–æ—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—é.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `Hashtable` —É—Å–ø–∞–¥–∫–æ–≤—É—î –≤—ñ–¥ `Dictionary`, –∞ –Ω–µ –≤—ñ–¥ `AbstractMap`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –ø–æ–≤'—è–∑–∞–Ω–æ –∑ **—ñ—Å—Ç–æ—Ä—ñ—î—é —Ä–æ–∑–≤–∏—Ç–∫—É Java**.
>
> * `Dictionary` —Ç–∞ `Hashtable` —ñ—Å–Ω—É—é—Ç—å —É Java –∑ **—Å–∞–º–æ—ó –ø–µ—Ä—à–æ—ó –≤–µ—Ä—Å—ñ—ó (JDK 1.0)**. –£ —Ç–æ–π —á–∞—Å —î–¥–∏–Ω–æ–≥–æ `Collections Framework` —â–µ –Ω–µ —ñ—Å–Ω—É–≤–∞–ª–æ. `Dictionary` –±—É–≤ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–º –∫–ª–∞—Å–æ–º, —â–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É "–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è".
>
> * **Java Collections Framework** (–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ `Map`, `List`, `Set` —Ç–∞ –∫–ª–∞—Å–∞–º–∏ —Ç–∏–ø—É `AbstractMap`) –±—É–≤ –¥–æ–¥–∞–Ω–∏–π –∑–Ω–∞—á–Ω–æ –ø—ñ–∑–Ω—ñ—à–µ ‚Äî —É **Java 1.2**.
>
> * –©–æ–± –Ω–µ "–ª–∞–º–∞—Ç–∏" —ñ—Å–Ω—É—é—á–∏–π –∫–æ–¥, —è–∫–∏–π –ø–æ–∫–ª–∞–¥–∞–≤—Å—è –Ω–∞ `Hashtable`, –π–æ–≥–æ –≤–∏—Ä—ñ—à–∏–ª–∏ –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—É–≤–∞—Ç–∏ –∑ –Ω—É–ª—è, –∞ **"–∞–¥–∞–ø—Ç—É–≤–∞—Ç–∏"** –¥–æ –Ω–æ–≤–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É.
>
>     `public class Hashtable<K,V> extends Dictionary<K,V> implements Map<K,V>, ...`
>
> –í—ñ–Ω –∑–±–µ—Ä—ñ–≥ —Å–≤–æ—î —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è –≤—ñ–¥ `Dictionary` –¥–ª—è –∑–≤–æ—Ä–æ—Ç–Ω–æ—ó —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ, –∞–ª–µ –ø—Ä–∏ —Ü—å–æ–º—É –ø–æ—á–∞–≤ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ –Ω–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Map`. `HashMap` –∂–µ –±—É–≤ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –≤–∂–µ —è–∫ —á–∞—Å—Ç–∏–Ω–∞ –Ω–æ–≤–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É —ñ –æ–¥—Ä–∞–∑—É —É—Å–ø–∞–¥–∫–æ–≤—É–≤–∞–≤ –≤—ñ–¥ `AbstractMap`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó JDK —Ç–∞ –µ–≤–æ–ª—é—Ü—ñ—ó Collections Framework.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, –≤–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –≤ –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ. –ß–∏ —î —Ö–æ—á —è–∫–∞—Å—å –ø—Ä–∏—á–∏–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `Hashtable` –∑–∞–º—ñ—Å—Ç—å `HashMap`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù—ñ, –≤ –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ **–Ω–µ–º–∞—î –∂–æ–¥–Ω–æ—ó –æ–±“ë—Ä—É–Ω—Ç–æ–≤–∞–Ω–æ—ó –ø—Ä–∏—á–∏–Ω–∏** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `Hashtable` –∑–∞–º—ñ—Å—Ç—å `HashMap`.
>
> * `HashMap` –±—É–¥–µ **—à–≤–∏–¥—à–∏–º**, –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–µ –º–∞—î –Ω–∞–∫–ª–∞–¥–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é.
> * `HashMap` —î –±—ñ–ª—å—à **–≥–Ω—É—á–∫–∏–º**, –æ—Å–∫—ñ–ª—å–∫–∏ –¥–æ–∑–≤–æ–ª—è—î `null` –∫–ª—é—á—ñ —Ç–∞ –∑–Ω–∞—á–µ–Ω–Ω—è.
> * `HashMap` —î —Å—É—á–∞—Å–Ω–∏–º –∫–ª–∞—Å–æ–º, —è–∫–∏–π –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –¥–∏–∑–∞–π–Ω—É —Ä–µ—à—Ç–∏ Collections Framework.
>
> –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `Hashtable` –≤ –Ω–æ–≤–æ–º—É –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É –∫–æ–¥—ñ –±—É–ª–æ –± –ø—Ä–æ—Å—Ç–æ –Ω–µ–≤–∏–ø—Ä–∞–≤–¥–∞–Ω–∏–º –∑–Ω–∏–∂–µ–Ω–Ω—è–º –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –∑–∞—Å—Ç–∞—Ä—ñ–ª–æ–≥–æ API.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ß—ñ—Ç–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ `Hashtable` —î `legacy` —ñ –π–æ–≥–æ –Ω–µ —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤ –Ω–æ–≤–æ–º—É –∫–æ–¥—ñ –∑–∞ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –≤–∞–≥–æ–º–∏—Ö –ø—Ä–∏—á–∏–Ω.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—â–æ `Collections.synchronizedMap()` —Ç–∞–∫–∏–π –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π, —á–æ–º—É –≤—ñ–Ω —ñ—Å–Ω—É—î? –ö–æ–ª–∏ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–ø—Ä–∞–≤–¥–∞–Ω–∏–º? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `Collections.synchronizedMap()` —ñ—Å–Ω—É—î –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è **–ø—Ä–æ—Å—Ç–æ–≥–æ —Å–ø–æ—Å–æ–±—É** –∑—Ä–æ–±–∏—Ç–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é **–±—É–¥—å-—è–∫—É** —ñ—Å–Ω—É—é—á—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é `Map`, –∞ –Ω–µ —Ç—ñ–ª—å–∫–∏ `HashMap`.
>
> **–ö–æ–ª–∏ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–ø—Ä–∞–≤–¥–∞–Ω–∏–º:**
>
> 1. **–†–æ–±–æ—Ç–∞ –∑ —ñ—Å–Ω—É—é—á–æ—é –∞–±–æ —Å—Ç–æ—Ä–æ–Ω–Ω—å–æ—é –º–∞–ø–æ—é:** –£ –≤–∞—Å –º–æ–∂–µ –±—É—Ç–∏ –º–µ—Ç–æ–¥, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é `Map` –∑—ñ —Å—Ç–æ—Ä–æ–Ω–Ω—å–æ—ó –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏, —ñ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —à–≤–∏–¥–∫–æ –∑—Ä–æ–±–∏—Ç–∏ —ó—ó –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é, –Ω–µ —Å—Ç–≤–æ—Ä—é—é—á–∏ –Ω–æ–≤—É –º–∞–ø—É —ñ –Ω–µ –∫–æ–ø—ñ—é—é—á–∏ –¥–∞–Ω—ñ.
>
> 2. **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–æ—Ä—è–¥–∫—É:** –í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∞ –º–∞–ø–∞, —è–∫–∞ –∑–±–µ—Ä—ñ–≥–∞—î **–ø–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏**. `ConcurrentHashMap` —Ü—å–æ–≥–æ –Ω–µ —Ä–æ–±–∏—Ç—å. –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É `Collections.synchronizedMap(new LinkedHashMap<>())` —î –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–º —Ä—ñ—à–µ–Ω–Ω—è–º. –•–æ—á–∞ –≤–æ–Ω–æ —ñ –Ω–µ –±—É–¥–µ –¥—É–∂–µ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–º, –≤–æ–Ω–æ –≤–∏—Ä—ñ—à—É—î –ø–æ—Å—Ç–∞–≤–ª–µ–Ω—É –∑–∞–¥–∞—á—É.
>
> 3. **–ù–∏–∑—å–∫–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü—ñ—è:** –£ –∑–∞—Å—Ç–æ—Å—É–Ω–∫–∞—Ö –∑ –¥—É–∂–µ –Ω–∏–∑—å–∫–∏–º —Ä—ñ–≤–Ω–µ–º –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü—ñ—ó (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–∏ –∑–º—ñ–Ω–∏ –≤—ñ–¥–±—É–≤–∞—é—Ç—å—Å—è –¥—É–∂–µ —Ä—ñ–¥–∫–æ), –ø–∞–¥—ñ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –≤—ñ–¥ `synchronizedMap` –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ—Å—É—Ç—Ç—î–≤–∏–º, —ñ –π–æ–≥–æ –ø—Ä–æ—Å—Ç–æ—Ç–∞ –º–æ–∂–µ –±—É—Ç–∏ –ø–µ—Ä–µ–≤–∞–≥–æ—é.
>
> –û–¥–Ω–∞–∫, —è–∫—â–æ –≤–∏ –ø—Ä–æ–µ–∫—Ç—É—î—Ç–µ —Å–∏—Å—Ç–µ–º—É –∑ –Ω—É–ª—è —ñ –æ—á—ñ–∫—É—î—Ç–µ –≤–∏—Å–æ–∫—É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü—ñ—é, `ConcurrentHashMap` (–∞–±–æ `ConcurrentSkipListMap` –¥–ª—è —Å–æ—Ä—Ç–æ–≤–∞–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫—É) –º–∞–π–∂–µ –∑–∞–≤–∂–¥–∏ –±—É–¥–µ –∫—Ä–∞—â–∏–º –≤–∏–±–æ—Ä–æ–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ –Ω—ñ—à—ñ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –Ω–∞–≤—ñ—Ç—å –¥–ª—è "–Ω–µ—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏—Ö" —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –≥–Ω—É—á–∫—ñ—Å—Ç—å `synchronizedMap` (–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –æ–±–µ—Ä–Ω—É—Ç–∏ –±—É–¥—å-—è–∫—É `Map`) —î –π–æ–≥–æ –≥–æ–ª–æ–≤–Ω–æ—é –ø–µ—Ä–µ–≤–∞–≥–æ—é.*
