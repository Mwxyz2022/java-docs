---
layout: default
title: "Immutable –æ–±‚Äô—î–∫—Ç–∏ —è–∫ –∫–ª—é—á—ñ –≤ HashMap"
parent: "Immutable –æ–±'—î–∫—Ç–∏"
grand_parent: "Java Core"
nav_order: 4
---

# Immutable –æ–±‚Äô—î–∫—Ç–∏ —è–∫ –∫–ª—é—á—ñ –≤ HashMap

*   –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `Immutable` –æ–±'—î–∫—Ç–∏ —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥—è—Ç—å —è–∫ –∫–ª—é—á—ñ –¥–ª—è `HashMap` —Ç–∞ `HashSet`, –æ—Å–∫—ñ–ª—å–∫–∏ —ó—Ö–Ω—ñ–π —Å—Ç–∞–Ω –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —â–æ –≥–∞—Ä–∞–Ω—Ç—É—î —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å `hashCode()` —Ç–∞ `equals()` ‚Äì —Ü–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–æ—à—É–∫—É –≤ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—è—Ö.
*   –ø–æ–Ω—è—Ç—Ç—è: `Immutable` –∫–ª—é—á, `hashCode()`, `equals()`, `key integrity`.
*   –ø—Ä–∏–∫–ª–∞–¥–∏: `String`, `Integer` —è–∫ –∫–ª—é—á—ñ —É `HashMap`. –ó–º—ñ–Ω–∞ `mutable` –∫–ª—é—á–∞ –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ "–≤—Ç—Ä–∞—Ç–∏" –∑–∞–ø–∏—Å—É.
*   –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –°—Ç–∞–±—ñ–ª—å–Ω–∏–π `hashCode()` —Ç–∞ `equals()` –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å, —â–æ –µ–ª–µ–º–µ–Ω—Ç –±—É–¥–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π. `Mutable` –∫–ª—é—á—ñ –º–æ–∂—É—Ç—å –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ª–æ–≥—ñ—á–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫.
*   —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ß–æ–º—É `immutable` –∫–ª—é—á—ñ –≤–∞–∂–ª–∏–≤—ñ, —â–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è –∑ `mutable` –∫–ª—é—á–µ–º.
#### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**Builder Pattern** ‚Äî —Ü–µ –ø–æ—Ä–æ–¥–∂—É–≤–∞–ª—å–Ω–∏–π —à–∞–±–ª–æ–Ω –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ –æ–± º—î–∫—Ç–∏ –∫—Ä–æ–∫ –∑–∞ –∫—Ä–æ–∫–æ–º. –ë—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫ –¥–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤—ñ–¥–æ–∫—Ä–µ–º–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å –ø–æ–±—É–¥–æ–≤–∏ –æ–±‚Äô—î–∫—Ç–∞ –≤—ñ–¥ –π–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è, —â–æ–± —Ç–æ–π —Å–∞–º–∏–π –ø—Ä–æ—Ü–µ—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º—ñ–≥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—å.

#### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¶–µ –ø—ñ–¥—Ö—ñ–¥, –ø—Ä–∏ —è–∫–æ–º—É —Ç–∏ —Å—Ç–≤–æ—Ä—é—î—à –æ–± º—î–∫—Ç –ø–æ–µ—Ç–∞–ø–Ω–æ, –≤–∏–∫–ª–∏–∫–∞—é—á–∏ –º–µ—Ç–æ–¥–∏ —Ç–∏–ø—É **`setName(), setAge()`** —ñ –≤ –∫—ñ–Ω—Ü—ñ ‚Äî **`build()`**. –û—Å–æ–±–ª–∏–≤–æ –∑—Ä—É—á–Ω–æ, –∫–æ–ª–∏ –±–∞–≥–∞—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —ñ –Ω–µ –≤—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ. –Ø–∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —ñ–∑ –º—ñ–ª—å–π–æ–Ω–æ–º –æ–ø—Ü—ñ–π, –∞–ª–µ –∫—Ä–∞—Å–∏–≤–æ.
---

## **2Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω—ñ –≤–∏–¥–∏ / –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó / —Ç–∏–ø–∏**

**üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—ñ–≤:**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û–ø–∏—Å |
| ----- | ----- |
| **–û—Å–Ω–æ–≤–Ω–∏–π –∫–ª–∞—Å** | –ö–ª–∞—Å, –æ–±‚Äô—î–∫—Ç–∏ —è–∫–æ–≥–æ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ (**`User`**) |
| **Builder** | –°—Ç–∞—Ç–∏—á–Ω–∏–π –≤–∫–ª–∞–¥–µ–Ω–∏–π –∫–ª–∞—Å (**`User.Builder`**) –∑ –ø–æ–ª—è–º–∏ —Ç–∞ –º–µ—Ç–æ–¥–∞–º–∏ **`withX()`** |
| **–ú–µ—Ç–æ–¥ build()** | –ó–∞–≤–µ—Ä—à—É—î –ø–æ–±—É–¥–æ–≤—É —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –≥–æ—Ç–æ–≤–∏–π –æ–±‚Äô—î–∫—Ç |

---

## **3Ô∏è‚É£ –ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

**–î–ª—è —á–æ–≥–æ —Ü–µ?**  
–©–æ–± –Ω–µ –º–∞—Ç–∏ –≤–µ–ª–∏–∫–∏–π "—Ç–µ–ª–µ—Å–∫–æ–ø—ñ—á–Ω–∏–π" –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∑ 10+ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ ‚Äî —á–∞—Å—Ç–∏–Ω–∞ –∑ –Ω–∏—Ö –Ω–µ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–∞. –ó–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ ‚Äî –ø–æ–µ—Ç–∞–ø–Ω–µ, –∑—Ä—É—á–Ω–µ —ñ —á–∏—Ç–∞–±–µ–ª—å–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±‚Äô—î–∫—Ç–∞.

**–£ —á–æ–º—É —Ñ—ñ—à–∫–∞?**  
üîπ –ì–∞—Ä–Ω–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å  
üîπ –ú–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ **`immutable`** –æ–± º—î–∫—Ç–∏  
üîπ –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, –Ω–µ –ø–æ—Ä—É—à—É—é—á–∏ —ñ—Å–Ω—É—é—á–∏–π –∫–æ–¥

**–¢–∏–ø–æ–≤—ñ –≥—Ä–∞–±–ª—ñ?**

* –ó–∞–±—É—Ç–∏ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ **`.build()`** ‚Äî –æ—Ç—Ä–∏–º–∞—î—à –ø–æ–º–∏–ª–∫—É –∞–±–æ **`null`**.
* –ü–µ—Ä–µ–Ω–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ builder ‚Äî —Ä–æ–±–∏—Ç–∏ –∑ –Ω—å–æ–≥–æ "—Å–º—ñ—Ç–Ω–∏–∫" –∑ —É—Å—ñ–º–∞ –º–æ–∂–ª–∏–≤–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏.

**–ö–æ–ª–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏?**

* –Ø–∫—â–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –º–∞—î –±—ñ–ª—å—à–µ 3-4 –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
* –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó –∑ –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏—Ö –ø–æ–ª—ñ–≤
* –ö–æ–ª–∏ —Ö–æ—á–µ—à –∑—Ä–æ–±–∏—Ç–∏ –æ–± º—î–∫—Ç –Ω–µ–∑–º—ñ–Ω–Ω–∏–º (**`final`** –ø–æ–ª—è)

---

## **4Ô∏è‚É£ –ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **üîª Java-–ø—Ä–∏–∫–ª–∞–¥ –∫–ª–∞—Å—É –∑ Builder:**

```java
public class User {
    private final String name;
    private final int age;
    private final String email;

    private User(Builder builder) {
        this.name = builder.name;
        this.age = builder.age;
        this.email = builder.email;
    }

    public static class Builder {
        private String name;
        private int age;
        private String email;

        public Builder withName(String name) {
            this.name = name;
            return this;
        }

        public Builder withAge(int age) {
            this.age = age;
            return this;
        }

        public Builder withEmail(String email) {
            this.email = email;
            return this;
        }

        public User build() {
            return new User(this);
        }
    }
}
```
### **üîª –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**

```java
User user = new User.Builder()
                .withName("Ivan")
                .withAge(25)
                .withEmail("ivan@example.com")
                .build();
```
---

## **5Ô∏è‚É£ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ü—ñ–¥—Ö—ñ–¥ | Builder Pattern | –¢–µ–ª–µ—Å–∫–æ–ø—ñ—á–Ω—ñ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏ (`new A(x, y, z, ...)`) |
| ----- | ----- | ----- |
| –ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å | ‚úÖ –í–∏—Å–æ–∫–∞, –∑—Ä–æ–∑—É–º—ñ–ª—ñ —ñ–º–µ–Ω–æ–≤–∞–Ω—ñ –ø–æ–ª—è | ‚ùå –í–∞–∂–∫–æ –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —â–æ –∑–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ |
| –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ | ‚úÖ –ü—Ä–æ—Å—Ç–æ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å—Å—è | ‚ùå –¢—Ä–µ–±–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –±–∞–≥–∞—Ç–æ –ø–µ—Ä–µ–≥—Ä—É–∑–æ–∫ |
| Immutable –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ | ‚úÖ –õ–µ–≥–∫–æ –∑—Ä–æ–±–∏—Ç–∏ –æ–±‚Äô—î–∫—Ç –Ω–µ–∑–º—ñ–Ω–Ω–∏–º | ‚úÖ/‚ùå –ó–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó |
| –†–æ–∑—à–∏—Ä—é–≤–∞–Ω—ñ—Å—Ç—å | ‚úÖ –õ–µ–≥–∫–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–µ –ø–æ–ª–µ –±–µ–∑ –ª–æ–º–∞ –∫–æ–¥—É | ‚ùå –ü–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –≤—Å—ñ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏ |

---

## **6Ô∏è‚É£ FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

#### **üîπ –ü–∏—Ç–∞–Ω–Ω—è: –ß–æ–º—É Builder –∫—Ä–∞—â–∏–π –∑–∞ –∑–≤–∏—á–∞–π–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∑ –±–∞–≥–∞—Ç—å–º–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–ë–æ –≤—ñ–Ω –¥–∞—î –∑—Ä–æ–∑—É–º—ñ–ª–∏–π API, –∑–º–µ–Ω—à—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫ (–Ω–µ –ø–µ—Ä–µ–ø–ª—É—Ç–∞—î—à –ø–∞—Ä–∞–º–µ—Ç—Ä–∏), —ñ –¥–æ–∑–≤–æ–ª—è—î –ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –æ–ø—Ü—ñ—ó –±–µ–∑ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏.

---

#### **üîπ –ü–∏—Ç–∞–Ω–Ω—è: –Ø–∫–∞ –≥–æ–ª–æ–≤–Ω–∞ —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ Builder —ñ Factory?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

Factory –ø–æ–≤–µ—Ä—Ç–∞—î **–≥–æ—Ç–æ–≤–∏–π –æ–±'—î–∫—Ç**, –∑–∞–∑–≤–∏—á–∞–π –ø—Ä–æ—Å—Ç–∏–π. Builder –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è **–¥–ª—è –ø–æ–µ—Ç–∞–ø–Ω–æ—ó –ø–æ–±—É–¥–æ–≤–∏** —Å–∫–ª–∞–¥–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –∑ –±–µ–∑–ª—ñ—á—á—é –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤.

---

#### **üîπ –ü–∏—Ç–∞–Ω–Ω—è: –ß–∏ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ Builder immutable?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–¢–∞–∫, –∫—ñ–Ω—Ü–µ–≤–∏–π –æ–±‚Äô—î–∫—Ç —á–∞—Å—Ç–æ `immutable`. –°–∞–º Builder –∑–∞–∑–≤–∏—á–∞–π –º—É—Ç—É—î—Ç—å—Å—è (builder-–ø–æ–ª—è –∑–º—ñ–Ω—é—é—Ç—å—Å—è), –∞–ª–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –Ω—ñ.

---

## **7Ô∏è‚É£ üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**Builder \= ‚ÄúStep-by-step‚Äù**

–Ø–∫ –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–æ –¥–æ–º—É: —Å–ø–æ—á–∞—Ç–∫—É —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç, –ø–æ—Ç—ñ–º —Å—Ç—ñ–Ω–∏, –ø–æ—Ç—ñ–º –¥–∞—Ö ‚Üí `.build()` ‚Üí –≥–æ—Ç–æ–≤–æ\!

---

## **8Ô∏è‚É£ –ü—ñ–¥—Å—É–º–æ–∫ (üü©)**

Builder ‚Äî —Ü–µ —à–∞–±–ª–æ–Ω –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ —ñ–∑ –±–∞–≥–∞—Ç—å–º–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –æ—Å–æ–±–ª–∏–≤–æ —è–∫—â–æ —á–∞—Å—Ç–∏–Ω–∞ –∑ –Ω–∏—Ö –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞. –í—ñ–Ω –ø–æ–∫—Ä–∞—â—É—î —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å, —Å–ø—Ä–æ—â—É—î –ø—ñ–¥—Ç—Ä–∏–º–∫—É, —Ä–æ–±–∏—Ç—å –∫–æ–¥ —á–∏—Å—Ç–∏–º —ñ —Ä–æ–∑—à–∏—Ä—é–≤–∞–Ω–∏–º. –£ Java ‚Äî —Ü–µ –ø–æ–ø—É–ª—è—Ä–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞, —è–∫—É –≤–∞—Ä—Ç–æ –∑–Ω–∞—Ç–∏ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏.

