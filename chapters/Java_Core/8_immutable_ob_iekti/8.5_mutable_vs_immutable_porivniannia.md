---
layout: default
title: "Mutable vs Immutable: –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è"
parent: "Immutable –æ–±'—î–∫—Ç–∏"
grand_parent: "Java Core"
nav_order: 5
---

# Mutable vs Immutable: –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `Mutable` –æ–±'—î–∫—Ç ‚Äì –π–æ–≥–æ —Å—Ç–∞–Ω –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è (`StringBuilder`, `ArrayList`).
  `Immutable` –æ–±'—î–∫—Ç ‚Äì –π–æ–≥–æ —Å—Ç–∞–Ω –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —É—Å—ñ –∑–º—ñ–Ω–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç (`String`,
  `Integer`).
* –ø–æ–Ω—è—Ç—Ç—è: `mutable`, `immutable`.
* –ø—Ä–∏–∫–ª–∞–¥–∏: `StringBuilder` (mutable) –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—ó –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü—ñ—ó, `String` (immutable) –¥–ª—è –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è.
* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: `Immutable` ‚Äì `thread-safe`, —ñ–¥–µ–∞–ª—å–Ω—ñ –¥–ª—è –∫–ª—é—á—ñ–≤ —Ç–∞ –ø–µ—Ä–µ–¥–∞—á—ñ –º—ñ–∂ –ø–æ—Ç–æ–∫–∞–º–∏. `Mutable` ‚Äì –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à—ñ
  –¥–ª—è —á–∞—Å—Ç–∏—Ö in-place –∑–º—ñ–Ω.
* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ü–µ—Ä–µ–≤–∞–≥–∏/–Ω–µ–¥–æ–ª—ñ–∫–∏ –æ–±–æ—Ö, –∫–æ–ª–∏ —â–æ –æ–±–∏—Ä–∞—Ç–∏.

#### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

–í–∞–ª—ñ–¥–∞—Ü—ñ—è —É Builder ‚Äî —Ü–µ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö —É –ø—Ä–æ—Ü–µ—Å—ñ –ø–æ–µ—Ç–∞–ø–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±‚Äô—î–∫—Ç–∞. –í–æ–Ω–∞ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—å –ø—ñ–¥ —á–∞—Å
–≤–∏–∫–ª–∏–∫—É –º–µ—Ç–æ–¥—ñ–≤ `withX()` –∞–±–æ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ ‚Äî —É –º–µ—Ç–æ–¥—ñ `build()` –ø–µ—Ä–µ–¥ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.

#### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¶–µ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏, —è–∫—ñ –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å, —â–æ —Ç–∏ –Ω–µ —Å—Ç–≤–æ—Ä–∏—à "–±–∏—Ç–∏–π" –æ–±‚Äô—î–∫—Ç. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± –Ω–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ `User`, —É —è–∫–æ–≥–æ —ñ–º º—è ‚Äî
`null` –∞–±–æ –≤—ñ–∫ ‚Äî `-5`. –¶–µ —è–∫ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞ –∫–∞—Å—ñ: –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –≤—Å—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ —î, –ø–µ—Ä—à –Ω—ñ–∂ –≤–∏–¥–∞—Ç–∏ —á–µ–∫.
---

## **2Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω—ñ –≤–∏–¥–∏ / –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó / —Ç–∏–ø–∏**

üìä –î–µ –º–æ–∂–Ω–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é:

| –ú—ñ—Å—Ü–µ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó     | –û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å                                     | –ü–µ—Ä–µ–≤–∞–≥–∏                                              |
|---------------------|-------------------------------------------------|-------------------------------------------------------|
| –£ –º–µ—Ç–æ–¥–∞—Ö `withX()` | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥ —á–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è         | –†–∞–Ω–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞, –ø—Ä–æ—Å—Ç—ñ —É–º–æ–≤–∏                         |
| –£ –º–µ—Ç–æ–¥—ñ `build()`  | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –≤—Å—ñ—Ö –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—å, –ø–µ—Ä–µ–¥ –∑–±—ñ—Ä–∫–æ—é | –ü–æ–≤–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞, –∫—Ä–∞—â–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∑–∞–ª–µ–∂–Ω–∏–º–∏ –ø–æ–ª—è–º–∏ |

---

## **3Ô∏è‚É£ –ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

* **–ö–æ–ª–∏ –≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ –≤ —Å–µ—Ç–µ—Ä–∞—Ö (`withX()`)?**  
  –ö–æ–ª–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥—É–∂–µ –ø—Ä–æ—Å—Ç–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `name != null`), –∞–±–æ —Ç—Ä–µ–±–∞ –∫–∏–Ω—É—Ç–∏ –≤–∏–Ω—è—Ç–æ–∫ –æ–¥—Ä–∞–∑—É –ø—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ.
* **–ö–æ–ª–∏ –∫—Ä–∞—â–µ –≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ –≤ `build()`?**  
  –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–µ–∫—ñ–ª—å–∫–æ—Ö –ø–æ–ª—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ –ø–æ–ª—è), –∞–±–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–∫–ª–∞–¥–Ω—ñ—à–∞. –¢–∞–º –º–æ–∂–Ω–∞
  —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —Å–∫–∞–∑–∞—Ç–∏: —è–∫—â–æ –Ω–µ –∑–∞–¥–∞–Ω–æ —ñ–º º—è ‚Äî –∫–∏–¥–∞–π `IllegalStateException`.
* **–£ —á–æ–º—É –≥—Ä–∞–±–ª—ñ?**  
  –Ø–∫—â–æ –Ω—ñ—á–æ–≥–æ –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ ‚Äî –æ—Ç—Ä–∏–º–∞—î—à –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π –æ–±‚Äô—î–∫—Ç (null, –ø–æ—Ä–æ–∂–Ω—ñ –ø–æ–ª—è, –ª–æ–≥—ñ—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏). –¶–µ –ø–æ—Ç—ñ–º "–≤–∏—Å—Ç—Ä—ñ–ª–∏—Ç—å".

---

## **4Ô∏è‚É£ –ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **üîª –í–∞–ª—ñ–¥–∞—Ü—ñ—è —É `withX()`:**

```java
public Builder withAge(int age) {
    if (age < 0) {
        throw new IllegalArgumentException("–í—ñ–∫ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –≤—ñ–¥'—î–º–Ω–∏–º");
    }
    this.age = age;
    return this;
}
```

### **üîª –í–∞–ª—ñ–¥–∞—Ü—ñ—è —É `build()`:**

```java
public User build() {
    if (name == null || name.isBlank()) {
        throw new IllegalStateException("–Ü–º'—è –æ–±–æ–≤'—è–∑–∫–æ–≤–µ");
    }
    if (age < 0) {
        throw new IllegalStateException("–í—ñ–∫ –º–∞—î –±—É—Ç–∏ –ø–æ–∑–∏—Ç–∏–≤–Ω–∏–º");
    }
    return new User(this);
}
```

---

## **5Ô∏è‚É£ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ö—Ä–∏—Ç–µ—Ä—ñ–π                      | `withX()`                      | `build()`                                |
|-------------------------------|--------------------------------|------------------------------------------|
| –ö–æ–ª–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è            | –û–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–ª—è | –ü—ñ—Å–ª—è –≤—Å—ñ—Ö –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—å, –ø–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º |
| –ü—Ä–æ—Å—Ç–æ—Ç–∞                      | ‚úÖ –î–æ–±—Ä–µ –¥–ª—è –ø—Ä–æ—Å—Ç–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫  | ‚úÖ –î–æ–±—Ä–µ –¥–ª—è –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö/—Å–∫–ª–∞–¥–Ω–∏—Ö —É–º–æ–≤   |
| –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫       | ‚ùå –†–æ–∑–∫–∏–¥–∞–Ω–æ –ø–æ –º–µ—Ç–æ–¥–∞—Ö         | ‚úÖ –£—Å–µ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ                     |
| –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∑–≤‚Äô—è–∑–∫—ñ–≤ | ‚ùå –ù–µ–º–∞—î                        | ‚úÖ –ú–æ–∂–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º—ñ–∂ –ø–æ–ª—è–º–∏ |

---

## **6Ô∏è‚É£ FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

#### **üîπ –ü–∏—Ç–∞–Ω–Ω—è: –î–µ –∫—Ä–∞—â–µ —Ä–æ–±–∏—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é ‚Äî –≤ `withX()` —á–∏ `build()`?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–ù–∞–π–∫—Ä–∞—â–µ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏: –ø—Ä–æ—Å—Ç—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ ‚Äî –≤ `withX()`, –∞ –ø–æ–≤–Ω—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–∏—Ö –ø–æ–ª—ñ–≤ —ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π ‚Äî –≤ `build()`.

---

#### **üîπ –ü–∏—Ç–∞–Ω–Ω—è: –©–æ –±—É–¥–µ, —è–∫—â–æ –Ω–µ –∑—Ä–æ–±–∏—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –≤–∑–∞–≥–∞–ª—ñ?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–û—Ç—Ä–∏–º–∞—î—à –æ–± º—î–∫—Ç–∏ –∑ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–º–∏ –∞–±–æ –Ω–µ–ø–æ–≤–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏. –¶–µ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –ø–æ–º–∏–ª–æ–∫ –ø—ñ–∑–Ω—ñ—à–µ, –∫–æ–ª–∏ –æ–± º—î–∫—Ç –≤–∂–µ –≤ —Ä–æ–±–æ—Ç—ñ (—ñ –∑–Ω–∞–π—Ç–∏
–ø—Ä–æ–±–ª–µ–º—É –±—É–¥–µ –≤–∞–∂–∫–æ).

---

#### **üîπ –ü–∏—Ç–∞–Ω–Ω—è: –Ø–∫–∏–π –≤–∏–Ω—è—Ç–æ–∫ –∫–∏–¥–∞—Ç–∏ –ø—Ä–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–î–ª—è –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ ‚Äî `IllegalArgumentException`.  
–î–ª—è –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å—Ç–∞–Ω—É –ø–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º ‚Äî `IllegalStateException`.

---

## **7Ô∏è‚É£ üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**‚Äúwith \= quick check, build \= full scan‚Äù**

–ó–∞–ø–∞–º º—è—Ç–∞–π: –≤ `withX()` ‚Äî —à–≤–∏–¥–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –≤ `build()` ‚Äî –ø–æ–≤–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—å–æ–≥–æ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º.

---

## **8Ô∏è‚É£ –ü—ñ–¥—Å—É–º–æ–∫ (üü©)**

–í–∞–ª—ñ–¥–∞—Ü—ñ—è —É Builder ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∞ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–∞–¥—ñ–π–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤. –õ–æ–≥—ñ–∫—É –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –∫—Ä–∞—â–µ –ø–æ—î–¥–Ω—É–≤–∞—Ç–∏: –ø—Ä–æ—Å—Ç—ñ —Ä–µ—á—ñ
–ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –≤ —Å–µ—Ç–µ—Ä–∞—Ö, –∞ –≤—Å—ñ –≤–∞–∂–ª–∏–≤—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ ‚Äî –≤ `build()`. –¶–µ –¥–∞—î –≥–Ω—É—á–∫—ñ—Å—Ç—å, –∫–æ–Ω—Ç—Ä–æ–ª—å —ñ –∑–∞–ø–æ–±—ñ–≥–∞—î –ø–æ–º–∏–ª–∫–∞–º —É
—Ä–∞–Ω—Ç–∞–π–º—ñ.

---

**üîó –î–æ–¥–∞—Ç–∫–æ–≤–æ:**

* [**Effective Java (Joshua Bloch), Item 2 ‚Äî Builder pattern with validation**](https://effectivejava.com/) **(
  —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –ø—Ä–∏–∫–ª–∞–¥—ñ–≤)**