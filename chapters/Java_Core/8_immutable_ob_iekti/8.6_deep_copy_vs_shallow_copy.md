---
layout: default
title: "Deep Copy vs Shallow Copy"
parent: "Immutable –æ–±'—î–∫—Ç–∏"
grand_parent: "Java Core"
nav_order: 6
---

# Deep Copy vs Shallow Copy

*   –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `Shallow copy` (–ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–∞ –∫–æ–ø—ñ—è) ‚Äì –∫–æ–ø—ñ—é—î –ø—Ä–∏–º—ñ—Ç–∏–≤–∏ —Ç–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±'—î–∫—Ç–∏ (–≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±'—î–∫—Ç–∏ —Å–ø—ñ–ª—å–Ω—ñ). `Deep copy` (–≥–ª–∏–±–æ–∫–∞ –∫–æ–ø—ñ—è) ‚Äì —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∫–æ–ø—ñ—é—î –≤—Å—ñ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±'—î–∫—Ç–∏, —Å—Ç–≤–æ—Ä—é—é—á–∏ –ø–æ–≤–Ω—É –Ω–µ–∑–∞–ª–µ–∂–Ω—É –∫–æ–ø—ñ—é.
*   –ø–æ–Ω—è—Ç—Ç—è: Shallow copy, Deep copy, `clone()`, `defensive copy`.
*   –ø—Ä–∏–∫–ª–∞–¥–∏: –ó–º—ñ–Ω–∞ –≤–∫–ª–∞–¥–µ–Ω–æ–≥–æ `Address` —É `Person` –≤ `shallow copy` –≤–ø–ª–∏–≤–∞—î –Ω–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª, —Ç–æ–¥—ñ —è–∫ —É `deep copy` ‚Äì –Ω—ñ.
*   –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: `Deep copy` –æ–±–æ–≤'—è–∑–∫–æ–≤–∞ –¥–ª—è `mutable` –ø–æ–ª—ñ–≤ –≤ `immutable` –∫–ª–∞—Å–∞—Ö, —â–æ–± –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ –ø–æ–≤–Ω—É –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—å.
*   —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –†—ñ–∑–Ω–∏—Ü—è, –∫–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏, —è–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ deep copy.
#### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**–†–µ–∫—É—Ä—Å—ñ—è** ‚Äî —Ü–µ —Ç–µ—Ö–Ω—ñ–∫–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è, –∫–æ–ª–∏ –º–µ—Ç–æ–¥ –≤–∏–∫–ª–∏–∫–∞—î —Å–∞–º —Å–µ–±–µ –∑ –Ω–æ–≤–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–ª—è —Ä–æ–∑–≤'—è–∑–∞–Ω–Ω—è –∑–∞–¥–∞—á—ñ, —Ä–æ–∑–±–∏–≤–∞—é—á–∏ —ó—ó –Ω–∞ –ø—ñ–¥–∑–∞–¥–∞—á—ñ –¥–æ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è –±–∞–∑–æ–≤–æ–≥–æ (–≥—Ä–∞–Ω–∏—á–Ω–æ–≥–æ) –≤–∏–ø–∞–¥–∫—É.

#### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–†–µ–∫—É—Ä—Å—ñ—è ‚Äî —Ü–µ –∫–æ–ª–∏ –º–µ—Ç–æ–¥ ‚Äú–∑–∞–ø–∏—Ç—É—î —Å–∞–º —É —Å–µ–±–µ‚Äù, –∞–ª–µ –∑ –º–µ–Ω—à–∏–º –∑–∞–≤–¥–∞–Ω–Ω—è–º. –Ø–∫ –º–∞—Ç—Ä—å–æ—à–∫–∞ ‚Äî –ø–æ–∫–∏ –Ω–µ –¥—ñ–π–¥–µ—à –¥–æ –Ω–∞–π–º–µ–Ω—à–æ—ó, –Ω—ñ—á–æ–≥–æ –Ω–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è. –Ü —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è —Ü—å–æ–≥–æ –≤—Å—ñ ‚Äú–≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ‚Äù –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –Ω–∞–∑–∞–¥.
---

## **2Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω—ñ –≤–∏–¥–∏ / –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó / —Ç–∏–ø–∏**

üìä –û—Å–Ω–æ–≤–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ —Ä–µ–∫—É—Ä—Å—ñ—ó:

| –ï–ª–µ–º–µ–Ω—Ç | –û–ø–∏—Å |
| ----- | ----- |
| **–ë–∞–∑–æ–≤–∏–π –≤–∏–ø–∞–¥–æ–∫ (base case)** | –£–º–æ–≤–∞ –∑—É–ø–∏–Ω–∫–∏ ‚Äî –∫–æ–ª–∏ –Ω–µ —Ç—Ä–µ–±–∞ –¥–∞–ª—ñ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Å–µ–±–µ |
| **–†–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –≤–∏–∫–ª–∏–∫** | –ú–µ—Ç–æ–¥ –≤–∏–∫–ª–∏–∫–∞—î —Å–∞–º —Å–µ–±–µ –∑ –Ω–æ–≤–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ |
| **–°—Ç–µ–∫ –≤–∏–∫–ª–∏–∫—ñ–≤** | –ú—ñ—Å—Ü–µ –≤ –ø–∞–º‚Äô—è—Ç—ñ, –¥–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –∫–æ–∂–µ–Ω –≤–∏–∫–ª–∏–∫ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è |

---

## **3Ô∏è‚É£ –ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

* **–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?**  
  –ú–µ—Ç–æ–¥ –≤–∏–∫–ª–∏–∫–∞—î —Å–∞–º —Å–µ–±–µ ‚Üí –∫–æ–∂–µ–Ω –≤–∏–∫–ª–∏–∫ —á–µ–∫–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ñ–¥ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ ‚Üí –∫–æ–ª–∏ –¥–æ—Å—è–≥–Ω—É—Ç–æ –±–∞–∑–æ–≤–æ–≥–æ –≤–∏–ø–∞–¥–∫—É, —Ä–µ–∑—É–ª—å—Ç–∞—Ç "—Ä–æ–∑–º–æ—Ç—É—î—Ç—å—Å—è" –Ω–∞–∑–∞–¥.

* **–ß–æ–º—É —Ü–µ –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ?**  
  –Ø–∫—â–æ –∑–∞–±—É–≤ –≤–∫–∞–∑–∞—Ç–∏ –±–∞–∑–æ–≤–∏–π –≤–∏–ø–∞–¥–æ–∫ ‚Äî –æ—Ç—Ä–∏–º–∞—î—à –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ –≤–∏–∫–ª–∏–∫–∏ ‚Üí `StackOverflowError`.

* **–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?**  
  –ö–æ–ª–∏ –∑–∞–¥–∞—á–∞ –ø—Ä–∏—Ä–æ–¥–Ω–æ —Ä–æ–∑–±–∏–≤–∞—î—Ç—å—Å—è –Ω–∞ –ø—ñ–¥–∑–∞–¥–∞—á—ñ (–¥–µ—Ä–µ–≤–∞, –æ–±—Ö–æ–¥–∏, —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ñ —Ñ–æ—Ä–º—É–ª–∏, –ø–æ—à—É–∫ —à–ª—è—Ö—ñ–≤).

* **–ö–æ–ª–∏ –∫—Ä–∞—â–µ —É–Ω–∏–∫–∞—Ç–∏?**  
  –ö–æ–ª–∏ –±–∞–≥–∞—Ç–æ —Ä—ñ–≤–Ω—ñ–≤ —Ä–µ–∫—É—Ä—Å—ñ—ó ‚Üí —Å–ø–æ–∂–∏–≤–∞—î –±–∞–≥–∞—Ç–æ –ø–∞–º‚Äô—è—Ç—ñ. –Ø–∫—â–æ –º–æ–∂–Ω–∞ –∑–∞–º—ñ–Ω–∏—Ç–∏ —ñ—Ç–µ—Ä–∞—Ü—ñ—î—é ‚Äî –∫—Ä–∞—â–µ –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ.

---

## **4Ô∏è‚É£ –ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **üîª –§–∞–∫—Ç–æ—Ä—ñ–∞–ª (n\!)**

```java
public static int factorial(int n) {
    if (n == 0) return 1; // –±–∞–∑–æ–≤–∏–π –≤–∏–ø–∞–¥–æ–∫
    return n * factorial(n - 1); // —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –≤–∏–∫–ª–∏–∫
}
```
### **üîª –ß–∏—Å–ª–∞ –§—ñ–±–æ–Ω–∞—á—á—ñ**

```java
public static int fibonacci(int n) {
    if (n <= 1) return n;
    return fibonacci(n - 1) + fibonacci(n - 2);
}
```
### **üîª –°—É–º–∞ —á–∏—Å–µ–ª –≤—ñ–¥ 1 –¥–æ n**

```java
public static int sum(int n) {
    if (n == 0) return 0;
    return n + sum(n - 1);
}
```
### **üîª –û–±—Ö—ñ–¥ –¥–µ—Ä–µ–≤–∞ (DFS)**

```java
void dfs(Node node) {
    if (node == null) return;
    System.out.println(node.value);
    dfs(node.left);
    dfs(node.right);
}
```
---

## **5Ô∏è‚É£ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –†–µ–∫—É—Ä—Å—ñ—è | –Ü—Ç–µ—Ä–∞—Ü—ñ—è (—Ü–∏–∫–ª–∏) |
| ----- | ----- | ----- |
| –ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å | ‚úÖ –ß–∞—Å—Ç–æ –∫–æ—Ä–æ—Ç—à–∏–π —ñ "—á–∏—Å—Ç—ñ—à–∏–π" | ‚úÖ –ó—Ä–æ–∑—É–º—ñ–ª–∏–π –¥–ª—è –ø—Ä–æ—Å—Ç–∏—Ö –∑–∞–¥–∞—á |
| –®–≤–∏–¥–∫–æ–¥—ñ—è | ‚ùå –ú–æ–∂–µ –±—É—Ç–∏ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ | ‚úÖ –ú–µ–Ω—à–µ –≤–∏–∫–ª–∏–∫—ñ–≤, —à–≤–∏–¥—à–µ |
| –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º‚Äô—è—Ç—ñ | ‚ùå –ë—ñ–ª—å—à–µ (–∫–æ–∂–µ–Ω –≤–∏–∫–ª–∏–∫ —É —Å—Ç–µ–∫—É) | ‚úÖ –ú—ñ–Ω—ñ–º—É–º –ø–∞–º‚Äô—è—Ç—ñ |
| –†–∏–∑–∏–∫ StackOverflow | ‚úÖ –¢–∞–∫ | ‚ùå –ù–µ–º–∞—î |
| –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è | –î–µ—Ä–µ–≤–∞, —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ | –õ—ñ–Ω—ñ–π–Ω—ñ –∑–∞–¥–∞—á—ñ (–ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫, –º–∞—Å–∏–≤–∏ —Ç–æ—â–æ) |

---

## **6Ô∏è‚É£ FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

#### **üîπ –ü–∏—Ç–∞–Ω–Ω—è: –©–æ —Ç–∞–∫–µ –±–∞–∑–æ–≤–∏–π –≤–∏–ø–∞–¥–æ–∫ —É —Ä–µ–∫—É—Ä—Å—ñ—ó?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–¶–µ —É–º–æ–≤–∞, –ø—Ä–∏ —è–∫—ñ–π –º–µ—Ç–æ–¥ –ø–µ—Ä–µ—Å—Ç–∞—î –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Å–µ–±–µ. –ë–µ–∑ –Ω—å–æ–≥–æ —Ä–µ–∫—É—Ä—Å—ñ—è –±—É–¥–µ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ—é.

---

#### **üîπ –ü–∏—Ç–∞–Ω–Ω—è: –©–æ –±—É–¥–µ, —è–∫—â–æ –±–∞–∑–æ–≤–∏–π –≤–∏–ø–∞–¥–æ–∫ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–í—ñ–¥–±—É–¥–µ—Ç—å—Å—è **StackOverflowError** ‚Äî –ø–∞–º‚Äô—è—Ç—å –¥–ª—è –≤–∏–∫–ª–∏–∫—ñ–≤ –≤–∏—á–µ—Ä–ø–∞—î—Ç—å—Å—è.

---

#### **üîπ –ü–∏—Ç–∞–Ω–Ω—è: –ö–æ–ª–∏ –∫—Ä–∞—â–µ –∑–∞–º—ñ–Ω–∏—Ç–∏ —Ä–µ–∫—É—Ä—Å—ñ—é –Ω–∞ —Ü–∏–∫–ª?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–ö–æ–ª–∏ –∑–∞–≤–¥–∞–Ω–Ω—è –ø—Ä–æ—Å—Ç–µ —ñ –º–∞—î —á—ñ—Ç–∫—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫—Ä–æ–∫—ñ–≤, –∞–±–æ —è–∫—â–æ —î –∑–∞–≥—Ä–æ–∑–∞ –≥–ª–∏–±–æ–∫–æ—ó —Ä–µ–∫—É—Ä—Å—ñ—ó (10000+ –≤–∏–∫–ª–∏–∫—ñ–≤).

---

#### **üîπ –ü–∏—Ç–∞–Ω–Ω—è: –ß–∏ —î tail recursion –≤ Java?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

Java –Ω–µ –æ–ø—Ç–∏–º—ñ–∑—É—î —Ä–µ–∫—É—Ä—Å—ñ—é –∑ "—Ö–≤–æ—Å—Ç–æ–º" (tail recursion), –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –¥–µ—è–∫–∏—Ö —ñ–Ω—à–∏—Ö –º–æ–≤ (Scala, Haskell).

---

## **7Ô∏è‚É£ üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**‚ÄúBase \+ Call \= Recursion‚Äù**

–ó–∞–ø–∞–º º—è—Ç–∞–π: –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–≤–∞ –µ–ª–µ–º–µ–Ω—Ç–∏ ‚Äî `base case` —ñ `recursive call`. –Ø–∫—â–æ —â–æ—Å—å –æ–¥–Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—à ‚Äî –±—É–¥–µ –±—ñ–¥–∞.
---

## **8Ô∏è‚É£ –ü—ñ–¥—Å—É–º–æ–∫ (üü©)**

–†–µ–∫—É—Ä—Å—ñ—è ‚Äî –ø–æ—Ç—É–∂–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –∑–∞–¥–∞—á, —è–∫—ñ –ø—Ä–∏—Ä–æ–¥–Ω–æ —Ä–æ–∑–±–∏–≤–∞—é—Ç—å—Å—è –Ω–∞ –ø—ñ–¥–∑–∞–¥–∞—á—ñ (–¥–µ—Ä–µ–≤–∞, –≥—Ä–∞—Ñ–∏, –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω—ñ —Ñ–æ—Ä–º—É–ª–∏). –ê–ª–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É—Ç–∏ –æ–±–µ—Ä–µ–∂–Ω–∏–º: –∑–∞–≤–∂–¥–∏ –º–∞—Ç–∏ –±–∞–∑–æ–≤–∏–π –≤–∏–ø–∞–¥–æ–∫ —ñ —Å–ª—ñ–¥–∫—É–≤–∞—Ç–∏ –∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—é –≤–∏–∫–ª–∏–∫—ñ–≤. –£ –¥–µ—è–∫–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ—è—Ö —ñ—Ç–µ—Ä–∞—Ü—ñ—è ‚Äî –±—ñ–ª—å—à –±–µ–∑–ø–µ—á–Ω–∏–π —ñ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π –≤–∏–±—ñ—Ä.

---

**üîó –î–æ–¥–∞—Ç–∫–æ–≤–æ:**

* [**Oracle Java Recursion Guide**](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html#recursion)