---
layout: default
title: "–í–∞–ª—ñ–¥–∞—Ü—ñ—è —É Builder"
parent: "Patterns and Recursion"
grand_parent: "Java Core"
nav_order: 5
---

# –í–∞–ª—ñ–¥–∞—Ü—ñ—è —É Builder

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö —É –ø—Ä–æ—Ü–µ—Å—ñ –ø–æ–µ—Ç–∞–ø–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ —á–µ—Ä–µ–∑ `Builder`, —â–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –≤ –º–µ—Ç–æ–¥–∞—Ö `withX()` –∞–±–æ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ –º–µ—Ç–æ–¥—ñ `build()`.

* –ø–æ–Ω—è—Ç—Ç—è: `–í–∞–ª—ñ–¥–∞—Ü—ñ—è`, `–†–∞–Ω–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—è` (`withX()`), `–í—ñ–¥–∫–ª–∞–¥–µ–Ω–∞/–∫–æ–º–ø–ª–µ–∫—Å–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è` (`build()`), `IllegalArgumentException`, `IllegalStateException`.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `withAge()` –ø–µ—Ä–µ–≤—ñ—Ä—è—î –≤—ñ–∫ –Ω–∞ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è; `build()` –ø–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –æ–±–æ–≤`—è–∑–∫–æ–≤–æ–≥–æ —ñ–º–µ–Ω—ñ –∞–±–æ –ª–æ–≥—ñ—á–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º—ñ–∂ –ø–æ–ª—è–º–∏.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ü—Ä–æ—Å—Ç—ñ —É–º–æ–≤–∏ –≤–∞–ª—ñ–¥—É—é—Ç—å—Å—è –æ–¥—Ä–∞–∑—É (–≤ `withX()`); –∫–æ–º–ø–ª–µ–∫—Å–Ω—ñ, –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –∞–±–æ –∑–∞–ª–µ–∂–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ ‚Äî –≤ `build()`; –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –≤–∏–Ω—è—Ç–∫—ñ–≤ (`IllegalArgumentException` –¥–ª—è –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤, `IllegalStateException` –¥–ª—è —Å—Ç–∞–Ω—É); –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–ª–∞—Å—É.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ú—ñ—Å—Ü—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ç–∞ –∫—Ä–∏—Ç–µ—Ä—ñ—ó –≤–∏–±–æ—Ä—É, —Ç–∏–ø–∏ –≤–∏–Ω—è—Ç–∫—ñ–≤, –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ –æ–±`—î–∫—Ç–∞, –∫—Ä–æ—Å-–ø–æ–ª—ñ–≤–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞, —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

–í–∞–ª—ñ–¥–∞—Ü—ñ—è —É Builder ‚Äî —Ü–µ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö —É –ø—Ä–æ—Ü–µ—Å—ñ –ø–æ–µ—Ç–∞–ø–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±‚Äô—î–∫—Ç–∞. –í–æ–Ω–∞ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—å –ø—ñ–¥ —á–∞—Å –≤–∏–∫–ª–∏–∫—É –º–µ—Ç–æ–¥—ñ–≤ `withX()` –∞–±–æ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ ‚Äî —É –º–µ—Ç–æ–¥—ñ `build()` –ø–µ—Ä–µ–¥ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¶–µ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏, —è–∫—ñ –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å, —â–æ —Ç–∏ –Ω–µ —Å—Ç–≤–æ—Ä–∏—à "–±–∏—Ç–∏–π" –æ–±‚Äô—î–∫—Ç. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± –Ω–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ `User`, —É —è–∫–æ–≥–æ —ñ–º º—è ‚Äî `null` –∞–±–æ –≤—ñ–∫ ‚Äî `-5`. –¶–µ —è–∫ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞ –∫–∞—Å—ñ: –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –≤—Å—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ —î, –ø–µ—Ä—à –Ω—ñ–∂ –≤–∏–¥–∞—Ç–∏ —á–µ–∫.

---

## **üìä –î–µ –º–æ–∂–Ω–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é:**

| –ú—ñ—Å—Ü–µ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó     | –û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å                                     | –ü–µ—Ä–µ–≤–∞–≥–∏                                              |
|---------------------|-------------------------------------------------|-------------------------------------------------------|
| –£ –º–µ—Ç–æ–¥–∞—Ö `withX()` | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥ —á–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è         | –†–∞–Ω–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞, –ø—Ä–æ—Å—Ç—ñ —É–º–æ–≤–∏                         |
| –£ –º–µ—Ç–æ–¥—ñ `build()`  | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –≤—Å—ñ—Ö –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—å, –ø–µ—Ä–µ–¥ –∑–±—ñ—Ä–∫–æ—é | –ü–æ–≤–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞, –∫—Ä–∞—â–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∑–∞–ª–µ–∂–Ω–∏–º–∏ –ø–æ–ª—è–º–∏ |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

* **–ö–æ–ª–∏ –≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ –≤ —Å–µ—Ç–µ—Ä–∞—Ö (`withX()`)?**  
  –ö–æ–ª–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥—É–∂–µ –ø—Ä–æ—Å—Ç–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `name != null`), –∞–±–æ —Ç—Ä–µ–±–∞ –∫–∏–Ω—É—Ç–∏ –≤–∏–Ω—è—Ç–æ–∫ –æ–¥—Ä–∞–∑—É –ø—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ.
* **–ö–æ–ª–∏ –∫—Ä–∞—â–µ –≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ –≤ `build()`?**  
  –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–µ–∫—ñ–ª—å–∫–æ—Ö –ø–æ–ª—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ –ø–æ–ª—è), –∞–±–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–∫–ª–∞–¥–Ω—ñ—à–∞. –¢–∞–º –º–æ–∂–Ω–∞
  —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —Å–∫–∞–∑–∞—Ç–∏: —è–∫—â–æ –Ω–µ –∑–∞–¥–∞–Ω–æ —ñ–º º—è ‚Äî –∫–∏–¥–∞–π `IllegalStateException`.
* **–£ —á–æ–º—É –≥—Ä–∞–±–ª—ñ?**  
  –Ø–∫—â–æ –Ω—ñ—á–æ–≥–æ –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ ‚Äî –æ—Ç—Ä–∏–º–∞—î—à –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π –æ–±‚Äô—î–∫—Ç (null, –ø–æ—Ä–æ–∂–Ω—ñ –ø–æ–ª—è, –ª–æ–≥—ñ—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏). –¶–µ –ø–æ—Ç—ñ–º "–≤–∏—Å—Ç—Ä—ñ–ª–∏—Ç—å".

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **üîª –í–∞–ª—ñ–¥–∞—Ü—ñ—è —É `withX()`:**

```java
public Builder withAge(int age) {
    if (age < 0) {
        throw new IllegalArgumentException("–í—ñ–∫ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –≤—ñ–¥'—î–º–Ω–∏–º");
    }
    this.age = age;
    return this;
}
```

### **üîª –í–∞–ª—ñ–¥–∞—Ü—ñ—è —É `build()`:**

```java
public User build() {
    if (name == null || name.isBlank()) {
        throw new IllegalStateException("–Ü–º'—è –æ–±–æ–≤'—è–∑–∫–æ–≤–µ");
    }
    if (age < 0) {
        throw new IllegalStateException("–í—ñ–∫ –º–∞—î –±—É—Ç–∏ –ø–æ–∑–∏—Ç–∏–≤–Ω–∏–º");
    }
    return new User(this);
}
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ö—Ä–∏—Ç–µ—Ä—ñ–π                      | `withX()`                      | `build()`                                |
|-------------------------------|--------------------------------|------------------------------------------|
| –ö–æ–ª–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è            | –û–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–ª—è | –ü—ñ—Å–ª—è –≤—Å—ñ—Ö –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—å, –ø–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º |
| –ü—Ä–æ—Å—Ç–æ—Ç–∞                      | ‚úÖ –î–æ–±—Ä–µ –¥–ª—è –ø—Ä–æ—Å—Ç–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫  | ‚úÖ –î–æ–±—Ä–µ –¥–ª—è –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö/—Å–∫–ª–∞–¥–Ω–∏—Ö —É–º–æ–≤   |
| –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫       | ‚ùå –†–æ–∑–∫–∏–¥–∞–Ω–æ –ø–æ –º–µ—Ç–æ–¥–∞—Ö         | ‚úÖ –£—Å–µ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ                     |
| –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∑–≤‚Äô—è–∑–∫—ñ–≤ | ‚ùå –ù–µ–º–∞—î                        | ‚úÖ –ú–æ–∂–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º—ñ–∂ –ø–æ–ª—è–º–∏ |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**‚Äúwith \= quick check, build \= full scan‚Äù**

–ó–∞–ø–∞–º º—è—Ç–∞–π: –≤ `withX()` ‚Äî —à–≤–∏–¥–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –≤ `build()` ‚Äî –ø–æ–≤–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—å–æ–≥–æ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º.

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

–í–∞–ª—ñ–¥–∞—Ü—ñ—è —É Builder ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∞ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–∞–¥—ñ–π–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤. –õ–æ–≥—ñ–∫—É –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –∫—Ä–∞—â–µ –ø–æ—î–¥–Ω—É–≤–∞—Ç–∏: –ø—Ä–æ—Å—Ç—ñ —Ä–µ—á—ñ
–ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –≤ —Å–µ—Ç–µ—Ä–∞—Ö, –∞ –≤—Å—ñ –≤–∞–∂–ª–∏–≤—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ ‚Äî –≤ `build()`. –¶–µ –¥–∞—î –≥–Ω—É—á–∫—ñ—Å—Ç—å, –∫–æ–Ω—Ç—Ä–æ–ª—å —ñ –∑–∞–ø–æ–±—ñ–≥–∞—î –ø–æ–º–∏–ª–∫–∞–º —É
—Ä–∞–Ω—Ç–∞–π–º—ñ.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Effective Java (Joshua Bloch), Item 2 ‚Äî Builder pattern with validation**](https://effectivejava.com/) **(—Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –ø—Ä–∏–∫–ª–∞–¥—ñ–≤)**

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è —É —à–∞–±–ª–æ–Ω—ñ `Builder` —ñ —á–æ–º—É –≤–æ–Ω–∞ –≤–∞–∂–ª–∏–≤–∞?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–í–∞–ª—ñ–¥–∞—Ü—ñ—è —É `Builder`** ‚Äî —Ü–µ –ø—Ä–æ—Ü–µ—Å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö, —è–∫—ñ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è –≤ –±—ñ–ª–¥–µ—Ä, –ø–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º —Ñ—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞.
>
> **–ß–æ–º—É –≤–æ–Ω–∞ –≤–∞–∂–ª–∏–≤–∞:**
>
> `Builder` –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏ –∑ –≤–µ–ª–∏–∫–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤. –¶–µ —Å—Ç–≤–æ—Ä—é—î —Ä–∏–∑–∏–∫, —â–æ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ "–∑–∞–±—É–¥–µ" –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ –∞–±–æ –ø–µ—Ä–µ–¥–∞—Å—Ç—å –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –¥–∞–Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–µ–≥–∞—Ç–∏–≤–Ω–∏–π –≤—ñ–∫).
>
> –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å–ª—É–∂–∏—Ç—å –∑–∞—Ö–∏—Å–Ω–∏–º –º–µ—Ö–∞–Ω—ñ–∑–º–æ–º, —è–∫–∏–π –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –º–µ—Ç–æ–¥ `build()` –ø–æ–≤–µ—Ä–Ω–µ —Ç—ñ–ª—å–∫–∏ **–≤–∞–ª—ñ–¥–∏–π (–∫–æ—Ä–µ–∫—Ç–Ω–∏–π) —Ç–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–π –æ–±'—î–∫—Ç**. –¶–µ –∑–∞–ø–æ–±—ñ–≥–∞—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—é –æ–±'—î–∫—Ç—ñ–≤ —É –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ–º—É –∞–±–æ –Ω–µ—Ä–æ–±–æ—á–æ–º—É —Å—Ç–∞–Ω—ñ —ñ –¥–æ–∑–≤–æ–ª—è—î —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–æ–º–∏–ª–æ–∫ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (`RuntimeException`).
>
> –¶–µ —î —á–∞—Å—Ç–∏–Ω–æ—é –ø—Ä–∏–Ω—Ü–∏–ø—É "fail-fast" ‚Äî –∫—Ä–∞—â–µ "–≤–ø–∞—Å—Ç–∏" –∑ —á—ñ—Ç–∫–∏–º –≤–∏–Ω—è—Ç–∫–æ–º –Ω–∞ –µ—Ç–∞–ø—ñ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –Ω—ñ–∂ –æ—Ç—Ä–∏–º–∞—Ç–∏ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É –ø—ñ–∑–Ω—ñ—à–µ.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**</h4>

–¶–µ —è–∫ –∞–Ω–∫–µ—Ç–∞ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—ñ–∑–∏. –ü–µ—Ä—à –Ω—ñ–∂ –ø–æ–¥–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏ (–≤–∏–∫–ª–∏–∫–∞—Ç–∏ `build()`), –≤–∏ –∞–±–æ —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç–µ, —â–æ –≤—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ, –¥–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –∫–æ—Ä–µ–∫—Ç–Ω–∞, –∞ –Ω–æ–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞ –Ω–µ –º—ñ—Å—Ç–∏—Ç—å –ª—ñ—Ç–µ—Ä. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ —É –∫–æ–Ω—Å—É–ª—å—Å—Ç–≤–æ –ø–æ—Ç—Ä–∞–ø–∏—Ç—å —Ç—ñ–ª—å–∫–∏ –≤–∞–ª—ñ–¥–Ω–∞ –∑–∞—è–≤–∫–∞.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è ‚Äî —Ü–µ –Ω–µ–≤—ñ–¥'—î–º–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ –Ω–∞–¥—ñ–π–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤, –æ—Å–æ–±–ª–∏–≤–æ –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –≥–Ω—É—á–∫–∏—Ö –ø–∞—Ç–µ—Ä–Ω—ñ–≤, —è–∫ `Builder`.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–î–µ –º–æ–∂–Ω–∞ —Ä–æ–∑–º—ñ—â—É–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤ `Builder` —ñ —è–∫—ñ —î –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ü—Å–Ω—É—î –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ö –º—ñ—Å—Ü—è –¥–ª—è —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó:
>
> 1. **–£ –º–µ—Ç–æ–¥–∞—Ö-—Å–µ—Ç—Ç–µ—Ä–∞—Ö –±—ñ–ª–¥–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `withName(String name)`):**
>     * **–©–æ —Ü–µ:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è **–Ω–µ–≥–∞–π–Ω–æ** –ø—Ä–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—è. –¶–µ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **"—Ä–∞–Ω–Ω—å–æ—é –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é"**.
>     * **–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –î–ª—è –ø—Ä–æ—Å—Ç–∏—Ö, –Ω–µ–∑–∞–ª–µ–∂–Ω–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ `null`, –Ω–∞ –ø–æ–∑–∏—Ç–∏–≤–Ω–µ —á–∏—Å–ª–æ, –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç—É).
>
> 2. **–£ –º–µ—Ç–æ–¥—ñ `build()`:**
>     * **–©–æ —Ü–µ:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è **—Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ** –≤ —Å–∞–º–æ–º—É –∫—ñ–Ω—Ü—ñ, –ø–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º —Ñ—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞. –¶–µ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **"–≤—ñ–¥–∫–ª–∞–¥–µ–Ω–æ—é –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é"**.
>     * **–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –î–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –ø–æ–ª—ñ–≤, –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫, —â–æ –≤–∫–ª—é—á–∞—é—Ç—å **–≤–∑–∞—î–º–æ–∑–≤'—è–∑–æ–∫ –º—ñ–∂ –∫—ñ–ª—å–∫–æ–º–∞ –ø–æ–ª—è–º–∏** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–∞—Ç–∞ –ø–æ—á–∞—Ç–∫—É –º–∞—î –±—É—Ç–∏ —Ä–∞–Ω—ñ—à–µ –¥–∞—Ç–∏ –∫—ñ–Ω—Ü—è), –∞–±–æ –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞–Ω –±—ñ–ª–¥–µ—Ä–∞ –≤ —Ü—ñ–ª–æ–º—É.
>
> –ß–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—è –æ–±–æ—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –¥–≤–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ç–∞ —ó—Ö–Ω—ñ—Ö –∫–ª—é—á–æ–≤–∏—Ö –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç–µ–π.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ "—Ä–∞–Ω–Ω—å–æ—ó –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó" (—É –º–µ—Ç–æ–¥—ñ-—Å–µ—Ç—Ç–µ—Ä—ñ). –Ø–∫—ñ –≤–∏–Ω—è—Ç–∫–∏ —Ç—É—Ç –¥–æ—Ü—ñ–ª—å–Ω–æ –∫–∏–¥–∞—Ç–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –†–∞–Ω–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–µ—Ä–µ–≤—ñ—Ä—è—î –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ–≥–∞–π–Ω–æ. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∫–ª—ñ—î–Ω—Ç—É –æ–¥—Ä–∞–∑—É –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É –≤ –ø–µ—Ä–µ–¥–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public static class Builder {
>     private String email;
>     private int age;
>
>     public Builder email(String email) {
>         // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ null —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç—É email
>         if (email == null || !email.matches("...")) {
>             // –ö–∏–¥–∞—î–º–æ, –±–æ –ø–µ—Ä–µ–¥–∞–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç —î –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–º
>             throw new IllegalArgumentException("–ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç email: " + email);
>         }
>         this.email = email;
>         return this;
>     }
>
>     public Builder age(int age) {
>         if (age <= 0) {
>             throw new IllegalArgumentException("–í—ñ–∫ –º–∞—î –±—É—Ç–∏ –ø–æ–∑–∏—Ç–∏–≤–Ω–∏–º —á–∏—Å–ª–æ–º.");
>         }
>         this.age = age;
>         return this;
>     }
>
>     // ...
> }
> ```
>
> **–Ø–∫–∏–π –≤–∏–Ω—è—Ç–æ–∫ –∫–∏–¥–∞—Ç–∏?**
> –ù–∞–π–±—ñ–ª—å—à –¥–æ—Ü—ñ–ª—å–Ω–∏–º —î **`IllegalArgumentException`**, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω —á—ñ—Ç–∫–æ –≤–∫–∞–∑—É—î, —â–æ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª—è–≥–∞—î –≤ **–Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ–º—É –∞—Ä–≥—É–º–µ–Ω—Ç—ñ**, –ø–µ—Ä–µ–¥–∞–Ω–æ–º—É –≤ –º–µ—Ç–æ–¥.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ–π–Ω–æ–≥–æ –∫–æ–¥—É. –ó–Ω–∞–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –≤–∏–Ω—è—Ç–∫—ñ–≤ Java —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è, —è–∫–∏–π –∑ –Ω–∏—Ö —î –Ω–∞–π–±—ñ–ª—å—à —Å–µ–º–∞–Ω—Ç–∏—á–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤ –º–µ—Ç–æ–¥—ñ `build()`. –Ø–∫—ñ –≤–∏–Ω—è—Ç–∫–∏ —Ç—É—Ç –¥–æ—Ü—ñ–ª—å–Ω–æ –∫–∏–¥–∞—Ç–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤ `build()` —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∑–∞–≥–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω—É –±—ñ–ª–¥–µ—Ä–∞, –∑–æ–∫—Ä–µ–º–∞ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –ø–æ–ª—ñ–≤.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public static class Builder {
>     // –û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ
>     private String username;
>     // –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ –ø–æ–ª–µ
>     private String email;
>
>     // ... —Å–µ—Ç—Ç–µ—Ä–∏ ...
>
>     public User build() {
>         // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –±—É–ª–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –æ–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ
>         if (username == null || username.isBlank()) {
>             // –ö–∏–¥–∞—î–º–æ, –±–æ —Å—Ç–∞–Ω –±—ñ–ª–¥–µ—Ä–∞ —î –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–º –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞
>             throw new IllegalStateException("–Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º –ø–æ–ª–µ–º");
>         }
>
>         return new User(this);
>     }
> }
> ```
>
> **–Ø–∫–∏–π –≤–∏–Ω—è—Ç–æ–∫ –∫–∏–¥–∞—Ç–∏?**
> –¢—É—Ç –Ω–∞–π–±—ñ–ª—å—à –¥–æ—Ü—ñ–ª—å–Ω–∏–º —î **`IllegalStateException`**. –¶–µ–π –≤–∏–Ω—è—Ç–æ–∫ —Å–∏–≥–Ω–∞–ª—ñ–∑—É—î, —â–æ —Å–∞–º –º–µ—Ç–æ–¥ (`build()`) –≤–∏–∫–ª–∏–∫–∞–Ω–∏–π —É –Ω–µ–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —á–∞—Å –∞–±–æ **—Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞ (–±—ñ–ª–¥–µ—Ä–∞)** –Ω–µ —î –∫–æ—Ä–µ–∫—Ç–Ω–∏–º –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ü—ñ—î—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó. –ê—Ä–≥—É–º–µ–Ω—Ç–∏ –±—É–ª–∏ –∫–æ—Ä–µ–∫—Ç–Ω–∏–º–∏, –∞–ª–µ —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω ‚Äî –Ω—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–í–º—ñ–Ω–Ω—è —Ä–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏ `IllegalArgumentException` —Ç–∞ `IllegalStateException` —Ç–∞ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ —ó—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Å–µ–º–∞–Ω—Ç–∏–∫–∏ –ø–æ–º–∏–ª–∫–∏.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ –¥–≤–∞ –ø—ñ–¥—Ö–æ–¥–∏ –¥–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó: –≤ —Å–µ—Ç—Ç–µ—Ä–∞—Ö vs –≤ `build()`. –Ø–∫—ñ –ø–µ—Ä–µ–≤–∞–≥–∏ —Ç–∞ –Ω–µ–¥–æ–ª—ñ–∫–∏ –∫–æ–∂–Ω–æ–≥–æ? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> | –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤ —Å–µ—Ç—Ç–µ—Ä–∞—Ö (`with...`) | –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤ `build()` |
> |---|---|---|
> | **–ß–∞—Å —Ä–µ–∞–∫—Ü—ñ—ó** | **–†–∞–Ω–Ω—è (Fail-fast)**. –ö–ª—ñ—î–Ω—Ç –æ–¥—Ä–∞–∑—É –¥—ñ–∑–Ω–∞—î—Ç—å—Å—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É. | **–í—ñ–¥–∫–ª–∞–¥–µ–Ω–∞**. –ü–æ–º–∏–ª–∫–∞ –≤–∏—è–≤–ª—è—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–±'—î–∫—Ç. |
> | **–¢–∏–ø –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫** | –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è **–ø—Ä–æ—Å—Ç–∏—Ö, –Ω–µ–∑–∞–ª–µ–∂–Ω–∏—Ö** –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—è. | –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è **–∫–æ–º–ø–ª–µ–∫—Å–Ω–∏—Ö** –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫, **–∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –º—ñ–∂ –ø–æ–ª—è–º–∏** —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –ø–æ–ª—ñ–≤. |
> | **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—è –ª–æ–≥—ñ–∫–∏** | –õ–æ–≥—ñ–∫–∞ **—Ä–æ–∑–∫–∏–¥–∞–Ω–∞** –ø–æ –∫—ñ–ª—å–∫–æ—Ö –º–µ—Ç–æ–¥–∞—Ö. | –í—Å—è –ª–æ–≥—ñ–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó **—Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞** –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ. |
> | **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å** | –ú–æ–∂–µ –±—É—Ç–∏ —Ç—Ä–æ—Ö–∏ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–∏–º, —è–∫—â–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–æ—Ä–æ–≥–∞ —ñ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤. | –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω —Ä–∞–∑. |
> | **–ì–Ω—É—á–∫—ñ—Å—Ç—å** | –ú–µ–Ω—à –≥–Ω—É—á–∫–æ, —è–∫—â–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –æ–¥–Ω–æ–≥–æ –ø–æ–ª—è –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —ñ–Ω—à–æ–≥–æ. | –í–∏—Å–æ–∫–∞ –≥–Ω—É—á–∫—ñ—Å—Ç—å, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—Å—ñ –ø–æ–ª—è –≤–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ñ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏. |
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** –Ω–∞–π–∫—Ä–∞—â–∏–º —î **–≥—ñ–±—Ä–∏–¥–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥**. –ü—Ä–æ—Å—Ç—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ (–Ω–∞ `null` –¥–ª—è –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ –±—ñ–ª–¥–µ—Ä–∞, –±–∞–∑–æ–≤—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤ —Å–µ—Ç—Ç–µ—Ä–∞—Ö) –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –æ–¥—Ä–∞–∑—É, –∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ —Å—Ç–∞–Ω—É ‚Äî –≤ –º–µ—Ç–æ–¥—ñ `build()`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–æ–º–ø—Ä–æ–º—ñ—Å–∏ (trade-offs) —Ä—ñ–∑–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤ —Ç–∞ –∞—Ä–≥—É–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –≤–∏–±—ñ—Ä –Ω–∞–π–∫—Ä–∞—â–æ–≥–æ —Ä—ñ—à–µ–Ω–Ω—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Å–∏—Ç—É–∞—Ü—ñ—ó.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é, —â–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –≤–∑–∞—î–º–æ–∑–≤'—è–∑–æ–∫ –º—ñ–∂ –∫—ñ–ª—å–∫–æ–º–∞ –ø–æ–ª—è–º–∏ (cross-field validation)? –î–µ —ó—ó —Å–ª—ñ–¥ —Ä–æ–∑–º—ñ—â—É–≤–∞—Ç–∏? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ü–µ—Ä–µ–≤—ñ—Ä–∫—É –≤–∑–∞—î–º–æ–∑–≤'—è–∑–∫—É –º—ñ–∂ –ø–æ–ª—è–º–∏ —Å–ª—ñ–¥ —Ä–æ–∑–º—ñ—â—É–≤–∞—Ç–∏ **–≤–∏–∫–ª—é—á–Ω–æ –≤ –º–µ—Ç–æ–¥—ñ `build()`**, –æ—Å–∫—ñ–ª—å–∫–∏ —Ç—ñ–ª—å–∫–∏ –Ω–∞ —Ü—å–æ–º—É –µ—Ç–∞–ø—ñ –≤–∏ –º–∞—î—Ç–µ –≥–∞—Ä–∞–Ω—Ç—ñ—é, —â–æ –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–æ–ª—è –≤–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ.
>
> –†–æ–∑–º—ñ—â—É–≤–∞—Ç–∏ —Ç–∞–∫—É –ª–æ–≥—ñ–∫—É –≤ —Å–µ—Ç—Ç–µ—Ä–∞—Ö –±—É–ª–æ –± –¥—É–∂–µ —Å–∫–ª–∞–¥–Ω–æ, –±–æ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤–∏–∫–ª–∏–∫—É –æ–¥–Ω–æ–≥–æ —Å–µ—Ç—Ç–µ—Ä–∞, —ñ–Ω—à–µ –∑–∞–ª–µ–∂–Ω–µ –ø–æ–ª–µ –º–æ–∂–µ –±—É—Ç–∏ —â–µ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–µ.
>
> **–ü—Ä–∏–∫–ª–∞–¥:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞, —â–æ –¥–∞—Ç–∞ –ø–æ—á–∞—Ç–∫—É –ø–µ—Ä—ñ–æ–¥—É —î —Ä–∞–Ω—ñ—à–µ –∑–∞ –¥–∞—Ç—É –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è.
>
> ```java
> public static class Builder {
>     private LocalDate startDate;
>     private LocalDate endDate;
>
>     public Builder startDate(LocalDate startDate) { this.startDate = startDate; return this; }
>     public Builder endDate(LocalDate endDate) { this.endDate = endDate; return this; }
>
>     public TimePeriod build() {
>         // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —â–æ –æ–±–∏–¥–≤—ñ –¥–∞—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ
>         if (startDate == null || endDate == null) {
>             throw new IllegalStateException("–û–±–∏–¥–≤—ñ –¥–∞—Ç–∏, –ø–æ—á–∞—Ç–∫—É —Ç–∞ –∫—ñ–Ω—Ü—è, —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º–∏");
>         }
>
>         // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∑–∞—î–º–æ–∑–≤'—è–∑–∫—É
>         if (startDate.isAfter(endDate)) {
>             throw new IllegalStateException("–î–∞—Ç–∞ –ø–æ—á–∞—Ç–∫—É –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø—ñ—Å–ª—è –¥–∞—Ç–∏ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è");
>         }
>
>         return new TimePeriod(this);
>     }
> }
> ```
>
> –¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —â–æ `build()` —î —ñ–¥–µ–∞–ª—å–Ω–∏–º –º—ñ—Å—Ü–µ–º –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤, —è–∫—ñ –æ—Ö–æ–ø–ª—é—é—Ç—å –≤–µ—Å—å —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —á–æ–º—É –ø–µ–≤–Ω—ñ –≤–∏–¥–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω—ñ —Ç—ñ–ª—å–∫–∏ –Ω–∞ –ø–µ–≤–Ω–æ–º—É –µ—Ç–∞–ø—ñ –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É –±—ñ–ª–¥–µ—Ä–∞.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –Ω–∞–π–∫—Ä–∞—â–µ –æ–±—Ä–æ–±–∏—Ç–∏ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ (required) —Ç–∞ –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ (optional) –ø–æ–ª—è –ø—Ä–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–π–∫—Ä–∞—â–∏–π –ø—ñ–¥—Ö—ñ–¥ ‚Äî —Ü–µ —á—ñ—Ç–∫–æ —Ä–æ–∑–¥—ñ–ª–∏—Ç–∏ —ó—Ö —É –¥–∏–∑–∞–π–Ω—ñ –±—ñ–ª–¥–µ—Ä–∞:
>
> 1. **–û–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è** –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ **–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±—ñ–ª–¥–µ—Ä–∞**.
>     * –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –Ω–µ–º–æ–∂–ª–∏–≤–æ –Ω–∞–≤—ñ—Ç—å —Å—Ç–≤–æ—Ä–∏—Ç–∏ –±—ñ–ª–¥–µ—Ä, –Ω–µ –Ω–∞–¥–∞–≤—à–∏ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö.
>     * –ü–µ—Ä–µ–≤—ñ—Ä–∫—É –Ω–∞ `null` –¥–ª—è –Ω–∏—Ö –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –ø—Ä—è–º–æ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ –±—ñ–ª–¥–µ—Ä–∞.
>
> 2. **–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –ø–æ–ª—è** –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ **–º–µ—Ç–æ–¥–∏-—Å–µ—Ç—Ç–µ—Ä–∏** (`with...`).
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public static class Builder {
>     // –û–±–æ–≤'—è–∑–∫–æ–≤—ñ, —Ç–æ–º—É final
>     private final String username;
>     private final String password;
>
>     // –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ
>     private int age = 0;
>
>     // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –ø–æ–ª—ñ–≤
>     public Builder(String username, String password) {
>         this.username = Objects.requireNonNull(username);
>         this.password = Objects.requireNonNull(password);
>     }
>
>     // –°–µ—Ç—Ç–µ—Ä –¥–ª—è –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—è
>     public Builder age(int age) { this.age = age; return this; }
>
>     public User build() {
>         // –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ
>         return new User(this);
>     }
> }
>
> // –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
> // –ù–µ–º–æ–∂–ª–∏–≤–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –±—ñ–ª–¥–µ—Ä –±–µ–∑ username —Ç–∞ password
> User user = new User.Builder("admin", "pass").age(30).build();
> ```
> –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ —Ä–æ–±–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç –∫–ª–∞—Å—É –¥—É–∂–µ —á—ñ—Ç–∫–∏–º —ñ –∑–∞–ø–æ–±—ñ–≥–∞—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—é –±—ñ–ª–¥–µ—Ä–∞ –≤ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ–º—É —Å—Ç–∞–Ω—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–í–º—ñ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É–≤–∞—Ç–∏ API, —è–∫–∏–π —î "—Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–º" —Ç–∞ –±–µ–∑–ø–µ—á–Ω–∏–º –∑–∞–≤–¥—è–∫–∏ —Å–≤–æ—î–º—É –¥–∏–∑–∞–π–Ω—É.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –Ω–µ –≤–∞—Ä—Ç–æ –∫–∏–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º—ñ –≤–∏–Ω—è—Ç–∫–∏ (checked exceptions) –∑ –º–µ—Ç–æ–¥—É `build()` –∞–±–æ —Å–µ—Ç—Ç–µ—Ä—ñ–≤? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ö–∏–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º—ñ –≤–∏–Ω—è—Ç–∫–∏ –∑ –º–µ—Ç–æ–¥—ñ–≤ `Builder` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `throws ValidationException`) —î –ø–æ–≥–∞–Ω–æ—é –ø—Ä–∞–∫—Ç–∏–∫–æ—é –∑ –∫—ñ–ª—å–∫–æ—Ö –ø—Ä–∏—á–∏–Ω:
>
> 1. **–ó–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–≥–æ –∫–æ–¥—É:** –¶–µ –∑–º—É—à—É—î –∫–ª—ñ—î–Ω—Ç–∞ –æ–±—Ä–æ–±–ª—è—Ç–∏ —Ü—ñ –≤–∏–Ω—è—Ç–∫–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `try-catch` –±–ª–æ–∫—ñ–≤, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤—ñ–Ω –≤–ø–µ–≤–Ω–µ–Ω–∏–π, —â–æ –ø–µ—Ä–µ–¥–∞—î –∫–æ—Ä–µ–∫—Ç–Ω—ñ –¥–∞–Ω—ñ. –¶–µ —Ä–æ–±–∏—Ç—å –∫–æ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ –≥—Ä–æ–º—ñ–∑–¥–∫–∏–º.
>
> 2. **–ü—Ä–æ—Ç–∏—Ä—ñ—á—á—è –∑ "–ø–ª–∏–Ω–Ω–∏–º —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º" (Fluent Interface):** –ö–æ–∂–µ–Ω –≤–∏–∫–ª–∏–∫ —É –ª–∞–Ω—Ü—é–∂–∫—É `builder.field1(...).field2(...)` –º–∞–≤ –±–∏ –±—É—Ç–∏ –æ–±–≥–æ—Ä–Ω—É—Ç–∏–π –≤ `try-catch`, —â–æ –ø–æ–≤–Ω—ñ—Å—Ç—é —Ä—É–π–Ω—É—î —ñ–¥–µ—é –ø–ª–∏–Ω–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.
>
> 3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ —Å–µ–º–∞–Ω—Ç–∏–∫–∞:** –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º—ñ –≤–∏–Ω—è—Ç–∫–∏ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –¥–ª—è –ø–æ–º–∏–ª–æ–∫, —è–∫—ñ –∫–ª—ñ—î–Ω—Ç –º–æ–∂–µ –æ—á—ñ–∫—É–≤–∞—Ç–∏ —ñ –≤—ñ–¥ —è–∫–∏—Ö –≤—ñ–Ω –º–æ–∂–µ –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏—Å—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `IOException`). –ù–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –∞–±–æ —Å—Ç–∞–Ω ‚Äî —Ü–µ **–ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç—Å—å–∫–∞ –ø–æ–º–∏–ª–∫–∞**, —è–∫—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ "–æ–±—Ä–æ–±–ª—è—Ç–∏", –∞ –ø–æ—Ç—Ä—ñ–±–Ω–æ "–≤–∏–ø—Ä–∞–≤–ª—è—Ç–∏" –≤ –∫–æ–¥—ñ.
>
> –°–∞–º–µ —Ç–æ–º—É –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤ `Builder` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –Ω–µ–ø–µ—Ä–µ–≤—ñ—Ä—è—î–º—ñ –≤–∏–Ω—è—Ç–∫–∏ (`RuntimeException`), —Ç–∞–∫—ñ —è–∫ `IllegalArgumentException` —Ç–∞ `IllegalStateException`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–∏–º–∏ —Ç–∞ –Ω–µ–ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–∏–º–∏ –≤–∏–Ω—è—Ç–∫–∞–º–∏ —Ç–∞ —Å–µ–º–∞–Ω—Ç–∏–∫–∏ —ó—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `java.util.Objects.requireNonNull` –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤ –±—ñ–ª–¥–µ—Ä—ñ? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `Objects.requireNonNull` ‚Äî —Ü–µ —ñ–¥–µ–∞–ª—å–Ω–∏–π —É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –ø–æ–ª—ñ–≤ –Ω–∞ `null`. –í—ñ–Ω —Ä–æ–±–∏—Ç—å –∫–æ–¥ –∑–Ω–∞—á–Ω–æ –±—ñ–ª—å—à —Å—Ç–∏—Å–ª–∏–º —ñ —á–∏—Ç–∞–±–µ–ª—å–Ω–∏–º.
>
> –ó–∞–∑–≤–∏—á–∞–π –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å **–≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ –±—ñ–ª–¥–µ—Ä–∞** –¥–ª—è –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤.
>
> **–ó–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ:**
>
> ```java
> public Builder(String username) {
>     if (username == null) {
>         throw new NullPointerException("Username –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ null");
>     }
>     this.username = username;
> }
> ```
>
> **–ü–∏—à–µ—Ç—å—Å—è —Ç–∞–∫:**
>
> ```java
> import java.util.Objects;
>
> public Builder(String username) {
>     this.username = Objects.requireNonNull(username, "Username –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ null");
> }
> ```
>
> –¶–µ–π –º–µ—Ç–æ–¥ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –æ–±'—î–∫—Ç –Ω–∞ `null`. –Ø–∫—â–æ –≤—ñ–Ω `null`, –º–µ—Ç–æ–¥ –∫–∏–¥–∞—î `NullPointerException` –∑ –ø–µ—Ä–µ–¥–∞–Ω–∏–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º. –Ø–∫—â–æ –Ω—ñ, –≤—ñ–Ω –ø–æ–≤–µ—Ä—Ç–∞—î —Å–∞–º –æ–±'—î–∫—Ç, —â–æ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –≤ –ª–∞–Ω—Ü—é–∂–∫—É –ø—Ä–∏—Å–≤–æ—î–Ω—å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏—Ö —É—Ç–∏–ª—ñ—Ç JDK, —â–æ —Å–ø—Ä–æ—â—É—é—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –∫–æ–¥—É, —Ç–∞ "best practices" –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –Ω–∞ `null`.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—â–æ —É –±—ñ–ª–¥–µ—Ä–∞ –±–∞–≥–∞—Ç–æ —Å–∫–ª–∞–¥–Ω–∏—Ö –ø—Ä–∞–≤–∏–ª –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó, —è–∫ –º–æ–∂–Ω–∞ –æ—Ä–≥–∞–Ω—ñ–∑—É–≤–∞—Ç–∏ –∫–æ–¥, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –æ–¥–Ω–æ–≥–æ –≤–µ–ª–∏—á–µ–∑–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É `build()`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫—â–æ –º–µ—Ç–æ–¥ `build()` —Å—Ç–∞—î –∑–∞–Ω–∞–¥—Ç–æ –≤–µ–ª–∏–∫–∏–º —ñ –º—ñ—Å—Ç–∏—Ç—å –±–∞–≥–∞—Ç–æ –ª–æ–≥—ñ–∫–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó, –π–æ–≥–æ –º–æ–∂–Ω–∞ —ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç–∏.
>
> **–ü—ñ–¥—Ö–æ–¥–∏ –¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É:**
>
> 1. **–í–∏–Ω–µ—Å–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ –≤ –ø—Ä–∏–≤–∞—Ç–Ω—ñ –º–µ—Ç–æ–¥–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó:**
>     * –†–æ–∑–±–∏—Ç–∏ –≤–µ–ª–∏–∫–∏–π `if` –Ω–∞ –∫—ñ–ª—å–∫–∞ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –±—ñ–ª–¥–µ—Ä–∞, –∫–æ–∂–µ–Ω –∑ —è–∫–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –ø–µ–≤–Ω—É –≥—Ä—É–ø—É –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫.
>
>     ```java
>     public User build() {
>         validateRequiredFields();
>         validateBusinessRules();
>         validateFieldConsistency();
>         return new User(this);
>     }
>
>     private void validateRequiredFields() { /* ... */ }
>     private void validateBusinessRules() { /* ... */ }
>     ```
>
> 2. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–∫—Ä–µ–º–æ–≥–æ –∫–ª–∞—Å—É-–≤–∞–ª—ñ–¥–∞—Ç–æ—Ä–∞ (–ø–∞—Ç–µ—Ä–Ω `Strategy`):**
>
>     * –Ø–∫—â–æ –ª–æ–≥—ñ–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –¥—É–∂–µ —Å–∫–ª–∞–¥–Ω–∞ –∞–±–æ –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è, —ó—ó –º–æ–∂–Ω–∞ –≤–∏–Ω–µ—Å—Ç–∏ –≤ –æ–∫—Ä–µ–º–∏–π –∫–ª–∞—Å `Validator`.
>     * –ë—ñ–ª–¥–µ—Ä –º–æ–∂–µ –∞–±–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä, –∞–±–æ –ø—Ä–∏–π–º–∞—Ç–∏ –π–æ–≥–æ —è–∫ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å.
>
>     ```java
>     public User build() {
>         UserValidator validator = new UserValidator();
>         validator.validate(this); // –ø–µ—Ä–µ–¥–∞—î–º–æ —Å–∞–º –±—ñ–ª–¥–µ—Ä –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
>         return new User(this);
>     }
>     ```
>
> 3. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫ –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Bean Validation API - JSR 380`):**
>     * –ü–æ–ª—è –±—ñ–ª–¥–µ—Ä–∞ –º–æ–∂–Ω–∞ –∞–Ω–æ—Ç—É–≤–∞—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `@NotNull`, `@Min(18)`), –∞ –≤ –º–µ—Ç–æ–¥—ñ `build()` –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä, —è–∫–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç—å —É—Å—ñ –ø—Ä–∞–≤–∏–ª–∞. –¶–µ –Ω–∞–π–±—ñ–ª—å—à –ø–æ—Ç—É–∂–Ω–∏–π —Ç–∞ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤.
>
> –ü–µ—Ä—à–∏–π –ø—ñ–¥—Ö—ñ–¥ (–ø—Ä–∏–≤–∞—Ç–Ω—ñ –º–µ—Ç–æ–¥–∏) —î –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–º —ñ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏–º –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ù–∞–≤–∏—á–∫–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∏ —á–∏—Å—Ç–æ–≥–æ –∫–æ–¥—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ä–æ–∑–±–∏—Ç—Ç—è –≤–µ–ª–∏–∫–∏—Ö –º–µ—Ç–æ–¥—ñ–≤) —Ç–∞ —ñ–Ω—à—ñ –ø–∞—Ç–µ—Ä–Ω–∏ (`Strategy`) –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —è–∫–æ—Å—Ç—ñ –∫–æ–¥—É.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤ `Builder`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —î –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∏–º. –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —è–∫ –ø–æ–∑–∏—Ç–∏–≤–Ω—ñ, —Ç–∞–∫ —ñ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó.
>
> **–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏:**
>
> 1. **–ü–æ–∑–∏—Ç–∏–≤–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ `build()` —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç, –∫–æ–ª–∏ –≤—Å—ñ –¥–∞–Ω—ñ –∫–æ—Ä–µ–∫—Ç–Ω—ñ.
>
> 2. **–ù–µ–≥–∞—Ç–∏–≤–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –¥–ª—è –∫–æ–∂–Ω–æ—ó –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó:**
>     * –î–ª—è –∫–æ–∂–Ω–æ—ó —É–º–æ–≤–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç–∏ –æ–∫—Ä–µ–º–∏–π —Ç–µ—Å—Ç, —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —â–æ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á—ñ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏—Ö –¥–∞–Ω–∏—Ö –∫–∏–¥–∞—î—Ç—å—Å—è **–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ç–∏–ø –≤–∏–Ω—è—Ç–∫—É** (`IllegalArgumentException` –∞–±–æ `IllegalStateException`).
>     * –¢–∞–∫–æ–∂ –±–∞–∂–∞–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ **–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** —É –≤–∏–Ω—è—Ç–∫—É, —â–æ–± –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –≤–æ–Ω–æ —î —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∏–º.
>
> **–ü—Ä–∏–∫–ª–∞–¥ —Ç–µ—Å—Ç—É –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º JUnit 5:**
>
> ```java
> import static org.junit.jupiter.api.Assertions.*;
>
> class UserBuilderTest {
>
>     @Test
>     void build_shouldThrowException_whenUsernameIsNull() {
>         // –û—á—ñ–∫—É—î–º–æ, —â–æ –±—É–¥–µ –∫–∏–Ω—É—Ç–æ IllegalStateException
>         IllegalStateException exception = assertThrows(
>             IllegalStateException.class,
>             () -> new User.Builder(null, "password").build() // –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –¥–∞–Ω—ñ
>         );
>
>         // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤–∏–Ω—è—Ç–∫—É
>         assertEquals("–Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º", exception.getMessage());
>     }
>
>     @Test
>     void withAge_shouldThrowException_whenAgeIsNegative() {
>         User.Builder builder = new User.Builder("test", "pass");
>
>         // –û—á—ñ–∫—É—î–º–æ IllegalArgumentException
>         assertThrows(IllegalArgumentException.class, () -> builder.age(-5));
>     }
> }
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è. –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è —é–Ω—ñ—Ç-—Ç–µ—Å—Ç—ñ–≤ –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ–π–Ω–æ—ó –ª–æ–≥—ñ–∫–∏, –∑–æ–∫—Ä–µ–º–∞, –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤–∏–Ω—è—Ç–∫—ñ–≤.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `Builder` –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö (–∑–º—ñ–Ω–Ω–∏—Ö) –æ–±'—î–∫—Ç—ñ–≤? –Ø–∫—â–æ —Ç–∞–∫, —Ç–æ —á–∏ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –ø—ñ–¥—Ö—ñ–¥ –¥–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, `Builder` –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ –¥–ª—è –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤. –¶–µ –º–µ–Ω—à –ø–æ—à–∏—Ä–µ–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π (–∑–∞–∑–≤–∏—á–∞–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å JavaBeans-–ø—ñ–¥—Ö—ñ–¥ –∑ —Å–µ—Ç—Ç–µ—Ä–∞–º–∏), –∞–ª–µ –º–æ–∂–µ –±—É—Ç–∏ –∫–æ—Ä–∏—Å–Ω–∏–º, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω—É —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é –æ–±'—î–∫—Ç–∞ –∑—ñ —Å–∫–ª–∞–¥–Ω–∏–º–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏.
>
> **–ß–∏ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –ø—ñ–¥—Ö—ñ–¥ –¥–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó?**
>
> –ó–∞–≥–∞–ª–æ–º, –Ω—ñ. –ü—Ä–∏–Ω—Ü–∏–ø–∏ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è —Ç–∏–º–∏ –∂:
>
> * –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ `build()` –≤—Å–µ —â–µ –≤–∞–∂–ª–∏–≤–∞, —â–æ–± –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏, —â–æ –æ–±'—î–∫—Ç —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –≤ **–ø–æ—á–∞—Ç–∫–æ–≤–æ–º—É –∫–æ—Ä–µ–∫—Ç–Ω–æ–º—É —Å—Ç–∞–Ω—ñ**.
> * –û–¥–Ω–∞–∫, –æ—Å–∫—ñ–ª—å–∫–∏ –æ–±'—î–∫—Ç —î –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º, –∑'—è–≤–ª—è—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –æ–±–æ–≤'—è–∑–æ–∫: **–≤–∞–ª—ñ–¥–∞—Ü—ñ—è –º–∞—î –±—É—Ç–∏ –ø—Ä–∏—Å—É—Ç–Ω—è —ñ –≤ —Å–∞–º–∏—Ö —Å–µ—Ç—Ç–µ—Ä–∞—Ö –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–ª–∞—Å—É**, —â–æ–± –∑–∞–ø–æ–±—ñ–≥—Ç–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—é –æ–±'—î–∫—Ç–∞ –≤ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π —Å—Ç–∞–Ω **–ø—ñ—Å–ª—è** –π–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public class MutableUser {
>     private int age;
>
>     // ...
>
>     // –°–µ—Ç—Ç–µ—Ä –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–ª–∞—Å—É —Ç–∞–∫–æ–∂ –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é
>     public void setAge(int age) {
>         if (age <= 0) {
>             throw new IllegalArgumentException("–í—ñ–∫ –º–∞—î –±—É—Ç–∏ –ø–æ–∑–∏—Ç–∏–≤–Ω–∏–º");
>         }
>         this.age = age;
>     }
> }
> ```
>
> `Builder` –≤ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –ª–∏—à–µ –¥–æ–ø–æ–º–∞–≥–∞—î –∑ –ø–æ—á–∞—Ç–∫–æ–≤–æ—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—î—é, –∞–ª–µ –Ω–µ –∑–≤—ñ–ª—å–Ω—è—î —Å–∞–º –∫–ª–∞—Å –≤—ñ–¥ –æ–±–æ–≤'—è–∑–∫—É –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Å–≤–æ—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –ø—Ä–æ—Ç—è–≥–æ–º —É—Å—å–æ–≥–æ –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –≤–ø–ª–∏–≤–∞—î –Ω–∞ –æ–±–æ–≤'—è–∑–∫–∏ –∫–ª–∞—Å—É —Ç–∞ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –Ω–µ —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ, –∞–ª–µ –π –ø—Ä–∏ –∫–æ–∂–Ω—ñ–π –∑–º—ñ–Ω—ñ —Å—Ç–∞–Ω—É.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `Builder` –º–æ–∂–µ –±—É—Ç–∏ –∫—Ä–∞—â–∏–º –∑–∞ —Ç–µ–ª–µ—Å–∫–æ–ø—ñ—á–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–∞–≤—ñ—Ç—å –¥–ª—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ –±–µ–∑ –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏—Ö –ø–æ–ª—ñ–≤? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–≤—ñ—Ç—å —è–∫—â–æ –≤—Å—ñ –ø–æ–ª—è –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ, `Builder` –º–æ–∂–µ –º–∞—Ç–∏ –ø–µ—Ä–µ–≤–∞–≥—É –≤ **—á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ —Ç–∞ –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—ñ –ø–æ–º–∏–ª–æ–∫**, –æ—Å–æ–±–ª–∏–≤–æ —è–∫—â–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏–π–º–∞—î –∫—ñ–ª—å–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ **–æ–¥–Ω–æ–≥–æ —ñ —Ç–æ–≥–æ –∂ —Ç–∏–ø—É**.
>
> **–ü—Ä–æ–±–ª–µ–º–∞ –∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º:**
>
> ```java
> // –©–æ —î —â–æ? –õ–µ–≥–∫–æ –ø–µ—Ä–µ–ø–ª—É—Ç–∞—Ç–∏ sender —ñ recipient.
> Message message = new Message("john@example.com", "jane@example.com", "Hello!");
> ```
>
> –†–æ–∑—Ä–æ–±–Ω–∏–∫ –º–æ–∂–µ –≤–∏–ø–∞–¥–∫–æ–≤–æ –ø–µ—Ä–µ–ø–ª—É—Ç–∞—Ç–∏ –º—ñ—Å—Ü—è–º–∏ `sender` —Ç–∞ `recipient`, —ñ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä —Ü—å–æ–≥–æ –Ω–µ –ø–æ–º—ñ—Ç–∏—Ç—å, –æ—Å–∫—ñ–ª—å–∫–∏ –æ–±–∏–¥–≤–∞ —î `String`.
>
> **–†—ñ—à–µ–Ω–Ω—è –∑ `Builder`:**
>
> ```java
> Message message = Message.builder()
>                            .sender("john@example.com")
>                            .recipient("jane@example.com")
>                            .text("Hello!")
>                            .build();
> ```
>
> –¢—É—Ç –∑–∞–≤–¥—è–∫–∏ —ñ–º–µ–Ω–æ–≤–∞–Ω–∏–º –º–µ—Ç–æ–¥–∞–º –ø–µ—Ä–µ–ø–ª—É—Ç–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –Ω–µ–º–æ–∂–ª–∏–≤–æ. –ö–æ–¥ —Å—Ç–∞—î "—Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–º", —â–æ –∑–Ω–∞—á–Ω–æ –∑–Ω–∏–∂—É—î —Ä–∏–∑–∏–∫ –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç—Å—å–∫–∏—Ö –ø–æ–º–∏–ª–æ–∫. –ù–∞–≤—ñ—Ç—å –ø—Ä–∏ —Ç—Ä—å–æ—Ö-—á–æ—Ç–∏—Ä—å–æ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö —Ü—è –ø–µ—Ä–µ–≤–∞–≥–∞ –≤–∂–µ —î —Å—É—Ç—Ç—î–≤–æ—é.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø–µ—Ä–µ–≤–∞–≥ `Builder`, —è–∫–µ –≤–∏—Ö–æ–¥–∏—Ç—å –∑–∞ —Ä–∞–º–∫–∏ –ø—Ä–æ—Å—Ç–æ—ó –æ–±—Ä–æ–±–∫–∏ –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏—Ö –ø–æ–ª—ñ–≤. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –ø–∞—Ç–µ—Ä–Ω –ø–æ–∫—Ä–∞—â—É—î –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å –∫–æ–¥—É.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –≤ `Builder` –ø–æ–≤'—è–∑–∞–Ω–∞ –∑ —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏ –∫–ª–∞—Å—É? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–Ü–Ω–≤–∞—Ä—ñ–∞–Ω—Ç –∫–ª–∞—Å—É** ‚Äî —Ü–µ —É–º–æ–≤–∞, —è–∫–∞ –º–∞—î –±—É—Ç–∏ —ñ—Å—Ç–∏–Ω–Ω–æ—é –¥–ª—è –æ–±'—î–∫—Ç–∞ –ø—Ä–æ—Ç—è–≥–æ–º —É—Å—å–æ–≥–æ –π–æ–≥–æ –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É (–ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞). –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –∫–ª–∞—Å—É `TimePeriod` —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–æ–º —î —Ç–µ, —â–æ `startDate` –∑–∞–≤–∂–¥–∏ –º–∞—î –±—É—Ç–∏ –¥–æ `endDate`.
>
> **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤ `Builder` —î –∫–ª—é—á–æ–≤–∏–º –º–µ—Ö–∞–Ω—ñ–∑–º–æ–º –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞–Ω–Ω—è —Ü–∏—Ö —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤.**
>
> 1. **–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤:**
>     –õ–æ–≥—ñ–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó, –æ—Å–æ–±–ª–∏–≤–æ –≤ –º–µ—Ç–æ–¥—ñ `build()`, –ø–µ—Ä–µ–≤—ñ—Ä—è—î –≤—Å—ñ —É–º–æ–≤–∏ –ø–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º –æ–±'—î–∫—Ç–∞. –Ø–∫—â–æ —è–∫–∞—Å—å —É–º–æ–≤–∞ –ø–æ—Ä—É—à–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `startDate` –ø—ñ—Å–ª—è `endDate`), `build()` –∫–∏–¥–∞—î –≤–∏–Ω—è—Ç–æ–∫ —ñ **–Ω–µ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–±'—î–∫—Ç —É –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ–º—É —Å—Ç–∞–Ω—ñ**.
>
> 2. **–ì–∞—Ä–∞–Ω—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ (–¥–ª—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤):**
>     –Ø–∫—â–æ –æ—Å–Ω–æ–≤–Ω–∏–π –∫–ª–∞—Å —î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º (–º–∞—î `private final` –ø–æ–ª—è —Ç–∞ –Ω–µ –º–∞—î —Å–µ—Ç—Ç–µ—Ä—ñ–≤), —Ç–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤ `build()` **–¥–æ—Å—Ç–∞—Ç–Ω—å–æ**, —â–æ–± –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç –ø—Ä–æ—Ç—è–≥–æ–º —É—Å—å–æ–≥–æ –∂–∏—Ç—Ç—è –æ–±'—î–∫—Ç–∞. –û—Å–∫—ñ–ª—å–∫–∏ —Å—Ç–∞–Ω –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç, –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –æ–¥–∏–Ω —Ä–∞–∑, –Ω—ñ–∫–æ–ª–∏ –Ω–µ –±—É–¥–µ –ø–æ—Ä—É—à–µ–Ω–æ.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `Builder` –∑ –π–æ–≥–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é –≤–∏—Å—Ç—É–ø–∞—î —è–∫ "–æ—Ö–æ—Ä–æ–Ω–µ—Ü—å", —è–∫–∏–π –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—î –≤ —Å–∏—Å—Ç–µ–º—É –æ–±'—î–∫—Ç–∏, —â–æ –ø–æ—Ä—É—à—É—é—Ç—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ (—ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–∏) —Å–≤–æ–≥–æ –∫–ª–∞—Å—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–æ–≤'—è–∑—É–≤–∞—Ç–∏ –ø–∞—Ç–µ—Ä–Ω–∏ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –∑ –±—ñ–ª—å—à —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏–º–∏ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—è–º–∏ –û–û–ü, —Ç–∞–∫–∏–º–∏ —è–∫ —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–∏ –∫–ª–∞—Å—É —Ç–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å —Å—Ç–∞–Ω—É.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, `build()` –≤–∞—à–æ–≥–æ –±—ñ–ª–¥–µ—Ä–∞ –∫–∏–¥–∞—î `IllegalStateException`. –ß–∏ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –±—ñ–ª–¥–µ—Ä —É –∫–æ—Ä–µ–∫—Ç–Ω–æ–º—É —Å—Ç–∞–Ω—ñ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, –∑–∞–∑–≤–∏—á–∞–π –≤—ñ–Ω –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤ –∫–æ—Ä–µ–∫—Ç–Ω–æ–º—É —Å—Ç–∞–Ω—ñ. –¶–µ –æ–¥–Ω–∞ –∑ –ø–µ—Ä–µ–≤–∞–≥ `Builder` –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ –¥–µ—è–∫–∏–º–∏ —ñ–Ω—à–∏–º–∏ –ø—ñ–¥—Ö–æ–¥–∞–º–∏.
>
> **–ß–æ–º—É —Ç–∞–∫:**
>
> 1. –ú–µ—Ç–æ–¥ `build()` –∑–∞–∑–≤–∏—á–∞–π –Ω–µ –∑–º—ñ–Ω—é—î —Å—Ç–∞–Ω —Å–∞–º–æ–≥–æ –±—ñ–ª–¥–µ—Ä–∞. –í—ñ–Ω –ª–∏—à–µ **–∑—á–∏—Ç—É—î** –π–æ–≥–æ –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ç–∞ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞.
> 2. –Ø–∫—â–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –≤ `build()` –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —ñ –∫–∏–¥–∞—î—Ç—å—Å—è –≤–∏–Ω—è—Ç–æ–∫, –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –º–µ—Ç–æ–¥—É –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Ä–∏–≤–∞—î—Ç—å—Å—è. –°—Ç–∞–Ω –ø–æ–ª—ñ–≤ –±—ñ–ª–¥–µ—Ä–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —Ç–∞–∫–∏–º, —è–∫–∏–º –≤—ñ–Ω –±—É–≤ –¥–æ –≤–∏–∫–ª–∏–∫—É `build()`.
>
> **–°—Ü–µ–Ω–∞—Ä—ñ–π –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
>
> ```java
> User.Builder builder = new User.Builder("John", null); // –ó–∞–±—É–ª–∏ –ø—Ä—ñ–∑–≤–∏—â–µ
>
> try {
>     builder.build(); // –ö–∏–¥–∞—î IllegalStateException
> } catch (IllegalStateException e) {
>     System.out.println("–ü–æ–º–∏–ª–∫–∞: " + e.getMessage());
> }
>
> // –í–∏–ø—Ä–∞–≤–ª—è—î–º–æ –ø–æ–º–∏–ª–∫—É, –Ω–µ —Å—Ç–≤–æ—Ä—é—é—á–∏ –Ω–æ–≤–∏–π –±—ñ–ª–¥–µ—Ä
> builder.lastName("Doe");
> User user = builder.build(); // –¢–µ–ø–µ—Ä –≤—Å–µ –¥–æ–±—Ä–µ
>
> System.out.println("–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Å—Ç–≤–æ—Ä–µ–Ω–æ: " + user);
> ```
>
> –¶–µ —Ä–æ–±–∏—Ç—å `Builder` –¥–æ—Å–∏—Ç—å –≥–Ω—É—á–∫–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –Ω–∞–≤—ñ—Ç—å –ø—Ä–∏ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –ø–æ–º–∏–ª–æ–∫ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ –º–æ–∂–µ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ —Å—Ç–∞–Ω –±—ñ–ª–¥–µ—Ä–∞ —ñ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–±'—î–∫—Ç —â–µ —Ä–∞–∑.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É –±—ñ–ª–¥–µ—Ä–∞ —Ç–∞ —Ç–æ–≥–æ, —è–∫ –≤—ñ–Ω –ø–æ–≤–æ–¥–∏—Ç—å—Å—è –≤ "–ø–æ–º–∏–ª–∫–æ–≤–∏—Ö" —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö. –ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å—Ç–∞–Ω –æ–±'—î–∫—Ç—ñ–≤ –ø—ñ—Å–ª—è –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—è –≤–∏–Ω—è—Ç–∫—ñ–≤.*
