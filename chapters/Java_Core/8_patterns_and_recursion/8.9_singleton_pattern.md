---
layout: default
title: "Singleton Pattern"
parent: "Patterns and Recursion"
grand_parent: "Java Core"
nav_order: 9
---

# Singleton Pattern

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –ü–æ—Ä–æ–¥–∂—É–≤–∞–ª—å–Ω–∏–π —à–∞–±–ª–æ–Ω –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è, —â–æ –≥–∞—Ä–∞–Ω—Ç—É—î —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –ª–∏—à–µ –æ–¥–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—É –≤ —Å–∏—Å—Ç–µ–º—ñ —Ç–∞ –Ω–∞–¥–∞—î –≥–ª–æ–±–∞–ª—å–Ω—É —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø—É –¥–æ –Ω—å–æ–≥–æ.

* –ø–æ–Ω—è—Ç—Ç—è: `Singleton Pattern`, `–õ—ñ–Ω–∏–≤–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è` (lazy), `–ñ–∞–¥—ñ–±–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è` (eager), `Double-checked locking`, `Enum-based Singleton`, `–ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ–∫–∞`, `–ê–Ω—Ç–∏–ø–∞—Ç–µ—Ä–Ω`.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `–õ–æ–≥–µ—Ä–∏`, `–∫–ª–∞—Å–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó`, `—î–¥–∏–Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö`. –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä + `static getInstance()`, `DCL`, `Enum-—Ç–∏–ø`.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –û—Å–Ω–æ–≤–Ω–∞ –º–µ—Ç–∞ ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤; –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ–∫–∏ –ø—Ä–∏ –ª—ñ–Ω–∏–≤—ñ–π —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó (–≤–∏—Ä—ñ—à—É—î—Ç—å—Å—è `DCL` –∞–±–æ `Enum`); `Enum-–ø—ñ–¥—Ö—ñ–¥` —î –Ω–∞–π–±—ñ–ª—å—à —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–º; —á–∞—Å—Ç–æ –≤–≤–∞–∂–∞—î—Ç—å—Å—è –∞–Ω—Ç–∏–ø–∞—Ç–µ—Ä–Ω–æ–º —á–µ—Ä–µ–∑ –ø–æ—Ä—É—à–µ–Ω–Ω—è `SRP`, —É—Å–∫–ª–∞–¥–Ω–µ–Ω–Ω—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏—Ö –≥–ª–æ–±–∞–ª—å–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è, —Å–ø–æ—Å–æ–±–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó (–∑–æ–∫—Ä–µ–º–∞ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ: `DCL`, `Enum`), —á–æ–º—É –≤—ñ–Ω –≤–≤–∞–∂–∞—î—Ç—å—Å—è –∞–Ω—Ç–∏–ø–∞—Ç–µ—Ä–Ω–æ–º, —è–∫ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è, –≤–∏–ø—Ä–∞–≤–¥–∞–Ω—ñ –≤–∏–ø–∞–¥–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è, –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –≤—ñ–¥ –ø—Ä–æ—Å—Ç–æ—ó `static` –∑–º—ñ–Ω–Ω–æ—ó.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**Singleton Pattern** ‚Äî —Ü–µ –ø–æ—Ä–æ–¥–∂—É–≤–∞–ª—å–Ω–∏–π —à–∞–±–ª–æ–Ω –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è, —è–∫–∏–π –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –∫–ª–∞—Å –º–∞—î –ª–∏—à–µ –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä, —ñ –Ω–∞–¥–∞—î –≥–ª–æ–±–∞–ª—å–Ω—É —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø—É –¥–æ –Ω—å–æ–≥–æ.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¶–µ –∫–ª–∞—Å, —è–∫–∏–π –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω —Ä–∞–∑. –¢–∏–ø—É ‚Äú—î–¥–∏–Ω–∏–π –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç –∫—Ä–∞—ó–Ω–∏‚Äù –∞–±–æ ‚Äú—î–¥–∏–Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö‚Äù. –í–∏–∫–ª–∏–∫–∞—î—à **`getInstance()`** ‚Äî —ñ –∑–∞–≤–∂–¥–∏ –æ—Ç—Ä–∏–º—É—î—à —Ç–æ–π —Å–∞–º–∏–π –æ–±'—î–∫—Ç.

---

## **üìä –í–∞—Ä—ñ–∞–Ω—Ç–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó Singleton –≤ Java:**

| –¢–∏–ø —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó                | –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ                                       |
|-------------------------------|---------------------------------------------------|
| –õ—ñ–Ω–∏–≤–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è (lazy)   | –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤–∏–∫–ª–∏–∫—É                   |
| –ñ–∞–¥—ñ–±–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è (eager) | –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –æ–¥—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–ª–∞—Å—É         |
| Double-checked locking        | –ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∞ –ª—ñ–Ω–∏–≤–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è               |
| Enum-based Singleton          | –ù–∞–π–±–µ–∑–ø–µ—á–Ω—ñ—à–∞, –ø—Ä–æ—Å—Ç–∞ —ñ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

### **–ù–∞–≤—ñ—â–æ —Ü–µ?**  

  –©–æ–± –Ω–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –æ–±‚Äô—î–∫—Ç—ñ–≤, —è–∫—ñ –º–∞—é—Ç—å —Å–ø—ñ–ª—å–Ω–∏–π —Å—Ç–∞–Ω –∞–±–æ —î–¥–∏–Ω—É —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è, –ª–æ–≥—É–≤–∞–Ω–Ω—è, –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è).

### **–£ —á–æ–º—É —Ñ—ñ—à–∫–∞?**  

  –ì–∞—Ä–∞–Ω—Ç—ñ—è, —â–æ –æ–± º—î–∫—Ç –ª–∏—à–µ –æ–¥–∏–Ω, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —Å–∫—ñ–ª—å–∫–∏ —Ä–∞–∑—ñ–≤ –π–æ–≥–æ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å.

### **–¢–∏–ø–æ–≤—ñ –≥—Ä–∞–±–ª—ñ?**

    * **–ü–æ—Ä—É—à–µ–Ω–Ω—è SRP** ‚Äî –æ–±‚Äô—î–∫—Ç –≤–∏–∫–æ–Ω—É—î —ñ –ª–æ–≥—ñ–∫—É, —ñ –∫–æ–Ω—Ç—Ä–æ–ª—å —ñ–Ω—Å—Ç–∞–Ω—Å—É.
    * **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –∑ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è–º** ‚Äî –≤–∞–∂–∫–æ –ø—ñ–¥–º—ñ–Ω–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ.
    * **–ü—Ä–∏—Ö–æ–≤–∞–Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ñ—Å—Ç—å** ‚Äî –º–æ–∂–µ –±—É—Ç–∏ —è–∫ ‚Äú–≥–ª–æ–±–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞‚Äù.

### **–ß–æ–º—É –∞–Ω—Ç–∏–ø–∞—Ç–µ—Ä–Ω?**  

  –ë–æ —á–∞—Å—Ç–æ –∑–∞–º—ñ—Å—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å Singleton –¥–ª—è —Å–ø—Ä–æ—â–µ–Ω–Ω—è, —â–æ –ø–æ—Ç—ñ–º —É—Å–∫–ª–∞–¥–Ω—é—î –ø—ñ–¥—Ç—Ä–∏–º–∫—É —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **üîª –ö–ª–∞—Å–∏—á–Ω–∞ –ª—ñ–Ω–∏–≤–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**

```java
public class Singleton {
    private static Singleton instance;

    private Singleton() {
    }

    public static Singleton getInstance() {
        if (instance == null) {
            instance = new Singleton();
        }
        return instance;
    }
}
```

üü• ‚ùå –ù–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∞.

---

### **üîª Double-Checked Locking (–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∞):**

```java
public class Singleton {
    private static volatile Singleton instance;

    private Singleton() {
    }

    public static Singleton getInstance() {
        if (instance == null) {
            synchronized (Singleton.class) {
                if (instance == null) {
                    instance = new Singleton();
                }
            }
        }
        return instance;
    }
}
```

---

### **üîª Enum-–ø—ñ–¥—Ö—ñ–¥ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π):**

```java
public enum Singleton {
    INSTANCE;

    public void doSomething() {
        System.out.println("Singleton doing work");
    }
}
```

```java
Singleton.INSTANCE.doSomething();
```

‚úÖ –ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ, –ø—Ä–æ—Å—Ç–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ serialization.

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ü—ñ–¥—Ö—ñ–¥                     | –ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å | –ü—Ä–æ—Å—Ç–æ—Ç–∞ | –ì–Ω—É—á–∫—ñ—Å—Ç—å |  –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π   |
|----------------------------|:-----------------:|:--------:|:---------:|:-----------------:|
| **Lazy Singleton**         |       ‚ùå –ù—ñ        |    ‚úÖ     |     ‚úÖ     |         ‚ùå         |
| **Double-Checked Locking** |       ‚úÖ –¢–∞–∫       |    ‚ö†Ô∏è    |     ‚úÖ     | ‚úÖ (–∑ –æ–±–µ—Ä–µ–∂–Ω—ñ—Å—Ç—é) |
| **Enum Singleton**         |       ‚úÖ –¢–∞–∫       |    ‚úÖ     |     ‚ùå     |         ‚úÖ         |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**‚Äú–û–¥–∏–Ω –≤ —Å–∏—Å—Ç–µ–º—ñ ‚Äî Singleton –≤ –¥—ñ—ó‚Äù**

–∞–±–æ

**‚ÄúSingle ‚ûù Static ‚ûù Safe‚Äù** ‚Äî –æ–¥–∏–Ω, —Å—Ç–∞—Ç–∏—á–Ω–∏–π, –æ–±–≥–æ—Ä–Ω—É—Ç–∏–π

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

Singleton –∑–∞–±–µ–∑–ø–µ—á—É—î –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ª–∏—à–µ –æ–¥–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—É —Ç–∞ –Ω–∞–¥–∞—î –≥–ª–æ–±–∞–ª—å–Ω—É —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø—É –¥–æ –Ω—å–æ–≥–æ. –¶–µ –∫–æ—Ä–∏—Å–Ω–æ, –∞–ª–µ –º–æ–∂–µ –∑—ñ–ø—Å—É–≤–∞—Ç–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É, —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –≤—Å—é–¥–∏. –ù–∞–π–∫—Ä–∞—â–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Äî –æ–±–º–µ–∂–∏—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Singleton –ª–∏—à–µ –¥–ª—è –¥—ñ–π—Å–Ω–æ —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ (–ª–æ–≥—É–≤–∞–Ω–Ω—è, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è) —ñ –≤—ñ–¥–¥–∞–≤–∞—Ç–∏ –ø–µ—Ä–µ–≤–∞–≥—É Enum-—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó.

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ —à–∞–±–ª–æ–Ω –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è `Singleton` (–û–¥–∏–Ω–∞–∫) —ñ —è–∫–∞ –π–æ–≥–æ –≥–æ–ª–æ–≤–Ω–∞ –º–µ—Ç–∞?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`Singleton`** ‚Äî —Ü–µ –ø–æ—Ä–æ–¥–∂—É–≤–∞–ª—å–Ω–∏–π —à–∞–±–ª–æ–Ω –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è, —è–∫–∏–π –≤–∏—Ä—ñ—à—É—î –¥–≤—ñ –∑–∞–¥–∞—á—ñ –æ–¥–Ω–æ—á–∞—Å–Ω–æ:
>
> 1. **–ì–∞—Ä–∞–Ω—Ç—É—î, —â–æ —É –∫–ª–∞—Å—É —î —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä.** –¶–µ –∑–∞–ø–æ–±—ñ–≥–∞—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—é –∫—ñ–ª—å–∫–æ—Ö –æ–±'—î–∫—Ç—ñ–≤ –∫–ª–∞—Å—É, —â–æ –º–æ–∂–µ –±—É—Ç–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏–º –¥–ª—è –ø–µ–≤–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤.
>
> 2. **–ù–∞–¥–∞—î –≥–ª–æ–±–∞–ª—å–Ω—É —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø—É –¥–æ —Ü—å–æ–≥–æ —î–¥–∏–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞.** –¶–µ –¥–æ–∑–≤–æ–ª—è—î –±—É–¥—å-—è–∫—ñ–π —á–∞—Å—Ç–∏–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–∏ –ª–µ–≥–∫–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Ü—å–æ–≥–æ –æ–±'—î–∫—Ç–∞.
>
> **–ì–æ–ª–æ–≤–Ω–∞ –º–µ—Ç–∞:** –ö–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ –∫–ª–∞—Å—É, –æ–±–º–µ–∂—É—é—á–∏ —ó—Ö –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–æ –æ–¥–Ω–æ–≥–æ, —ñ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –ª–µ–≥–∫–∏–π –¥–æ—Å—Ç—É–ø –¥–æ —Ü—å–æ–≥–æ —î–¥–∏–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞. –ù–∞–π—á–∞—Å—Ç—ñ—à–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –æ–±'—î–∫—Ç—ñ–≤, —è–∫—ñ –∑–∞ —Å–≤–æ—î—é –ø—Ä–∏—Ä–æ–¥–æ—é –º–∞—é—Ç—å –±—É—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é, –ª–æ–≥—É–≤–∞–Ω–Ω—è–º, –ø—É–ª–æ–º –∑'—î–¥–Ω–∞–Ω—å –∞–±–æ –∞–ø–∞—Ä–∞—Ç–Ω–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**</h4>

–£ –∫—Ä–∞—ó–Ω—ñ –º–æ–∂–µ –±—É—Ç–∏ —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω —á–∏–Ω–Ω–∏–π –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç (`Singleton`). –ë—É–¥—å-—Ö—Ç–æ, —Ö—Ç–æ —Ö–æ—á–µ –∑–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞, –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –æ–¥–Ω—ñ—î—ó –π —Ç—ñ—î—ó –∂ –æ—Å–æ–±–∏. –ù–µ–º–æ–∂–ª–∏–≤–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –¥—Ä—É–≥–æ–≥–æ –∞–±–æ —Ç—Ä–µ—Ç—å–æ–≥–æ –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –¥–≤–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö –∞—Å–ø–µ–∫—Ç—ñ–≤ —à–∞–±–ª–æ–Ω—É: –≥–∞—Ä–∞–Ω—Ç—ñ—è –æ–¥–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ —Ç–∞ –Ω–∞–¥–∞–Ω–Ω—è –≥–ª–æ–±–∞–ª—å–Ω–æ—ó —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø—É.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—ñ —î –∫–ª–∞—Å–∏—á–Ω—ñ —Å–ø–æ—Å–æ–±–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —à–∞–±–ª–æ–Ω—É `Singleton`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û—Å–Ω–æ–≤–Ω–∞ —ñ–¥–µ—è –±—É–¥—å-—è–∫–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó ‚Äî –∑—Ä–æ–±–∏—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏–≤–∞—Ç–Ω–∏–º —ñ –Ω–∞–¥–∞—Ç–∏ –ø—É–±–ª—ñ—á–Ω–∏–π —Å—Ç–∞—Ç–∏—á–Ω–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –µ–∫–∑–µ–º–ø–ª—è—Ä–∞. –Ü—Å–Ω—É—é—Ç—å –¥–≤–∞ –∫–ª–∞—Å–∏—á–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏ –¥–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó:
>
> 1. **"–ñ–∞–¥—ñ–±–Ω–∞" —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è (Eager Initialization):**
>     * –ï–∫–∑–µ–º–ø–ª—è—Ä —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è **–Ω–µ–≥–∞–π–Ω–æ** –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–ª–∞—Å—É.
>     * **–ü–µ—Ä–µ–≤–∞–≥–∏:** –ü—Ä–æ—Å—Ç–æ, –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ "–∑ –∫–æ—Ä–æ–±–∫–∏".
>     * **–ù–µ–¥–æ–ª—ñ–∫–∏:** –û–±'—î–∫—Ç —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤—ñ–Ω –Ω—ñ–∫–æ–ª–∏ –Ω–µ –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π.
>
>     ```java
>     public class EagerSingleton {
>         private static final EagerSingleton INSTANCE = new EagerSingleton();
>         private EagerSingleton() {}
>         public static EagerSingleton getInstance() {
>             return INSTANCE;
>         }
>     }
>     ```
>
> 2. **"–õ—ñ–Ω–∏–≤–∞" —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è (Lazy Initialization):**
>     * –ï–∫–∑–µ–º–ø–ª—è—Ä —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ **–ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤–∏–∫–ª–∏–∫—É** –º–µ—Ç–æ–¥—É `getInstance()`.
>     * **–ü–µ—Ä–µ–≤–∞–≥–∏:** –ï–∫–æ–Ω–æ–º–∏—Ç—å —Ä–µ—Å—É—Ä—Å–∏, —è–∫—â–æ –æ–±'—î–∫—Ç –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω.
>     * **–ù–µ–¥–æ–ª—ñ–∫–∏:** –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è **–Ω–µ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é**.
>
>     ```java
>     public class LazySingleton {
>         private static LazySingleton instance;
>         private LazySingleton() {}
>         public static LazySingleton getInstance() {
>             if (instance == null) {
>                 instance = new LazySingleton();
>             }
>             return instance;
>         }
>     }
>     ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –¥–≤–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤ –¥–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó (`eager` vs `lazy`) —Ç–∞ —ó—Ö–Ω—ñ—Ö –∫–æ–º–ø—Ä–æ–º—ñ—Å—ñ–≤.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –ø—Ä–æ—Å—Ç–∞ "–ª—ñ–Ω–∏–≤–∞" —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `Singleton` –Ω–µ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é (thread-safe)?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ü—Ä–æ–±–ª–µ–º–∞ –≤–∏–Ω–∏–∫–∞—î —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω –≥–æ–Ω–∏—Ç–≤–∏ (race condition) —É –±–ª–æ—Ü—ñ `if (instance == null)`.
>
> **–°—Ü–µ–Ω–∞—Ä—ñ–π:**
>
> 1. **–ü–æ—Ç—ñ–∫ A** –≤—Ö–æ–¥–∏—Ç—å —É –º–µ—Ç–æ–¥ `getInstance()`.
> 2. –í—ñ–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫—É `if (instance == null)`, —è–∫–∞ —î `true`.
> 3. **–ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É:** –ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –ø–æ—Ç–æ–∫—ñ–≤ –∑—É–ø–∏–Ω—è—î –ü–æ—Ç—ñ–∫ A —ñ –∑–∞–ø—É—Å–∫–∞—î **–ü–æ—Ç—ñ–∫ B**.
> 4. **–ü–æ—Ç—ñ–∫ B** —Ç–∞–∫–æ–∂ –≤—Ö–æ–¥–∏—Ç—å —É `getInstance()` —ñ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —Ç—É —Å–∞–º—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É `if (instance == null)`, —è–∫–∞ –≤—Å–µ —â–µ —î `true` (–æ—Å–∫—ñ–ª—å–∫–∏ –ü–æ—Ç—ñ–∫ A —â–µ –Ω–µ –≤—Å—Ç–∏–≥ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä).
> 5. –ü–æ—Ç—ñ–∫ B —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä `Singleton` —ñ –ø—Ä–∏—Å–≤–æ—é—î –π–æ–≥–æ `instance`.
> 6. **–ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É:** –ü–æ—Ç—ñ–∫ A –≤—ñ–¥–Ω–æ–≤–ª—é—î —Å–≤–æ—é —Ä–æ–±–æ—Ç—É. –í—ñ–Ω –≤–∂–µ –ø—Ä–æ–π—à–æ–≤ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É, —Ç–æ–º—É –≤—ñ–Ω **—Ç–∞–∫–æ–∂ —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä `Singleton`**, –∑–∞—Ç–∏—Ä–∞—é—á–∏ —Ç–æ–π, —â–æ —Å—Ç–≤–æ—Ä–∏–≤ –ü–æ—Ç—ñ–∫ B.
>
> –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ –¥–≤–∞ (–∞–±–æ –±—ñ–ª—å—à–µ) –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤, —â–æ **–ø–æ—Ä—É—à—É—î –æ—Å–Ω–æ–≤–Ω—É –≥–∞—Ä–∞–Ω—Ç—ñ—é —à–∞–±–ª–æ–Ω—É `Singleton`**. –†—ñ–∑–Ω—ñ –ø–æ—Ç–æ–∫–∏ –º–æ–∂—É—Ç—å –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –µ–∫–∑–µ–º–ø–ª—è—Ä–∏ –æ–±'—î–∫—Ç–∞.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ, –∑–æ–∫—Ä–µ–º–∞ "—Å—Ç–∞–Ω—É –≥–æ–Ω–∏—Ç–≤–∏", —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ —Ü–µ –∑–Ω–∞–Ω–Ω—è –¥–æ –∞–Ω–∞–ª—ñ–∑—É –∫–æ–¥—É.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–π `Singleton`? –ù–∞–∑–≤—ñ—Ç—å –∫—ñ–ª—å–∫–∞ —Å–ø–æ—Å–æ–±—ñ–≤. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ü—Å–Ω—É—î –∫—ñ–ª—å–∫–∞ —Å–ø–æ—Å–æ–±—ñ–≤ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å:
>
> 1. **"–ñ–∞–¥—ñ–±–Ω–∞" —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è (Eager Initialization):** –Ø–∫ –∑–≥–∞–¥—É–≤–∞–ª–æ—Å—è, —Ü–µ–π –ø—ñ–¥—Ö—ñ–¥ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, –æ—Å–∫—ñ–ª—å–∫–∏ `INSTANCE` —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–ª–∞—Å—É, —â–æ –≥–∞—Ä–∞–Ω—Ç—É—î—Ç—å—Å—è JVM.
>
> 2. **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∏–π –º–µ—Ç–æ–¥ `getInstance()`:**
>     * –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–± "–ø–æ–ª–∞–≥–æ–¥–∏—Ç–∏" –ª—ñ–Ω–∏–≤—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é.
>
>     ```java
>     public static synchronized Singleton getInstance() { /* ... */ }
>     ```
>
>     * **–ù–µ–¥–æ–ª—ñ–∫:** –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ª–∏—à–µ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ, –∞ —Ü–µ–π –ø—ñ–¥—Ö—ñ–¥ –Ω–∞–∫–ª–∞–¥–∞—î –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –ø—Ä–∏ **–∫–æ–∂–Ω–æ–º—É** –≤–∏–∫–ª–∏–∫—É –º–µ—Ç–æ–¥—É, —â–æ –º–æ–∂–µ –∑–Ω–∏–∑–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —É –≤–∏—Å–æ–∫–æ–Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.
>
> 3. **Double-Checked Locking (DCL):**
>     * –ë—ñ–ª—å—à –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥, —è–∫–∏–π —É–Ω–∏–∫–∞—î –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –≤–∏–∫–ª–∏–∫—É.
>
> 4. **–ü—ñ–¥—Ö—ñ–¥ –∑ –≤–∫–ª–∞–¥–µ–Ω–∏–º —Å—Ç–∞—Ç–∏—á–Ω–∏–º –∫–ª–∞—Å–æ–º (Initialization-on-demand holder idiom):**
>     * –û–¥–∏–Ω –∑ –Ω–∞–π–∫—Ä–∞—â–∏—Ö "–ª—ñ–Ω–∏–≤–∏—Ö" –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤ –¥–æ Java 5.
>
> 5. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `Enum` (–∑ Java 5):**
>     * –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π, –Ω–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–∏–π —ñ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π —Å–ø–æ—Å—ñ–±.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö —Ç–µ—Ö–Ω—ñ–∫ –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ `Singleton` —Ç–∞ —ó—Ö–Ω—ñ—Ö –∫–æ–º–ø—Ä–æ–º—ñ—Å—ñ–≤.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å –º–µ—Ö–∞–Ω—ñ–∑–º `Double-Checked Locking`. –ß–æ–º—É –ø–æ–ª–µ `instance` –º–∞—î –±—É—Ç–∏ `volatile`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`Double-Checked Locking` (DCL)** ‚Äî —Ü–µ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è, —è–∫–∞ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è —É–Ω–∏–∫–Ω—É—Ç–∏ "–¥–æ—Ä–æ–≥–æ—ó" —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –≤–∏–∫–ª–∏–∫—É.
>
> **–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**
>
> 1. –ü–µ—Ä—à–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ `if (instance == null)` –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –±–µ–∑ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è. –Ø–∫—â–æ –µ–∫–∑–µ–º–ø–ª—è—Ä –≤–∂–µ —ñ—Å–Ω—É—î, –≤—ñ–Ω –æ–¥—Ä–∞–∑—É –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è.
> 2. –Ø–∫—â–æ –µ–∫–∑–µ–º–ø–ª—è—Ä `null`, –ø–æ—Ç—ñ–∫ –≤—Ö–æ–¥–∏—Ç—å —É `synchronized` –±–ª–æ–∫.
> 3. –í—Å–µ—Ä–µ–¥–∏–Ω—ñ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è **–¥—Ä—É–≥–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞** `if (instance == null)`. –í–æ–Ω–∞ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –Ω–∞ –≤–∏–ø–∞–¥–æ–∫, —è–∫—â–æ —ñ–Ω—à–∏–π –ø–æ—Ç—ñ–∫ –≤–∂–µ –≤—Å—Ç–∏–≥ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä, –ø–æ–∫–∏ –ø–µ—Ä—à–∏–π —á–µ–∫–∞–≤ –Ω–∞ –±–ª–æ–∫—É–≤–∞–Ω–Ω—ñ.
> 4. –Ø–∫—â–æ –µ–∫–∑–µ–º–ø–ª—è—Ä –≤—Å–µ —â–µ `null`, –≤—ñ–Ω —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è.
>
> ```java
> public class DclSingleton {
>     private static volatile DclSingleton instance;
>
>     private DclSingleton() {}
>
>     public static DclSingleton getInstance() {
>         if (instance == null) { // 1-—à–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
>             synchronized (DclSingleton.class) {
>                 if (instance == null) { // 2-–≥–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
>                     instance = new DclSingleton();
>                 }
>             }
>         }
>         return instance;
>     }
> }
> ```
>
> **–ß–æ–º—É `volatile` —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º?**
>
> `volatile` –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –∑–º—ñ–Ω–∏ –∑–º—ñ–Ω–Ω–æ—ó `instance` –±—É–¥—É—Ç—å **–≤–∏–¥–∏–º—ñ** –≤—Å—ñ–º –ø–æ—Ç–æ–∫–∞–º. –ë–µ–∑ `volatile` –º–æ–∂–ª–∏–≤–∞ —Å–∏—Ç—É–∞—Ü—ñ—è, –∫–æ–ª–∏:
>
> 1. –ü–æ—Ç—ñ–∫ A —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç (`instance = new DclSingleton()`). –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ ‚Äî —Ü–µ –Ω–µ –∞—Ç–æ–º–∞—Ä–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è (–≤–∏–¥—ñ–ª–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ, –≤–∏–∫–ª–∏–∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –ø—Ä–∏—Å–≤–æ—î–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è).
> 2. –ß–µ—Ä–µ–∑ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞ –∞–±–æ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞ –º–æ–∂–µ —Å—Ç–∞—Ç–∏—Å—è —Ç–∞–∫, —â–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ `instance` —Å—Ç–∞–Ω–µ –Ω–µ-`null` **–¥–æ —Ç–æ–≥–æ**, —è–∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `DclSingleton` –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–≤–æ—é —Ä–æ–±–æ—Ç—É.
> 3. –Ü–Ω—à–∏–π –ø–æ—Ç—ñ–∫ B –º–æ–∂–µ –ø–æ–±–∞—á–∏—Ç–∏ –Ω–µ-`null` `instance`, –ø—Ä–æ–π—Ç–∏ –ø–µ—Ä—à—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —ñ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ **–Ω–µ–ø–æ–≤–Ω—ñ—Å—Ç—é —Å–∫–æ–Ω—Å—Ç—Ä—É–π–æ–≤–∞–Ω–∏–π –æ–±'—î–∫—Ç**, —â–æ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫.
>
> `volatile` –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è "happens-before", –≥–∞—Ä–∞–Ω—Ç—É—é—á–∏, —â–æ –∑–∞–ø–∏—Å —É `volatile` –∑–º—ñ–Ω–Ω—É `instance` –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ **–ø—ñ—Å–ª—è** –ø–æ–≤–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î—É–∂–µ –≥–ª–∏–±–æ–∫—ñ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ –º–æ–¥–µ–ª—å –ø–∞–º'—è—Ç—ñ Java (`JMM`), —Ä–æ–ª—å `volatile` —Ç–∞ —Å–∫–ª–∞–¥–Ω—ñ –∞—Å–ø–µ–∫—Ç–∏ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ. –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –¥–ª—è Senior —Ä—ñ–≤–Ω—è.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `Singleton` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Enum` –≤–≤–∞–∂–∞—î—Ç—å—Å—è –Ω–∞–π–∫—Ä–∞—â–æ—é –ø—Ä–∞–∫—Ç–∏–∫–æ—é? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `enum` (–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –î–∂–æ—à—É–∞ –ë–ª–æ—Ö–æ–º) —î –Ω–∞–π–∫—Ä–∞—â–∏–º –≤–∏–±–æ—Ä–æ–º –∑ –∫—ñ–ª—å–∫–æ—Ö –ø—Ä–∏—á–∏–Ω:
>
> 1. **–ù–∞–¥–∑–≤–∏—á–∞–π–Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç–∞:** –ö–æ–¥ —î –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ª–∞–∫–æ–Ω—ñ—á–Ω–∏–º.
>
>     ```java
>     public enum EnumSingleton {
>         INSTANCE;
>
>         public void doSomething() { /* ... */ }
>     }
>     ```
>
> 2. **–ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å "–∑ –∫–æ—Ä–æ–±–∫–∏":** JVM –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `enum` –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑ —ñ –≤ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ. –í–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ç—É—Ä–±—É–≤–∞—Ç–∏—Å—è –ø—Ä–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é.
>
> 3. **–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó:** –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ —ñ–Ω—à–∏—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π, –¥–µ –¥–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä, JVM –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –ø—Ä–∏ –¥–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó `enum` –ø–æ–≤–µ—Ä–Ω–µ—Ç—å—Å—è —Ç–æ–π —Å–∞–º–∏–π, –≤–∂–µ —ñ—Å–Ω—É—é—á–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä `INSTANCE`.
>
> 4. **–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—ó:** –°–ø—Ä–æ–±–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä `enum` —á–µ—Ä–µ–∑ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –≤–∏–Ω—è—Ç–∫—É, —â–æ –¥–æ–¥–∞—Ç–∫–æ–≤–æ –∑–∞—Ö–∏—â–∞—î —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç –æ–¥–∏–Ω–∞–∫–∞.
>
> **–ù–µ–¥–æ–ª—ñ–∫:** –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –º–µ–Ω—à –≥–Ω—É—á–∫–∏–π, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ "–ª—ñ–Ω–∏–≤–∞" —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∞–±–æ —è–∫—â–æ –≤–∞—à `Singleton` –º–∞—î —É—Å–ø–∞–¥–∫–æ–≤—É–≤–∞—Ç–∏ –≤—ñ–¥ —ñ–Ω—à–æ–≥–æ –∫–ª–∞—Å—É ( `enum` –Ω–µ –º–æ–∂–µ —É—Å–ø–∞–¥–∫–æ–≤—É–≤–∞—Ç–∏ –≤—ñ–¥ –∫–ª–∞—Å—É). –ê–ª–µ –¥–ª—è 99% –≤–∏–ø–∞–¥–∫—ñ–≤ —Ü—ñ –Ω–µ–¥–æ–ª—ñ–∫–∏ –Ω–µ —î —Å—É—Ç—Ç—î–≤–∏–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏—Ö —Ç–∞ –Ω–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–∞—Ç–µ—Ä–Ω—ñ–≤. –†–æ–∑—É–º—ñ–Ω–Ω—è –ø–µ—Ä–µ–≤–∞–≥, —è–∫—ñ –Ω–∞–¥–∞—é—Ç—å –≤–±—É–¥–æ–≤–∞–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –º–æ–≤–∏.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `Singleton` —á–∞—Å—Ç–æ –Ω–∞–∑–∏–≤–∞—é—Ç—å –∞–Ω—Ç–∏–ø–∞—Ç–µ—Ä–Ω–æ–º?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `Singleton` —á–∞—Å—Ç–æ –∫—Ä–∏—Ç–∏–∫—É—é—Ç—å —á–µ—Ä–µ–∑ —Ç–µ, —â–æ –≤—ñ–Ω –º–æ–∂–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç–∏ –¥–æ –ø–æ–≥–∞–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω—É —Å–∏—Å—Ç–µ–º–∏:
>
> 1. **–ü–æ—Ä—É—à–µ–Ω–Ω—è –ø—Ä–∏–Ω—Ü–∏–ø—É —î–¥–∏–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ (SRP):** –ö–ª–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–µ —Ç—ñ–ª—å–∫–∏ –∑–∞ —Å–≤–æ—é –æ—Å–Ω–æ–≤–Ω—É –ª–æ–≥—ñ–∫—É, –∞–ª–µ –π –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–≤–æ—ó–º –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º, —â–æ —î –¥–≤–æ–º–∞ —Ä—ñ–∑–Ω–∏–º–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—è–º–∏.
>
> 2. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω—É —Ç–∞ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π:** `Singleton` –ø–æ —Å—É—Ç—ñ —î –∑–∞–º–∞—Å–∫–æ–≤–∞–Ω–æ—é –≥–ª–æ–±–∞–ª—å–Ω–æ—é –∑–º—ñ–Ω–Ω–æ—é. –ë—É–¥—å-—è–∫–∞ —á–∞—Å—Ç–∏–Ω–∞ –∫–æ–¥—É –º–æ–∂–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ –Ω—å–æ–≥–æ –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `getInstance()`, —â–æ —Å—Ç–≤–æ—Ä—é—î –Ω–µ—è–≤–Ω—ñ —Ç–∞ –≤–∞–∂–∫–æ –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ. –¶–µ —É—Å–∫–ª–∞–¥–Ω—é—î —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫—É –∫–æ–¥—É.
>
> 3. **–£—Å–∫–ª–∞–¥–Ω–µ–Ω–Ω—è –º–æ–¥—É–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:** –î—É–∂–µ –≤–∞–∂–∫–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∫–ª–∞—Å–∏, —è–∫—ñ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ `Singleton`. –í–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –∑–∞–º—ñ–Ω–∏—Ç–∏ (`mock`) –π–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä —É —Ç–µ—Å—Ç–∞—Ö. –û—Å–∫—ñ–ª—å–∫–∏ —Å—Ç–∞–Ω `Singleton` —î —Å–ø—ñ–ª—å–Ω–∏–º –¥–ª—è –≤—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–Ω–æ–≥–æ —Ç–µ—Å—Ç—É –º–æ–∂–µ –≤–ø–ª–∏–Ω—É—Ç–∏ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ñ–Ω—à–æ–≥–æ.
>
> 4. **–ü–æ—Ä—É—à–µ–Ω–Ω—è –ø—Ä–∏–Ω—Ü–∏–ø—É —ñ–Ω–≤–µ—Ä—Å—ñ—ó –∫–µ—Ä—É–≤–∞–Ω–Ω—è (IoC):** –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏—Å—è –≤ –∫–ª–∞—Å –∑–∑–æ–≤–Ω—ñ, –∫–ª–∞—Å —Å–∞–º "—Ö–∞–ø–∞—î" —Å–≤–æ—é –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å (`Singleton.getInstance()`).
>
> –£ —Å—É—á–∞—Å–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫–∞—Ö, –æ—Å–æ–±–ª–∏–≤–æ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤, —è–∫-–æ—Ç `Spring`, –ø–µ—Ä–µ–≤–∞–≥–∞ –Ω–∞–¥–∞—î—Ç—å—Å—è **Dependency Injection (DI)**, –¥–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å–∞–º –∫–µ—Ä—É—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º –æ–¥–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ (–±—ñ–Ω–∞) —ñ –≤–ø—Ä–æ–≤–∞–¥–∂—É—î –π–æ–≥–æ —Ç—É–¥–∏, –¥–µ –≤—ñ–Ω –ø–æ—Ç—Ä—ñ–±–µ–Ω.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó—Ä—ñ–ª—ñ—Å—Ç—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ —è–∫ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞. –†–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ SOLID —Ç–∞ –Ω–µ–¥–æ–ª—ñ–∫—ñ–≤, –¥–æ —è–∫–∏—Ö –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –Ω–∞–¥–º—ñ—Ä–Ω–µ –∞–±–æ –Ω–µ–¥–æ—Ä–µ—á–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `Singleton`.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `Singleton` –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—î—é, —ñ —è–∫ `Enum`-—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑–∞—Ö–∏—â–∞—î –≤—ñ–¥ —Ü—å–æ–≥–æ? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ü—Ä–æ–±–ª–µ–º–∞ –∑ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—î—é:**
> –ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Reflection API` –º–æ–∂–Ω–∞ –æ–±—ñ–π—Ç–∏ `private` –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∑–≤–∏—á–∞–π–Ω–æ–≥–æ –∫–ª–∞—Å—É `Singleton` —ñ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä.
>
> ```java
> Constructor<MySingleton> constructor = MySingleton.class.getDeclaredConstructor();
> constructor.setAccessible(true); // –†–æ–±–∏–º–æ –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–æ—Å—Ç—É–ø–Ω–∏–º
> MySingleton newInstance = constructor.newInstance(); // –°—Ç–≤–æ—Ä—é—î–º–æ –¥—Ä—É–≥–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä
> ```
>
> –¶–µ –ø–æ–≤–Ω—ñ—Å—Ç—é —Ä—É–π–Ω—É—î –≥–∞—Ä–∞–Ω—Ç—ñ—é —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞.
>
> **–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—ó (–≤ `Enum`):**
>
> –°–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è JVM **–∑–∞–±–æ—Ä–æ–Ω—è—î** —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ `enum` —Ç–∏–ø—ñ–≤ —á–µ—Ä–µ–∑ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é. –°–ø—Ä–æ–±–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `constructor.newInstance()` –¥–ª—è `enum` –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –∫–∏–¥–∞–Ω–Ω—è `IllegalArgumentException` –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º "Cannot reflectively create enum objects".
>
> –¶–µ –æ–¥–Ω–∞ –∑ –∫–ª—é—á–æ–≤–∏—Ö –ø–µ—Ä–µ–≤–∞–≥ `enum`-—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó ‚Äî –≤–æ–Ω–∞ —î –∑–∞—Ö–∏—â–µ–Ω–æ—é –≤—ñ–¥ —Ü—å–æ–≥–æ –≤–µ–∫—Ç–æ—Ä—É –∞—Ç–∞–∫–∏ "–∑ –∫–æ—Ä–æ–±–∫–∏". –î–ª—è –∑–≤–∏—á–∞–π–Ω–æ–≥–æ `Singleton` –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –± –¥–æ–¥–∞–≤–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, —â–æ–± –∫–∏–¥–∞—Ç–∏ –≤–∏–Ω—è—Ç–æ–∫ –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫—ñ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é —Ç–∞ —ó—ó –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ, –∞ —Ç–∞–∫–æ–∂ –ø—Ä–æ –≤–±—É–¥–æ–≤–∞–Ω—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –∑–∞—Ö–∏—Å—Ç—É –≤ `enum`.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `Singleton` –ø–æ–≤'—è–∑–∞–Ω–∏–π —ñ–∑ —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—î—é, —ñ —è–∫–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Ç—É—Ç –≤–∏–Ω–∏–∫–∞—î? –Ø–∫ —ó—ó –≤–∏—Ä—ñ—à–∏—Ç–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ü—Ä–æ–±–ª–µ–º–∞:**
> –Ø–∫—â–æ –∫–ª–∞—Å `Singleton` —Ä–µ–∞–ª—ñ–∑—É—î `Serializable`, —Ç–æ –ø—Ä–∏ –π–æ–≥–æ **–¥–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó** –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ **–Ω–æ–≤–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä –æ–±'—î–∫—Ç–∞**. –ö–æ–∂–µ–Ω –≤–∏–∫–ª–∏–∫ `readObject()` –ø–æ–≤–µ—Ä–Ω–µ –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç, —â–æ —Ç–∞–∫–æ–∂ —Ä—É–π–Ω—É—î –ø–∞—Ç–µ—Ä–Ω.
>
> ```java
> // –°–µ—Ä—ñ–∞–ª—ñ–∑—É–≤–∞–ª–∏ INSTANCE, –∞ –ø–æ—Ç—ñ–º –¥–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑—É–≤–∞–ª–∏:
> Singleton s1 = Singleton.getInstance();
> Singleton s2 = deserialize(serialize(s1));
> // s1 != s2 -> true! –ú–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ –¥–≤–∞ –µ–∫–∑–µ–º–ø–ª—è—Ä–∏.
> ```
>
> **–†—ñ—à–µ–Ω–Ω—è:**
>
> 1. **–î–ª—è –∑–≤–∏—á–∞–π–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤ ‚Äî –º–µ—Ç–æ–¥ `readResolve()`:**
>     –ü–æ—Ç—Ä—ñ–±–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ "–º–∞–≥—ñ—á–Ω–∏–π" –º–µ—Ç–æ–¥ `readResolve()`. –¶–µ–π –º–µ—Ç–æ–¥ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è –¥–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —ñ –¥–æ–∑–≤–æ–ª—è—î –∑–∞–º—ñ–Ω–∏—Ç–∏ —â–æ–π–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –æ–±'—î–∫—Ç –Ω–∞ —ñ–Ω—à–∏–π. –£ —Ü—å–æ–º—É –º–µ—Ç–æ–¥—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ —î–¥–∏–Ω–∏–π —ñ—Å–Ω—É—é—á–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä.
>
>     ```java
>     protected Object readResolve() {
>         return INSTANCE;
>     }
>     ```
>
> 2. **–î–ª—è `Enum`-—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó ‚Äî –Ω—ñ—á–æ–≥–æ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–æ–±–∏—Ç–∏:**
>     JVM –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –¥–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è `enum` –∑–∞–≤–∂–¥–∏ –ø–æ–≤–µ—Ä—Ç–∞—î –≤–∂–µ —ñ—Å–Ω—É—é—á—É –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É, –∞ –Ω–µ —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç. –¶–µ —â–µ –æ–¥–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞, —á–æ–º—É `enum` —î –Ω–∞–π–∫—Ä–∞—â–∏–º –≤–∏–±–æ—Ä–æ–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –≤–∑–∞—î–º–æ–¥—ñ—ó `Singleton` –∑ —ñ–Ω—à–∏–º–∏ –º–µ—Ö–∞–Ω—ñ–∑–º–∞–º–∏ Java, —è–∫-–æ—Ç —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è. –ó–Ω–∞–Ω–Ω—è –ø—Ä–æ `readResolve`.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–∑–≤—ñ—Ç—å –≤–∏–ø—Ä–∞–≤–¥–∞–Ω—ñ –≤–∏–ø–∞–¥–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —à–∞–±–ª–æ–Ω—É `Singleton`. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –•–æ—á–∞ `Singleton` —á–∞—Å—Ç–æ –∫—Ä–∏—Ç–∏–∫—É—é—Ç—å, —î –≤–∏–ø–∞–¥–∫–∏, –¥–µ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —î —Ü—ñ–ª–∫–æ–º –≤–∏–ø—Ä–∞–≤–¥–∞–Ω–∏–º —ñ –¥–æ—Ü—ñ–ª—å–Ω–∏–º:
>
> 1. **–û–±'—î–∫—Ç–∏, —â–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —Å–∏—Å—Ç–µ–º–Ω–∏–π —Ä–µ—Å—É—Ä—Å:**
>     * –ö–ª–∞—Å, —â–æ –∫–µ—Ä—É—î –¥–æ—Å—Ç—É–ø–æ–º –¥–æ —è–∫–æ–≥–æ—Å—å —Ñ—ñ–∑–∏—á–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é (–ø—Ä–∏–Ω—Ç–µ—Ä, COM-–ø–æ—Ä—Ç).
>     * –ö–ª–∞—Å-—Ñ–∞—Å–∞–¥ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—é —Å–∏—Å—Ç–µ–º–æ—é, —è–∫–∞ –¥–æ–ø—É—Å–∫–∞—î —Ç—ñ–ª—å–∫–∏ –æ–¥–Ω–µ –∑'—î–¥–Ω–∞–Ω–Ω—è.
>
> 2. **–û–±'—î–∫—Ç–∏-–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó:** –ö–ª–∞—Å, —è–∫–∏–π –∑—á–∏—Ç—É—î –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ —ñ –Ω–∞–¥–∞—î –¥–æ –Ω–∏—Ö –¥–æ—Å—Ç—É–ø —É—Å—ñ–π –ø—Ä–æ–≥—Ä–∞–º—ñ. –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤, —â–æ —Ä–æ–±–ª—è—Ç—å —Ç—É —Å–∞–º—É —Ä–æ–±–æ—Ç—É, –Ω–µ–º–∞—î —Å–µ–Ω—Å—É.
>
> 3. **–õ–æ–≥–µ—Ä–∏:** –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ SLF4J/Logback) –∑–∞–∑–≤–∏—á–∞–π —î —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ—é, —ñ –≤—Å—ñ —á–∞—Å—Ç–∏–Ω–∏ –ø—Ä–æ–≥—Ä–∞–º–∏ –º–∞—é—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –ª–æ–≥–µ—Ä –¥–ª—è –∑–∞–ø–∏—Å—É –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª –∞–±–æ –ø–æ—Ç—ñ–∫.
>
> 4. **–ü—É–ª–∏ —Ä–µ—Å—É—Ä—Å—ñ–≤ (–ø—É–ª –ø–æ—Ç–æ–∫—ñ–≤, –ø—É–ª –∑'—î–¥–Ω–∞–Ω—å):** –ö–µ—Ä—É–≤–∞–Ω–Ω—è –ø—É–ª–æ–º –º–∞—î –±—É—Ç–∏ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–º, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –≤–∏—á–µ—Ä–ø–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤.
>
> 5. **–§–∞–±—Ä–∏–∫–∏, —â–æ —î `stateless`:** –Ø–∫—â–æ —Ñ–∞–±—Ä–∏–∫–∞ –Ω–µ –º–∞—î —Å—Ç–∞–Ω—É, –Ω–µ–º–∞—î —Å–µ–Ω—Å—É —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —ó—ó –±–∞–≥–∞—Ç–æ —Ä–∞–∑—ñ–≤.
>
> –ö–ª—é—á–æ–≤–∞ —ñ–¥–µ—è: `Singleton` –≤–∏–ø—Ä–∞–≤–¥–∞–Ω–∏–π, –∫–æ–ª–∏ –æ–±'—î–∫—Ç —î **–∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º** —É —Å–∏—Å—Ç–µ–º—ñ —ñ/–∞–±–æ –∫–µ—Ä—É—î —Å–ø—ñ–ª—å–Ω–∏–º, –æ–±–º–µ–∂–µ–Ω–∏–º —Ä–µ—Å—É—Ä—Å–æ–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É —Ç–∞ –≤–∏–∑–Ω–∞—á–∞—Ç–∏, —á–∏ —î `Singleton` –∞–¥–µ–∫–≤–∞—Ç–Ω–∏–º —Ä—ñ—à–µ–Ω–Ω—è–º –¥–ª—è –Ω–µ—ó, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–ª—ñ–¥—É–≤–∞—Ç–∏ –¥–æ–≥–º—ñ "Singleton ‚Äî —Ü–µ –∑–ª–æ".*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ "Initialization-on-demand holder idiom" —ñ —è–∫—É –ø—Ä–æ–±–ª–µ–º—É –≤—ñ–Ω –≤–∏—Ä—ñ—à—É—î? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **Initialization-on-demand holder idiom** ‚Äî —Ü–µ –æ–¥–∏–Ω –∑ –Ω–∞–π–∫—Ä–∞—â–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó **–ª—ñ–Ω–∏–≤–æ–≥–æ —Ç–∞ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ** `Singleton` —É Java (–æ—Å–æ–±–ª–∏–≤–æ –¥–æ –ø–æ—è–≤–∏ `enum`-—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó).
>
> **–Ø–∫ –≤—ñ–Ω –ø—Ä–∞—Ü—é—î:**
>
> ```java
> public class IoDHSingleton {
>     private IoDHSingleton() {}
>
>     private static class SingletonHolder {
>         // –ï–∫–∑–µ–º–ø–ª—è—Ä —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ, –∫–æ–ª–∏ JVM –≤–ø–µ—Ä—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î —Ü–µ–π –∫–ª–∞—Å
>         private static final IoDHSingleton INSTANCE = new IoDHSingleton();
>     }
>
>     public static IoDHSingleton getInstance() {
>         // –ü–µ—Ä—à–∏–π –≤–∏–∫–ª–∏–∫ getInstance() –∑–º—É—Å–∏—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ SingletonHolder,
>         // —â–æ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è INSTANCE
>         return SingletonHolder.INSTANCE;
>     }
> }
> ```
>
> **–Ø–∫—É –ø—Ä–æ–±–ª–µ–º—É –≤–∏—Ä—ñ—à—É—î:**
>
> 1. **–õ—ñ–Ω–∏–≤–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è:** –ï–∫–∑–µ–º–ø–ª—è—Ä `INSTANCE` –Ω–µ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ `IoDHSingleton`. –í—ñ–Ω –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –≤–ø–µ—Ä—à–µ –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞–Ω–æ `getInstance()`, —â–æ –∑–º—É—Å–∏—Ç—å JVM –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤–∫–ª–∞–¥–µ–Ω–∏–π –∫–ª–∞—Å `SingletonHolder`.
>
> 2. **–ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å:** –ü—Ä–æ—Ü–µ—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫–ª–∞—Å—É –≤ Java —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º –∑–∞ –≥–∞—Ä–∞–Ω—Ç—ñ—î—é JVM. –¢–æ–º—É `INSTANCE` –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ –∫–æ—Ä–µ–∫—Ç–Ω–æ –Ω–∞–≤—ñ—Ç—å —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ, –∞–ª–µ **–±–µ–∑ —è–≤–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `synchronized` –∞–±–æ `volatile`**, —â–æ —Ä–æ–±–∏—Ç—å —Ü–µ–π –ø—ñ–¥—Ö—ñ–¥ –¥—É–∂–µ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º.
>
> –¶—è —ñ–¥—ñ–æ–º–∞ —î –±—ñ–ª—å—à —á–∏—Å—Ç–æ—é —Ç–∞ –ø—Ä–æ—Å—Ç–æ—é, –Ω—ñ–∂ `Double-Checked Locking`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –ø—Ä–æ—Å—É–Ω—É—Ç–∏—Ö, —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó `Singleton`. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –ø—Ä–∞—Ü—é—î –ª—ñ–Ω–∏–≤–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–ª–∞—Å—ñ–≤ –≤ JVM.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏–º `Singleton` –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ –∫–ª–∞—Å—É, —â–æ –º—ñ—Å—Ç–∏—Ç—å –ª–∏—à–µ —Å—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –•–æ—á–∞ –æ–±–∏–¥–≤–∞ –ø—ñ–¥—Ö–æ–¥–∏ –Ω–∞–¥–∞—é—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø—É –¥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ, –º—ñ–∂ –Ω–∏–º–∏ —î –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤–∞ —Ä—ñ–∑–Ω–∏—Ü—è.
>
> * **–ö–ª–∞—Å –∑ `static` –º–µ—Ç–æ–¥–∞–º–∏ (—É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω–∏–π –∫–ª–∞—Å, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `Math` –∞–±–æ `Collections`):**
>   * –ù–µ –º–∞—î —Å—Ç–∞–Ω—É (–∞–±–æ –º–∞—î —Ç—ñ–ª—å–∫–∏ `static final` –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏).
>   * –ù–µ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –π–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä.
>   * **–ù–µ —î –æ–±'—î–∫—Ç–æ–º.** –í–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç–∏ –π–æ–≥–æ —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä, —É—Å–ø–∞–¥–∫—É–≤–∞—Ç–∏ –≤—ñ–¥ –Ω—å–æ–≥–æ (–∑–∞–∑–≤–∏—á–∞–π), –∞–±–æ –∑–º—É—Å–∏—Ç–∏ –π–æ–≥–æ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
>
> * **`Singleton`:**
>   * **–Ñ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–º –æ–±'—î–∫—Ç–æ–º.** –í—ñ–Ω –º–æ–∂–µ –º–∞—Ç–∏ —Å—Ç–∞–Ω (–ø–æ–ª—è –µ–∫–∑–µ–º–ø–ª—è—Ä–∞).
>   * –ú–æ–∂–µ **—Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏**, —â–æ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –ø–æ–ª—ñ–º–æ—Ä—Ñ–Ω–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–µ—Ä–µ–¥–∞—Ç–∏ –π–æ–≥–æ –≤ –º–µ—Ç–æ–¥, —â–æ –æ—á—ñ–∫—É—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —ñ –ø–æ—Ç—ñ–º –ª–µ–≥–∫–æ –∑–∞–º—ñ–Ω–∏—Ç–∏ –π–æ–≥–æ –Ω–∞ `mock` —É —Ç–µ—Å—Ç–∞—Ö).
>   * –ú–æ–∂–µ **—É—Å–ø–∞–¥–∫–æ–≤—É–≤–∞—Ç–∏ –≤—ñ–¥ —ñ–Ω—à–æ–≥–æ –∫–ª–∞—Å—É**.
>
> **–ö–æ–ª–∏ —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**
>
> * –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ª–∏—à–µ –≥—Ä—É–ø–∞ –ø–æ–≤'—è–∑–∞–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π –±–µ–∑ —Å—Ç–∞–Ω—É ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **–∫–ª–∞—Å –∑ `static` –º–µ—Ç–æ–¥–∞–º–∏**.
> * –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω **—î–¥–∏–Ω–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä –æ–±'—î–∫—Ç–∞ –∑—ñ —Å—Ç–∞–Ω–æ–º** –∞–±–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–≤–∞–≥–∏ –ø–æ–ª—ñ–º–æ—Ä—Ñ—ñ–∑–º—É ‚Äî –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω **`Singleton`**.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∫–ª—é—á–æ–≤–æ—ó —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–∏–º –ø—ñ–¥—Ö–æ–¥–æ–º (—Å—Ç–∞—Ç–∏—á–Ω—ñ —É—Ç–∏–ª—ñ—Ç–∏) —Ç–∞ –æ–±'—î–∫—Ç–Ω–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–º –ø—ñ–¥—Ö–æ–¥–æ–º (`Singleton` —è–∫ –æ–±'—î–∫—Ç).*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£—è–≤—ñ—Ç—å `Singleton`, —è–∫–∏–π —Ä–µ–∞–ª—ñ–∑—É—î `Cloneable`. –Ø–∫ –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–∏—Ç–∏ –º–µ—Ç–æ–¥ `clone()`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫—â–æ –∑ —è–∫–æ—ó—Å—å –ø—Ä–∏—á–∏–Ω–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è –≤—ñ–¥ –∫–ª–æ–Ω–æ–≤–∞–Ω–æ–≥–æ –∫–ª–∞—Å—É) –≤–∞—à `Singleton` –∑–º—É—à–µ–Ω–∏–π —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ `Cloneable`, —Ü–µ —î –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ—é "–¥—ñ—Ä–æ—é" –≤ –π–æ–≥–æ —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ.
>
> –°–ø—Ä–æ–±–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `clone()` –Ω–∞ –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ `Singleton` —Å—Ç–≤–æ—Ä–∏—Ç—å –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç, –ø–æ—Ä—É—à—É—é—á–∏ –ø–∞—Ç–µ—Ä–Ω.
>
> **–ü—Ä–∞–≤–∏–ª—å–Ω–∞ –¥—ñ—è** ‚Äî –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∏—Ç–∏ –º–µ—Ç–æ–¥ `clone()` —ñ –∑–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—è, –∞–±–æ –∑–º—É—Å–∏—Ç–∏ –π–æ–≥–æ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ —Ç–æ–π —Å–∞–º–∏–π —î–¥–∏–Ω–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä.
>
> **–ù–∞–π–∫—Ä–∞—â–∏–π –ø—ñ–¥—Ö—ñ–¥ ‚Äî –∫–∏–Ω—É—Ç–∏ –≤–∏–Ω—è—Ç–æ–∫:**
>
> ```java
> @Override
> protected final Object clone() throws CloneNotSupportedException {
>     throw new CloneNotSupportedException("–ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è Singleton'–∞ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ");
> }
> ```
>
> –¶–µ –Ω–∞–π–±—ñ–ª—å—à —á—ñ—Ç–∫–∏–π —ñ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Å–ø–æ—Å—ñ–± –ø–æ–≤—ñ–¥–æ–º–∏—Ç–∏, —â–æ —Ü—è –æ–ø–µ—Ä–∞—Ü—ñ—è –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è.
>
> **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è `INSTANCE`):**
>
> ```java
> @Override
> protected final Object clone() {
>     return INSTANCE;
> }
> ```
>
> –¶–µ —Ç–∞–∫–æ–∂ –ø—Ä–∞—Ü—é—î, –∞–ª–µ –º–µ–Ω—à —è–≤–Ω–æ –ø–æ–≤—ñ–¥–æ–º–ª—è—î –ø—Ä–æ —Ç–µ, —â–æ –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—è —è–∫ —Ç–∞–∫–µ –Ω–µ –≤—ñ–¥–±—É–ª–æ—Å—è. –ü–µ—Ä—à–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç —î –∫—Ä–∞—â–∏–º, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –ø—Ä—è–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ —Å–ø—Ä–æ–±—É "–∑–ª–∞–º–∞—Ç–∏" –ø–∞—Ç–µ—Ä–Ω.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –¥—É–º–∞—Ç–∏ –ø—Ä–æ –∑–∞—Ö–∏—Å—Ç —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –∫–ª–∞—Å—É –≤—ñ–¥ —Ä—ñ–∑–Ω–∏—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ Java. –í–º—ñ–Ω–Ω—è –ø–∏—Å–∞—Ç–∏ –Ω–∞–¥—ñ–π–Ω–∏–π, –∑–∞—Ö–∏—â–µ–Ω–∏–π –∫–æ–¥.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —è–∫–æ–º—É –≤–∏–ø–∞–¥–∫—É "–∂–∞–¥—ñ–±–Ω–∞" (eager) —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–æ–∂–µ –±—É—Ç–∏ –∫—Ä–∞—â–æ—é –∑–∞ "–ª—ñ–Ω–∏–≤—É" (lazy)? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> "–ñ–∞–¥—ñ–±–Ω–∞" —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–æ–∂–µ –±—É—Ç–∏ –∫—Ä–∞—â–æ—é –≤ —Ç–∞–∫–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö:
>
> 1. **–ö–æ–ª–∏ –æ–±'—î–∫—Ç —î –ª–µ–≥–∫–æ–≤–∞–≥–æ–≤–∏–º —ñ –π–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —î —à–≤–∏–¥–∫–∏–º:** –Ø–∫—â–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è `Singleton` –Ω–µ –∑–∞–π–º–∞—î –±–∞–≥–∞—Ç–æ —á–∞—Å—É —ñ –Ω–µ —Å–ø–æ–∂–∏–≤–∞—î –±–∞–≥–∞—Ç–æ —Ä–µ—Å—É—Ä—Å—ñ–≤, –Ω–µ–º–∞—î —Å–µ–Ω—Å—É —É—Å–∫–ª–∞–¥–Ω—é–≤–∞—Ç–∏ –∫–æ–¥ –ª—ñ–Ω–∏–≤–æ—é —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—î—é —Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—î—é. "–ñ–∞–¥—ñ–±–Ω–∞" —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —î –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–æ—é —Ç–∞ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é.
>
> 2. **–ö–æ–ª–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –±—É–¥–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω:** –Ø–∫—â–æ –≤–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ `getInstance()` –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞–Ω–æ –≤ –±—É–¥—å-—è–∫–æ–º—É –≤–∏–ø–∞–¥–∫—É –ø—ñ–¥ —á–∞—Å —Ä–æ–±–æ—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–∏, —Ç–æ "–≤—ñ–¥–∫–ª–∞–¥–∞—Ç–∏" —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–µ–º–∞—î —Å–µ–Ω—Å—É. –ö—Ä–∞—â–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –π–æ–≥–æ –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –∑–∞—Ç—Ä–∏–º–æ–∫ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–≤–µ—Ä–Ω–µ–Ω–Ω—ñ.
>
> 3. **–ö–æ–ª–∏ –ø–æ–º–∏–ª–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—î –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ –ø—Ä–æ–≥—Ä–∞–º–∏:** –Ø–∫—â–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `Singleton` –º–æ–∂–µ –∫–∏–Ω—É—Ç–∏ –≤–∏–Ω—è—Ç–æ–∫ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–µ –≤–¥–∞–ª–æ—Å—è –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ —Ñ–∞–π–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó), –ø—Ä–∏ –∂–∞–¥—ñ–±–Ω—ñ–π —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ–≥—Ä–∞–º–∞ "–≤–ø–∞–¥–µ" –≤—ñ–¥—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–ª–∞—Å—É. –¶–µ –∫—Ä–∞—â–µ (–ø—Ä–∏–Ω—Ü–∏–ø `fail-fast`), –Ω—ñ–∂ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–º–∏–ª–∫—É –ø—ñ–∑–Ω—ñ—à–µ, –≤ —Å–µ—Ä–µ–¥–∏–Ω—ñ —Ä–æ–±–æ—Ç–∏, –∫–æ–ª–∏ –ø–µ—Ä—à–∏–π –∫–ª—ñ—î–Ω—Ç —Å–ø—Ä–æ–±—É—î –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `getInstance()`.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, –≤–∏–±—ñ—Ä –º—ñ–∂ "–∂–∞–¥—ñ–±–Ω–∏–º" —Ç–∞ "–ª—ñ–Ω–∏–≤–∏–º" –ø—ñ–¥—Ö–æ–¥–æ–º ‚Äî —Ü–µ –∫–æ–º–ø—Ä–æ–º—ñ—Å –º—ñ–∂ –ø—Ä–æ—Å—Ç–æ—Ç–æ—é/–Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—é —Ç–∞ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ—é –µ–∫–æ–Ω–æ–º—ñ—î—é —Ä–µ—Å—É—Ä—Å—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–æ–º–ø—Ä–æ–º—ñ—Å–∏ —Ç–∞ –≤–∏–±–∏—Ä–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –≤–∏–º–æ–≥ –¥–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ, —Ä–µ—Å—É—Ä—Å—ñ–≤ —Ç–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ Dependency Injection —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ (—è–∫ `Spring`) –≤–∏—Ä—ñ—à—É—é—Ç—å –ø—Ä–æ–±–ª–µ–º—É `Singleton`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –§—Ä–µ–π–º–≤–æ—Ä–∫–∏, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å **Dependency Injection (DI)**, —Ç–∞–∫—ñ —è–∫ `Spring`, –≤–∏—Ä—ñ—à—É—é—Ç—å —Ü—é –ø—Ä–æ–±–ª–µ–º—É –±—ñ–ª—å—à –µ–ª–µ–≥–∞–Ω—Ç–Ω–æ, –¥–æ—Ç—Ä–∏–º—É—é—á–∏—Å—å –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ SOLID.
>
> –í–æ–Ω–∏ **–≤—ñ–¥–æ–∫—Ä–µ–º–ª—é—é—Ç—å –ª–æ–≥—ñ–∫—É –∫–ª–∞—Å—É –≤—ñ–¥ –∫–æ–Ω—Ç—Ä–æ–ª—é –Ω–∞–¥ –π–æ–≥–æ –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º**.
>
> **–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î –≤ `Spring`:**
>
> 1. –í–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –∑–≤–∏—á–∞–π–Ω–∏–π **POJO-–∫–ª–∞—Å** –±–µ–∑ –±—É–¥—å-—è–∫–æ—ó –ª–æ–≥—ñ–∫–∏ `Singleton` (–±–µ–∑ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ–≤, –±–µ–∑ `getInstance()`).
>
>     ```java
>     @Component // –∞–±–æ @Service, @Repository
>     public class MyService { /* ... */ }
>     ```
>
> 2. –í–∏ –ø–æ–∑–Ω–∞—á–∞—î—Ç–µ –π–æ–≥–æ –∞–Ω–æ—Ç–∞—Ü—ñ—î—é (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `@Component`), –ø–æ–≤—ñ–¥–æ–º–ª—è—é—á–∏ `Spring`, —â–æ –≤—ñ–Ω –º–∞—î –∫–µ—Ä—É–≤–∞—Ç–∏ —Ü–∏–º –∫–ª–∞—Å–æ–º.
>
> 3. –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º `Spring` —Å—Ç–≤–æ—Ä—é—î –≤—Å—ñ —Ç–∞–∫—ñ –∫–ª–∞—Å–∏ (–±—ñ–Ω–∏) —É **—Å–∫–æ—É–ø—ñ `singleton`**. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ **IoC-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `Spring`** —Å–∞–º –¥–±–∞—î –ø—Ä–æ —Ç–µ, —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ **–ª–∏—à–µ –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä** —Ü—å–æ–≥–æ –∫–ª–∞—Å—É –Ω–∞ –≤–µ—Å—å –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫.
>
> 4. –ö–æ–ª–∏ —ñ–Ω—à–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –ø–æ—Ç—Ä—ñ–±–µ–Ω `MyService`, –≤–∏ –ø—Ä–æ—Å—Ç–æ –æ–≥–æ–ª–æ—à—É—î—Ç–µ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ `@Autowired` —É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ), —ñ `Spring` **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–ø—Ä–æ–≤–∞–¥–∂—É—î** –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ç–æ–π —Å–∞–º–∏–π, —î–¥–∏–Ω–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä.
>
> **–ü–µ—Ä–µ–≤–∞–≥–∏ —Ü—å–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É:**
>
> * **–î–æ—Ç—Ä–∏–º–∞–Ω–Ω—è SRP:** –ö–ª–∞—Å –∑–∞–π–º–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—î—é –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–æ—é.
> * **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:** –£ —Ç–µ—Å—Ç–∞—Ö –≤–∏ –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ `mock` –∞–±–æ `stub` –¥–ª—è `MyService` —ñ –≤–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ –π–æ–≥–æ –∑–∞–º—ñ—Å—Ç—å —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞.
> * **–Ø–≤–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:** –£—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —î —è–≤–Ω–∏–º–∏ (–ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä), —â–æ —Ä–æ–±–∏—Ç—å –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É —á–∏—Å—Ç–æ—é.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, DI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å *–∫–æ–Ω—Ü–µ–ø—Ü—ñ—é* –æ–¥–∏–Ω–∞–∫–∞, –∞–ª–µ —É–Ω–∏–∫–∞—é—Ç—å —É—Å—ñ—Ö –Ω–µ–¥–æ–ª—ñ–∫—ñ–≤ *—à–∞–±–ª–æ–Ω—É* `Singleton`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤ –¥–æ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤. –†–æ–∑—É–º—ñ–Ω–Ω—è –ø–µ—Ä–µ–≤–∞–≥ Dependency Injection –Ω–∞–¥ –∫–ª–∞—Å–∏—á–Ω–∏–º–∏ –ø–∞—Ç–µ—Ä–Ω–∞–º–∏, —è–∫ `Singleton`.*
