---
layout: default
title: "–ü–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ vs –≥–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è (Shallow vs Deep copy)"
parent: "`equals()`, `hashCode()`, `clone()`"
grand_parent: "Java Core"
nav_order: 7
---

# –ü–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ vs –≥–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è (Shallow vs Deep copy)

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `Shallow copy` (–ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ) ‚Äì –∫–æ–ø—ñ—é—î –ø—Ä–∏–º—ñ—Ç–∏–≤–∏ –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º —Ç–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±'—î–∫—Ç–∏ (–≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±'—î–∫—Ç–∏ —Å–ø—ñ–ª—å–Ω—ñ). `Deep copy` (–≥–ª–∏–±–æ–∫–∞ –∫–æ–ø—ñ—è) ‚Äì —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∫–æ–ø—ñ—é—î –≤—Å—ñ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±'—î–∫—Ç–∏, —Å—Ç–≤–æ—Ä—é—é—á–∏ –ø–æ–≤–Ω—É –Ω–µ–∑–∞–ª–µ–∂–Ω—É –∫–æ–ø—ñ—é.

* –ø–æ–Ω—è—Ç—Ç—è: Shallow copy, Deep copy, `clone()`, `defensive copy`.

* –ø—Ä–∏–∫–ª–∞–¥–∏: –ó–º—ñ–Ω–∞ –≤–∫–ª–∞–¥–µ–Ω–æ–≥–æ `Address` —É `Person` –≤ `shallow copy` –≤–ø–ª–∏–≤–∞—î –Ω–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª, —Ç–æ–¥—ñ —è–∫ —É `deep copy` ‚Äì –Ω—ñ.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: `Shallow copy` —Ä–∏–∑–∏–∫–æ–≤–∞–Ω–∞ –¥–ª—è `mutable` –ø–æ–ª—ñ–≤, `Deep copy` –∑–∞–±–µ–∑–ø–µ—á—É—î –ø–æ–≤–Ω—É –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å. `Deep copy` —á–∞—Å—Ç–æ —Ä–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –≤—Ä—É—á–Ω—É.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –†—ñ–∑–Ω–∏—Ü—è, –∫–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏, —è–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ deep copy.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**Shallow copy** ‚Äî —Ü–µ –∫–æ–ø—ñ—è –æ–± º—î–∫—Ç–∞, –¥–µ –∫–æ–ø—ñ—é—é—Ç—å—Å—è –≤—Å—ñ **–∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—ñ–≤**, –∞–ª–µ –¥–ª—è –æ–± º—î–∫—Ç—ñ–≤ ‚Äî –ª–∏—à–µ **–ø–æ—Å–∏–ª–∞–Ω–Ω—è**, –∞ –Ω–µ —Å–∞–º—ñ –æ–±‚Äô—î–∫—Ç–∏.

**Deep copy** ‚Äî —Ü–µ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∞ –∫–æ–ø—ñ—è, —è–∫–∞ —Å—Ç–≤–æ—Ä—é—î **–Ω–æ–≤—ñ –µ–∫–∑–µ–º–ø–ª—è—Ä–∏ –≤—Å—ñ—Ö –≤–∫–ª–∞–¥–µ–Ω–∏—Ö –æ–± º—î–∫—Ç—ñ–≤**, —Ç–æ–±—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –¥—É–±–ª—é—î—Ç—å—Å—è –±–µ–∑ —Å–ø—ñ–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω—É.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

**Shallow copy** ‚Äî –∫–æ–ø—ñ—è **"–≤–µ—Ä—Ö–Ω—å–æ–≥–æ —Ä—ñ–≤–Ω—è",** –∞–ª–µ —è–∫—â–æ —î –æ–±‚Äô—î–∫—Ç–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ ‚Äî –≤–æ–Ω–∏ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è —Å–ø—ñ–ª—å–Ω–∏–º–∏.

**Deep copy** ‚Äî **—Å–ø—Ä–∞–≤–∂–Ω—ñ–π –∫–ª–æ–Ω**: —ñ —Å–∞–º –æ–± º—î–∫—Ç, —ñ –≤—Å–µ, —â–æ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –Ω—å–æ–≥–æ ‚Äî –Ω–æ–≤–µ, –Ω–µ–∑–∞–ª–µ–∂–Ω–µ.

---

## **üìä –í–∏–¥–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è:**

| –¢–∏–ø –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è | –ü–æ–ª—è –ø—Ä–∏–º—ñ—Ç–∏–≤—ñ–≤ | –û–± º—î–∫—Ç–Ω—ñ –ø–æ–ª—è (–ø–æ—Å–∏–ª–∞–Ω–Ω—è) | –ù–µ–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å |
| ----- | ----- | ----- | ----- |
| **`Shallow copy`** | ‚úÖ –∫–æ–ø—ñ—é—é—Ç—å—Å—è | ‚ùå –ª–∏—à–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è | ‚ùå —á–∞—Å—Ç–∫–æ–≤–∞ |
| **`Deep copy`** | ‚úÖ –∫–æ–ø—ñ—é—é—Ç—å—Å—è | ‚úÖ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –Ω–æ–≤—ñ –æ–± º—î–∫—Ç–∏ | ‚úÖ –ø–æ–≤–Ω–∞ |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

* –Ø–∫—â–æ —Ç–∏ –∫–ª–æ–Ω—É—î—à –æ–± º—î–∫—Ç **`User`**, —É —è–∫–æ–≥–æ —î —Å–ø–∏—Å–æ–∫ **`List<String> tags`**,  
  —ñ —Ç–∏ –∑—Ä–æ–±–∏–≤ **shallow copy** ‚Äî –æ–±–∏–¥–≤–∞ –æ–± º—î–∫—Ç–∏ **`user1`** —ñ **`user2`** –±—É–¥—É—Ç—å –ø–æ—Å–∏–ª–∞—Ç–∏—Å—å –Ω–∞ **—Ç–æ–π —Å–∞–º–∏–π —Å–ø–∏—Å–æ–∫**.
* –Ø–∫—â–æ —Ç–∏ —Ö–æ—á–µ—à, —â–æ–± —É **`user1`** —ñ **`user2`** –±—É–ª–∏ **—Ä—ñ–∑–Ω—ñ —Å–ø–∏—Å–∫–∏** ‚Äî —Ç—Ä–µ–±–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ **deep copy** —ñ —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –≤—Ä—É—á–Ω—É.
* **`Shallow`** ‚Äî –û–ö, —è–∫—â–æ –æ–±‚Äô—î–∫—Ç –º—ñ—Å—Ç–∏—Ç—å –ª–∏—à–µ **`int`**, **`String`**, **`boolean`**, —Ç–æ–±—Ç–æ **immutable** —Ç–∏–ø–∏.
* **`Deep`** ‚Äî –ø–æ—Ç—Ä—ñ–±–µ–Ω, —è–∫—â–æ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —î **–∑–º—ñ–Ω—é–≤–∞–Ω—ñ –æ–± º—î–∫—Ç–∏** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å–ø–∏—Å–∫–∏, –º–∞—Å–∏–≤–∏, —ñ–Ω—à—ñ –∫–ª–∞—Å–∏).

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

‚úÖ **Shallow copy (–ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–∞ –∫–æ–ø—ñ—è)**:–∏

```java
@Override
protected User clone() {
    try {
        return (User) super.clone();  // –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–∞ –∫–æ–ø—ñ—è
    } catch (CloneNotSupportedException e) {
        throw new RuntimeException(e);
    }
}
```

–Ø–∫—â–æ –ø–æ–ª–µ:

```java
private List<String> tags;
```

–¢–æ–¥—ñ:

```java
user1.clone().getTags() == user1.getTags(); // true -- –æ–¥–Ω–∞–∫–æ–≤–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è
```

‚úÖ **Deep copy (–≥–ª–∏–±–æ–∫–∞ –∫–æ–ø—ñ—è)**:

```java
@Override
protected User clone() {
    try {
        User cloned = (User) super.clone();
        cloned.tags = new ArrayList<>(this.tags);  // –Ω–æ–≤–∞ –∫–æ–ø—ñ—è —Å–ø–∏—Å–∫—É
        return cloned;
    } catch (CloneNotSupportedException e) {
        throw new RuntimeException(e);
    }
}
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Shallow copy | Deep copy |
| :---: | :---: | :---: |
| **–ö–æ–ø—ñ—é—î –ø—Ä–∏–º—ñ—Ç–∏–≤–∏** | ‚úÖ | ‚úÖ |
| **–ö–æ–ø—ñ—é—î –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–± º—î–∫—Ç–∏** | ‚ùå (–∫–æ–ø—ñ—é—î –ª–∏—à–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è) | ‚úÖ (—Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤—ñ –µ–∫–∑–µ–º–ø–ª—è—Ä–∏) |
| **–ù–µ–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å** | ‚ùå | ‚úÖ |
| **–†–∏–∑–∏–∫ –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–∏—Ö –∑–º—ñ–Ω** | –≤–∏—Å–æ–∫–∏–π | –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π |
| **–ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è `immutable`** | ‚úÖ | –Ω–µ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ |
| **–ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è `mutable`** | ‚ùå | ‚úÖ |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

üß† **Shallow -> S \= Shared**  
üß† **Deep -> D \= Duplicate**

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

**Shallow copy** ‚Äî —Ü–µ —à–≤–∏–¥–∫–∏–π —Å–ø–æ—Å—ñ–± –∑—Ä–æ–±–∏—Ç–∏ –∫–æ–ø—ñ—é –æ–±'—î–∫—Ç–∞, –∞–ª–µ –∑ —Ä–∏–∑–∏–∫–æ–º, —â–æ –≤–∫–ª–∞–¥–µ–Ω—ñ –ø–æ–ª—è –∑–∞–ª–∏—à–∞—Ç—å—Å—è —Å–ø—ñ–ª—å–Ω–∏–º–∏.

**Deep copy** ‚Äî —Å–∫–ª–∞–¥–Ω—ñ—à–∏–π, –∞–ª–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –ø–æ–≤–Ω—É –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –∫–æ–ø—ñ—ó.

–Ø–∫—â–æ –≤ —Ç–≤–æ—î–º—É –æ–±‚Äô—î–∫—Ç—ñ —î –∑–º—ñ–Ω—é–≤–∞–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ (—Å–ø–∏—Å–∫–∏, –º–∞—Å–∏–≤–∏, –æ–± º—î–∫—Ç–∏) ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π deep copy –∞–±–æ —ñ–Ω—à—ñ –±–µ–∑–ø–µ—á–Ω—ñ —Å–ø–æ—Å–æ–±–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è.

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —á–æ–º—É –∫–ª—é—á–æ–≤–∞ —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–∏–º (`shallow`) —Ç–∞ –≥–ª–∏–±–æ–∫–∏–º (`deep`) –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è–º?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ö–ª—é—á–æ–≤–∞ —Ä—ñ–∑–Ω–∏—Ü—è –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, **—è–∫ –∫–æ–ø—ñ—é—é—Ç—å—Å—è –ø–æ–ª—è, —â–æ —î –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏ –Ω–∞ —ñ–Ω—à—ñ –æ–±'—î–∫—Ç–∏**.
>
> * **–ü–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è (Shallow Copy):**
>   * –ö–æ–ø—ñ—é—é—Ç—å—Å—è –ª–∏—à–µ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—ñ–≤. –î–ª—è –æ–±'—î–∫—Ç–Ω–∏—Ö –ø–æ–ª—ñ–≤ —Ü–µ –æ–∑–Ω–∞—á–∞—î, —â–æ **–∫–æ–ø—ñ—é—î—Ç—å—Å—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è (–∞–¥—Ä–µ—Å–∞ –≤ –ø–∞–º'—è—Ç—ñ)**, –∞ –Ω–µ —Å–∞–º –æ–±'—î–∫—Ç.
>   * **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ä–∏–≥—ñ–Ω–∞–ª —ñ –∫–æ–ø—ñ—è **—Ä–æ–∑–¥—ñ–ª—è—é—Ç—å (share) —Å–ø—ñ–ª—å–Ω—ñ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±'—î–∫—Ç–∏**. –ó–º—ñ–Ω–∞ —Å—Ç–∞–Ω—É —Ç–∞–∫–æ–≥–æ –≤–∫–ª–∞–¥–µ–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ —á–µ—Ä–µ–∑ –∫–æ–ø—ñ—é –±—É–¥–µ –≤–∏–¥–Ω–∞ —ñ –≤ –æ—Ä–∏–≥—ñ–Ω–∞–ª—ñ (—ñ –Ω–∞–≤–ø–∞–∫–∏).
>
> * **–ì–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è (Deep Copy):**
>   * –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–µ–∑–∞–ª–µ–∂–Ω–∞ –∫–æ–ø—ñ—è. **–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∫–æ–ø—ñ—é—é—Ç—å—Å—è –Ω–µ —Ç—ñ–ª—å–∫–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è, –∞ –π —Å–∞–º—ñ –æ–±'—î–∫—Ç–∏**, –Ω–∞ —è–∫—ñ —Ü—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤–∫–∞–∑—É—é—Ç—å.
>   * **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ä–∏–≥—ñ–Ω–∞–ª —ñ –∫–æ–ø—ñ—è –Ω–µ –º–∞—é—Ç—å —Å–ø—ñ–ª—å–Ω–∏—Ö –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö (–∑–º—ñ–Ω–Ω–∏—Ö) –æ–±'—î–∫—Ç—ñ–≤. –í–æ–Ω–∏ —î –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∏–º–∏.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–£—è–≤—ñ—Ç—å, —â–æ —É –≤–∞—Å —î –ø–∞–ø–∫–∞ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏.

* **Shallow Copy** ‚Äî —Ü–µ —è–∫ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –ø–∞–ø–∫—É —ñ –ø–æ–∫–ª–∞—Å—Ç–∏ –≤ –Ω–µ—ó —è—Ä–ª–∏–∫–∏ (shortcuts), —â–æ –≤–∫–∞–∑—É—é—Ç—å –Ω–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏. –£ –≤–∞—Å –¥–≤—ñ –ø–∞–ø–∫–∏, –∞–ª–µ –æ–±–∏–¥–≤—ñ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –æ–¥–Ω–∏–º–∏ –π —Ç–∏–º–∏ –∂ —Ñ–∞–π–ª–∞–º–∏.
* **Deep Copy** ‚Äî —Ü–µ —è–∫ –≤–∑—è—Ç–∏ –∫–æ–∂–µ–Ω –¥–æ–∫—É–º–µ–Ω—Ç, –∑—Ä–æ–±–∏—Ç–∏ –π–æ–≥–æ –∫—Å–µ—Ä–æ–∫–æ–ø—ñ—é —ñ –ø–æ–∫–ª–∞—Å—Ç–∏ —Ü—ñ –∫–æ–ø—ñ—ó –≤ –Ω–æ–≤—É –ø–∞–ø–∫—É. –£ –≤–∞—Å –¥–≤—ñ –ø–∞–ø–∫–∏ –∑ –¥–≤–æ–º–∞ –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–º–∏ –Ω–∞–±–æ—Ä–∞–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ—ó –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó: "–∫–æ–ø—ñ—é—î—Ç—å—Å—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è" vs "–∫–æ–ø—ñ—é—î—Ç—å—Å—è –æ–±'—î–∫—Ç".*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–π —Ç–∏–ø –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≤–∏–∫–æ–Ω—É—î –º–µ—Ç–æ–¥ `Object.clone()` –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ú–µ—Ç–æ–¥ `Object.clone()` –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ–Ω—É—î **–ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è (shallow copy)**.
>
> –í—ñ–Ω —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç —ñ –ø–æ–±—ñ—Ç–æ–≤–æ –∫–æ–ø—ñ—é—î –∑–Ω–∞—á–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ–ª—ñ–≤ –∑ –æ—Ä–∏–≥—ñ–Ω–∞–ª—É. –î–ª—è –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤ (`int`, `char`, `double`) –∫–æ–ø—ñ—é—é—Ç—å—Å—è —ó—Ö–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è. –î–ª—è –æ–±'—î–∫—Ç–Ω–∏—Ö —Ç–∏–ø—ñ–≤ (`String`, `List`, `MyClass`) –∫–æ–ø—ñ—é—î—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è (–∞–¥—Ä–µ—Å–∞).

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**</h4>

–¶–µ –æ–¥–Ω–∞ –∑ –≥–æ–ª–æ–≤–Ω–∏—Ö –ø—Ä–∏—á–∏–Ω, —á–æ–º—É –∑ `clone()` –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É—Ç–∏ –æ–±–µ—Ä–µ–∂–Ω–∏–º. –ë–∞–≥–∞—Ç–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤-–ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤ –æ—á—ñ–∫—É—é—Ç—å, —â–æ `clone()` —Å—Ç–≤–æ—Ä–∏—Ç—å –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–µ–∑–∞–ª–µ–∂–Ω—É –∫–æ–ø—ñ—é, –∞–ª–µ —Ü–µ –Ω–µ —Ç–∞–∫.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ `clone()`, —â–æ —î –æ—Å–Ω–æ–≤–æ—é –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≥–ª–∏–±–æ–∫–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É, –¥–µ –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –†–æ–∑–≥–ª—è–Ω–µ–º–æ –ø—Ä–∏–∫–ª–∞–¥ –∑ –∫–ª–∞—Å–æ–º `Order`, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤.
>
> ```java
> import java.util.ArrayList;
> import java.util.List;
>
> class Order implements Cloneable {
>     private int id;
>     private List<String> products;
>
>     public Order(int id, List<String> products) {
>         this.id = id;
>         this.products = products;
>     }
>
>     public List<String> getProducts() { return products; }
>
>     @Override
>     public Order clone() { // –ü–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
>         try {
>             return (Order) super.clone();
>         } catch (CloneNotSupportedException e) {
>             throw new AssertionError();
>         }
>     }
> }
> ```
>
> **–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –ø—Ä–æ–±–ª–µ–º–∏:**
>
> ```java
> public class ShallowCopyProblem {
>     public static void main(String[] args) {
>         List<String> originalProducts = new ArrayList<>();
>         originalProducts.add("Laptop");
>
>         Order order1 = new Order(101, originalProducts);
>         Order order2 = order1.clone(); // –°—Ç–≤–æ—Ä—é—î–º–æ –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤—É –∫–æ–ø—ñ—é
>
>         // –î–æ–¥–∞—î–º–æ –ø—Ä–æ–¥—É–∫—Ç —É –∫–æ–ø—ñ—é
>         order2.getProducts().add("Mouse");
>
>         // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –ø—Ä–æ–¥—É–∫—Ç–∏ –≤ –æ—Ä–∏–≥—ñ–Ω–∞–ª—ñ
>         System.out.println("–ü—Ä–æ–¥—É–∫—Ç–∏ –≤ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–º—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—ñ: " + order1.getProducts());
>         // –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ["Laptop"]
>         // –§–∞–∫—Ç–∏—á–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ["Laptop", "Mouse"] - –ù–ï–û–ß–Ü–ö–£–í–ê–ù–û!
>     }
> }
> ```
>
> –ü—Ä–æ–±–ª–µ–º–∞ –≤–∏–Ω–∏–∫–ª–∞, —Ç–æ–º—É —â–æ —ñ `order1`, —ñ `order2` –ø–æ—Å–∏–ª–∞–ª–∏—Å—è –Ω–∞ **–æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π** –æ–±'—î–∫—Ç `ArrayList`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –Ω–∞–ø–∏—Å–∞—Ç–∏ –∫–æ–¥, —â–æ —ñ–ª—é—Å—Ç—Ä—É—î –ø–æ–±—ñ—á–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ (side effects) –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≥–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –¥–ª—è –∫–ª–∞—Å—É –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—É?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≥–ª–∏–±–æ–∫–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—ñ—Å–ª—è –≤–∏–∫–ª–∏–∫—É `super.clone()` –≤—Ä—É—á–Ω—É —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–ø—ñ—ó –≤—Å—ñ—Ö –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –ø–æ–ª—ñ–≤.
>
> ```java
> class Order implements Cloneable {
>     private int id;
>     private List<String> products;
>
>     // ... –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —ñ –≥–µ—Ç—Ç–µ—Ä–∏ ...
>
>     @Override
>     public Order clone() { // –ì–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
>         try {
>             // 1. –ü–æ—á–∏–Ω–∞—î–º–æ –∑ –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–æ—ó –∫–æ–ø—ñ—ó
>             Order clonedOrder = (Order) super.clone();
>
>             // 2. –í—Ä—É—á–Ω—É —Å—Ç–≤–æ—Ä—é—î–º–æ –≥–ª–∏–±–æ–∫—É –∫–æ–ø—ñ—é –¥–ª—è –º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è 'products'
>             clonedOrder.products = new ArrayList<>(this.products);
>
>             return clonedOrder;
>         } catch (CloneNotSupportedException e) {
>             throw new AssertionError();
>         }
>     }
> }
> ```
>
> –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É `clonedOrder.products` –±—É–¥–µ –Ω–æ–≤–∏–º –µ–∫–∑–µ–º–ø–ª—è—Ä–æ–º `ArrayList`, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å —Ç—ñ –∂ —Å–∞–º—ñ —Ä—è–¥–∫–∏, —â–æ –π –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π. –û—Å–∫—ñ–ª—å–∫–∏ `String` —î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º, –∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Å–∞–º—ñ —Ä—è–¥–∫–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ. –Ø–∫–±–∏ —Å–ø–∏—Å–æ–∫ –º—ñ—Å—Ç–∏–≤ –º—É—Ç–∞–±–µ–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Product`), —ó—Ö —Ç–∞–∫–æ–∂ –¥–æ–≤–µ–ª–æ—Å—è –± –∫–ª–æ–Ω—É–≤–∞—Ç–∏ –≤ —Ü–∏–∫–ª—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≥–ª–∏–±–æ–∫–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ö–æ–ª–∏ –º–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ü–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —î –∞–±—Å–æ–ª—é—Ç–Ω–æ –±–µ–∑–ø–µ—á–Ω–∏–º —ñ –¥–æ—Å—Ç–∞—Ç–Ω—ñ–º —É –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö:
>
> 1. **–ö–ª–∞—Å –º—ñ—Å—Ç–∏—Ç—å –ª–∏—à–µ –ø–æ–ª—è –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤** (`int`, `double`, `boolean` —Ç–æ—â–æ). –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –∫–æ–ø—ñ—é—é—Ç—å—Å—è —ó—Ö–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è, —ñ –Ω—ñ—è–∫–∏—Ö —Å–ø—ñ–ª—å–Ω–∏—Ö –ø–æ—Å–∏–ª–∞–Ω—å –Ω–µ –≤–∏–Ω–∏–∫–∞—î.
>
> 2. **–ö–ª–∞—Å –º—ñ—Å—Ç–∏—Ç—å –ª–∏—à–µ –ø–æ–ª—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö (–Ω–µ–∑–º—ñ–Ω–Ω–∏—Ö) –æ–±'—î–∫—Ç—ñ–≤** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `String`, `Integer`, `LocalDate`). –û—Å–∫—ñ–ª—å–∫–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏ –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏, –Ω–µ–º–∞—î —Ä–∏–∑–∏–∫—É, —â–æ –∑–º—ñ–Ω–∞ —Å—Ç–∞–Ω—É –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ –≤–ø–ª–∏–Ω–µ –Ω–∞ —ñ–Ω—à–µ. –†–æ–∑–¥—ñ–ª—è—Ç–∏ —Å–ø—ñ–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏ —î –±–µ–∑–ø–µ—á–Ω–∏–º —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –ø–∞–º'—è—Ç—ñ.
>
> –£ –±—É–¥—å-—è–∫–æ–º—É —ñ–Ω—à–æ–º—É –≤–∏–ø–∞–¥–∫—É, —è–∫—â–æ –∫–ª–∞—Å –º—ñ—Å—Ç–∏—Ç—å —Ö–æ—á–∞ –± –æ–¥–Ω–µ –ø–æ–ª–µ, —â–æ —î –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ **–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π** –æ–±'—î–∫—Ç (`ArrayList`, `HashMap`, `StringBuilder`, –≤–ª–∞—Å–Ω–∏–π –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –∫–ª–∞—Å), –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —î —Ä–∏–∑–∏–∫–æ–≤–∞–Ω–∏–º —ñ —Å–ª—ñ–¥ —Ä–æ–∑–≥–ª—è–Ω—É—Ç–∏ –≥–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ä–æ–ª—ñ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ —Ç–∞ —ó—ó –∑–≤'—è–∑–∫—É –∑ –±–µ–∑–ø–µ–∫–æ—é –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —ñ —è–∫ –≤—ñ–Ω –º–æ–∂–µ –±—É—Ç–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ—é –¥–ª—è –≥–ª–∏–±–æ–∫–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è (Copy Constructor)** ‚Äî —Ü–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —è–∫–∏–π –ø—Ä–∏–π–º–∞—î –Ω–∞ –≤—Ö—ñ–¥ –æ–±'—î–∫—Ç —Ç–æ–≥–æ –∂ –∫–ª–∞—Å—É —ñ —Å—Ç–≤–æ—Ä—é—î –π–æ–≥–æ –∫–æ–ø—ñ—é, –∫–æ–ø—ñ—é—é—á–∏ –ø–æ–ª—è. –¶–µ –æ–¥–Ω–∞ –∑ –Ω–∞–π–∫—Ä–∞—â–∏—Ö –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤ –º–µ—Ö–∞–Ω—ñ–∑–º—É `clone()`.
>
> –î–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≥–ª–∏–±–æ–∫–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ–≤–∏–Ω–µ–Ω –≤—Ä—É—á–Ω—É —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫–æ–ø—ñ—ó –≤—Å—ñ—Ö –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –ø–æ–ª—ñ–≤.
>
> **–ü—Ä–∏–∫–ª–∞–¥ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≥–ª–∏–±–æ–∫–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**
>
> ```java
> public class Order {
>     private int id;
>     private List<String> products;
>
>     // –ó–≤–∏—á–∞–π–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
>     public Order(int id, List<String> products) { /* ... */ }
>
>     // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –¥–ª—è –≥–ª–∏–±–æ–∫–æ—ó –∫–æ–ø—ñ—ó
>     public Order(Order other) {
>         this.id = other.id;
>         this.products = new ArrayList<>(other.products); // –°—Ç–≤–æ—Ä—é—î–º–æ –∫–æ–ø—ñ—é —Å–ø–∏—Å–∫—É
>     }
> }
>
> // –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
> Order order1 = new Order(...);
> Order order2 = new Order(order1); // –í–∏–∫–ª–∏–∫–∞—î–º–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
> ```
>
> **–ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–∞–¥ `clone()`:**
>
> * –ë—ñ–ª—å—à –ø—Ä–æ—Å—Ç–∏–π —ñ —è–≤–Ω–∏–π –∫–æ–¥.
> * –ë–µ–∑–ø–µ—á–Ω–∏–π –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É —Ç–∏–ø—ñ–≤, –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è.
> * –ù–µ –≤–∏–º–∞–≥–∞—î —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó `Cloneable` —ñ –æ–±—Ä–æ–±–∫–∏ `CloneNotSupportedException`.
> * –ö–æ—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∞—Ü—é—î –∑ `final` –ø–æ–ª—è–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏—Ö –ø–∞—Ç–µ—Ä–Ω—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –∑–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ –±—ñ–ª—å—à —á–∏—Å—Ç—ñ —Ç–∞ –±–µ–∑–ø–µ—á–Ω—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–º –º–µ—Ö–∞–Ω—ñ–∑–º–∞–º.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—â–æ –∫–ª–∞—Å –º—ñ—Å—Ç–∏—Ç—å –ø–æ–ª–µ `private final List<String> items`, —á–∏ –º–æ–∂–Ω–∞ –¥–ª—è –Ω—å–æ–≥–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≥–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `clone()`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù—ñ, –Ω–µ –º–æ–∂–Ω–∞. –¶–µ –æ–¥–Ω–∞ –∑ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º –º–µ—Ö–∞–Ω—ñ–∑–º—É `clone()`.
>
> 1. `clone()` —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç, –∫–æ–ø—ñ—é—é—á–∏ –±–∞–π—Ç–∏, **–±–µ–∑ –≤–∏–∫–ª–∏–∫—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞**.
> 2. `final`-–ø–æ–ª—è –º–æ–∂—É—Ç—å –±—É—Ç–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—ñ –∞–±–æ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ.
>
> **–ü—Ä–æ–±–ª–µ–º–∞:**
>
> * `super.clone()` –≤–∏–∫–æ–Ω–∞—î –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —ñ —Å–∫–æ–ø—ñ—é—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ç–æ–π —Å–∞–º–∏–π —Å–ø–∏—Å–æ–∫ —É `final`-–ø–æ–ª–µ `items`.
> * –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –≤–∏ **–Ω–µ –∑–º–æ–∂–µ—Ç–µ** –ø—Ä–∏—Å–≤–æ—ó—Ç–∏ —Ü—å–æ–º—É –ø–æ–ª—é –Ω–æ–≤–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä —Å–ø–∏—Å–∫—É (`cloned.items = new ArrayList<>(this.items)`), –æ—Å–∫—ñ–ª—å–∫–∏ –ø–æ–ª–µ `items` —î `final`.
>
> –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ, –Ω–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ –≤—Å—ñ –≤–∞—à—ñ —Å–ø—Ä–æ–±–∏, –æ—Ä–∏–≥—ñ–Ω–∞–ª —Ç–∞ –∫–ª–æ–Ω –±—É–¥—É—Ç—å —Ä–æ–∑–¥—ñ–ª—è—Ç–∏ —Å–ø—ñ–ª—å–Ω–∏–π `final`-—Å–ø–∏—Å–æ–∫, —ñ –≥–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –±—É–¥–µ –Ω–µ–º–æ–∂–ª–∏–≤–∏–º.
>
> –î–ª—è —Ç–∞–∫–∏—Ö –∫–ª–∞—Å—ñ–≤ —î–¥–∏–Ω–∏–º –Ω–∞–¥—ñ–π–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≥–ª–∏–±–æ–∫–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —î **–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è**.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –æ–±–º–µ–∂–µ–Ω—å `clone()` —Ç–∞ –π–æ–≥–æ –Ω–µ—Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ –∑ –∫–ª—é—á–æ–≤–∏–º–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏ –º–æ–≤–∏, —è–∫-–æ—Ç `final`.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ "–∑–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è" (`defensive copy`) —ñ —è–∫ –≤–æ–Ω–æ –ø–æ–≤'—è–∑–∞–Ω–µ –∑ –≥–ª–∏–±–æ–∫–∏–º –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è–º? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ó–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è** ‚Äî —Ü–µ —Ç–µ—Ö–Ω—ñ–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ø—ñ–π –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—ó —Ç–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ –∫–ª–∞—Å—É. –¶–µ, –ø–æ —Å—É—Ç—ñ, —î **–∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è–º –≥–ª–∏–±–æ–∫–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è** –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö —Ç–∞ –≥–µ—Ç—Ç–µ—Ä–∞—Ö.
>
> **–î–µ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è:**
>
> 1. **–£ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ:** –ö–æ–ª–∏ –≤–∏ –ø—Ä–∏–π–º–∞—î—Ç–µ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `List` –∞–±–æ `Date`) —è–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ –∑–±–µ—Ä–µ–≥—Ç–∏ –π–æ–≥–æ –∫–æ–ø—ñ—é, –∞ –Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è. –¶–µ –∑–∞—Ö–∏—Å—Ç–∏—Ç—å –≤–∞—à –∫–ª–∞—Å –≤—ñ–¥ –∑–º—ñ–Ω, —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –∑—Ä–æ–±–ª–µ–Ω—ñ –∑–∑–æ–≤–Ω—ñ –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞.
>
> 2. **–£ –≥–µ—Ç—Ç–µ—Ä—ñ:** –ö–æ–ª–∏ –≤–∏ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç–µ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç, –≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –π–æ–≥–æ –∫–æ–ø—ñ—é. –¶–µ –∑–∞—Ö–∏—â–∞—î –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω –≤–∞—à–æ–≥–æ –∫–ª–∞—Å—É –≤—ñ–¥ –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–∏—Ö –∑–º—ñ–Ω –∑ –±–æ–∫—É –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–≥–æ –∫–æ–¥—É.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public final class ImmutablePeriod { // –ö–ª–∞—Å, —è–∫–∏–π –º–∏ —Ä–æ–±–∏–º–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º
>     private final Date start;
>     private final Date end;
>
>     public ImmutablePeriod(Date start, Date end) {
>         // 1. –ó–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ
>         this.start = new Date(start.getTime());
>         this.end = new Date(end.getTime());
>     }
>
>     public Date getStart() {
>         // 2. –ó–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≤ –≥–µ—Ç—Ç–µ—Ä—ñ
>         return new Date(start.getTime());
>     }
> }
> ```
>
> –ë–µ–∑ –∑–∞—Ö–∏—Å–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∫–ª–∞—Å `ImmutablePeriod` –Ω–µ –±—É–≤ –±–∏ –ø–æ-—Å–ø—Ä–∞–≤–∂–Ω—å–æ–º—É —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ —Ç–∞ –≤–º—ñ–Ω–Ω—è –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ —Ç–µ—Ö–Ω—ñ–∫—É –∑–∞—Ö–∏—Å–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–∞–¥—ñ–π–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ —î `String` –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º? –ß–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –π–æ–≥–æ –≥–ª–∏–±–æ–∫–æ –∫–æ–ø—ñ—é–≤–∞—Ç–∏? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ö–ª–∞—Å `java.lang.String` —î **—ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º (immutable)**. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ `String` –π–æ–≥–æ –≤–º—ñ—Å—Ç (–ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å —Å–∏–º–≤–æ–ª—ñ–≤) –∑–º—ñ–Ω–∏—Ç–∏ –Ω–µ–º–æ–∂–ª–∏–≤–æ. –ë—É–¥—å-—è–∫–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è, —è–∫–∞ –≤–∏–≥–ª—è–¥–∞—î —è–∫ –∑–º—ñ–Ω–∞ —Ä—è–¥–∫–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `concat()`, `substring()`, `toUpperCase()`), –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ —Å—Ç–≤–æ—Ä—é—î —ñ –ø–æ–≤–µ—Ä—Ç–∞—î **–Ω–æ–≤–∏–π** –æ–±'—î–∫—Ç `String`.
>
> **–ß–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –π–æ–≥–æ –≥–ª–∏–±–æ–∫–æ –∫–æ–ø—ñ—é–≤–∞—Ç–∏?**
> –ù—ñ, –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ. –û—Å–∫—ñ–ª—å–∫–∏ `String` —î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º, –Ω–µ–º–∞—î —Ä–∏–∑–∏–∫—É, —â–æ —Ö—Ç–æ—Å—å –∑–º—ñ–Ω–∏—Ç—å –π–æ–≥–æ —Å—Ç–∞–Ω. –¢–æ–º—É –ø—Ä–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—ñ –æ–±'—î–∫—Ç–∞, —â–æ –º—ñ—Å—Ç–∏—Ç—å –ø–æ–ª–µ —Ç–∏–ø—É `String`, –∞–±—Å–æ–ª—é—Ç–Ω–æ –±–µ–∑–ø–µ—á–Ω–æ —ñ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ **–ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è** —Ü—å–æ–≥–æ –ø–æ–ª—è (—Ç–æ–±—Ç–æ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è). –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –æ–±'—î–∫—Ç–∞ `String` –±—É–ª–æ –± –∑–∞–π–≤–æ—é –≤–∏—Ç—Ä–∞—Ç–æ—é –ø–∞–º'—è—Ç—ñ —Ç–∞ —á–∞—Å—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏—Ö –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π –∫–ª–∞—Å—É `String` —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è, —è–∫ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —Å–ø—Ä–æ—â—É—î —Ä–æ–±–æ—Ç—É –∑ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è–º.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≥–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –æ–±'—î–∫—Ç–∞, —â–æ –º—ñ—Å—Ç–∏—Ç—å —Å–∫–ª–∞–¥–Ω–∏–π –≥—Ä–∞—Ñ —ñ–Ω—à–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ –∑ –º–æ–∂–ª–∏–≤–∏–º–∏ —Ü–∏–∫–ª—ñ—á–Ω–∏–º–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ì–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≥—Ä–∞—Ñ—É –æ–±'—î–∫—Ç—ñ–≤ –∑ —Ü–∏–∫–ª—ñ—á–Ω–∏–º–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏ —î –Ω–µ—Ç—Ä–∏–≤—ñ–∞–ª—å–Ω–æ—é –∑–∞–¥–∞—á–µ—é. –ù–∞—ó–≤–Ω–∏–π —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ (–ø—Ä–æ—Å—Ç–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `clone()` –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø–æ–ª—è) –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ **–Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ—ó —Ä–µ–∫—É—Ä—Å—ñ—ó** —Ç–∞ `StackOverflowError`.
>
> **–†—ñ—à–µ–Ω–Ω—è:**
> –ü–æ—Ç—Ä—ñ–±–Ω–æ –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏, —è–∫—ñ –≤–∂–µ –±—É–ª–∏ —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω—ñ, —â–æ–± –Ω–µ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ —ó—Ö –≤–¥—Ä—É–≥–µ.
>
> 1. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –º–∞–ø–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `HashMap<Object, Object>`) –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ –º—ñ–∂ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–º–∏ –æ–±'—î–∫—Ç–∞–º–∏ —Ç–∞ —ó—Ö–Ω—ñ–º–∏ –≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω–∏–º–∏ –∫–æ–ø—ñ—è–º–∏: `Map<Original, Copy>`.
>
> 2. –ú–µ—Ç–æ–¥ –≥–ª–∏–±–æ–∫–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ä–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —ñ –ø–µ—Ä–µ–¥ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è–º –∫–æ–∂–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î –≤—ñ–Ω –≤–∂–µ –≤ –º–∞–ø—ñ.
>     * –Ø–∫—â–æ –æ–±'—î–∫—Ç –≤–∂–µ —î –≤ –º–∞–ø—ñ, –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –π–æ–≥–æ —ñ—Å–Ω—É—é—á—É –∫–æ–ø—ñ—é –∑ –º–∞–ø–∏.
>     * –Ø–∫—â–æ –æ–±'—î–∫—Ç–∞ –Ω–µ–º–∞—î, –≤—ñ–Ω —Å—Ç–≤–æ—Ä—é—î –π–æ–≥–æ –∫–æ–ø—ñ—é, **–¥–æ–¥–∞—î –ø–∞—Ä—É (–æ—Ä–∏–≥—ñ–Ω–∞–ª, –∫–æ–ø—ñ—è) –≤ –º–∞–ø—É**, –∞ –ø–æ—Ç—ñ–º —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∫–æ–ø—ñ—é—î –π–æ–≥–æ –ø–æ–ª—è.
>
> –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –∫–æ–∂–µ–Ω –æ–±'—î–∫—Ç –≥—Ä–∞—Ñ—É –±—É–¥–µ —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–∏–π –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑, –∞ —Ü–∏–∫–ª—ñ—á–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤ –∫–æ–ø—ñ—ó –±—É–¥—É—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –Ω–∞ –≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∫–æ–ø—ñ—ó.
>
> –ù–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ —Ü–µ —Å–∫–ª–∞–¥–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤—Ä—É—á–Ω—É. –ß–∞—Å—Ç–æ –¥–ª—è —Ç–∞–∫–∏—Ö –∑–∞–≤–¥–∞–Ω—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Å—Ç–æ—Ä–æ–Ω–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –¥–ª—è –≥–ª–∏–±–æ–∫–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑ Apache Commons Lang –∞–±–æ —á–µ—Ä–µ–∑ —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ (–æ–±—Ö—ñ–¥ –≥—Ä–∞—Ñ—É, —Ü–∏–∫–ª–∏) —Ç–∞ –ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ —Ä–æ–±–æ—á—ñ —Ä—ñ—à–µ–Ω–Ω—è. –¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≤–∏—Å–æ–∫–∏–π —Ä—ñ–≤–µ–Ω—å –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–∑–≤—ñ—Ç—å —Å–ø–æ—Å—ñ–± —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≥–ª–∏–±–æ–∫–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó. –Ø–∫—ñ —É –Ω—å–æ–≥–æ —î –ø–µ—Ä–µ–≤–∞–≥–∏ —Ç–∞ –Ω–µ–¥–æ–ª—ñ–∫–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û–¥–∏–Ω –∑ "—Ç—Ä—é–∫—ñ–≤" –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≥–ª–∏–±–æ–∫–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è ‚Äî —Ü–µ —Å–µ—Ä—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –æ–±'—î–∫—Ç —É –ø–æ—Ç—ñ–∫ –±–∞–π—Ç—ñ–≤, –∞ –ø–æ—Ç—ñ–º –æ–¥—Ä–∞–∑—É –∂ –¥–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –π–æ–≥–æ –Ω–∞–∑–∞–¥. –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –±—É–¥–µ –ø–æ–≤–Ω–∞ –≥–ª–∏–±–æ–∫–∞ –∫–æ–ø—ñ—è.
>
> **–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**
>
> ```java
> public static <T> T deepCopy(T object) {
>     try {
>         ByteArrayOutputStream bos = new ByteArrayOutputStream();
>         ObjectOutputStream oos = new ObjectOutputStream(bos);
>         oos.writeObject(object);
>         oos.flush();
>         oos.close();
>         bos.close();
>         byte[] byteData = bos.toByteArray();
>
>         ByteArrayInputStream bis = new ByteArrayInputStream(byteData);
>         return (T) new ObjectInputStream(bis).readObject();
>     } catch (Exception e) {
>         e.printStackTrace();
>         return null;
>     }
> }
> ```
>
> **–ü–µ—Ä–µ–≤–∞–≥–∏:**
>
> * **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:** –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–∏—Å–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—É –ª–æ–≥—ñ–∫—É —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è.
> * **–û–±—Ä–æ–±–∫–∞ —Ü–∏–∫–ª—ñ–≤:** –ú–µ—Ö–∞–Ω—ñ–∑–º —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª—è—î —Ü–∏–∫–ª—ñ—á–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è.
> * **–ü—Ä–∞—Ü—é—î –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –≥—Ä–∞—Ñ—ñ–≤:** –î–æ–±—Ä–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ –∑—ñ —Å–∫–ª–∞–¥–Ω–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é.
>
> **–ù–µ–¥–æ–ª—ñ–∫–∏:**
>
> * **–ù–∏–∑—å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:** –°–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –¥–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —î –¥—É–∂–µ –ø–æ–≤—ñ–ª—å–Ω–∏–º–∏ –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ —ñ–Ω—à–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è.
> * **–í–∏–º–æ–≥–∞ `Serializable`:** –£—Å—ñ –∫–ª–∞—Å–∏ –≤ –≥—Ä–∞—Ñ—ñ –æ–±'—î–∫—Ç—ñ–≤ –ø–æ–≤–∏–Ω–Ω—ñ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Serializable`.
> * **–ù–µ –∫–æ–ø—ñ—é—î `transient` –ø–æ–ª—è:** –ü–æ–ª—è, –ø–æ–∑–Ω–∞—á–µ–Ω—ñ —è–∫ `transient`, –Ω–µ –±—É–¥—É—Ç—å —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ö—Ä–µ–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ç–∞ –∑–Ω–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ Java, –∞ —Ç–∞–∫–æ–∂ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –æ—Ü—ñ–Ω—é–≤–∞—Ç–∏ –∫–æ–º–ø—Ä–æ–º—ñ—Å–∏ –º—ñ–∂ –ø—Ä–æ—Å—Ç–æ—Ç–æ—é —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –≥–ª–∏–±–æ–∫—É –∫–æ–ø—ñ—é `HashMap`, –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–ª–∏–∫–∞–≤—à–∏ `new HashMap<>(originalMap)`? –ü–æ—è—Å–Ω—ñ—Ç—å. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù—ñ, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `new HashMap<>(originalMap)` –≤–∏–∫–æ–Ω—É—î **–ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è**.
>
> –í—ñ–Ω —Å—Ç–≤–æ—Ä—é—î **–Ω–æ–≤—É** –º–∞–ø—É (`HashMap`), –∞–ª–µ –∫–æ–ø—ñ—é—î –≤ –Ω–µ—ó **–ø–æ—Å–∏–ª–∞–Ω–Ω—è** –Ω–∞ —Ç—ñ —Å–∞–º—ñ –∫–ª—é—á—ñ —Ç–∞ –∑–Ω–∞—á–µ–Ω–Ω—è, —â–æ –±—É–ª–∏ –≤ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ–π –º–∞–ø—ñ.
>
> **–©–æ —Ü–µ –æ–∑–Ω–∞—á–∞—î:**
>
> * `newMap != originalMap` -> `true` (—Ü–µ –¥–≤–∞ —Ä—ñ–∑–Ω—ñ –æ–±'—î–∫—Ç–∏ `HashMap`).
> * `newMap.keySet().iterator().next() == originalMap.keySet().iterator().next()` -> `true` (–∞–ª–µ –≤–æ–Ω–∏ –º—ñ—Å—Ç—è—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ç—ñ —Å–∞–º—ñ –æ–±'—î–∫—Ç–∏ –∫–ª—é—á—ñ–≤ —ñ –∑–Ω–∞—á–µ–Ω—å).
>
> **–ù–∞—Å–ª—ñ–¥–∫–∏:** –Ø–∫—â–æ –≤–∞—à—ñ –∫–ª—é—á—ñ –∞–±–æ, —â–æ —á–∞—Å—Ç—ñ—à–µ, –∑–Ω–∞—á–µ–Ω–Ω—è —î **–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏ –æ–±'—î–∫—Ç–∞–º–∏**, —Ç–æ –∑–º—ñ–Ω–∞ —Ç–∞–∫–æ–≥–æ –æ–±'—î–∫—Ç–∞, –æ—Ç—Ä–∏–º–∞–Ω–æ–≥–æ –∑ –Ω–æ–≤–æ—ó –º–∞–ø–∏, –≤–ø–ª–∏–Ω–µ —ñ –Ω–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—É –º–∞–ø—É.
>
> –î–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥–ª–∏–±–æ–∫–æ—ó –∫–æ–ø—ñ—ó `HashMap` –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä—É—á–Ω—É —ñ—Ç–µ—Ä—É–≤–∞—Ç–∏ –ø–æ –∑–∞–ø–∏—Å–∞—Ö –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ—ó –º–∞–ø–∏ —ñ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≥–ª–∏–±–æ–∫—ñ –∫–æ–ø—ñ—ó —ñ –∫–ª—é—á–∞, —ñ –∑–Ω–∞—á–µ–Ω–Ω—è, —ñ –¥–æ–¥–∞–≤–∞—Ç–∏ —ó—Ö —É –Ω–æ–≤—É –º–∞–ø—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–£–≤–∞–∂–Ω—ñ—Å—Ç—å –¥–æ –¥–µ—Ç–∞–ª–µ–π –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏ –∫–æ–ª–µ–∫—Ü—ñ–π, —è–∫—ñ –ø—Ä–∏–π–º–∞—é—Ç—å —ñ–Ω—à—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó, –∑–∞–∑–≤–∏—á–∞–π –≤–∏–∫–æ–Ω—É—é—Ç—å —Å–∞–º–µ –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –≥–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –æ–±'—î–∫—Ç–∞ –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–º–æ–∂–ª–∏–≤–∏–º, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–∏ –º–∞—î—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ –π–æ–≥–æ –∫–æ–¥—É? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ì–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–º–æ–∂–ª–∏–≤–∏–º –∑ –∫—ñ–ª—å–∫–æ—Ö –ø—Ä–∏—á–∏–Ω, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–∏ –º–æ–∂–µ—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ –∫–ª–∞—Å:
>
> 1. **–ù–∞—è–≤–Ω—ñ—Å—Ç—å –ø–æ–ª—ñ–≤, —â–æ –ø–æ—Å–∏–ª–∞—é—Ç—å—Å—è –Ω–∞ –Ω–µ–∫–ª–æ–Ω–æ–≤–∞–Ω—ñ –æ–±'—î–∫—Ç–∏ –∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫:** –í–∞—à –∫–ª–∞—Å –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç –∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏, —è–∫—É –≤–∏ –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª—é—î—Ç–µ, —ñ —Ü–µ–π –æ–±'—î–∫—Ç –Ω–µ –Ω–∞–¥–∞—î –∂–æ–¥–Ω–æ–≥–æ –º–µ—Ö–∞–Ω—ñ–∑–º—É –¥–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∞–∫—Ç–∏–≤–Ω–µ –º–µ—Ä–µ–∂–µ–≤–µ –∑'—î–¥–Ω–∞–Ω–Ω—è –∞–±–æ –ø–æ—Ç—ñ–∫ –≤–≤–æ–¥—É-–≤–∏–≤–æ–¥—É. –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ç–∞–∫—ñ —Ä–µ—Å—É—Ä—Å–∏ –Ω–µ–º–∞—î —Å–µ–Ω—Å—É.
>
> 2. **–ü—Ä–æ–±–ª–µ–º–∏ –∑ `final`-–ø–æ–ª—è–º–∏:** –Ø–∫ –æ–±–≥–æ–≤–æ—Ä—é–≤–∞–ª–æ—Å—è —Ä–∞–Ω—ñ—à–µ, —è–∫—â–æ –∫–ª–∞—Å –º—ñ—Å—Ç–∏—Ç—å `final`-–ø–æ–ª–µ, —â–æ –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç, –≤–∏ –Ω–µ –∑–º–æ–∂–µ—Ç–µ –ø—Ä–∏—Å–≤–æ—ó—Ç–∏ –π–æ–º—É –Ω–æ–≤—É –∫–æ–ø—ñ—é –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `clone()`.
>
> 3. **–ó–≤'—è–∑–æ–∫ –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–Ω–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏:** –û–±'—î–∫—Ç –º–æ–∂–µ –±—É—Ç–∏ —Ç—ñ—Å–Ω–æ –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º —Ä–µ—Å—É—Ä—Å–æ–º –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `java.lang.Thread`). –°—Ç–≤–æ—Ä–µ–Ω–Ω—è "–∫–æ–ø—ñ—ó" —Ç–∞–∫–æ–≥–æ –æ–±'—î–∫—Ç–∞ –Ω–µ –º–∞—î –ª–æ–≥—ñ—á–Ω–æ–≥–æ —Å–µ–Ω—Å—É.
>
> 4. **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —Å—Ç–∞–Ω—É:** –°—Ç–∞–Ω –æ–±'—î–∫—Ç–∞ –º–æ–∂–µ –±—É—Ç–∏ –Ω–∞—Å—Ç—ñ–ª—å–∫–∏ —Å–∫–ª–∞–¥–Ω–∏–º –∞–±–æ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–º –∑–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—è–º–∏, —â–æ –≤—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏ –π–æ–≥–æ –ø–æ–≤–Ω—ñ—Å—Ç—é –≤ –Ω–æ–≤–æ–º—É –æ–±'—î–∫—Ç—ñ –ø—Ä–æ—Å—Ç–æ –Ω–µ–º–æ–∂–ª–∏–≤–æ –∞–±–æ –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ —Å–∫–ª–∞–¥–Ω–æ.
>
> –£ —Ç–∞–∫–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –ø–æ—Ç—Ä—ñ–±–Ω–æ –∞–±–æ –≤—ñ–¥–º–æ–≤–∏—Ç–∏—Å—è –≤—ñ–¥ —ñ–¥–µ—ó –≥–ª–∏–±–æ–∫–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è, –∞–±–æ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –ª–∏—à–µ —Ç—É —á–∞—Å—Ç–∏–Ω—É —Å—Ç–∞–Ω—É, —è–∫–∞ –ø—ñ–¥–¥–∞—î—Ç—å—Å—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—é.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –º–∏—Å–ª–∏—Ç–∏ –ø—Ä–æ –æ–±–º–µ–∂–µ–Ω–Ω—è —Ç–∞ —Ä–æ–∑—É–º—ñ—Ç–∏, —â–æ –Ω–µ –≤—Å—ñ –æ–±'—î–∫—Ç–∏ –∑–∞ —Å–≤–æ—î—é –ø—Ä–∏—Ä–æ–¥–æ—é –ø—ñ–¥–¥–∞—é—Ç—å—Å—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—é. –¶–µ –ø–æ–∫–∞–∑—É—î –≥–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –¥–∏–∑–∞–π–Ω—É –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –±–µ–∑–ø–µ—á–Ω–æ –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –ø–æ—Ç–æ–∫—ñ–≤ (`thread-safety`) –¥—ñ–ª–∏—Ç–∏—Å—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç –º—ñ–∂ –æ—Ä–∏–≥—ñ–Ω–∞–ª–æ–º —ñ –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–æ—é –∫–æ–ø—ñ—î—é? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, –∞–±—Å–æ–ª—é—Ç–Ω–æ **–±–µ–∑–ø–µ—á–Ω–æ**.
>
> **–Ü–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π (immutable)** –æ–±'—î–∫—Ç –∑–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è–º –Ω–µ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ —Å–≤—ñ–π —Å—Ç–∞–Ω –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ:
>
> 1. –ô–æ–≥–æ —Å—Ç–∞–Ω —î –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–º —ñ –Ω–µ–∑–º—ñ–Ω–Ω–∏–º.
> 2. –ù–µ–º–∞—î —Ä–∏–∑–∏–∫—É "–≥–æ–Ω–∫–∏ –¥–∞–Ω–∏—Ö" (race conditions), –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–µ–º–∞—î —á–æ–≥–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏.
> 3. –í—Å—ñ –ø–æ—Ç–æ–∫–∏ –±–∞—á–∞—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞.
>
> –û—Å–∫—ñ–ª—å–∫–∏ –æ–±'—î–∫—Ç –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏, –Ω–µ–º–∞—î –∂–æ–¥–Ω–æ—ó —Ä—ñ–∑–Ω–∏—Ü—ñ, —á–∏ –º–∞—é—Ç—å –∫—ñ–ª—å–∫–∞ –æ–±'—î–∫—Ç—ñ–≤ (–æ—Ä–∏–≥—ñ–Ω–∞–ª —Ç–∞ –∫–æ–ø—ñ—ó) —Å–ø—ñ–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω—å–æ–≥–æ, —á–∏ –∫–æ–∂–µ–Ω –º–∞—î —Å–≤–æ—î. –¢–æ–º—É –¥—ñ–ª–∏—Ç–∏ —Å–ø—ñ–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏ ‚Äî —Ü–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —ñ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞.
>
> –°–∞–º–µ —Ç–æ–º—É –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —î –±–µ–∑–ø–µ—á–Ω–∏–º –¥–ª—è –∫–ª–∞—Å—ñ–≤, —â–æ —Å–∫–ª–∞–¥–∞—é—Ç—å—Å—è –∑ –ø—Ä–∏–º—ñ—Ç–∏–≤—ñ–≤ —Ç–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –ø–æ–ª—ñ–≤, –Ω–∞–≤—ñ—Ç—å —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ. –¶–µ —î –æ–¥–Ω—ñ—î—é –∑ –≥–æ–ª–æ–≤–Ω–∏—Ö –ø–µ—Ä–µ–≤–∞–≥ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ —Ç–∞ —ó—ó –ø–µ—Ä–µ–≤–∞–≥ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–∞ –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –∫–æ–¥—É.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£—è–≤—ñ—Ç—å, —â–æ –≤–∏ –∫–æ–ø—ñ—é—î—Ç–µ `ArrayList`, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å 1000 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤. –Ø–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –±—É–¥–µ —à–≤–∏–¥—à–∏–º: –≥–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ —Ü–∏–∫–ª —á–∏ —á–µ—Ä–µ–∑ —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é? –Ø–∫–∏–π –∑'—ó—Å—Ç—å –±—ñ–ª—å—à–µ –ø–∞–º'—è—Ç—ñ? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–®–≤–∏–¥–∫—ñ—Å—Ç—å:**
> –ì–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ **—Ü–∏–∫–ª –±—É–¥–µ –∑–Ω–∞—á–Ω–æ —à–≤–∏–¥—à–∏–º**.
>
> * **–¶–∏–∫–ª:** –í–∏–∫–æ–Ω—É—î –ø—Ä—è–º–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ —Ç–∞ –ø—Ä–∏—Å–≤–æ—î–Ω–Ω—è –ø–æ–ª—ñ–≤ —É –ø–∞–º'—è—Ç—ñ. –¶–µ –≤—ñ–¥–Ω–æ—Å–Ω–æ —à–≤–∏–¥–∫—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó.
> * **–°–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è:** –¶–µ –¥—É–∂–µ "–≤–∞–∂–∫–∞" –æ–ø–µ—Ä–∞—Ü—ñ—è. –í–æ–Ω–∞ –≤–∫–ª—é—á–∞—î –≤ —Å–µ–±–µ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –ø–æ–ª—ñ–≤, –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —É –±—ñ–Ω–∞—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç, –∑–∞–ø–∏—Å —É –ø—Ä–æ–º—ñ–∂–Ω–∏–π –º–∞—Å–∏–≤ –±–∞–π—Ç—ñ–≤, –∞ –ø–æ—Ç—ñ–º –∑–≤–æ—Ä–æ—Ç–Ω—ñ –ø—Ä–æ—Ü–µ—Å–∏. –¶–µ –Ω–∞ –ø–æ—Ä—è–¥–∫–∏ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ.
>
> **–°–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ:**
> –°–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è, –π–º–æ–≤—ñ—Ä–Ω–æ, **–∑'—ó—Å—Ç—å –±—ñ–ª—å—à–µ –ø–∞–º'—è—Ç—ñ**, –æ—Å–æ–±–ª–∏–≤–æ –Ω–∞ –ø—ñ–∫—É.
>
> * **–¶–∏–∫–ª:** –í–∏–¥—ñ–ª—è—î –ø–∞–º'—è—Ç—å —Ç—ñ–ª—å–∫–∏ –ø—ñ–¥ –Ω–æ–≤—ñ –æ–±'—î–∫—Ç–∏ —Ç–∞ –Ω–æ–≤–∏–π —Å–ø–∏—Å–æ–∫. –°–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ —î –¥–æ—Å–∏—Ç—å –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–º.
> * **–°–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è:** –î–æ–¥–∞—Ç–∫–æ–≤–æ –¥–æ –ø–∞–º'—è—Ç—ñ –ø—ñ–¥ –Ω–æ–≤—ñ –æ–±'—î–∫—Ç–∏, –≤–æ–Ω–∞ –≤–∏–º–∞–≥–∞—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–º—ñ–∂–Ω–∏—Ö –±—É—Ñ–µ—Ä—ñ–≤ (`ByteArrayOutputStream`), –º–∞—Å–∏–≤—É –±–∞–π—Ç—ñ–≤, —è–∫–∏–π –º–æ–∂–µ –±—É—Ç–∏ –¥–æ—Å–∏—Ç—å –≤–µ–ª–∏–∫–∏–º, –∞ —Ç–∞–∫–æ–∂ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤. –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –∑–Ω–∞—á–Ω–æ –±—ñ–ª—å—à–æ–≥–æ —Ç–∏–º—á–∞—Å–æ–≤–æ–≥–æ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:**
> –°–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —î –∑—Ä—É—á–Ω–∏–º "—Ö–∞–∫–æ–º" –¥–ª—è –≥–ª–∏–±–æ–∫–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö –≥—Ä–∞—Ñ—ñ–≤ –∑–∞–≤–¥—è–∫–∏ —Å–≤–æ—ó–π –ø—Ä–æ—Å—Ç–æ—Ç—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó, –∞–ª–µ –≤–æ–Ω–∞ —î **–Ω–∞–π–º–µ–Ω—à –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–º** –ø—ñ–¥—Ö–æ–¥–æ–º —è–∫ –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É —à–≤–∏–¥–∫–æ—Å—Ç—ñ, —Ç–∞–∫ —ñ –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ. –á—ó –≤–∞—Ä—Ç–æ —É–Ω–∏–∫–∞—Ç–∏ —É –≤–∏—Å–æ–∫–æ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏—Ö –¥—ñ–ª—è–Ω–∫–∞—Ö –∫–æ–¥—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ç–∞ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ —Ä—ñ–∑–Ω–∏–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏. –í–º—ñ–Ω–Ω—è –æ—Ü—ñ–Ω—é–≤–∞—Ç–∏ –∫–æ–º–ø—Ä–æ–º—ñ—Å–∏ –º—ñ–∂ –∑—Ä—É—á–Ω—ñ—Å—Ç—é —Ä–æ–∑—Ä–æ–±–∫–∏ —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.*
