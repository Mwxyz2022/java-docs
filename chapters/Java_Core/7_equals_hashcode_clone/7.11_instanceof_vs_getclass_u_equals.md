---
layout: default
title: "instanceof vs getClass() —É equals()"
parent: "`equals()`, `hashCode()`, `clone()`"
grand_parent: "Java Core"
nav_order: 11
---

# instanceof vs getClass() —É equals()

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –î–≤–∞ –ø—ñ–¥—Ö–æ–¥–∏ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø—É –æ–±'—î–∫—Ç–∞ –≤ `equals()`: `instanceof` –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –æ–±'—î–∫—Ç —î –µ–∫–∑–µ–º–ø–ª—è—Ä–æ–º –ø–µ–≤–Ω–æ–≥–æ –∫–ª–∞—Å—É –∞–±–æ –π–æ–≥–æ –ø—ñ–¥—Ç–∏–ø—É; `getClass()` –≤–∏–∫–æ–Ω—É—î —Ç–æ—á–Ω—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –∫–ª–∞—Å—É (–±–µ–∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è).

* –ø–æ–Ω—è—Ç—Ç—è: `instanceof`, `getClass()`, —ñ—î—Ä–∞—Ä—Ö—ñ—è –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `if (obj instanceof User)` vs `if (obj == null || getClass() != obj.getClass())`.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: `instanceof` –≥–Ω—É—á–∫—ñ—à–∏–π (–¥–ª—è —ñ—î—Ä–∞—Ä—Ö—ñ–π –∑ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è–º), `getClass()` —Å—É–≤–æ—Ä—ñ—à–∏–π (–¥–ª—è —Ç–æ—á–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ –∫–ª–∞—Å—É). –í–∏–±—ñ—Ä –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –¥–∏–∑–∞–π–Ω–µ—Ä—Å—å–∫–∏—Ö —Ä—ñ—à–µ–Ω—å.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ö–æ–ª–∏ —è–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤ `equals()`.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

–£ –º–µ—Ç–æ–¥—ñ **`equals()`** –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Ç–∏–ø –æ–± º—î–∫—Ç–∞ –¥–≤–æ–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏:

* –ß–µ—Ä–µ–∑ **`instanceof`** ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞, —á–∏ –æ–±‚Äô—î–∫—Ç —î –µ–∫–∑–µ–º–ø–ª—è—Ä–æ–º –ø–µ–≤–Ω–æ–≥–æ –∫–ª–∞—Å—É –∞–±–æ –π–æ–≥–æ –Ω–∞—â–∞–¥–∫–∞
* –ß–µ—Ä–µ–∑ **`getClass()`** ‚Äî —Ç–æ—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–ª–∞—Å—É –±–µ–∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è  
  –û–±–∏–¥–≤–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –º–∞—é—Ç—å —Å–≤–æ—ó –ø–µ—Ä–µ–≤–∞–≥–∏ —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

* **`instanceof`** –∫–∞–∂–µ: "–¶–µ–π –æ–± º—î–∫—Ç ‚Äî —Ö–æ—á–∞ –± **–Ω–∞—â–∞–¥–æ–∫** –º–æ–≥–æ –∫–ª–∞—Å—É?"
* **`getClass()`** –∫–∞–∂–µ: "–¶–µ–π –æ–± º—î–∫—Ç ‚Äî **—Ç–æ—á–Ω–æ —Ç–æ–π —Å–∞–º–∏–π** –∫–ª–∞—Å, —â–æ —ñ —è?"  
  –¶–µ —è–∫ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ —Ç–∏–ø–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤: **`instanceof`** ‚Äî ‚Äú—Ü–µ —Ö–æ—á —è–∫–∏–π—Å—å –ø–∞—Å–ø–æ—Ä—Ç?‚Äù, –∞ **`getClass()`** ‚Äî ‚Äú—Ü–µ —Å–∞–º–µ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –ø–∞—Å–ø–æ—Ä—Ç?‚Äù

---

## **–û—Å–Ω–æ–≤–Ω—ñ –º–µ—Ç–æ–¥–∏ —Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó**

üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è:

| –ü—ñ–¥—Ö—ñ–¥ | –ü–æ—è—Å–Ω–µ–Ω–Ω—è |
| ----- | ----- |
| **`instanceof`** | –î–æ–∑–≤–æ–ª—è—î —Ä—ñ–≤–Ω—è–Ω–Ω—è –º—ñ–∂ –±–∞—Ç—å–∫–æ–º —ñ –Ω–∞—â–∞–¥–∫–æ–º (–≥–Ω—É—á–∫—ñ—Å—Ç—å –ø—Ä–∏ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—ñ) |
| **`getClass()`** | –í–∏–º–∞–≥–∞—î –æ–¥–Ω–∞–∫–æ–≤—ñ –∫–ª–∞—Å–∏ ‚Äî —Ç–æ—á–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å (–∂–æ—Ä—Å—Ç–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–∏–ø—ñ–≤) |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

* –Ø–∫—â–æ —Ç–∏ **–æ—á—ñ–∫—É—î—à –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è**, —ñ —Ö–æ—á–µ—à, —â–æ–± **`equals()`** –ø—Ä–∞—Ü—é–≤–∞–≤ –º—ñ–∂ –±–∞–∑–æ–≤–∏–º –∫–ª–∞—Å–æ–º —ñ –Ω–∞—â–∞–¥–∫–∞–º–∏ ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π **`instanceof`**.
* –Ø–∫—â–æ –æ–±‚Äô—î–∫—Ç –º–∞—î –±—É—Ç–∏ **—Ç—ñ–ª—å–∫–∏ —Ü—å–æ–≥–æ —Ç–∏–ø—É**, —ñ —Å–ø–∞–¥–∫–æ—î–º—Ü—ñ –Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ –≤–≤–∞–∂–∞—Ç–∏—Å—è —Ä—ñ–≤–Ω–∏–º–∏ ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π **`getClass().`**
* –ü—Ä–∏–∫–ª–∞–¥ —Å–∏—Ç—É–∞—Ü—ñ—ó:
  * **`Animal`** —ñ **`Cat`** `extends Animal` ‚Äî —è–∫—â–æ **`equals()`** –≤ **`Animal`** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **`getClass()`** ‚Äî **`cat.equals(animal)`** –±—É–¥–µ **`false`**.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

‚úÖ **–ó `instanceof`:**

```java
@Override
public boolean equals(Object obj) {
    if (this == obj) return true;
    if (!(obj instanceof User)) return false;
    User other = (User) obj;
    return Objects.equals(name, other.name);
}
```

‚úÖ **–ó `getClass()`:**

```java
@Override
public boolean equals(Object obj) {
    if (this == obj) return true;
    if (obj == null || getClass() != obj.getClass()) return false;
    User other = (User) obj;
    return Objects.equals(name, other.name);
}
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è | `instanceof` | `getClass()` |
| :---: | :---: | :---: |
| –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è | ‚úÖ —Ç–∞–∫ | ‚ùå –Ω—ñ |
| –ë–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å | üü° –ú–æ–∂–ª–∏–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ –≤ —Å–∫–ª–∞–¥–Ω–∏—Ö —ñ—î—Ä–∞—Ä—Ö—ñ—è—Ö | ‚úÖ —á—ñ—Ç–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—É |
| –ì–Ω—É—á–∫—ñ—Å—Ç—å | ‚úÖ –≤–∏—Å–æ–∫–∞ | ‚ùå –æ–±–º–µ–∂–µ–Ω–∞ |
| –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —É –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞—Ö | –ß–∞—Å—Ç–æ | –ú–µ–Ω—à –ø–æ—à–∏—Ä–µ–Ω–µ |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

üß† **`instanceof`** -> **—ñ—î—Ä–∞—Ä—Ö—ñ—è**

üß† **`getClass()`** -> **—Ç—ñ–ª—å–∫–∏ —è**

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

–ü—Ä–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –º–µ—Ç–æ–¥—É **`equals()`** —É Java –º–æ–∂–Ω–∞ –≤–∏–±—Ä–∞—Ç–∏ –º—ñ–∂ **`instanceof`** —ñ **`getClass()`** –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø—É:

* **`instanceof`** –∑–∞–±–µ–∑–ø–µ—á—É—î **–≥–Ω—É—á–∫—ñ—Å—Ç—å** —ñ –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–±–æ—Ç—É –∑ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è–º
* **`getClass()`** –∑–∞–±–µ–∑–ø–µ—á—É—î **—Å—É–≤–æ—Ä–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–∏–ø—ñ–≤** ‚Äî –æ–±'—î–∫—Ç–∏ –º–∞—é—Ç—å –±—É—Ç–∏ **—Ç–æ—á–Ω–æ –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—É**  
  –í–∏–±—ñ—Ä –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ç–æ–≥–æ, —á–∏ –¥–æ–∑–≤–æ–ª—è—î —Ç–≤—ñ–π –¥–∏–∑–∞–π–Ω –≤–≤–∞–∂–∞—Ç–∏ –æ–±‚Äô—î–∫—Ç–∏ —Ä—ñ–∑–Ω–∏—Ö –ø—ñ–¥–∫–ª–∞—Å—ñ–≤ "**`–æ–¥–Ω–∞–∫–æ–≤–∏–º–∏`**".

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∞ –æ—Å–Ω–æ–≤–Ω–∞ —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞–º–∏ `instanceof MyClass` —Ç–∞ `getClass() != obj.getClass()` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –º–µ—Ç–æ–¥—É `equals()`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û—Å–Ω–æ–≤–Ω–∞ —Ä—ñ–∑–Ω–∏—Ü—è –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, **—è–∫ –≤–æ–Ω–∏ –ø–æ–≤–æ–¥—è—Ç—å—Å—è –∑ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è–º**:
>
> * **`obj instanceof MyClass`**: –¶—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —î "–ø–æ–ª—ñ–º–æ—Ä—Ñ–Ω–æ—é". –í–æ–Ω–∞ –ø–æ–≤–µ—Ä–Ω–µ `true`, —è–∫—â–æ `obj` —î –µ–∫–∑–µ–º–ø–ª—è—Ä–æ–º –∫–ª–∞—Å—É `MyClass` **–∞–±–æ –±—É–¥—å-—è–∫–æ–≥–æ –π–æ–≥–æ –Ω–∞—â–∞–¥–∫–∞**.
>   * –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ `Cat extends Animal`, —Ç–æ `new Cat() instanceof Animal` –ø–æ–≤–µ—Ä–Ω–µ `true`.
>
> * **`getClass() != obj.getClass()`**: –¶—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —î "—Å—Ç—Ä–æ–≥–æ—é". –í–æ–Ω–∞ –≤–∏–º–∞–≥–∞—î, —â–æ–± –æ–±'—î–∫—Ç–∏ –Ω–∞–ª–µ–∂–∞–ª–∏ **–¥–æ –æ–¥–Ω–æ–≥–æ —ñ —Ç–æ–≥–æ –∂ –∫–ª–∞—Å—É –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**. –í–æ–Ω–∞ –Ω–µ –¥–æ–∑–≤–æ–ª—è—î –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –æ–±'—î–∫—Ç –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—É –∑ –æ–±'—î–∫—Ç–æ–º –¥–æ—á—ñ—Ä–Ω—å–æ–≥–æ –∫–ª–∞—Å—É.
>   * –ù–∞–ø—Ä–∏–∫–ª–∞–¥, `new Cat().getClass() != new Animal().getClass()` –ø–æ–≤–µ—Ä–Ω–µ `true`.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** `instanceof` —î –±—ñ–ª—å—à –≥–Ω—É—á–∫–∏–º, –∞–ª–µ —Ä–∏–∑–∏–∫–æ–≤–∞–Ω–∏–º, —Ç–æ–¥—ñ —è–∫ `getClass()` —î –±—ñ–ª—å—à —Å—Ç—Ä–æ–≥–∏–º, –∞–ª–µ –±–µ–∑–ø–µ—á–Ω—ñ—à–∏–º –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É `equals`.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**</h4>

* `instanceof Animal` –∑–∞–ø–∏—Ç—É—î: "–¶–µ —Ç–≤–∞—Ä–∏–Ω–∞?" (–°–æ–±–∞–∫–∞, –∫—ñ—Ç, –ª–µ–≤ ‚Äî –≤—Å—ñ –ø—ñ–¥—Ö–æ–¥—è—Ç—å).
* `getClass() == Animal.class` –∑–∞–ø–∏—Ç—É—î: "–¶–µ —Å–∞–º–µ —Ç–≤–∞—Ä–∏–Ω–∞, –∞ –Ω–µ —è–∫–∏–π—Å—å —ó—ó –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –≤–∏–¥?" (–¢—ñ–ª—å–∫–∏ "—Ç–≤–∞—Ä–∏–Ω–∞" –ø—ñ–¥—ñ–π–¥–µ, –∞ "–∫—ñ—Ç" ‚Äî –Ω—ñ).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ—ó —Ä—ñ–∑–Ω–∏—Ü—ñ –≤ —Å–µ–º–∞–Ω—Ç–∏—Ü—ñ –¥–≤–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø—ñ–≤ –≤ Java.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ (`instanceof` —á–∏ `getClass()`) —á–∞—Å—Ç—ñ—à–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó `equals()` —ñ —á–æ–º—É?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –£ –ø–µ—Ä–µ–≤–∞–∂–Ω—ñ–π –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **`getClass()`**.
>
> **–ü—Ä–∏—á–∏–Ω–∞:**
> –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `getClass() == obj.getClass()` **–≥–∞—Ä–∞–Ω—Ç—É—î –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª–∞ —Å–∏–º–µ—Ç—Ä–∏—á–Ω–æ—Å—Ç—ñ** –∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É `equals()`. –¶–µ –ø—Ä–∞–≤–∏–ª–æ —Å—Ç–≤–µ—Ä–¥–∂—É—î, —â–æ `x.equals(y)` –º–∞—î –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ `true` —Ç–æ–¥—ñ –π —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ, –∫–æ–ª–∏ `y.equals(x)` –ø–æ–≤–µ—Ä—Ç–∞—î `true`.
>
> –ü—ñ–¥—Ö—ñ–¥ –∑ `instanceof` –º–æ–∂–µ –ª–µ–≥–∫–æ –ø–æ—Ä—É—à–∏—Ç–∏ —Ü–µ –ø—Ä–∞–≤–∏–ª–æ –ø—Ä–∏ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—ñ, –∫–æ–ª–∏ –¥–æ—á—ñ—Ä–Ω—ñ–π –∫–ª–∞—Å –¥–æ–¥–∞—î –Ω–æ–≤—ñ –ø–æ–ª—è, —â–æ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ —Å—Ç–∞–Ω, —ñ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—î `equals()`. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –º–æ–∂–µ –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ —Å–∏—Ç—É–∞—Ü—ñ—è, –∫–æ–ª–∏ `parent.equals(child)` —î `true`, –∞–ª–µ `child.equals(parent)` —î `false`.
>
> –Ø–∫ –ø–∏—à–µ –î–∂–æ—à—É–∞ –ë–ª–æ—Ö —É "Effective Java", –Ω–µ —ñ—Å–Ω—É—î —Å–ø–æ—Å–æ–±—É —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä–Ω–∏–π –∫–ª–∞—Å, –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–µ –∑–Ω–∞—á—É—â–µ –ø–æ–ª–µ —ñ –ø—Ä–∏ —Ü—å–æ–º—É –∑–±–µ—Ä–µ–≥—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç `equals`. –¢–æ–º—É —Å—Ç—Ä–æ–≥–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–µ–∑ `getClass()` —î –Ω–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–æ—é.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–ó–∞–≥–∞–ª—å–Ω–µ –ø—Ä–∞–≤–∏–ª–æ: —è–∫—â–æ –∫–ª–∞—Å –Ω–µ —Å–ø—Ä–æ–µ–∫—Ç–æ–≤–∞–Ω–∏–π —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ –¥–ª—è —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è (–Ω–µ —î –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–º), —Ä–æ–±—ñ—Ç—å –π–æ–≥–æ `final` –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `getClass()` –≤ `equals`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è "best practices", –ø–æ–ø—É–ª—è—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω–∏–º–∏ –¥–∂–µ—Ä–µ–ª–∞–º–∏ (—è–∫ "Effective Java"), —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –æ–±“ë—Ä—É–Ω—Ç—É–≤–∞—Ç–∏ –≤–∏–±—ñ—Ä –Ω–∞ –∫–æ—Ä–∏—Å—Ç—å –±–µ–∑–ø–µ—á–Ω—ñ—à–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–≤–µ–¥—ñ—Ç—å –∫–∞–Ω–æ–Ω—ñ—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó `equals()` –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º `getClass()`.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π, –Ω–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–∏–π —Å–ø–æ—Å—ñ–± —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó `equals()` –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –∫–ª–∞—Å—ñ–≤.
>
> ```java
> import java.util.Objects;
>
> public final class Point { // –ö–ª–∞—Å –±–∞–∂–∞–Ω–æ —Ä–æ–±–∏—Ç–∏ final
>     private final int x;
>     private final int y;
>
>     // ... –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
>
>     @Override
>     public boolean equals(Object obj) {
>         // 1. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è
>         if (this == obj) return true;
>
>         // 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ null —Ç–∞ —Ç–æ—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–ª–∞—Å—É
>         if (obj == null || getClass() != obj.getClass()) return false;
>
>         // 3. –ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—É
>         Point point = (Point) obj;
>
>         // 4. –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑–Ω–∞—á—É—â–∏—Ö –ø–æ–ª—ñ–≤
>         return x == point.x && y == point.y;
>     }
>
>     @Override
>     public int hashCode() {
>         return Objects.hash(x, y);
>     }
> }
> ```
>
> –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ —î –ø—Ä–æ—Å—Ç–∏–º, –Ω–∞–¥—ñ–π–Ω–∏–º —ñ –ø–æ–≤–Ω—ñ—Å—Ç—é –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É `equals`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–í–º—ñ–Ω–Ω—è –Ω–∞–ø–∏—Å–∞—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É, "—à–∞–±–ª–æ–Ω–Ω—É" —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é `equals()`, —è–∫–∞ –≤–≤–∞–∂–∞—î—Ç—å—Å—è –µ—Ç–∞–ª–æ–Ω–Ω–æ—é.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É, –¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `instanceof` –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –ø–æ—Ä—É—à–µ–Ω–Ω—è —Å–∏–º–µ—Ç—Ä–∏—á–Ω–æ—Å—Ç—ñ.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –∫–ª–∞—Å–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ –∑ `Point` —Ç–∞ –π–æ–≥–æ –Ω–∞—â–∞–¥–∫–æ–º `ColorPoint`.
>
> ```java
> class Point {
>     private int x, y;
>     // ...
>     @Override
>     public boolean equals(Object obj) {
>         if (!(obj instanceof Point)) return false;
>         Point p = (Point) obj;
>         return p.x == x && p.y == y;
>     }
> }
>
> class ColorPoint extends Point {
>     private Color color;
>     // ...
>     @Override
>     public boolean equals(Object obj) {
>         if (!(obj instanceof ColorPoint)) return false; // –ë—ñ–ª—å—à —Å—Ç—Ä–æ–≥–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
>         return super.equals(obj) && ((ColorPoint) obj).color == color;
>     }
> }
> ```
>
> **–ü–æ—Ä—É—à–µ–Ω–Ω—è —Å–∏–º–µ—Ç—Ä–∏—á–Ω–æ—Å—Ç—ñ:**
>
> ```java
> Point p = new Point(1, 2);
> ColorPoint cp = new ColorPoint(1, 2, Color.RED);
>
> // 1. –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤ –æ–¥–∏–Ω –±—ñ–∫:
> System.out.println(p.equals(cp)); // true
> // –ß–æ–º—É? –¢–æ–º—É —â–æ `cp` –Ñ `instanceof Point`, —ñ `equals` –≤ `Point` –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ç—ñ–ª—å–∫–∏ x, y.
>
> // 2. –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤ —ñ–Ω—à–∏–π –±—ñ–∫:
> System.out.println(cp.equals(p)); // false
> // –ß–æ–º—É? –¢–æ–º—É —â–æ `p` –ù–ï –Ñ `instanceof ColorPoint`, —ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ `ColorPoint` –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å.
> ```
>
> –†–µ–∑—É–ª—å—Ç–∞—Ç: `p.equals(cp) != cp.equals(p)`. **–ö–æ–Ω—Ç—Ä–∞–∫—Ç —Å–∏–º–µ—Ç—Ä–∏—á–Ω–æ—Å—Ç—ñ –ø–æ—Ä—É—à–µ–Ω–æ.**

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ —Å–∞–º–µ `instanceof` —É –ø–æ—î–¥–Ω–∞–Ω–Ω—ñ –∑ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è–º —Ä—É–π–Ω—É—î –∫–æ–Ω—Ç—Ä–∞–∫—Ç `equals`. –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –≤–∏–º–∞–≥–∞—î –ø–æ–∫—Ä–æ–∫–æ–≤–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É –∫–æ–¥—É.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —è–∫–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `instanceof` –≤ `equals()` –≤—Å–µ –∂ –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–ø—Ä–∞–≤–¥–∞–Ω–∏–º? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `instanceof` –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–ø—Ä–∞–≤–¥–∞–Ω–∏–º —É —Å–∏—Ç—É–∞—Ü—ñ—è—Ö, –∫–æ–ª–∏ –¥–æ—á—ñ—Ä–Ω—ñ–π –∫–ª–∞—Å **–Ω–µ –¥–æ–¥–∞—î –Ω–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É**, —â–æ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –ª–æ–≥—ñ—á–Ω—É —Ä—ñ–≤–Ω—ñ—Å—Ç—å, –∞ –ª–∏—à–µ –¥–æ–¥–∞—î –Ω–æ–≤—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É (–Ω–æ–≤—ñ –º–µ—Ç–æ–¥–∏) –∞–±–æ –º–µ—Ç–∞—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è).
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> –£—è–≤—ñ–º–æ, —â–æ —î –∫–ª–∞—Å `Transaction` —ñ –π–æ–≥–æ –Ω–∞—â–∞–¥–æ–∫ `AuditedTransaction`, —è–∫–∏–π –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ –∑–∞–ø–∏—Å—É—î –¥–∞–Ω—ñ –≤ –ª–æ–≥. –°—Ç–∞–Ω, —â–æ –≤–∏–∑–Ω–∞—á–∞—î —Ä—ñ–≤–Ω—ñ—Å—Ç—å (—Å—É–º–∞, –¥–∞—Ç–∞), –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —Ç–∏–º —Å–∞–º–∏–º.
>
> ```java
> public class Transaction {
>     private final BigDecimal amount;
>     private final Date date;
>
>     // ...
>
>     @Override
>     public boolean equals(Object obj) {
>         if (this == obj) return true;
>         if (!(obj instanceof Transaction)) return false; // –î–æ–∑–≤–æ–ª—è—î –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ –Ω–∞—â–∞–¥–∫–∞–º–∏
>         Transaction that = (Transaction) obj;
>         return amount.equals(that.amount) && date.equals(that.date);
>     }
> }
>
> public class AuditedTransaction extends Transaction {
>     // –ù–æ–≤–∏—Ö –ø–æ–ª—ñ–≤ –Ω–µ–º–∞—î, —Ç—ñ–ª—å–∫–∏ –Ω–æ–≤–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞
>     public void audit() { /* –ª–æ–≥—É–≤–∞–Ω–Ω—è */ }
> }
> ```
>
> –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É `transaction.equals(auditedTransaction)` —ñ `auditedTransaction.equals(transaction)` –±—É–¥—É—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —Å–∏–º–µ—Ç—Ä–∏—á–Ω–æ, –æ—Å–∫—ñ–ª—å–∫–∏ `AuditedTransaction` –Ω–µ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—î `equals` —ñ –ø–æ–≤–Ω—ñ—Å—Ç—é –ø–æ–∫–ª–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ –ª–æ–≥—ñ–∫—É –±–∞—Ç—å–∫–∞.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –Ω–µ—Ç–∏–ø–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –∫–ª—é—á–æ–≤–æ—é –ø—Ä–æ–±–ª–µ–º–æ—é —î –¥–æ–¥–∞–≤–∞–Ω–Ω—è *—Å—Ç–∞–Ω—É*, –∞ –Ω–µ *–ø–æ–≤–µ–¥—ñ–Ω–∫–∏*.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `getClass()` –ø–æ–≤–æ–¥–∏—Ç—å—Å—è –∑ –∞–Ω–æ–Ω—ñ–º–Ω–∏–º–∏ –∫–ª–∞—Å–∞–º–∏? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ `getClass() != obj.getClass()` **–Ω–µ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏**, —è–∫—â–æ –≤–∏ –Ω–∞–º–∞–≥–∞—î—Ç–µ—Å—è –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä –∑–≤–∏—á–∞–π–Ω–æ–≥–æ –∫–ª–∞—Å—É –∑ –µ–∫–∑–µ–º–ø–ª—è—Ä–æ–º –π–æ–≥–æ –∞–Ω–æ–Ω—ñ–º–Ω–æ–≥–æ –ø—ñ–¥–∫–ª–∞—Å—É.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public class MyClass {
>     @Override
>     public boolean equals(Object obj) {
>         if (obj == null || getClass() != obj.getClass()) return false;
>         return true; // –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç–∏
>     }
> }
>
> // ...
> MyClass c1 = new MyClass();
> MyClass c2 = new MyClass() {
>     // –¶–µ –∞–Ω–æ–Ω—ñ–º–Ω–∏–π –ø—ñ–¥–∫–ª–∞—Å MyClass!
> };
>
> System.out.println(c1.getClass()); // class MyClass
> System.out.println(c2.getClass()); // class SomeOuterClass$1
>
> System.out.println(c1.equals(c2)); // false, —Ç–æ–º—É —â–æ –∫–ª–∞—Å–∏ —Ä—ñ–∑–Ω—ñ!
> ```> –ê–Ω–æ–Ω—ñ–º–Ω–∏–π –∫–ª–∞—Å —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π, –æ–∫—Ä–µ–º–∏–π –∫–ª–∞—Å –ø—ñ–¥ —á–∞—Å –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó (–∑ –Ω–∞–∑–≤–æ—é —Ç–∏–ø—É `OuterClass$1`). –¢–æ–º—É `getClass()` –¥–ª—è –Ω—å–æ–≥–æ –ø–æ–≤–µ—Ä–Ω–µ —ñ–Ω—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω—ñ–∂ –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—É. –¶–µ —Å–ª—ñ–¥ –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏, —è–∫—â–æ –≤–∞—à–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ø—É—Å–∫–∞—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∞–Ω–æ–Ω—ñ–º–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –Ω—é–∞–Ω—Å—ñ–≤ —Ä–æ–±–æ—Ç–∏ –∑ –∞–Ω–æ–Ω—ñ–º–Ω–∏–º–∏ –∫–ª–∞—Å–∞–º–∏ —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –≤–æ–Ω–∏ —î –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–º–∏ –ø—ñ–¥–∫–ª–∞—Å–∞–º–∏, —â–æ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç `getClass()`.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—â–æ –∫–ª–∞—Å –æ–≥–æ–ª–æ—à–µ–Ω–æ —è–∫ `final`, —á–∏ —î —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º `instanceof` —Ç–∞ `getClass()` –≤ –π–æ–≥–æ –º–µ—Ç–æ–¥—ñ `equals()`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫—â–æ –∫–ª–∞—Å –æ–≥–æ–ª–æ—à–µ–Ω–æ —è–∫ **`final`**, —Ç–æ —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ `instanceof` —Ç–∞ `getClass()` **–ø—Ä–∞–∫—Ç–∏—á–Ω–æ –Ω–µ–º–∞—î**.
>
> * –ö–ª–∞—Å `final` –Ω–µ –º–æ–∂–µ –º–∞—Ç–∏ –Ω–∞—â–∞–¥–∫—ñ–≤.
> * –¢–æ–º—É, —è–∫—â–æ `obj instanceof MyFinalClass` —î `true`, —Ü–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ `obj` —î –µ–∫–∑–µ–º–ø–ª—è—Ä–æ–º **—Å–∞–º–µ** –∫–ª–∞—Å—É `MyFinalClass`, –∞ –Ω–µ –π–æ–≥–æ –ø—ñ–¥–∫–ª–∞—Å—É (–±–æ —ó—Ö –Ω–µ —ñ—Å–Ω—É—î).
> * –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç `instanceof` –±—É–¥–µ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —á–µ—Ä–µ–∑ `getClass()`.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public final class MyFinalClass {
>     @Override
>     public boolean equals(Object obj) {
>         // –û–±–∏–¥–≤–∞ –ø—ñ–¥—Ö–æ–¥–∏ –¥–∞–¥—É—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
>         if (!(obj instanceof MyFinalClass)) return false; // OK
>         // if (obj == null || getClass() != obj.getClass()) return false; // —Ç–µ–∂ OK
>         return true;
>     }
> }
> ```
>
> –û–¥–Ω–∞–∫, –Ω–∞–≤—ñ—Ç—å –¥–ª—è `final` –∫–ª–∞—Å—ñ–≤, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `getClass()` —á–∞—Å—Ç–æ –≤–≤–∞–∂–∞—î—Ç—å—Å—è –∫—Ä–∞—â–æ—é –ø—Ä–∞–∫—Ç–∏–∫–æ—é, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ —î –±—ñ–ª—å—à "–∫–∞–Ω–æ–Ω—ñ—á–Ω–∏–º" —ñ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–∏–º —Å—Ç–∏–ª–µ–º. –Ø–∫—â–æ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É —Ö—Ç–æ—Å—å –ø—Ä–∏–±–µ—Ä–µ `final` –∑ –∫–ª–∞—Å—É, —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑ `getClass()` –∑–∞–ª–∏—à–∏—Ç—å—Å—è –±–µ–∑–ø–µ—á–Ω–æ—é, –∞ –∑ `instanceof` ‚Äî –Ω—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ `final` –≤–ø–ª–∏–≤–∞—î –Ω–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—é –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è —Ç–∞, —è–∫ –Ω–∞—Å–ª—ñ–¥–æ–∫, –Ω–∞ –ª–æ–≥—ñ–∫—É –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø—ñ–≤.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `equals()` –≤ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–º—É –∫–ª–∞—Å—ñ? –Ø–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ —Ç—É—Ç –∫—Ä–∞—â–∏–π? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ —Å–∫–ª–∞–¥–Ω–µ –¥–∏–∑–∞–π–Ω–µ—Ä—Å—å–∫–µ –ø–∏—Ç–∞–Ω–Ω—è. –ó–∞–∑–≤–∏—á–∞–π —î –¥–≤–∞ –ø—ñ–¥—Ö–æ–¥–∏:
>
> 1. **–ó–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ `equals` –Ω–∞ —Ä—ñ–≤–Ω—ñ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—É:**
>     * –¶–µ –Ω–∞–π–∫—Ä–∞—â–∏–π –ø—ñ–¥—Ö—ñ–¥ —É –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤. –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –∫–ª–∞—Å –º–æ–∂–µ –Ω–µ –º–∞—Ç–∏ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó, —â–æ–± –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –ø–æ–≤–Ω—É –ª–æ–≥—ñ—á–Ω—É —Ä—ñ–≤–Ω—ñ—Å—Ç—å.
>     * **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:** –û–≥–æ–ª–æ—Å–∏—Ç–∏ `equals` —è–∫ `abstract`:
>
>         ```java
>         public abstract boolean equals(Object obj);
>         ```
>
>     * –¶–µ –∑–º—É—Å–∏—Ç—å **–∫–æ–∂–µ–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –ø—ñ–¥–∫–ª–∞—Å** –Ω–∞–¥–∞—Ç–∏ —Å–≤–æ—é –≤–ª–∞—Å–Ω—É, –ø–æ–≤–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é, —è–∫–∞ –±—É–¥–µ –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –≤—Å—ñ –π–æ–≥–æ –ø–æ–ª—è. –£ —Å–≤–æ—ó—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è—Ö –ø—ñ–¥–∫–ª–∞—Å–∏ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `getClass()` –¥–ª—è —Å—Ç—Ä–æ–≥–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏.
>
> 2. **–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `equals` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `instanceof`:**
>     * –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –º–æ–∂–ª–∏–≤–∏–π, —è–∫—â–æ –≤–∏ —Å–≤—ñ–¥–æ–º–æ —Ö–æ—á–µ—Ç–µ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ —Ä—ñ–∑–Ω–∏—Ö –ø—ñ–¥–∫–ª–∞—Å—ñ–≤ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å–ø—ñ–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω—É –∑ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—É (—ñ –≥–æ—Ç–æ–≤—ñ –º–∏—Ä–∏—Ç–∏—Å—è –∑ —Ä–∏–∑–∏–∫–∞–º–∏ –ø–æ—Ä—É—à–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É, —è–∫—â–æ –Ω–∞—â–∞–¥–∫–∏ –¥–æ–¥–∞–¥—É—Ç—å –Ω–æ–≤–∏–π —Å—Ç–∞–Ω). –¶–µ —Ä—ñ–¥–∫—ñ—Å–Ω–∏–π —ñ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** –Ω–∞–π–∫—Ä–∞—â–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Äî –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ `equals()` –≤ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–º—É –∫–ª–∞—Å—ñ, –∞ –∑–º—É—Å–∏—Ç–∏ –ø—ñ–¥–∫–ª–∞—Å–∏ —Ä–æ–±–∏—Ç–∏ —Ü–µ —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ, —Ç–∏–º —Å–∞–º–∏–º —É–Ω–∏–∫–∞—é—á–∏ –ø—Ä–æ–±–ª–µ–º –∑ —Å–∏–º–µ—Ç—Ä–∏—á–Ω—ñ—Å—Ç—é —Ç–∞ —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ñ—Å—Ç—é.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –º–∏—Å–ª–∏—Ç–∏ –ø—Ä–æ –¥–∏–∑–∞–π–Ω —Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, –¥–µ —Å–∞–º–µ –≤ —ñ—î—Ä–∞—Ä—Ö—ñ—ó –∫–ª–∞—Å—ñ–≤ –º–∞—î –±—É—Ç–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —Ç–∞ —á–∏ —ñ–Ω—à–∞ –ª–æ–≥—ñ–∫–∞.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —è–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `instanceof` –º–æ–∂–µ –ø–æ—Ä—É—à–∏—Ç–∏ **–ø—Ä–∏–Ω—Ü–∏–ø –ø—ñ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –õ—ñ—Å–∫–æ–≤ (Liskov Substitution Principle)**. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ü—Ä–∏–Ω—Ü–∏–ø –ø—ñ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –õ—ñ—Å–∫–æ–≤ (LSP)** —Å—Ç–≤–µ—Ä–¥–∂—É—î, —â–æ –æ–±'—î–∫—Ç–∏ –¥–æ—á—ñ—Ä–Ω—å–æ–≥–æ –∫–ª–∞—Å—É –º–∞—é—Ç—å –±—É—Ç–∏ –∑–¥–∞—Ç–Ω–∏–º–∏ –∑–∞–º—ñ–Ω–∏—Ç–∏ –æ–±'—î–∫—Ç–∏ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –∫–ª–∞—Å—É –±–µ–∑ –∑–º—ñ–Ω–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ –ø—Ä–æ–≥—Ä–∞–º–∏.
>
> –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `instanceof` –≤ `equals()` –º–æ–∂–µ –ø–æ—Ä—É—à–∏—Ç–∏ —Ü–µ–π –ø—Ä–∏–Ω—Ü–∏–ø.
>
> –†–æ–∑–≥–ª—è–Ω–µ–º–æ –Ω–∞—à –ø—Ä–∏–∫–ª–∞–¥ `Point` —Ç–∞ `ColorPoint`. –Ø–∫—â–æ —É –≤–∞—Å —î –∫–æ–ª–µ–∫—Ü—ñ—è, —è–∫–∞ –æ—á—ñ–∫—É—î `Point`, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `HashSet<Point>`, —ñ –≤–∏ –ø–æ–∫–ª–∞–¥–∞—î—Ç–µ—Å—å –Ω–∞ –ø–µ–≤–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É `equals`, –¥–æ–¥–∞–≤–∞–Ω–Ω—è `ColorPoint` –º–æ–∂–µ —ó—ó –∑–ª–∞–º–∞—Ç–∏.
>
> ```java
> Set<Point> points = new HashSet<>();
> Point p = new Point(1, 2);
> ColorPoint cp = new ColorPoint(1, 2, Color.RED);
>
> points.add(p);
>
> // –û—á—ñ–∫—É–≤–∞–Ω–Ω—è: —è–∫—â–æ –≤ –º–Ω–æ–∂–∏–Ω—ñ —î —Ç–æ—á–∫–∞ (1,2), —Ç–æ contains –º–∞—î –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ true
> // –¥–ª—è —ñ–Ω—à–æ—ó —Ç–æ—á–∫–∏ –∑ —Ç–∏–º–∏ –∂ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏.
>
> System.out.println(points.contains(cp)); // true (—Ç–æ–º—É —â–æ p.equals(cp) -> true)
>
> // –ó–¥–∞—î—Ç—å—Å—è, –≤—Å–µ –¥–æ–±—Ä–µ. –ê–ª–µ —Ç–µ–ø–µ—Ä –Ω–∞–≤–ø–∞–∫–∏:
> points.clear();
> points.add(cp);
>
> // –û—á—ñ–∫—É–≤–∞–Ω–Ω—è —Ç–∞–∫–µ –∂.
> System.out.println(points.contains(p)); // false! (—Ç–æ–º—É —â–æ cp.equals(p) -> false)
> ```
>
> –ü–æ–≤–µ–¥—ñ–Ω–∫–∞ –∫–æ–ª–µ–∫—Ü—ñ—ó –∑–º—ñ–Ω—é—î—Ç—å—Å—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, –æ–±'—î–∫—Ç —è–∫–æ–≥–æ —Ç–∏–ø—É (`Point` —á–∏ `ColorPoint`) –±—É–ª–æ –¥–æ–¥–∞–Ω–æ –ø–µ—Ä—à–∏–º. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ `ColorPoint` –Ω–µ —î –∫–æ—Ä–µ–∫—Ç–Ω–æ—é –∑–∞–º—ñ–Ω–æ—é –¥–ª—è `Point` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ —Ä–æ–±–æ—Ç–∏ `HashSet`. **–ü—Ä–∏–Ω—Ü–∏–ø –ø—ñ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –õ—ñ—Å–∫–æ–≤ –ø–æ—Ä—É—à–µ–Ω–æ.** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–µ–∑ `getClass()` —É–Ω–∏–∫–Ω—É–ª–∞ –± —Ü—ñ—î—ó –ø—Ä–æ–±–ª–µ–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ SOLID —Ç–∞ —ó—Ö –∑–≤'—è–∑–∫—É –∑ –ø—Ä–∞–∫—Ç–∏—á–Ω–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –≤ –∫–æ–¥—ñ, —Ç–∞–∫–∏–º–∏ —è–∫ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `equals`.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ `getClass()`. –ß–∏ –æ–∑–Ω–∞—á–∞—î —Ü–µ, —â–æ –º–∏ –Ω–µ –º–æ–∂–µ–º–æ –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ –æ–±'—î–∫—Ç–∏ —Ä—ñ–∑–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–æ–Ω–∏ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å —Å–ø—ñ–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, —Å–∞–º–µ —Ü–µ —ñ –æ–∑–Ω–∞—á–∞—î. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ `getClass()` –≤–∏–º–∞–≥–∞—î **—Ç–æ—á–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ –∫–ª–∞—Å—ñ–≤ —á–∞—Å—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (runtime class)**.
>
> –Ø–∫—â–æ —É –≤–∞—Å —î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Shape` —Ç–∞ –¥–≤–∞ –∫–ª–∞—Å–∏ `Circle` —ñ `Square`, —è–∫—ñ –π–æ–≥–æ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å, —Ç–æ:
>
> ```java
> Shape circle = new Circle(10);
> Shape square = new Square(20);
> ```
>
> –Ø–∫—â–æ `equals()` –≤ `Circle` —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —á–µ—Ä–µ–∑ `getClass()`, —Ç–æ `circle.equals(square)` –ø–æ–≤–µ—Ä–Ω–µ `false` –Ω–∞ –µ—Ç–∞–ø—ñ `getClass() != obj.getClass()`, –æ—Å–∫—ñ–ª—å–∫–∏ `Circle.class` –Ω–µ –¥–æ—Ä—ñ–≤–Ω—é—î `Square.class`.
>
> –¶–µ —î –æ—á—ñ–∫—É–≤–∞–Ω–æ—é —Ç–∞ –±–∞–∂–∞–Ω–æ—é –ø–æ–≤–µ–¥—ñ–Ω–∫–æ—é —É –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤, –æ—Å–∫—ñ–ª—å–∫–∏ –∫–æ–ª–æ —Ç–∞ –∫–≤–∞–¥—Ä–∞—Ç —î —Ä—ñ–∑–Ω–∏–º–∏ —Å—É—Ç–Ω–æ—Å—Ç—è–º–∏, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —ó—Ö–Ω—ñ –ø–ª–æ—â—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏.
>
> –Ø–∫—â–æ –∂ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ª–æ–≥—ñ–∫–∞, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏ —Ä—ñ–∑–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤ (—â–æ —î –¥—É–∂–µ —Ä—ñ–¥–∫—ñ—Å–Ω–∏–º —ñ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–º —Å—Ü–µ–Ω–∞—Ä—ñ—î–º), –≤–∞–º –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –≤—ñ–¥–º–æ–≤–∏—Ç–∏—Å—è –≤—ñ–¥ `getClass()` —ñ –¥—É–∂–µ –æ–±–µ—Ä–µ–∂–Ω–æ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ `equals` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `instanceof` –∑ —Ä–∏–∑–∏–∫–æ–º –ø–æ—Ä—É—à–∏—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–æ–≤–Ω—ñ—à–Ω—é —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Comparator`).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤–∑–∞—î–º–æ–¥—ñ—é –∫–ª–∞—Å—ñ–≤ —Ç–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤. –†–æ–∑—É–º—ñ–Ω–Ω—è –æ–±–º–µ–∂–µ–Ω—å, —è–∫—ñ –Ω–∞–∫–ª–∞–¥–∞—î —Å—Ç—Ä–æ–≥–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—ñ–≤.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —è–∫–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ—è—Ö `instanceof` —î –ø–æ–≤–Ω—ñ—Å—Ç—é –±–µ–∑–ø–µ—á–Ω–∏–º —ñ –Ω–∞–≤—ñ—Ç—å –∫—Ä–∞—â–∏–º –∑–∞ `getClass()`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `instanceof` —î –∫—Ä–∞—â–∏–º, –∫–æ–ª–∏ –≤—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –Ω–µ –≤ `equals()`, –∞ –≤ **—ñ–Ω—à–∏—Ö –º–µ—Ç–æ–¥–∞—Ö**, –¥–µ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –ø—ñ–¥—Ç—Ä–∏–º—É—î –æ–±'—î–∫—Ç –ø–µ–≤–Ω–∏–π "–∫–æ–Ω—Ç—Ä–∞–∫—Ç" –∞–±–æ "–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å", –Ω–µ –¥–±–∞—é—á–∏ –ø—Ä–æ –π–æ–≥–æ —Ç–æ—á–Ω–∏–π —Ç–∏–ø.
>
> **–ö–ª–∞—Å–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥:**
>
> –ö–æ–ª–∏ –≤–∏ —ñ—Ç–µ—Ä—É—î—Ç–µ –ø–æ –∫–æ–ª–µ–∫—Ü—ñ—ó –≥–µ—Ç–µ—Ä–æ–≥–µ–Ω–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ —ñ —Ö–æ—á–µ—Ç–µ –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥—ñ—é —Ç—ñ–ª—å–∫–∏ –¥–ª—è –ø–µ–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤.
>
> ```java
> List<Animal> animals = List.of(new Cat(), new Dog(), new Bird());
>
> for (Animal animal : animals) {
>     animal.makeSound();
>     // –í–∏–∫–æ–Ω—É—î–º–æ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—É –¥—ñ—é —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∫–æ—Ç—ñ–≤
>     if (animal instanceof Cat) {
>         ((Cat) animal).purr();
>     }
> }
> ```
>
> –£ —Ü—å–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ `instanceof` —î —ñ–¥–µ–∞–ª—å–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î –ø–æ–ª—ñ–º–æ—Ä—Ñ–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –æ–±'—î–∫—Ç–∞. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç—É—Ç `getClass()` –±—É–ª–æ –± –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –∑–∞–±–æ—Ä–æ–Ω–∏–ª–æ –± —Ç–∞–∫—É –∂ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –¥–ª—è –Ω–∞—â–∞–¥–∫—ñ–≤ `Cat`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å —Ä–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∏. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —è–∫–∏–π —î –ø–æ–≥–∞–Ω–∏–º –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ (`equals`), –º–æ–∂–µ –±—É—Ç–∏ —ñ–¥–µ–∞–ª—å–Ω–∏–º –≤ —ñ–Ω—à–æ–º—É.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–µ `instanceof` –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ `true`, –∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—É `(MyClass) obj` –ø—ñ—Å–ª—è –Ω—å–æ–≥–æ –∫–∏–Ω—É—Ç–∏ `ClassCastException`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –£ –∑–≤–∏—á–∞–π–Ω–æ–º—É –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ, —è–∫—â–æ `obj instanceof MyClass` –ø–æ–≤–µ—Ä—Ç–∞—î `true`, —Ç–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è `(MyClass) obj` **–≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –Ω–µ –∫–∏–Ω–µ** `ClassCastException`.
>
> –û–¥–Ω–∞–∫, —î **—Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–∏–π –∫—Ä–∞–π–Ω—ñ–π –≤–∏–ø–∞–¥–æ–∫** —É –¥—É–∂–µ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ, –ø–æ–≤'—è–∑–∞–Ω–æ–º—É –∑ **–∫–∞—Å—Ç–æ–º–Ω–∏–º–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—á–∞–º–∏ –∫–ª–∞—Å—ñ–≤ (ClassLoader)**.
>
> * `instanceof` –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∫–ª–∞—Å—ñ–≤, —ñ —Ü—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–æ–∂–µ –±—É—Ç–∏ —É—Å–ø—ñ—à–Ω–æ—é, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –∫–ª–∞—Å–∏ –±—É–ª–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ä—ñ–∑–Ω–∏–º–∏ `ClassLoader`.
> * –û–ø–µ—Ä–∞—Ü—ñ—è –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—É (`cast`) —î –±—ñ–ª—å—à —Å—É–≤–æ—Ä–æ—é. –í–æ–Ω–∞ –≤–∏–º–∞–≥–∞—î, —â–æ–± –∫–ª–∞—Å–∏ –±—É–ª–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ **—Ç–∏–º —Å–∞–º–∏–º –∞–±–æ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–º** `ClassLoader`.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, —è–∫—â–æ —É –≤–∞—Å —Å–∫–ª–∞–¥–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∑ –∫—ñ–ª—å–∫–æ–º–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—á–∞–º–∏ –∫–ª–∞—Å—ñ–≤, —è–∫—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –∫–ª–∞—Å, –º–æ–∂–µ –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ —Å–∏—Ç—É–∞—Ü—ñ—è, –∫–æ–ª–∏ `instanceof` –∫–∞–∂–µ `true`, –∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—É ‚Äî `ClassCastException`, –æ—Å–∫—ñ–ª—å–∫–∏ –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É JVM —Ü–µ –¥–≤–∞ —Ä—ñ–∑–Ω—ñ –∫–ª–∞—Å–∏ `MyClass` –∑ —Ä—ñ–∑–Ω–∏—Ö "–ø—Ä–æ—Å—Ç–æ—Ä—ñ–≤ —ñ–º–µ–Ω" –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—á—ñ–≤.
>
> **–ù–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ** –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ —Ç–∞ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤ —Ü—è –ø—Ä–æ–±–ª–µ–º–∞ —î —á–∏—Å—Ç–æ –∞–∫–∞–¥–µ–º—ñ—á–Ω–æ—é. –£ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ–π —Å–∏—Ç—É–∞—Ü—ñ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—å ‚Äî –Ω—ñ, —Ü–µ –Ω–µ–º–æ–∂–ª–∏–≤–æ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î—É–∂–µ –≥–ª–∏–±–æ–∫—ñ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ —Ä–æ–±–æ—Ç—É JVM, –∑–æ–∫—Ä–µ–º–∞ –ø—Ä–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—á—ñ –∫–ª–∞—Å—ñ–≤. –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –Ω–∞—Ü—ñ–ª–µ–Ω–µ –Ω–∞ –≤–∏—è–≤–ª–µ–Ω–Ω—è –∫–∞–Ω–¥–∏–¥–∞—Ç—ñ–≤ –∑ –µ–∫—Å–ø–µ—Ä—Ç–Ω–∏–º —Ä—ñ–≤–Ω–µ–º –∑–Ω–∞–Ω—å.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –∞–Ω–æ—Ç–∞—Ü—ñ—è `@EqualsAndHashCode` –∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ Lombok –æ–±—Ä–æ–±–ª—è—î —Ü—é –¥–∏–ª–µ–º—É (`instanceof` vs `getClass()`)? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, `@EqualsAndHashCode` –≥–µ–Ω–µ—Ä—É—î –º–µ—Ç–æ–¥ `equals()`, —è–∫–∏–π **–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∞–Ω—ñ `instanceof`, –∞–Ω—ñ `getClass()` –Ω–∞–ø—Ä—è–º—É**, –∞–ª–µ –π–æ–≥–æ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–∞ **—Å—Ç—Ä–æ–≥—ñ–π –ø–µ—Ä–µ–≤—ñ—Ä—Ü—ñ**.
>
> –í—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø–µ—Ä–µ–≤—ñ—Ä–∫—É, —è–∫–∞ —Ç–∞–∫–æ–∂ –Ω–µ –¥–æ–∑–≤–æ–ª—è—î –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤. –¶–µ –∑—Ä–æ–±–ª–µ–Ω–æ –¥–ª—è –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É.
>
> –û–¥–Ω–∞–∫ Lombok –Ω–∞–¥–∞—î –ø–∞—Ä–∞–º–µ—Ç—Ä `callSuper` –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø–æ–≤–µ–¥—ñ–Ω–∫–æ—é –≤ —ñ—î—Ä–∞—Ä—Ö—ñ—è—Ö:
>
> * **`@EqualsAndHashCode(callSuper = false)`** (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º):
>   * `equals` –≤—Ä–∞—Ö–æ–≤—É—î —Ç—ñ–ª—å–∫–∏ –ø–æ–ª—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–ª–∞—Å—É. –°–∏–º–µ—Ç—Ä–∏—á–Ω—ñ—Å—Ç—å –Ω–µ –±—É–¥–µ –ø–æ—Ä—É—à–µ–Ω–∞, –∞–ª–µ –ª–æ–≥—ñ—á–Ω–∞ —Ä—ñ–≤–Ω—ñ—Å—Ç—å –±—É–¥–µ –Ω–µ–ø–æ–≤–Ω–æ—é, —è–∫—â–æ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫—ñ –ø–æ–ª—è –≤–∞–∂–ª–∏–≤—ñ.
>
> * **`@EqualsAndHashCode(callSuper = true)`**:
>   * –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π `equals` –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `super.equals()` —ñ –≤–∫–ª—é—á–∞—Ç–∏ –ø–æ–ª—è –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –∫–ª–∞—Å—É –≤ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è. –¶–µ –≤–∏–º–∞–≥–∞—î, —â–æ–± —ñ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π –∫–ª–∞—Å –∫–æ—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞–≤ `equals` —ñ `hashCode`. –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ —î –∫—Ä–∏—Ö–∫–∏–º —ñ –º–æ–∂–µ –ª–µ–≥–∫–æ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ø–æ—Ä—É—à–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É, —è–∫—â–æ —ñ—î—Ä–∞—Ä—Ö—ñ—è –Ω–µ —Å–ø—Ä–æ–µ–∫—Ç–æ–≤–∞–Ω–∞ –¥—É–∂–µ —Ä–µ—Ç–µ–ª—å–Ω–æ.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** Lombok –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –±–µ–∑–ø–µ—á–Ω–∏–π –∫–æ–¥, –∞–ª–µ –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö —ñ—î—Ä–∞—Ä—Ö—ñ–π –≤—ñ–Ω –≤—Å–µ —â–µ –ø–æ–∫–ª–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ —Ç–µ, —â–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ —Ä–æ–∑—É–º—ñ—î, —â–æ –≤—ñ–Ω —Ä–æ–±–∏—Ç—å, —ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `callSuper`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ —Ç–∞ —ó—Ö–Ω—ñ—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π —ñ –æ–±–º–µ–∂–µ–Ω—å. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó –≤–∏—Ä—ñ—à—É—é—Ç—å —Å–∫–ª–∞–¥–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ –¥–∏–∑–∞–π–Ω—É.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–µ `instanceof null` –∫–æ–ª–∏-–Ω–µ–±—É–¥—å –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ `true`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù—ñ, –Ω—ñ–∫–æ–ª–∏.
>
> –°–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è –º–æ–≤–∏ Java —á—ñ—Ç–∫–æ –≤–∏–∑–Ω–∞—á–∞—î, —â–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä `instanceof` –ø–æ–≤–µ—Ä—Ç–∞—î **`false`**, —è–∫—â–æ –ª—ñ–≤–∏–π –æ–ø–µ—Ä–∞–Ω–¥ (`–æ–±'—î–∫—Ç`, —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è) —î **`null`**.
>
> `if (myObject instanceof MyClass)`
>
> –¶—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —î `null-safe` —ñ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ `myObject != null` –ø–µ—Ä–µ–¥ —Å–æ–±–æ—é.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `null instanceof AnyType` –∑–∞–≤–∂–¥–∏ –±—É–¥–µ `false`. –¶–µ –æ–¥–Ω–∞ –∑ –ø—Ä–∏—á–∏–Ω, —á–æ–º—É –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–µ–∑ `instanceof` –º–æ–∂–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ —Ç—Ä–æ—Ö–∏ –∫–æ—Ä–æ—Ç—à–æ—é, –Ω—ñ–∂ `obj == null || getClass() != obj.getClass()`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–£–≤–∞–∂–Ω—ñ—Å—Ç—å –¥–æ –¥–µ—Ç–∞–ª–µ–π –º–æ–≤–∏ —Ç–∞ –∑–Ω–∞–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∏ –ø–æ–≤–æ–¥—è—Ç—å—Å—è –∑ `null`.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –º—ñ–∂ –æ–±'—î–∫—Ç–∞–º–∏ —Ä—ñ–∑–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤, —è–∫—ñ –º–∞—é—Ç—å —Å–ø—ñ–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —è–∫ —Ü–µ –∑—Ä–æ–±–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –Ω–µ –ø–æ—Ä—É—à—É—é—á–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç `equals`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –†–æ–±–∏—Ç–∏ —Ü–µ –≤ —Å–∞–º–æ–º—É –º–µ—Ç–æ–¥—ñ `equals` –º–∞–π–∂–µ –∑–∞–≤–∂–¥–∏ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –ø–æ—Ä—É—à–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É. **–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥** ‚Äî –≤–∏–Ω–µ—Å—Ç–∏ —Ü—é –ª–æ–≥—ñ–∫—É –∑–∞ –º–µ–∂—ñ –º–µ—Ç–æ–¥—É `equals()`.
>
> **–ù–∞–π–∫—Ä–∞—â—ñ —Ä—ñ—à–µ–Ω–Ω—è:**
>
> 1. **–°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π `Comparator`:**
>     * –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∫–ª–∞—Å, —â–æ —Ä–µ–∞–ª—ñ–∑—É—î `java.util.Comparator<Shape>`, –¥–µ `Shape` ‚Äî —Ü–µ –≤–∞—à —Å–ø—ñ–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
>     * –ú–µ—Ç–æ–¥ `compare(Shape s1, Shape s2)` —Ü—å–æ–≥–æ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–∞ –±—É–¥–µ –º—ñ—Å—Ç–∏—Ç–∏ –ª–æ–≥—ñ–∫—É –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ —Ä—ñ–∑–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Circle` —Ç–∞ `Square`) –∑–∞ —è–∫–∏–º–æ—Å—å —Å–ø—ñ–ª—å–Ω–∏–º –∫—Ä–∏—Ç–µ—Ä—ñ—î–º (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞ –ø–ª–æ—â–µ—é).
>     * –¶–µ–π –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∞–±–æ –≤ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ—è—Ö, —è–∫-–æ—Ç `TreeSet`.
>
> 2. **–°—Ç–≤–æ—Ä–∏—Ç–∏ –æ–∫—Ä–µ–º–∏–π —É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω–∏–π –º–µ—Ç–æ–¥:**
>     * `public static boolean areSemanticallyEqual(Shape s1, Shape s2)`
>     * –¶–µ–π –º–µ—Ç–æ–¥ —ñ–Ω–∫–∞–ø—Å—É–ª—é—î –≤–∞—à—É —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—É –ª–æ–≥—ñ–∫—É –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è. –í–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç–µ –π–æ–≥–æ —è–≤–Ω–æ, –∫–æ–ª–∏ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–µ —Å–∞–º–µ —Ç–∞–∫–µ "–∫—Ä–æ—Å-–∫–ª–∞—Å–æ–≤–µ" –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è, —ñ –Ω–µ —á—ñ–ø–∞—î—Ç–µ `equals`.
>
> **–ß–æ–º—É —Ü–µ –∫—Ä–∞—â–µ?**
> –í–∏ –Ω–µ —á—ñ–ø–∞—î—Ç–µ "–ø—Ä–∏—Ä–æ–¥–Ω—É —Ä—ñ–≤–Ω—ñ—Å—Ç—å" –æ–±'—î–∫—Ç—ñ–≤ (`equals`), —è–∫–∞ –º–∞—î –±—É—Ç–∏ —Å—É–≤–æ—Ä–æ—é —ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É. –ó–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ –≤–∏ –Ω–∞–¥–∞—î—Ç–µ **–¥–æ–¥–∞—Ç–∫–æ–≤—É, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–ª–µ–∂–Ω—É —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è**. –¶–µ –∑–±–µ—Ä—ñ–≥–∞—î —á–∏—Å—Ç–æ—Ç—É –¥–∏–∑–∞–π–Ω—É —ñ –∑–∞–ø–æ–±—ñ–≥–∞—î –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ–π –ø–æ–≤–µ–¥—ñ–Ω—Ü—ñ `HashSet` —Ç–∞ `HashMap`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –º–∏—Å–ª–∏—Ç–∏ –Ω–∞ —Ä—ñ–≤–Ω—ñ –¥–∏–∑–∞–π–Ω—É —Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏. –†–æ–∑—É–º—ñ–Ω–Ω—è –ø–∞—Ç–µ—Ä–Ω—É "–°—Ç—Ä–∞—Ç–µ–≥—ñ—è" —Ç–∞ –≤–º—ñ–Ω–Ω—è –≤—ñ–¥–æ–∫—Ä–µ–º–ª—é–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –ª–æ–≥—ñ–∫–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –ø–æ—Ä—É—à–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤.*
