---
layout: default
title: "–ü—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è equals()"
parent: "`equals()`, `hashCode()`, `clone()`"
grand_parent: "Java Core"
nav_order: 2
---

# –ü—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è equals()

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –ü—Ä–∞–≤–∏–ª—å–Ω–µ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è `equals()` –≤–∏–º–∞–≥–∞—î –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è 5 –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –ø—Ä–∞–≤–∏–ª –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É `equals()`: —Ä–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ñ—Å—Ç—å, —Å–∏–º–µ—Ç—Ä–∏—á–Ω—ñ—Å—Ç—å, —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ñ—Å—Ç—å, –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å, —Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ `null`.

* –ø–æ–Ω—è—Ç—Ç—è: –ö–æ–Ω—Ç—Ä–∞–∫—Ç `equals()`, —Ä–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ñ—Å—Ç—å, —Å–∏–º–µ—Ç—Ä–∏—á–Ω—ñ—Å—Ç—å, —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ñ—Å—Ç—å, –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å, `null`-–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `if (this == obj) return true;`, `Objects.equals(name, other.name);` (–¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–æ–ª—ñ–≤).

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –¶—ñ –ø—Ä–∞–≤–∏–ª–∞ –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—É —Ç–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É, —â–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–æ–±–æ—Ç–∏ —Ö–µ—à-–∫–æ–ª–µ–∫—Ü—ñ–π.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ù–∞–∑–≤–∞—Ç–∏ —Ç–∞ –ø–æ—è—Å–Ω–∏—Ç–∏ 5 –ø—Ä–∞–≤–∏–ª, `getClass()` vs `instanceof`.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

–ü—Ä–∞–≤–∏–ª—å–Ω–µ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–µ—Ç–æ–¥—É **`equals(Object obj)`** –ø–µ—Ä–µ–¥–±–∞—á–∞—î –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è **–∫–æ–Ω—Ç—Ä–∞–∫—Ç—É equals**, –æ–ø–∏—Å–∞–Ω–æ–≥–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó Java. –ú–µ—Ç–æ–¥ –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ **`—Ä–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω–∏–º`**, **`—Å–∏–º–µ—Ç—Ä–∏—á–Ω–∏–º`**, **`—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∏–º`**, **`–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–º`**, –∞ —Ç–∞–∫–æ–∂ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –ø—Ä–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—ñ –∑ **`null`**

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

Java –æ—á—ñ–∫—É—î, —â–æ –º–µ—Ç–æ–¥ **`equals()`** –ø—Ä–∞—Ü—é—î –ª–æ–≥—ñ—á–Ω–æ —ñ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ. –Ø–∫—â–æ —Ç–∏ –∫–∞–∂–µ—à, —â–æ –æ–± º—î–∫—Ç —Ä—ñ–≤–Ω–∏–π —ñ–Ω—à–æ–º—É, —Ç–æ –º–∞—î—à –±—É—Ç–∏ –≤–ø–µ–≤–Ω–µ–Ω–∏–π, —â–æ —Ü–µ –∑–∞–≤–∂–¥–∏ —Ç–∞–∫: —ñ —Å—å–æ–≥–æ–¥–Ω—ñ, —ñ –∑–∞–≤—Ç—Ä–∞, —ñ –≤ –±—É–¥—å-—è–∫–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ. –Ü–Ω–∞–∫—à–µ –∫–æ–ª–µ–∫—Ü—ñ—ó —Ç–∏–ø—É **`HashSet`**, **`Map`** —ñ –ø—Ä–æ—Å—Ç–æ –ª–æ–≥—ñ–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–∏ –ø–æ—á–Ω–µ ‚Äú–ø–ª–∏—Å—Ç–∏‚Äù

---

## **–û—Å–Ω–æ–≤–Ω—ñ –≤–∏–¥–∏  / –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó / —Ç–∏–ø–∏**

#### üìä 5 –ø—Ä–∞–≤–∏–ª, —è–∫—ñ **–æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ** –º–∞—é—Ç—å –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—å

| –ü—Ä–∞–≤–∏–ª–æ | –û–ø–∏—Å |
| ----- | ----- |
| **–†–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ñ—Å—Ç—å** | **`x.equals(x)`** –º–∞—î –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ **`true`** |
| **–°–∏–º–µ—Ç—Ä–∏—á–Ω—ñ—Å—Ç—å** | –Ø–∫—â–æ **`x.equals(y)`** -> **`true`**, —Ç–æ **`y.equals(x)`** —Ç–µ–∂ **`true`** |
| **–¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ñ—Å—Ç—å** | –Ø–∫—â–æ **`x.equals(y)`** —ñ **`y.equals(z)`** -> **`x.equals(z)`** |
| **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å** | –Ø–∫—â–æ –ø–æ–ª—è –æ–±‚Äô—î–∫—Ç—ñ–≤ –Ω–µ –∑–º—ñ–Ω—é–≤–∞–ª–∏—Å—å -> —Ä–µ–∑—É–ª—å—Ç–∞—Ç **`equals()`** –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è |
| **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ `null`** | **`x.equals(null)`** –∑–∞–≤–∂–¥–∏ –º–∞—î –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ **`false`** |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

* –£—è–≤–∏, —â–æ **`equals()`** ‚Äî —Ü–µ –¥–æ–≥–æ–≤—ñ—Ä. –í—ñ–Ω –º–∞—î –±—É—Ç–∏ —á–µ—Å–Ω–∏–º —ñ –ª–æ–≥—ñ—á–Ω–∏–º.
* –Ø–∫—â–æ –æ–± º—î–∫—Ç —Ä—ñ–≤–Ω–∏–π —Å–∞–º —Å–æ–±—ñ ‚Äî —Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ (**`—Ä–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ñ—Å—Ç—å`**).
* –Ø–∫—â–æ —è —Å–∫–∞–∑–∞–≤, —â–æ —Ç–∏ –º–µ–Ω—ñ —Ä—ñ–≤–Ω–∏–π, —Ç–æ —ñ —Ç–∏ –º–∞—î—à —Ç–∞–∫ —Å–∫–∞–∑–∞—Ç–∏ –ø—Ä–æ –º–µ–Ω–µ (**`—Å–∏–º–µ—Ç—Ä–∏—á–Ω—ñ—Å—Ç—å`**).
* –Ø–∫—â–æ —è —Ä—ñ–≤–Ω–∏–π –ü–µ—Ç—ñ, –∞ –ü–µ—Ç—è —Ä—ñ–≤–Ω–∏–π –í–∞—Å—ñ ‚Äî –∑–Ω–∞—á–∏—Ç—å —è —Ä—ñ–≤–Ω–∏–π –í–∞—Å—ñ (**`—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ñ—Å—Ç—å`**).
* –Ø–∫—â–æ —è —Ç–µ–±–µ –ø–æ—Ä—ñ–≤–Ω—é—é —Å—å–æ–≥–æ–¥–Ω—ñ –π –∑–∞–≤—Ç—Ä–∞, —ñ –Ω—ñ—á–æ–≥–æ –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—î –±—É—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤–∏–º (**`–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å`**).
* **`null`** ‚Äî –∑–∞–≤–∂–¥–∏ –Ω–µ —Ä—ñ–≤–Ω–µ –±—É–¥—å-—è–∫–æ–º—É –æ–± º—î–∫—Ç—É.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
public class User {
    private String name;
    private int age;

    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;                      // –†–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ñ—Å—Ç—å
        if (obj == null || getClass() != obj.getClass())   // –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ null + –¢–∏–ø
            return false;
        User other = (User) obj;
        return age == other.age && Objects.equals(name, other.name); // –ë–µ–∑–ø–µ—á–Ω–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è
    }
}
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è**:

**`this == obj`** ‚Äî –∫–æ—Ä–æ—Ç–∫–∏–π —à–ª—è—Ö: —è–∫—â–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –æ–¥–Ω–∞–∫–æ–≤–µ, –æ–± º—î–∫—Ç–∏ —Ç–æ—á–Ω–æ —Ä—ñ–≤–Ω—ñ

**`obj == null`** –∞–±–æ –∫–ª–∞—Å —ñ–Ω—à–∏–π ‚Äî –æ–¥—Ä–∞–∑—É false

**`Objects.equals(a, b)`** ‚Äî –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î NullPointerException, —è–∫—â–æ name \== null

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ | –ü–æ—è—Å–Ω–µ–Ω–Ω—è |
| :---: | :---: |
| **`this == obj`** | –¢–æ–π —Å–∞–º–∏–π –æ–±'—î–∫—Ç —É –ø–∞–º'—è—Ç—ñ (—à–≤–∏–¥–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞) |
| **`obj == null`** | Null –Ω–µ –¥–æ—Ä—ñ–≤–Ω—é—î –Ω—ñ—á–æ–º—É |
| **`getClass() != obj.getClass()`** | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—É –∫–ª–∞—Å—É |
| **`Objects.equals(a, b)`** | Null-safe –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–Ω–∞—á–µ–Ω—å |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**–†-–°-–¢-–ö-N:**

* **–†**–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ñ—Å—Ç—å
* **–°**–∏–º–µ—Ç—Ä–∏—á–Ω—ñ—Å—Ç—å
* **–¢**—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ñ—Å—Ç—å
* **–ö**–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å
* **N**ull check

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

–ú–µ—Ç–æ–¥ **`equals()`** –º–∞—î –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—Ç–∏—Å—è —á—ñ—Ç–∫–æ –π –≥—Ä–∞–º–æ—Ç–Ω–æ. –î–æ—Ç—Ä–∏–º–∞–Ω–Ω—è 5 –ø—Ä–∞–≤–∏–ª ‚Äî –æ–±–æ–≤ º—è–∑–∫–æ–≤–∞ –≤–∏–º–æ–≥–∞ –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó –ª–æ–≥—ñ–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–∏, –æ—Å–æ–±–ª–∏–≤–æ –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π **`Objects.equals()`** –¥–ª—è –∑—Ä—É—á–Ω–æ–≥–æ —ñ –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è, –∞ —Ç–∞–∫–æ–∂ –ø–∏–ª—å–Ω—É–π, —â–æ–± **`hashCode()`** –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–≤ **`equals()`**.

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**–û—Ñ—ñ—Ü—ñ–π–Ω–∏–π Java –∫–æ–Ω—Ç—Ä–∞–∫—Ç equals**](https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –º–µ—Ç–æ–¥—É `equals()` —ñ —á–æ–º—É –≤—ñ–Ω —Ç–∞–∫–∏–π –≤–∞–∂–ª–∏–≤–∏–π?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ö–æ–Ω—Ç—Ä–∞–∫—Ç `equals()`** ‚Äî —Ü–µ –Ω–∞–±—ñ—Ä –∑ –ø'—è—Ç–∏ –ø—Ä–∞–≤–∏–ª, –æ–ø–∏—Å–∞–Ω–∏—Ö –≤ –æ—Ñ—ñ—Ü—ñ–π–Ω—ñ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó `java.lang.Object`, —è–∫–∏—Ö –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ —Å—É–≤–æ—Ä–æ –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—ñ —Ü—å–æ–≥–æ –º–µ—Ç–æ–¥—É. –¶—ñ –ø—Ä–∞–≤–∏–ª–∞ –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å, —â–æ –ø–æ–Ω—è—Ç—Ç—è "–ª–æ–≥—ñ—á–Ω–æ—ó —Ä—ñ–≤–Ω–æ—Å—Ç—ñ" –±—É–¥–µ –ø–æ–≤–æ–¥–∏—Ç–∏—Å—è –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ —Ç–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –≤ —É—Å—ñ–π Java-–µ–∫–æ—Å–∏—Å—Ç–µ–º—ñ.
>
> **–ß–æ–º—É –≤—ñ–Ω –≤–∞–∂–ª–∏–≤–∏–π?**
> –¢–æ–º—É —â–æ –±–µ–∑–ª—ñ—á —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤, –æ—Å–æ–±–ª–∏–≤–æ **–∫–æ–ª–µ–∫—Ü—ñ—ó (`HashSet`, `HashMap`)**, –ø–æ–≤–Ω—ñ—Å—Ç—é –ø–æ–∫–ª–∞–¥–∞—é—Ç—å—Å—è –Ω–∞ —Ü–µ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç. –Ø–∫—â–æ –≤–∏ –ø–æ—Ä—É—à–∏—Ç–µ —Ö–æ—á–∞ –± –æ–¥–Ω–µ –∑ –ø—Ä–∞–≤–∏–ª, –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ —Ü–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π —Å—Ç–∞–Ω–µ —Ö–∞–æ—Ç–∏—á–Ω–æ—é —Ç–∞ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ—é. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏ –Ω–µ –∑–º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ –≤ `HashSet` –æ–±'—î–∫—Ç, —è–∫–∏–π –≤–∏ —â–æ–π–Ω–æ —Ç—É–¥–∏ –¥–æ–¥–∞–ª–∏, –∞–±–æ `HashMap` –ø–æ–≤–µ—Ä–Ω–µ `null` –¥–ª—è –∫–ª—é—á–∞, —è–∫–∏–π —Ç–æ—á–Ω–æ —î –≤ –º–∞–ø—ñ.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–î–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É ‚Äî —Ü–µ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è, –∞ –≤–∏–º–æ–≥–∞. –Ü–≥–Ω–æ—Ä—É–≤–∞–Ω–Ω—è —Ü–∏—Ö –ø—Ä–∞–≤–∏–ª –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ —Å–∫–ª–∞–¥–Ω–∏—Ö –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫, —è–∫—ñ –ø—Ä–æ—è–≤–ª—è—é—Ç—å—Å—è –Ω–µ –≤ —Å–∞–º–æ–º—É –º–µ—Ç–æ–¥—ñ `equals()`, –∞ –≤ –∞–±—Å–æ–ª—é—Ç–Ω–æ —ñ–Ω—à–∏—Ö —á–∞—Å—Ç–∏–Ω–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –ø—Ä–∞–≤–∏–ª–∞ `equals()` —î –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ñ–æ—Ä–º–∞–ª—å–Ω—ñ—Å—Ç—é, –∞ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ—é –æ—Å–Ω–æ–≤–æ—é –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –±–∞–≥–∞—Ç—å–æ—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ Java, –∑–æ–∫—Ä–µ–º–∞, –∫–æ–ª–µ–∫—Ü—ñ–π.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–∑–≤—ñ—Ç—å —Ç–∞ –∫–æ—Ä–æ—Ç–∫–æ –ø–æ—è—Å–Ω—ñ—Ç—å —É—Å—ñ –ø'—è—Ç—å –ø—Ä–∞–≤–∏–ª –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É `equals()`.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> 1. **–†–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ñ—Å—Ç—å (Reflexivity):** –û–±'—î–∫—Ç –∑–∞–≤–∂–¥–∏ —Ä—ñ–≤–Ω–∏–π —Å–∞–º —Å–æ–±—ñ.
>     * `x.equals(x)` –º–∞—î –∑–∞–≤–∂–¥–∏ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ `true`.
>
> 2. **–°–∏–º–µ—Ç—Ä–∏—á–Ω—ñ—Å—Ç—å (Symmetry):** –Ø–∫—â–æ `A` —Ä—ñ–≤–Ω–µ `B`, —Ç–æ —ñ `B` –º–∞—î –±—É—Ç–∏ —Ä—ñ–≤–Ω–∏–º `A`.
>     * `x.equals(y)` –ø–æ–≤–µ—Ä—Ç–∞—î `true` —Ç–æ–¥—ñ –π —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ, –∫–æ–ª–∏ `y.equals(x)` –ø–æ–≤–µ—Ä—Ç–∞—î `true`.
>
> 3. **–¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ñ—Å—Ç—å (Transitivity):** –Ø–∫—â–æ `A` —Ä—ñ–≤–Ω–µ `B`, –∞ `B` —Ä—ñ–≤–Ω–µ `C`, —Ç–æ `A` –º–∞—î –±—É—Ç–∏ —Ä—ñ–≤–Ω–∏–º `C`.
>     * –Ø–∫—â–æ `x.equals(y)` —Ç–∞ `y.equals(z)` —î `true`, —Ç–æ `x.equals(z)` —Ç–∞–∫–æ–∂ –º–∞—î –±—É—Ç–∏ `true`.
>
> 4. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å (Consistency):** –ü–æ–≤—Ç–æ—Ä–Ω—ñ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –¥–≤–æ—Ö –æ–±'—î–∫—Ç—ñ–≤ –¥–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —è–∫—â–æ —ó—Ö–Ω—ñ –ø–æ–ª—è –Ω–µ –∑–º—ñ–Ω—é–≤–∞–ª–∏—Å—å.
>     * –ë–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤–∏–π –≤–∏–∫–ª–∏–∫ `x.equals(y)` –ø–æ–≤–µ—Ä—Ç–∞—î —Ç–µ —Å–∞–º–µ –∑–Ω–∞—á–µ–Ω–Ω—è, –¥–æ–∫–∏ –¥–∞–Ω—ñ –≤ `x` –∞–±–æ `y` –Ω–µ –∑–º—ñ–Ω—è—Ç—å—Å—è.
>
> 5. **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ `null`:** –ñ–æ–¥–µ–Ω –æ–±'—î–∫—Ç –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ —Ä—ñ–≤–Ω–∏–º `null`.
>     * `x.equals(null)` –∑–∞–≤–∂–¥–∏ –º–∞—î –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ `false`.

#### **üìù –ú–Ω–µ–º–æ–Ω—ñ–∫–∞:**

–î–ª—è –∑–∞–ø–∞–º'—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∞–∫—Ä–æ–Ω—ñ–º **RSTCN**:

* **R** - Reflexive
* **S** - Symmetric
* **T** - Transitive
* **C** - Consistent
* **N** - Null-check

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ß—ñ—Ç–∫–µ –∑–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø'—è—Ç–∏ –ø—Ä–∞–≤–∏–ª —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å —ó—Ö –ª–∞–∫–æ–Ω—ñ—á–Ω–æ –ø–æ—è—Å–Ω–∏—Ç–∏. –¶–µ –æ–¥–Ω–µ –∑ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏—Ö —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∞—Ö –∑ Java Core.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ —Ä–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ñ—Å—Ç—å —ñ —è–∫ —ó—ó –º–æ–∂–Ω–∞ –≤–∏–ø–∞–¥–∫–æ–≤–æ –ø–æ—Ä—É—à–∏—Ç–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–†–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ñ—Å—Ç—å** ‚Äî —Ü–µ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ –ø—Ä–∞–≤–∏–ª–æ, —è–∫–µ —Å—Ç–≤–µ—Ä–¥–∂—É—î, —â–æ –±—É–¥—å-—è–∫–∏–π –æ–±'—î–∫—Ç –º–∞—î –±—É—Ç–∏ —Ä—ñ–≤–Ω–∏–º —Å–∞–º–æ–º—É —Å–æ–±—ñ (`x.equals(x)` –ø–æ–≤–∏–Ω–Ω–æ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ `true`).
>
> –ü–æ—Ä—É—à–∏—Ç–∏ —Ü–µ –ø—Ä–∞–≤–∏–ª–æ –≤–∏–ø–∞–¥–∫–æ–≤–æ –¥–æ—Å–∏—Ç—å —Å–∫–ª–∞–¥–Ω–æ, –∞–ª–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–æ –º–æ–∂–ª–∏–≤–æ, —è–∫—â–æ –ª–æ–≥—ñ–∫–∞ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —è–∫–æ–≥–æ—Å—å –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –∞–±–æ –≤–∏–ø–∞–¥–∫–æ–≤–æ–≥–æ —Ñ–∞–∫—Ç–æ—Ä–∞, —â–æ —î –≥—Ä—É–±–æ—é –ø–æ–º–∏–ª–∫–æ—é –¥–∏–∑–∞–π–Ω—É.
>
> **–ü—Ä–∏–∫–ª–∞–¥ –ø–æ—Ä—É—à–µ–Ω–Ω—è (–¥—É–∂–µ –Ω–∞–¥—É–º–∞–Ω–∏–π):**
>
> ```java
> public class UnstableObject {
>     @Override
>     public boolean equals(Object obj) {
>         // –ü–æ—Ä—É—à–µ–Ω–Ω—è: —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ —Ñ–∞–∫—Ç–æ—Ä–∞
>         return Math.random() > 0.5;
>     }
> }
> ```
>
> –£ —Ü—å–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ `obj.equals(obj)` –º–æ–∂–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ `false`. –•–æ—á–∞ —Ç–∞–∫–∏–π –∫–æ–¥ –±–µ–∑–≥–ª—É–∑–¥–∏–π, –≤—ñ–Ω —ñ–ª—é—Å—Ç—Ä—É—î —Å—É—Ç—å –ø–æ—Ä—É—à–µ–Ω–Ω—è. –£ —Ä–µ–∞–ª—å–Ω–æ–º—É –∂–∏—Ç—Ç—ñ —Ü–µ –ø—Ä–∞–≤–∏–ª–æ –º–∞–π–∂–µ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø–æ—Ä—É—à—É—î—Ç—å—Å—è, —è–∫—â–æ –ª–æ–≥—ñ–∫–∞ –∑–∞–ª–µ–∂–∏—Ç—å —Ç—ñ–ª—å–∫–∏ –≤—ñ–¥ –ø–æ–ª—ñ–≤ –æ–±'—î–∫—Ç—ñ–≤ `this` —Ç–∞ `obj`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü–æ–≤–Ω–æ—Ç—É –∑–Ω–∞–Ω—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É. –•–æ—á–∞ —Ü–µ –ø—Ä–∞–≤–∏–ª–æ —Ä—ñ–¥–∫–æ –ø–æ—Ä—É—à—É—î—Ç—å—Å—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ, –∫–∞–Ω–¥–∏–¥–∞—Ç –º–∞—î –∑–Ω–∞—Ç–∏ –ø—Ä–æ –π–æ–≥–æ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å –Ω–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ, —è–∫ –º–æ–∂–Ω–∞ –ø–æ—Ä—É—à–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª–æ —Å–∏–º–µ—Ç—Ä–∏—á–Ω–æ—Å—Ç—ñ.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–°–∏–º–µ—Ç—Ä–∏—á–Ω—ñ—Å—Ç—å** –≤–∏–º–∞–≥–∞—î, —â–æ–± `x.equals(y)` —Ç–∞ `y.equals(x)` –¥–∞–≤–∞–ª–∏ –æ–¥–Ω–∞–∫–æ–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ù–∞–π—á–∞—Å—Ç—ñ—à–µ —Ü–µ –ø—Ä–∞–≤–∏–ª–æ –ø–æ—Ä—É—à—É—î—Ç—å—Å—è –ø—Ä–∏ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ–π —Ä–æ–±–æ—Ç—ñ –∑ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è–º —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ `instanceof`.
>
> –†–æ–∑–≥–ª—è–Ω–µ–º–æ –ø—Ä–∏–∫–ª–∞–¥: –∫–ª–∞—Å `Point` —ñ –π–æ–≥–æ –Ω–∞—â–∞–¥–æ–∫ `ColorPoint`.
>
> ```java
> class Point {
>     final int x, y;
>     // ... –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä ...
>
>     @Override
>     public boolean equals(Object obj) {
>         if (!(obj instanceof Point)) return false;
>         Point p = (Point) obj;
>         return p.x == x && p.y == y;
>     }
> }
>
> class ColorPoint extends Point {
>     final Color color;
>     // ... –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä ...
>
>     @Override
>     public boolean equals(Object obj) {
>         if (!(obj instanceof ColorPoint)) return false;
>         // –ü–æ—Ä—ñ–≤–Ω—é—î x, y –¢–ê –∫–æ–ª—ñ—Ä
>         return super.equals(obj) && ((ColorPoint) obj).color == color;
>     }
> }
> ```
>
> **–ü–æ—Ä—É—à–µ–Ω–Ω—è —Å–∏–º–µ—Ç—Ä–∏—á–Ω–æ—Å—Ç—ñ:**
>
> ```java
> Point p = new Point(1, 2);
> ColorPoint cp = new ColorPoint(1, 2, Color.RED);
>
> // p.equals(cp) -> true (–±–æ cp —î instanceof Point, –∞ x, y –∑–±—ñ–≥–∞—é—Ç—å—Å—è)
> // cp.equals(p) -> false (–±–æ p –Ω–µ —î instanceof ColorPoint)
> ```
>
> –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ `p.equals(cp) != cp.equals(p)`, —â–æ –ø–æ—Ä—É—à—É—î –∫–æ–Ω—Ç—Ä–∞–∫—Ç —ñ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ —Ö–∞–æ—Å—É –≤ –∫–æ–ª–µ–∫—Ü—ñ—è—Ö. –°–∞–º–µ —Ç–æ–º—É –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø—ñ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `getClass() == obj.getClass()`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø—ñ–¥–≤–æ–¥–Ω–∏—Ö –∫–∞–º–µ–Ω—ñ–≤ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è –ø—Ä–∏ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—ñ `equals`. –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä—è—î –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ –≤–∑–∞—î–º–æ–¥—ñ—ó –º—ñ–∂ –∫–ª–∞—Å–∞–º–∏.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –º–æ–∂–Ω–∞ –ø–æ—Ä—É—à–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª–æ —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ—Å—Ç—ñ? –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ñ—Å—Ç—å** –≤–∏–º–∞–≥–∞—î, —â–æ–± —è–∫—â–æ `x.equals(y)` —Ç–∞ `y.equals(z)`, —Ç–æ —ñ `x.equals(z)`. –¶–µ –ø—Ä–∞–≤–∏–ª–æ —Ç–∞–∫–æ–∂ —á–∞—Å—Ç–æ –ø–æ—Ä—É—à—É—î—Ç—å—Å—è –ø—Ä–∏ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ–º—É —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—ñ —Ç–∞ –∑–º—ñ—à—É–≤–∞–Ω–Ω—ñ –ª–æ–≥—ñ–∫–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è.
>
> –†–æ–∑–≥–ª—è–Ω–µ–º–æ —Ç–æ–π —Å–∞–º–∏–π –ø—Ä–∏–∫–ª–∞–¥, –∞–ª–µ –∑–º—ñ–Ω–∏–º–æ `equals` –≤ `ColorPoint` —É —Å–ø—Ä–æ–±—ñ "–≤–∏–ø—Ä–∞–≤–∏—Ç–∏" —Å–∏–º–µ—Ç—Ä–∏—á–Ω—ñ—Å—Ç—å:
>
> ```java
> class ColorPoint extends Point {
>     // ...
>     @Override
>     public boolean equals(Object obj) {
>         if (!(obj instanceof Point)) return false;
>
>         // –Ø–∫—â–æ —Ü–µ ColorPoint, –ø–æ—Ä—ñ–≤–Ω—é—î–º–æ –∫–æ–ª—ñ—Ä
>         if (obj instanceof ColorPoint) {
>             return super.equals(obj) && ((ColorPoint) obj).color == color;
>         }
>
>         // –Ø–∫—â–æ —Ü–µ –ø—Ä–æ—Å—Ç–æ Point, –ø–æ—Ä—ñ–≤–Ω—é—î–º–æ —Ç—ñ–ª—å–∫–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ (—ñ–≥–Ω–æ—Ä—É—î–º–æ –∫–æ–ª—ñ—Ä)
>         return super.equals(obj);
>     }
> }
> ```
>
> **–ü–æ—Ä—É—à–µ–Ω–Ω—è —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ—Å—Ç—ñ:**
>
> ```java
> ColorPoint p1 = new ColorPoint(1, 2, Color.RED);
> Point p2 = new Point(1, 2);
> ColorPoint p3 = new ColorPoint(1, 2, Color.BLUE);
>
> // p1.equals(p2) -> true (p2 - —Ü–µ Point, –ø–æ—Ä—ñ–≤–Ω—é—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ x, y)
> // p2.equals(p3) -> true (p2 - —Ü–µ Point, –ø–æ—Ä—ñ–≤–Ω—é—î—Ç—å—Å—è –∑ p3 —è–∫ –∑ Point'–æ–º, –∫–æ–ª—ñ—Ä —ñ–≥–Ω–æ—Ä—É—î—Ç—å—Å—è)
>
> // –ê–ª–µ p1.equals(p3) -> false (–±–æ p1 —Ç–∞ p3 —î ColorPoint —ñ —ó—Ö–Ω—ñ –∫–æ–ª—å–æ—Ä–∏ —Ä—ñ–∑–Ω—ñ)
> ```
>
> –ú–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ —Å–∏—Ç—É–∞—Ü—ñ—é, –¥–µ `p1` —Ä—ñ–≤–Ω–∏–π `p2`, `p2` —Ä—ñ–≤–Ω–∏–π `p3`, –∞–ª–µ `p1` **–Ω–µ** —Ä—ñ–≤–Ω–∏–π `p3`. –¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø–æ—Ä—É—à–µ–Ω–∞.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —á–æ–º—É "–∫–æ–º–ø–æ–∑–∏—Ü—ñ—è –∫—Ä–∞—â–∞ –∑–∞ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è". –Ø–∫—â–æ –± `Point` –±—É–≤ –ø–æ–ª–µ–º —É `ColorPoint`, –∞ –Ω–µ –±–∞—Ç—å–∫–æ–º, —Ü–∏—Ö –ø—Ä–æ–±–ª–µ–º –º–æ–∂–Ω–∞ –±—É–ª–æ –± —É–Ω–∏–∫–Ω—É—Ç–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —â–µ –±—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π —ñ –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —á–æ–º—É —Å–ø—Ä–æ–±–∏ "–≤–∏–ø—Ä–∞–≤–∏—Ç–∏" —Å–∏–º–µ—Ç—Ä–∏—á–Ω—ñ—Å—Ç—å –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `instanceof` —á–∞—Å—Ç–æ –ø—Ä–∏–∑–≤–æ–¥—è—Ç—å –¥–æ –ø–æ—Ä—É—à–µ–Ω–Ω—è —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ—Å—Ç—ñ.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å —ñ —è–∫ —ó—ó –º–æ–∂–Ω–∞ –ø–æ—Ä—É—à–∏—Ç–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å** –≤–∏–º–∞–≥–∞—î, —â–æ–± –ø–æ–≤—Ç–æ—Ä–Ω—ñ –≤–∏–∫–ª–∏–∫–∏ `x.equals(y)` –ø–æ–≤–µ—Ä—Ç–∞–ª–∏ —Ç–æ–π —Å–∞–º–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —è–∫—â–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤ –æ–±'—î–∫—Ç–∞—Ö `x` —Ç–∞ `y`, –Ω–µ –∑–º—ñ–Ω—é–≤–∞–ª–∞—Å—è.
>
> –¶–µ –ø—Ä–∞–≤–∏–ª–æ –ø–æ—Ä—É—à—É—î—Ç—å—Å—è, —è–∫—â–æ –ª–æ–≥—ñ–∫–∞ `equals()` –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ **–Ω–µ—Å—Ç–∞–±—ñ–ª—å–Ω–∏—Ö –∞–±–æ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤**.
>
> **–ü—Ä–∏–∫–ª–∞–¥ –ø–æ—Ä—É—à–µ–Ω–Ω—è:**
>
> ```java
> import java.net.URL;
>
> public class UrlEquality {
>     private final URL url;
>     //...
>     @Override
>     public boolean equals(Object o) {
>         // –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û! –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –º–µ—Ä–µ–∂—ñ!
>         // –ú–µ—Ç–æ–¥ equals –¥–ª—è URL –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è —Ä–æ–∑—Ä—ñ–∑–Ω–∏—Ç–∏ IP-–∞–¥—Ä–µ—Å–∏,
>         // —â–æ –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ DNS, –º–µ—Ä–µ–∂—ñ —Ç–æ—â–æ.
>         return (o instanceof UrlEquality) && url.equals(((UrlEquality) o).url);
>     }
> }
> ```
>
> –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –º–µ—Ç–æ–¥ `java.net.URL.equals()` –≤–∏–∫–æ–Ω—É—î –º–µ—Ä–µ–∂–µ–≤–∏–π –∑–∞–ø–∏—Ç –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è IP-–∞–¥—Ä–µ—Å–∏. –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∞–∫–æ–≥–æ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å—Ç–∞–Ω—É –º–µ—Ä–µ–∂—ñ –∞–±–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å DNS, —â–æ –ø—Ä—è–º–æ –ø–æ—Ä—É—à—É—î –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å.
>
> **–ü—Ä–∞–≤–∏–ª—å–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è:** `equals()` –ø–æ–≤–∏–Ω–µ–Ω –∑–∞–ª–µ–∂–∞—Ç–∏ –ª–∏—à–µ –≤—ñ–¥ **–≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö, —Å—Ç–∞–±—ñ–ª—å–Ω–∏—Ö –ø–æ–ª—ñ–≤** –æ–±'—î–∫—Ç–∞. –î–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è URL —Å–ª—ñ–¥ –±—É–ª–æ –± –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ —ó—Ö–Ω—î —Ä—è–¥–∫–æ–≤–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –ª–æ–≥—ñ–∫–∞ `equals()` –º–∞—î –±—É—Ç–∏ —á–∏—Å—Ç–æ—é —Ñ—É–Ω–∫—Ü—ñ—î—é –≤—ñ–¥ —Å—Ç–∞–Ω—É –æ–±'—î–∫—Ç—ñ–≤ —ñ –Ω–µ –ø–æ–≤–∏–Ω–Ω–∞ –º–∞—Ç–∏ –ø–æ–±—ñ—á–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤ –∞–±–æ –∑–∞–ª–µ–∂–∞—Ç–∏ –≤—ñ–¥ –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `x.equals(null)` –∑–∞–≤–∂–¥–∏ –º–∞—î –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ `false`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –ø—Ä–∞–≤–∏–ª–æ —î –ª–æ–≥—ñ—á–Ω–∏–º –Ω–∞—Å–ª—ñ–¥–∫–æ–º —Å–∞–º–æ—ó –ø—Ä–∏—Ä–æ–¥–∏ `equals()` ‚Äî –º–µ—Ç–æ–¥—É –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è **–æ–±'—î–∫—Ç—ñ–≤**. `null` –Ω–µ —î –æ–±'—î–∫—Ç–æ–º, —Ü–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è, —è–∫–µ –≤–∫–∞–∑—É—î –Ω–∞ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç.
>
> –û–±'—î–∫—Ç –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ª–æ–≥—ñ—á–Ω–æ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–∏–º "–Ω—ñ—á–æ–º—É".
>
> –ü—Ä–∞–≤–∏–ª—å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `equals()` –∑–∞–≤–∂–¥–∏ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫, –æ–¥–Ω–∞ –∑ —è–∫–∏—Ö –º–∞—î –±—É—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ `null`. –ù–∞–π—á–∞—Å—Ç—ñ—à–µ —Ü–µ —Ä–æ–±–∏—Ç—å—Å—è —Ç–∞–∫: `if (obj == null) return false;`. –¶–µ —Ç–∞–∫–æ–∂ –∑–∞—Ö–∏—â–∞—î –≤—ñ–¥ `NullPointerException` –ø—Ä–∏ –ø–æ–¥–∞–ª—å—à–æ–º—É –¥–æ—Å—Ç—É–ø—ñ –¥–æ –º–µ—Ç–æ–¥—ñ–≤ –∞–±–æ –ø–æ–ª—ñ–≤ `obj`.
>
> –Ø–∫—â–æ –± `x.equals(null)` –º–æ–≥–ª–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ `true`, —Ü–µ –∑–ª–∞–º–∞–ª–æ –± –±–∞–≥–∞—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `List.remove(null)` –ø—Ä–∞—Ü—é–≤–∞–≤ –±–∏ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ß—ñ—Ç–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Å–µ–º–∞–Ω—Ç–∏–∫–∏ `null` –≤ Java —Ç–∞ –π–æ–≥–æ –º—ñ—Å—Ü—è —É –ª–æ–≥—ñ—Ü—ñ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –æ–±'—î–∫—Ç–Ω–∏—Ö –ø–æ–ª—ñ–≤ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `equals()` —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `Objects.equals(a, b)`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `Objects.equals(a, b)` ‚Äî —Ü–µ —Å—Ç–∞—Ç–∏—á–Ω–∏–π —É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω–∏–π –º–µ—Ç–æ–¥ –∑ `java.util.Objects`, —è–∫–∏–π –ø–æ—Ä—ñ–≤–Ω—é—î –¥–≤–∞ –æ–±'—î–∫—Ç–∏ —ñ —î **`null-safe` (–±–µ–∑–ø–µ—á–Ω–∏–º –¥–æ `null`)**.
>
> –ô–æ–≥–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤–∏–≥–ª—è–¥–∞—î –ø—Ä–∏–±–ª–∏–∑–Ω–æ —Ç–∞–∫:
>
> ```java
> public static boolean equals(Object a, Object b) {
>     return (a == b) || (a != null && a.equals(b));
> }
> ```
>
> **–ü–µ—Ä–µ–≤–∞–≥–∏:**
>
> 1. **–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ `NullPointerException`**: –Ø–∫—â–æ –Ω–∞–ø–∏—Å–∞—Ç–∏ `this.field.equals(other.field)`, —ñ `this.field` –≤–∏—è–≤–∏—Ç—å—Å—è `null`, –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ `NullPointerException`. `Objects.equals()` –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª—è—î —Ü–µ–π –≤–∏–ø–∞–¥–æ–∫.
> 2. **–°—Ç–∏—Å–ª—ñ—Å—Ç—å —ñ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å**: –í—ñ–Ω –∑–∞–º—ñ–Ω—é—î –≥—Ä–æ–º—ñ–∑–¥–∫—ñ `if`-`else` –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–∞ `null` –æ–¥–Ω–∏–º –ª–∞–∫–æ–Ω—ñ—á–Ω–∏–º –≤–∏–∫–ª–∏–∫–æ–º.
>
> –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `Objects.equals()` —î —Å—É—á–∞—Å–Ω–æ—é –Ω–∞–π–∫—Ä–∞—â–æ—é –ø—Ä–∞–∫—Ç–∏–∫–æ—é –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–æ–ª—ñ–≤-–æ–±'—î–∫—Ç—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏—Ö —É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤, —è–∫—ñ —Å–ø—Ä–æ—â—É—é—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –∫–æ–¥—É, —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ `null-safe` –æ–ø–µ—Ä–∞—Ü—ñ–π.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –ø—Ä–∞–≤–∏–ª–æ —Å–∏–º–µ—Ç—Ä–∏—á–Ω–æ—Å—Ç—ñ –ø–æ–≤'—è–∑–∞–Ω–µ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º `instanceof` –ø—Ä–æ—Ç–∏ `getClass()`? –Ø–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –∫—Ä–∞—â–∏–π? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ–π –≤–∏–±—ñ—Ä –Ω–∞–ø—Ä—è–º—É –≤–ø–ª–∏–≤–∞—î –Ω–∞ –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª–∞ —Å–∏–º–µ—Ç—Ä–∏—á–Ω–æ—Å—Ç—ñ –ø—Ä–∏ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—ñ.
>
> * `instanceof`: –¶—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —î "–ø–æ–ª—ñ–º–æ—Ä—Ñ–Ω–æ—é". `obj instanceof MyClass` –ø–æ–≤–µ—Ä–Ω–µ `true` —ñ –¥–ª—è `MyClass`, —ñ –¥–ª—è –≤—Å—ñ—Ö –π–æ–≥–æ –Ω–∞—â–∞–¥–∫—ñ–≤. –Ø–∫ –±—É–ª–æ –ø–æ–∫–∞–∑–∞–Ω–æ —Ä–∞–Ω—ñ—à–µ, —Ü–µ **–ª–µ–≥–∫–æ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ø–æ—Ä—É—à–µ–Ω–Ω—è —Å–∏–º–µ—Ç—Ä–∏—á–Ω–æ—Å—Ç—ñ**, –∫–æ–ª–∏ –æ–±'—î–∫—Ç –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –∫–ª–∞—Å—É "–≤–≤–∞–∂–∞—î" –æ–±'—î–∫—Ç –¥–æ—á—ñ—Ä–Ω—å–æ–≥–æ –∫–ª–∞—Å—É —Ä—ñ–≤–Ω–∏–º —Å–æ–±—ñ, –∞ –¥–æ—á—ñ—Ä–Ω—ñ–π –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π ‚Äî –Ω—ñ.
>
> * `getClass() == obj.getClass()`: –¶—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —î "—Å—Ç—Ä–æ–≥–æ—é". –í–æ–Ω–∞ –≤–∏–º–∞–≥–∞—î, —â–æ–± –æ–±'—î–∫—Ç–∏ –±—É–ª–∏ **–æ–¥–Ω–æ–≥–æ —ñ —Ç–æ–≥–æ –∂ –∫–ª–∞—Å—É**. –í–æ–Ω–∞ –∑–∞–±–æ—Ä–æ–Ω—è—î —Ä—ñ–≤–Ω—ñ—Å—Ç—å –º—ñ–∂ –æ–±'—î–∫—Ç–∞–º–∏ —Ä—ñ–∑–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–æ–Ω–∏ —î –≤ –æ–¥–Ω—ñ–π —ñ—î—Ä–∞—Ä—Ö—ñ—ó –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è.
>
> **–Ø–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –∫—Ä–∞—â–∏–π?**
> **`getClass() == obj.getClass()` —î –Ω–∞–±–∞–≥–∞—Ç–æ –∫—Ä–∞—â–∏–º —ñ –±–µ–∑–ø–µ—á–Ω—ñ—à–∏–º** —É –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –≥–∞—Ä–∞–Ω—Ç—É—î –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–∏–º–µ—Ç—Ä–∏—á–Ω–æ—Å—Ç—ñ —Ç–∞ –∑–∞–ø–æ–±—ñ–≥–∞—î —Å–∫–ª–∞–¥–Ω–∏–º –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∞–º –∑ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è–º.
>
> –î–∂–æ—à—É–∞ –ë–ª–æ—Ö —É —Å–≤–æ—ó–π –∫–Ω–∏–∑—ñ "Effective Java" —Ä–µ–∫–æ–º–µ–Ω–¥—É—î —Å–∞–º–µ —Ü–µ–π –ø—ñ–¥—Ö—ñ–¥, —Å—Ç–≤–µ—Ä–¥–∂—É—é—á–∏, —â–æ –Ω–µ–º–∞—î —Å–ø–æ—Å–æ–±—É —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä–Ω–∏–π –∫–ª–∞—Å —ñ –¥–æ–¥–∞—Ç–∏ –∑–Ω–∞—á—É—â–µ –ø–æ–ª–µ, –∑–±–µ—Ä—ñ–≥—à–∏ –ø—Ä–∏ —Ü—å–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç `equals`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–º–ø—Ä–æ–º—ñ—Å—ñ–≤ –º—ñ–∂ `instanceof` —Ç–∞ `getClass()`. –ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –≤–∏–±—ñ—Ä –Ω–∞ –∫–æ—Ä–∏—Å—Ç—å `getClass()` –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞ —Ä—ñ–≤–Ω—ñ—Å—Ç—å –ø–æ–ª—è —Ç–∏–ø—É `float` –∞–±–æ `double` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `equals()`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ü—Ä—è–º–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è `float` —Ç–∞ `double` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `==` —î —Ä–∏–∑–∏–∫–æ–≤–∞–Ω–∏–º —á–µ—Ä–µ–∑ –º–æ–∂–ª–∏–≤—ñ –ø–æ–º–∏–ª–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è —á–∏—Å–µ–ª –∑ –ø–ª–∞–≤–∞—é—á–æ—é –∫–æ–º–æ—é. –î–≤–∞ —á–∏—Å–ª–∞, —è–∫—ñ –ª–æ–≥—ñ—á–Ω–æ —î —Ä—ñ–≤–Ω–∏–º–∏, –º–æ–∂—É—Ç—å –º–∞—Ç–∏ —Ç—Ä–æ—Ö–∏ —Ä—ñ–∑–Ω–µ –±—ñ–Ω–∞—Ä–Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è.
>
> –û–¥–Ω–∞–∫, –¥–ª—è —Ü—ñ–ª–µ–π `equals()` —ñ `hashCode()` –∑–∞–∑–≤–∏—á–∞–π –≤–≤–∞–∂–∞—î—Ç—å—Å—è –ø—Ä–∏–π–Ω—è—Ç–Ω–∏–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `==`, —è–∫—â–æ –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏—Å–≤–æ—é—é—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É.
>
> **–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ç–∞ –Ω–∞–¥—ñ–π–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥** –ø–æ–ª—è–≥–∞—î —É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ `Float.compare()` —Ç–∞ `Double.compare()`.
>
> ```java
> return Double.compare(this.value, other.value) == 0;
> ```
>
> **–ß–æ–º—É —Ü–µ –∫—Ä–∞—â–µ?**
>
> * `Double.compare()` –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª—è—î –∑–Ω–∞—á–µ–Ω–Ω—è `NaN` —Ç–∞ `-0.0` —ñ `+0.0`.
>   * –ó–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º `NaN == NaN` –ø–æ–≤–µ—Ä—Ç–∞—î `false`, –∞–ª–µ `Double.compare(NaN, NaN)` –ø–æ–≤–µ—Ä—Ç–∞—î `0`, —â–æ —î –ª–æ–≥—ñ—á–Ω–∏–º –¥–ª—è `equals()`.
>   * `-0.0 == +0.0` –ø–æ–≤–µ—Ä—Ç–∞—î `true`, –∞–ª–µ `Double.compare()` —Ä–æ–∑—Ä—ñ–∑–Ω—è—î —ó—Ö, —â–æ –º–æ–∂–µ –±—É—Ç–∏ –≤–∞–∂–ª–∏–≤–æ –≤ –¥–µ—è–∫–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö (—Ö–æ—á–∞ –∑–∞–∑–≤–∏—á–∞–π –¥–ª—è `equals()` —Ü–µ –Ω–µ —Ç–∞–∫).
>
> –î–ª—è –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è –¥–æ —Ü—ñ–ª–æ–≥–æ —Ç–∏–ø—É –¥–ª—è `hashCode` —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `Double.doubleToLongBits()`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç–µ–π —Ä–æ–±–æ—Ç–∏ –∑ —á–∏—Å–ª–∞–º–∏ –∑ –ø–ª–∞–≤–∞—é—á–æ—é –∫–æ–º–æ—é —Ç–∞ –≤–º—ñ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±–µ–∑–ø–µ—á–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è —ó—Ö –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–ª—é—á–∞—Ç–∏ `transient` –∞–±–æ –æ–±—á–∏—Å–ª—é–≤–∞–Ω—ñ –ø–æ–ª—è —É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É `equals()`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù—ñ, –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ. –õ–æ–≥—ñ–∫–∞ `equals()` –ø–æ–≤–∏–Ω–Ω–∞ –±–∞–∑—É–≤–∞—Ç–∏—Å—è —Ç—ñ–ª—å–∫–∏ –Ω–∞ **–∑–Ω–∞—á—É—â–∏—Ö –ø–æ–ª—è—Ö**, —è–∫—ñ –≤–∏–∑–Ω–∞—á–∞—é—Ç—å —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞.
>
> * **`transient`-–ø–æ–ª—è**: –í–æ–Ω–∏ –∑–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è–º –Ω–µ —î —á–∞—Å—Ç–∏–Ω–æ—é –∑–±–µ—Ä–µ–∂–µ–Ω–æ–≥–æ —Å—Ç–∞–Ω—É –æ–±'—î–∫—Ç–∞. –í–∫–ª—é—á–∞—Ç–∏ —ó—Ö —É `equals()` –±–µ–∑–≥–ª—É–∑–¥–æ, –±–æ –ø—ñ—Å–ª—è –¥–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤–æ–Ω–∏ –±—É–¥—É—Ç—å –º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, —â–æ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –Ω–µ—Ä—ñ–≤–Ω–æ—Å—Ç—ñ –∑ –æ—Ä–∏–≥—ñ–Ω–∞–ª–æ–º.
>
> * **–û–±—á–∏—Å–ª—é–≤–∞–Ω—ñ –ø–æ–ª—è (–∫–µ—à)**: –¶–µ –ø–æ–ª—è, –∑–Ω–∞—á–µ–Ω–Ω—è —è–∫–∏—Ö –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —ñ–Ω—à–∏—Ö –ø–æ–ª—ñ–≤. –Ø–∫—â–æ –≤–∏ –ø–æ—Ä—ñ–≤–Ω—è—î—Ç–µ –æ—Å–Ω–æ–≤–Ω—ñ –ø–æ–ª—è, –∑ —è–∫–∏—Ö –≤–æ–Ω–∏ –æ–±—á–∏—Å–ª—é—é—Ç—å—Å—è, —Ç–æ —Ü—å–æ–≥–æ –±—É–¥–µ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ. –í–∫–ª—é—á–µ–Ω–Ω—è –æ–±—á–∏—Å–ª—é–≤–∞–Ω–∏—Ö –ø–æ–ª—ñ–≤ —î –Ω–∞–¥–ª–∏—à–∫–æ–≤–∏–º —ñ –º–æ–∂–µ —Ç—Ä–æ—Ö–∏ –∑–Ω–∏–∑–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public class Circle {
>     private double radius;
>     private transient double areaCache; // –û–±—á–∏—Å–ª—é–≤–∞–Ω–µ –ø–æ–ª–µ
>
>     // ...
>
>     @Override
>     public boolean equals(Object obj) {
>         // ... –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
>         Circle other = (Circle) obj;
>         // –ü–æ—Ä—ñ–≤–Ω—é—î–º–æ –¢–Ü–õ–¨–ö–ò radius. –ü–æ–ª–µ areaCache —ñ–≥–Ω–æ—Ä—É—î–º–æ.
>         return Double.compare(this.radius, other.radius) == 0;
>     }
> }
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –≤–∏–∑–Ω–∞—á–∞—î "–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–∞–Ω" –æ–±'—î–∫—Ç–∞, —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –≤—ñ–¥–æ–∫—Ä–µ–º–∏—Ç–∏ –∑–Ω–∞—á—É—â—ñ –ø–æ–ª—è –≤—ñ–¥ –¥–æ–ø–æ–º—ñ–∂–Ω–∏—Ö.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —á–æ–º—É –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∞ –∑ `equals`, —è–∫—â–æ –≤ –Ω—å–æ–º—É –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –ø–æ–ª—è, —É—Å–ø–∞–¥–∫–æ–≤–∞–Ω—ñ –≤—ñ–¥ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—É? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ü—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ –≤–∏–Ω–∏–∫–Ω—É—Ç–∏, —è–∫—â–æ —Ä—ñ–∑–Ω—ñ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ü—å–æ–≥–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—É –¥–æ–¥–∞—é—Ç—å –≤–ª–∞—Å–Ω—ñ –∑–Ω–∞—á—É—â—ñ –ø–æ–ª—è, –∞–ª–µ `equals` —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Ç—ñ–ª—å–∫–∏ –≤ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–º—É –∫–ª–∞—Å—ñ.
>
> –ü—Ä–∏–ø—É—Å—Ç–∏–º–æ:
>
> ```java
> abstract class Shape {
>     abstract double area();
>
>     @Override
>     public boolean equals(Object obj) { // –ü–æ—Ä—ñ–≤–Ω—é—î —Ç—ñ–ª—å–∫–∏ –ø–ª–æ—â—É
>         if(this == obj) return true;
>         if(!(obj instanceof Shape)) return false;
>         return area() == ((Shape)obj).area();
>     }
> }
>
> class Circle extends Shape { double radius; /* ... */ }
> class Square extends Shape { double side; /* ... */ }
> ```
>
> `Circle` –∑ —Ä–∞–¥—ñ—É—Å–æ–º 1 —ñ `Square` –∑—ñ —Å—Ç–æ—Ä–æ–Ω–æ—é `sqrt(PI)` –º–∞—Ç–∏–º—É—Ç—å –æ–¥–Ω–∞–∫–æ–≤—É –ø–ª–æ—â—É. –ó —Ç–æ—á–∫–∏ –∑–æ—Ä—É `Shape.equals()`, –≤–æ–Ω–∏ –±—É–¥—É—Ç—å —Ä—ñ–≤–Ω—ñ. –¶–µ –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ —Ç—ñ—î—é –ø–æ–≤–µ–¥—ñ–Ω–∫–æ—é, —è–∫—É –≤–∏ –æ—á—ñ–∫—É—î—Ç–µ.
>
> –¶–µ —Ç–∞–∫–æ–∂ –º–æ–∂–µ –ø–æ—Ä—É—à–∏—Ç–∏ **—Å–∏–º–µ—Ç—Ä–∏—á–Ω—ñ—Å—Ç—å**, —è–∫—â–æ –æ–¥–∏–Ω –∑ –Ω–∞—â–∞–¥–∫—ñ–≤ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∏—Ç—å `equals`, –∞ —ñ–Ω—à–∏–π –Ω—ñ.
>
> **–ù–∞–π–∫—Ä–∞—â–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞:** –Ø–∫—â–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –∫–ª–∞—Å –Ω–µ –º–æ–∂–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –∫—Ä–∏—Ç–µ—Ä—ñ—ó —Ä—ñ–≤–Ω–æ—Å—Ç—ñ, –≤—ñ–Ω –Ω–µ –ø–æ–≤–∏–Ω–µ–Ω —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ `equals()`. –ó–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ –≤—ñ–Ω –º–∞—î –¥–µ–ª–µ–≥—É–≤–∞—Ç–∏ —Ü–µ —Å–≤–æ—ó–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º –ø—ñ–¥–∫–ª–∞—Å–∞–º, –º–æ–∂–ª–∏–≤–æ, –æ–≥–æ–ª–æ—Å–∏–≤—à–∏ —Å–µ–±–µ —è–∫ `abstract public boolean equals(Object obj)`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–í–º—ñ–Ω–Ω—è –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∏ –¥–∏–∑–∞–π–Ω—É, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è–º, —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è, –Ω–∞ —è–∫–æ–º—É —Ä—ñ–≤–Ω—ñ —ñ—î—Ä–∞—Ä—Ö—ñ—ó –¥–æ—Ü—ñ–ª—å–Ω–æ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ —Ç—É —á–∏ —ñ–Ω—à—É –ª–æ–≥—ñ–∫—É.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, –º–∏ –ø–∏—à–µ–º–æ `equals` –¥–ª—è `enum`. –Ø–∫–æ—é –º–∞—î –±—É—Ç–∏ –π–æ–≥–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –∑ –ø—ñ–¥—Å—Ç—É–ø–æ–º. –î–ª—è `enum` **–Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ (—ñ –Ω–µ –º–æ–∂–Ω–∞)** –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—Ç–∏ –º–µ—Ç–æ–¥ `equals()`.
>
> Java –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ `enum` —ñ—Å–Ω—É—î **–ª–∏—à–µ –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä** –≤ –º–µ–∂–∞—Ö –æ–¥–Ω—ñ—î—ó JVM. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ `enum`-–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ —î —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞–º–∏ –∑–∞ —Å–≤–æ—î—é –ø—Ä–∏—Ä–æ–¥–æ—é.
>
> –û—Å–∫—ñ–ª—å–∫–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä –∑–∞–≤–∂–¥–∏ –æ–¥–∏–Ω, –¥–ª—è —ó—Ö –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –¥–æ—Å—Ç–∞—Ç–Ω—å–æ —ñ –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–∞–¥—ñ–π–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä `==`.
>
> –§—ñ–Ω–∞–ª—å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `equals()` –≤ –∫–ª–∞—Å—ñ `java.lang.Enum` (—è–∫–∏–π —î –Ω–µ—è–≤–Ω–∏–º –±–∞—Ç—å–∫–æ–º –¥–ª—è –≤—Å—ñ—Ö `enum`'—ñ–≤) –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫:
>
> ```java
> public final boolean equals(Object other) {
>     return this == other;
> }
> ```
>
> –í–æ–Ω–∞ –æ–≥–æ–ª–æ—à–µ–Ω–∞ —è–∫ `final`, —Ç–æ–º—É –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ —ó—ó –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∏—Ç–∏, –Ω–∞–≤—ñ—Ç—å —è–∫–±–∏ —Ö–æ—Ç—ñ–ª–∏. –¢–µ –∂ —Å–∞–º–µ —Å—Ç–æ—Å—É—î—Ç—å—Å—è `hashCode()` —ñ `clone()`. –¶–µ –∑—Ä–æ–±–ª–µ–Ω–æ –Ω–∞–≤–º–∏—Å–Ω–æ –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –≥–∞—Ä–∞–Ω—Ç—ñ–π —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç–µ–π `enum` —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —á–æ–º—É –¥–µ—è–∫—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è –Ω–∏—Ö –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∞–±–æ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—Ç–∏. –¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≥–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–º —á–∏–Ω–æ–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ç–∏–ø—É Lombok –∞–±–æ "Generate..." –≤ IDE –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å –∑ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—î—é `equals()`, —ñ —è–∫—ñ –≤ —Ü—å–æ–º—É —î —Ä–∏–∑–∏–∫–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–Ø–∫ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å:**
> –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∫–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó (Lombok –∑ –∞–Ω–æ—Ç–∞—Ü—ñ—î—é `@EqualsAndHashCode`, —Ñ—É–Ω–∫—Ü—ñ—è "Generate `equals()` and `hashCode()`" –≤ IntelliJ IDEA / Eclipse) –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—é—Ç—å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é —Ü–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø–æ–ª—ñ–≤ –∫–ª–∞—Å—É.
>
> * **–ü–µ—Ä–µ–≤–∞–≥–∏:** –¶–µ –∑–Ω–∞—á–Ω–æ –∑–º–µ–Ω—à—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥—É, –ø—Ä–∏—Å–∫–æ—Ä—é—î —Ä–æ–∑—Ä–æ–±–∫—É —Ç–∞ –∑–Ω–∏–∂—É—î —Ä–∏–∑–∏–∫ –∑—Ä–æ–±–∏—Ç–∏ –ø–æ–º–∏–ª–∫—É –≤—Ä—É—á–Ω—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞–±—É—Ç–∏ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–µ –ø–æ–ª–µ –≤ `equals`). –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è, —è–∫ –ø—Ä–∞–≤–∏–ª–æ, —î –∫–æ—Ä–µ–∫—Ç–Ω–æ—é —ñ –¥–æ—Ç—Ä–∏–º—É—î—Ç—å—Å—è –≤—Å—ñ—Ö –ø—Ä–∞–≤–∏–ª –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É.
>
> **–Ø–∫—ñ —î —Ä–∏–∑–∏–∫–∏:**
>
> 1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤–∏–±—ñ—Ä –ø–æ–ª—ñ–≤:** –†–æ–∑—Ä–æ–±–Ω–∏–∫ –º–æ–∂–µ –≤–∏–ø–∞–¥–∫–æ–≤–æ –≤–∫–ª—é—á–∏—Ç–∏ —É –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, ID –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, –∫–µ—à–æ–≤–∞–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è) –∞–±–æ, –Ω–∞–≤–ø–∞–∫–∏, –∑–∞–±—É—Ç–∏ –≤–∫–ª—é—á–∏—Ç–∏ –∑–Ω–∞—á—É—â—ñ. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∞—Ü—é—î –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –∑ —É—Å—ñ–º–∞ –ø–æ–ª—è–º–∏.
> 2. **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:** –î–ª—è –∫–ª–∞—Å—ñ–≤ –∑ –≤–µ–ª–∏–∫–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –ø–æ–ª—ñ–≤ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π `equals` –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–º. –Ü–Ω–æ–¥—ñ —î —Å–µ–Ω—Å –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –ø–æ–ª—è –≤ –ø–µ–≤–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É (–≤—ñ–¥ –Ω–∞–π–±—ñ–ª—å—à –π–º–æ–≤—ñ—Ä–Ω–æ —Ä—ñ–∑–Ω–∏—Ö –¥–æ –Ω–∞–π–º–µ–Ω—à).
> 3. **–°–ª—ñ–ø–∞ –¥–æ–≤—ñ—Ä–∞:** –†–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –º–æ–∂—É—Ç—å –ø–µ—Ä–µ—Å—Ç–∞—Ç–∏ –¥—É–º–∞—Ç–∏ –ø—Ä–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç `equals` —ñ –ø—Ä–æ—Å—Ç–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –∞–Ω–æ—Ç–∞—Ü—ñ—é `@EqualsAndHashCode` –¥–æ –≤—Å—å–æ–≥–æ –ø—ñ–¥—Ä—è–¥, –Ω–∞–≤—ñ—Ç—å —Ç–∞–º, –¥–µ –ª–æ–≥—ñ—á–Ω–∞ —Ä—ñ–≤–Ω—ñ—Å—Ç—å –Ω–µ –º–∞—î —Å–µ–Ω—Å—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è `Entity` –∫–ª–∞—Å—ñ–≤ –∑ JPA).
> 4. **–ü—Ä–æ–±–ª–µ–º–∏ –∑ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è–º:** Lombok –Ω–∞–¥–∞—î –æ–ø—Ü—ñ—ó –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø–æ–≤–µ–¥—ñ–Ω–∫–æ—é `equals` –ø—Ä–∏ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—ñ (`callSuper=true`), –∞–ª–µ —è–∫—â–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ –Ω–µ —Ä–æ–∑—É–º—ñ—î, —â–æ –≤—ñ–Ω —Ä–æ–±–∏—Ç—å, —Ü–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ø–æ—Ä—É—à–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —î –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –∫–æ—Ä–∏—Å–Ω–∏–º–∏, –∞–ª–µ –≤–æ–Ω–∏ –Ω–µ –∑–≤—ñ–ª—å–Ω—è—é—Ç—å —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ –≤—ñ–¥ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ —Ä–æ–∑—É–º—ñ—Ç–∏, —â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è "–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º".

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –Ω–µ —Ç—ñ–ª—å–∫–∏ —Ç–µ–æ—Ä—ñ—ó, –∞ –π —Å—É—á–∞—Å–Ω–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ —Ä–æ–∑—Ä–æ–±–∫–∏. –ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –æ—Ü—ñ–Ω—é–≤–∞—Ç–∏ –ø–µ—Ä–µ–≤–∞–≥–∏ —Ç–∞ –Ω–µ–¥–æ–ª—ñ–∫–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£—è–≤—ñ—Ç—å, —â–æ –≤–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –∑ –∫–ª–∞—Å–æ–º, —è–∫–∏–π –Ω–µ –º–æ–∂–µ—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏), —ñ –π–æ–≥–æ `equals()` —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ. –Ø–∫ –º–æ–∂–Ω–∞ –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ –æ–±'—î–∫—Ç–∏ —Ü—å–æ–≥–æ –∫–ª–∞—Å—É –≤ `HashSet`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ —Å–∫–ª–∞–¥–Ω–∞, –∞–ª–µ —Ä–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞. –Ø–∫—â–æ –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –∫–ª–∞—Å, –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤–ª–∞—Å–Ω—É –ª–æ–≥—ñ–∫—É –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ç–∞ "–æ–±–≥–æ—Ä–Ω—É—Ç–∏" –æ–±'—î–∫—Ç–∏.
>
> **–†—ñ—à–µ–Ω–Ω—è ‚Äî –ø–∞—Ç–µ—Ä–Ω "–û–±–≥–æ—Ä—Ç–∫–∞" (Wrapper):**
>
> 1. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–æ–≤–∏–π –∫–ª–∞—Å-–æ–±–≥–æ—Ä—Ç–∫–∞, —è–∫–∏–π –±—É–¥–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –∫–ª–∞—Å—É.
>
>     ```java
>     public class ThirdPartyClassWrapper {
>         private final ThirdPartyClass instance;
>
>         public ThirdPartyClassWrapper(ThirdPartyClass instance) {
>             this.instance = instance;
>         }
>
>         public ThirdPartyClass getInstance() {
>             return instance;
>         }
>
>         // ... —Ç—É—Ç –±—É–¥—É—Ç—å equals —Ç–∞ hashCode
>     }
>     ```
>
> 2. –£ —Ü—å–æ–º—É –∫–ª–∞—Å—ñ-–æ–±–≥–æ—Ä—Ç—Ü—ñ **–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—é—Ç—å—Å—è `equals()` —Ç–∞ `hashCode()`**. –õ–æ–≥—ñ–∫–∞ —Ü–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –±—É–¥–µ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –ø–æ–ª—ñ–≤ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ —á–µ—Ä–µ–∑ –≥–µ—Ç—Ç–µ—Ä–∏ (`instance.getSomeField()`) —ñ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è.
>
>     ```java
>     @Override
>     public boolean equals(Object obj) {
>         // –ü—Ä–∞–≤–∏–ª—å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è...
>         // –ø–æ—Ä—ñ–≤–Ω—é—î–º–æ this.instance —Ç–∞ other.instance –∑–∞ –ø–æ—Ç—Ä—ñ–±–Ω–∏–º–∏ –ø–æ–ª—è–º–∏
>     }
>
>     @Override
>     public int hashCode() {
>         // –ü—Ä–∞–≤–∏–ª—å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è...
>     }
>     ```
>
> 3. –ó–∞–º—ñ—Å—Ç—å `HashSet<ThirdPartyClass>` —Ç–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è **`HashSet<ThirdPartyClassWrapper>`**. –í–∏ –æ–±–≥–æ—Ä—Ç–∞—î—Ç–µ –∫–æ–∂–µ–Ω –æ–±'—î–∫—Ç –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –∫–ª–∞—Å—É —É —Å–≤—ñ–π wrapper –ø–µ—Ä–µ–¥ –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º —É –º–Ω–æ–∂–∏–Ω—É.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, –≤–∏ "–Ω–∞–≤'—è–∑—É—î—Ç–µ" —Å–≤–æ—é –ª–æ–≥—ñ–∫—É —Ä—ñ–≤–Ω–æ—Å—Ç—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –≤–∏—Ö—ñ–¥–Ω–∏–π –∫–ª–∞—Å.
>
> –¶–µ —á–∏—Å—Ç–µ —Ç–∞ –≥–Ω—É—á–∫–µ —Ä—ñ—à–µ–Ω–Ω—è, —è–∫–µ —ñ–∑–æ–ª—é—î "–ø—Ä–æ–±–ª–µ–º—É" —ñ –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–º —Å—Ç–æ—Ä–æ–Ω–Ω—ñ–º –∫–æ–¥–æ–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –≤–∏—Ä—ñ—à—É–≤–∞—Ç–∏ –Ω–µ—Ç—Ä–∏–≤—ñ–∞–ª—å–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø–∞—Ç–µ—Ä–Ω—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è. –í–º—ñ–Ω–Ω—è –¥—É–º–∞—Ç–∏ "–Ω–∞–≤–∫–æ–ª–æ" –ø—Ä–æ–±–ª–µ–º–∏, –∫–æ–ª–∏ –ø—Ä—è–º–µ —ó—ó –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –Ω–µ–º–æ–∂–ª–∏–≤–µ. –¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≤–∏—Å–æ–∫–∏–π —Ä—ñ–≤–µ–Ω—å —ñ–Ω–∂–µ–Ω–µ—Ä–Ω–æ–≥–æ –º–∏—Å–ª–µ–Ω–Ω—è.*
