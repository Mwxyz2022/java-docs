---
layout: default
title: "–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—é (clone() considered harmful)"
parent: "`equals()`, `hashCode()`, `clone()`"
grand_parent: "Java Core"
nav_order: 8
---

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—é (clone() considered harmful)

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –ú–µ—Ç–æ–¥ `clone()` –º–∞—î –±–∞–≥–∞—Ç–æ –Ω–µ–¥–æ–ª—ñ–∫—ñ–≤ (—Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó, —Ä–∏–∑–∏–∫–∏ `shallow copy`, `CloneNotSupportedException`). –ö—Ä–∞—â–∏–º–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏ –¥–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ –≤–≤–∞–∂–∞—é—Ç—å—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è, –º–µ—Ç–æ–¥–∏ `copy()` –∞–±–æ `Builder Pattern`.

* –ø–æ–Ω—è—Ç—Ç—è: –ê–Ω—Ç–∏–ø–∞—Ç–µ—Ä–Ω `clone()`, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è, `copy()` –º–µ—Ç–æ–¥, Builder pattern.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `new User(otherUser);` (–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è), `user.copy();` (–º–µ—Ç–æ–¥ `copy()`), `new User.Builder().from(user).build();` (Builder pattern).

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ –Ω–∞–¥–∞—é—Ç—å –±—ñ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—é, –∫—Ä–∞—â—É —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ –±–µ–∑–ø–µ–∫—É.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ß–æ–º—É `clone()` –ø–æ–≥–∞–Ω–∏–π, —è–∫—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ —ñ –∫–æ–ª–∏ —ó—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

–ú–µ—Ç–æ–¥ **`clone()`** —á–∞—Å—Ç–æ –≤–≤–∞–∂–∞—î—Ç—å—Å—è **–∞–Ω—Ç–∏–ø–∞—Ç–µ—Ä–Ω–æ–º** (–Ω–µ–¥–æ–±—Ä–æ—é –ø—Ä–∞–∫—Ç–∏–∫–æ—é), –±–æ –º–∞—î –±–∞–≥–∞—Ç–æ –ø—ñ–¥–≤–æ–¥–Ω–∏—Ö –∫–∞–º–µ–Ω—ñ–≤: –≤—ñ–¥ –Ω–µ–∑—Ä—É—á–Ω–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥–æ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –≥–ª–∏–±–æ–∫–æ—ó –∫–æ–ø—ñ—ó. –ó–∞–º—ñ—Å—Ç—å –Ω—å–æ–≥–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **–±—ñ–ª—å—à –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω—ñ —Ç–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏**: –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è, –º–µ—Ç–æ–¥–∏ **`copy()`**, —à–∞–±–ª–æ–Ω Builder.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¢–∞–∫, **`clone()`** ‚Äî –∑—Ä—É—á–Ω–æ, –∞–ª–µ —è–∫ –±–æ–º–±–∞ –∑ –ø–æ–≤—ñ–ª—å–Ω–æ—é –¥—ñ—î—é. –í—ñ–Ω —Å–∫–ª–∞–¥–Ω–∏–π, –Ω–µ–æ—á–µ–≤–∏–¥–Ω–∏–π, –ª–µ–≥–∫–æ –∑–ª–∞–º–∞—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç **`equals()/hashCode()`**, –∑—Ä–æ–±–∏—Ç–∏ –Ω–µ —Ç—É –∫–æ–ø—ñ—é, —á–∏ –∑–ª–æ–≤–∏—Ç–∏ **`CloneNotSupportedException`**. –£ —Å—É—á–∞—Å–Ω–æ–º—É Java-–∫–æ–¥—ñ —á–∞—Å—Ç–æ –∫–∞–∂—É—Ç—å: **"–ù–µ –∫–ª–æ–Ω—É–π ‚Äî –∫–æ–ø—ñ—é–π –Ω–æ—Ä–º–∞–ª—å–Ω–æ"**.

---

## **üìä –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ **`clone()`**:**

| –ü—ñ–¥—Ö—ñ–¥ | –ü–æ—è—Å–Ω–µ–Ω–Ω—è |
| ----- | ----- |
| –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è | –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ø—ñ—ó —á–µ—Ä–µ–∑ –∑–≤–∏—á–∞–π–Ω–∏–π **`new`**, –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ |
| –ú–µ—Ç–æ–¥ **`copy()`** | –ú–µ—Ç–æ–¥, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç —ñ–∑ –∫–æ–ø—ñ–π–æ–≤–∞–Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ |
| **`Builder pattern`** | –ü–æ–±—É–¥–æ–≤–∞ –Ω–æ–≤–æ–≥–æ –æ–±'—î–∫—Ç–∞ –∑ –≤–∏–±—ñ—Ä–∫–æ–≤–∏–º–∏/–≤—Å—ñ–º–∞ –ø–æ–ª—è–º–∏ |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

* **`clone()`** ‚Äî —Ü–µ —è–∫ —Å—Ç–∞—Ä–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —è–∫–∏–π —â–µ –ø—Ä–∞—Ü—é—î, –∞–ª–µ –∫—Ä–∞—â–µ –π–æ–≥–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏.
* –í—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **`super.clone()`**, –∫–∏–¥–∞—î –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–∏–π –≤–∏–Ω—è—Ç–æ–∫, —ñ **–Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –≥–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è** –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º.
* –ù–∞—Ç–æ–º—ñ—Å—Ç—å:  
  üîπ **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è** –¥–∞—î –ø–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å  
  üîπ **–ú–µ—Ç–æ–¥ `copy()`** –¥–æ–∑–≤–æ–ª—è—î –ª–µ–≥–∫–æ –¥—É–±–ª—é–≤–∞—Ç–∏ –æ–±‚Äô—î–∫—Ç  
  üîπ **`Builder pattern`** –¥–∞—î –≥–Ω—É—á–∫—ñ—Å—Ç—å —ñ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –ø—Ä–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—ñ —Å–∫–ª–∞–¥–Ω–∏—Ö –æ–±‚Äô—î–∫—Ç—ñ–≤

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

‚úÖ **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è**:

```java
public class User {
    private String name;
    private int age;

    public User(User other) {
        this.name = other.name;
        this.age = other.age;
    }
}
```

‚úÖ **–ú–µ—Ç–æ–¥ `copy()`**:

```java
public User copy() {
    return new User(this.name, this.age);
}
```

‚úÖ **`Builder Pattern:`**

```java
public class User {
    private final String name;
    private final int age;

    private User(Builder builder) {
        this.name = builder.name;
        this.age = builder.age;
    }

    public static class Builder {
        private String name;
        private int age;

        public Builder from(User user) {
            this.name = user.name;
            this.age = user.age;
            return this;
        }

        public Builder name(String name) { this.name = name; return this; }
        public Builder age(int age) { this.age = age; return this; }

        public User build() {
            return new User(this);
        }
    }
}
```

üß™ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:

```java
User copy = new User.Builder().from(original).build();
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ü—ñ–¥—Ö—ñ–¥ | –ì–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è | –õ–µ–≥–∫–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ | –ö–∏–¥–∞—î –≤–∏–Ω—è—Ç–∫–∏ | –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ |
| :---: | :---: | :---: | :---: | :---: |
| **`clone()`** | ‚ùå (—Ä—É—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è) | ‚ùå | ‚úÖ | ‚ùå |
| **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è** | ‚úÖ | ‚úÖ | ‚ùå | ‚úÖ |
| **–ú–µ—Ç–æ–¥** **`copy()`** | ‚úÖ | ‚úÖ | ‚ùå | ‚úÖ |
| **`Builder pattern`** | ‚úÖ | ‚úÖ | ‚ùå | ‚úÖ (–æ—Å–æ–±–ª–∏–≤–æ –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –æ–±‚Äô—î–∫—Ç—ñ–≤) |

---

## **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –ß–æ–º—É –Ω–µ –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `clone()`?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–ë–æ –≤—ñ–Ω:

* –ü–æ—Ç—Ä–µ–±—É—î **`Cloneable`**
* –õ–µ–≥–∫–æ –∑—Ä–æ–±–∏—Ç–∏ –ø–æ–º–∏–ª–∫—É –∑ **`shallow copy`**
* –ü–æ—Ä—É—à—É—î –ø—Ä–∏–Ω—Ü–∏–ø–∏ OOP (–ø—Ä–∞—Ü—é—î —á–µ—Ä–µ–∑ **`Object`**)
* –ö–∏–¥–∞—î **`CloneNotSupportedException`**

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –ö–æ–ª–∏ –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Builder –¥–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–ö–æ–ª–∏ –∫–ª–∞—Å –º–∞—î –±–∞–≥–∞—Ç–æ –ø–æ–ª—ñ–≤ –∞–±–æ –≤–∫–ª–∞–¥–µ–Ω–∏—Ö –æ–±‚Äô—î–∫—Ç—ñ–≤, –∞–±–æ –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ —á–∞—Å—Ç–∫–æ–≤–æ ‚Äî **`Builder`** –¥–∞—î –≥–Ω—É—á–∫—ñ—Å—Ç—å —ñ —á–∏—Å—Ç–∏–π –∫–æ–¥.

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

üîÅ **C-C-B** \= **Copy Constructor, Copy Method, Builder**

üìõ –ê **`clone()`** ‚Äî **Caution: Legacy Object Nonsense Experience**
---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

–•–æ—á–∞ –º–µ—Ç–æ–¥ **`clone()`** –≤—Å–µ —â–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è, —Å—É—á–∞—Å–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î **—É–Ω–∏–∫–∞—Ç–∏ –π–æ–≥–æ**. –í—ñ–Ω —Å–∫–ª–∞–¥–Ω–∏–π —É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó, —Ä–∏–∑–∏–∫–æ–≤–∞–Ω–∏–π –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è. **–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏** ‚Äî —Ü–µ –∫–æ–ø—ñ—é–≤–∞–ª—å–Ω—ñ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏, –º–µ—Ç–æ–¥–∏ **`copy()`** —Ç–∞ —à–∞–±–ª–æ–Ω **`Builder`**, —è–∫—ñ —î –ø—Ä–æ—Å—Ç—ñ—à–∏–º–∏, –±–µ–∑–ø–µ—á–Ω—ñ—à–∏–º–∏ —ñ –±—ñ–ª—å—à –≥–Ω—É—á–∫–∏–º–∏ –¥–ª—è —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Effective Java ‚Äî Item 13: Prefer alternatives to clone()**](https://stackoverflow.com/questions/31885/why-is-the-clone-method-evil)
