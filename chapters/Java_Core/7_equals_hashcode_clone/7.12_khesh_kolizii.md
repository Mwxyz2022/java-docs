---
layout: default
title: "–•–µ—à-–∫–æ–ª—ñ–∑—ñ—ó"
parent: "`equals()`, `hashCode()`, `clone()`"
grand_parent: "Java Core"
nav_order: 12
---

# –•–µ—à-–∫–æ–ª—ñ–∑—ñ—ó

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –•–µ—à-–∫–æ–ª—ñ–∑—ñ—è ‚Äì —Ü–µ —Å–∏—Ç—É–∞—Ü—ñ—è, –∫–æ–ª–∏ –¥–≤–∞ —Ä—ñ–∑–Ω—ñ –æ–±'—î–∫—Ç–∏ –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π `hashCode()`. –£ —Ö–µ—à-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö (`HashMap`, `HashSet`) —Ü–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–æ–Ω–∏ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å –≤ –æ–¥–∏–Ω –±–∞–∫–µ—Ç, —ñ –¥–ª—è —ó—Ö —Ä–æ–∑—Ä—ñ–∑–Ω–µ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `equals()`.

* –ø–æ–Ω—è—Ç—Ç—è: –•–µ—à-–∫–æ–ª—ñ–∑—ñ—è, `HashMap`, `HashSet`, "–≤—ñ–¥—Ä–æ" (bucket), –∑–≤'—è–∑–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫, —á–µ—Ä–≤–æ–Ω–æ-—á–æ—Ä–Ω–µ –¥–µ—Ä–µ–≤–æ.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `key1.hashCode() == key2.hashCode()` –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö `key1` —Ç–∞ `key2`.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ö–æ–ª—ñ–∑—ñ—ó –¥–æ–ø—É—Å—Ç–∏–º—ñ, –∞–ª–µ —ó—Ö –≤–µ–ª–∏–∫–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–Ω–∏–∂—É—î –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å (O(1) –º–æ–∂–µ –¥–µ–≥—Ä–∞–¥—É–≤–∞—Ç–∏ –¥–æ O(N)). `HashMap` –≤–∏—Ä—ñ—à—É—î —ó—Ö –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∑–≤'—è–∑–∞–Ω–∏—Ö —Å–ø–∏—Å–∫—ñ–≤ –∞–±–æ —á–µ—Ä–≤–æ–Ω–æ-—á–æ—Ä–Ω–∏—Ö –¥–µ—Ä–µ–≤ (–∑ Java 8+).

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –©–æ —Ü–µ, —è–∫ –≤–∏—Ä—ñ—à—É—é—Ç—å—Å—è –≤ `HashMap` (—Å–ø–∏—Å–æ–∫/–¥–µ—Ä–µ–≤–æ), —è–∫ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**–•–µ—à-–∫–æ–ª—ñ–∑—ñ—è** ‚Äî —Ü–µ —Å–∏—Ç—É–∞—Ü—ñ—è, –∫–æ–ª–∏ **–¥–≤–∞ —Ä—ñ–∑–Ω—ñ –æ–±‚Äô—î–∫—Ç–∏** –º–∞—é—Ç—å **–æ–¥–Ω–∞–∫–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è `hashCode()`**. –£ —Ö–µ—à-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö, —Ç–∞–∫–∏—Ö —è–∫ **`HashMap`** —á–∏ **`HashSet`**, —Ü–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –æ–±–∏–¥–≤–∞ –æ–±‚Äô—î–∫—Ç–∏ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å –≤ –æ–¥–Ω–µ –π —Ç–µ —Å–∞–º–µ "**`–≤—ñ–¥—Ä–æ`**", —ñ —Ç–æ–¥—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –º–µ—Ç–æ–¥ **`equals()`** –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¶–µ —è–∫ –∫–æ–ª–∏ –¥–≤–æ—î —Ä—ñ–∑–Ω–∏—Ö –ª—é–¥–µ–π –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π –ø–æ—à—Ç–æ–≤–∏–π —ñ–Ω–¥–µ–∫—Å. –í–æ–Ω–∏ –ø–æ—Ç—Ä–∞–ø–∏–ª–∏ –≤ –æ–¥–Ω—É –∫–æ—Ä–æ–±–∫—É, —ñ –ø–æ—à—Ç–∞—Ä—é —Ç—Ä–µ–±–∞ –ø–æ–¥–∏–≤–∏—Ç–∏—Å—è —â–µ –Ω–∞ —ñ–º º—è (**`equals`**), —â–æ–± —Ä–æ–∑—ñ–±—Ä–∞—Ç–∏—Å—è ‚Äî —Ö—Ç–æ —î —Ö—Ç–æ.

---

## **üìä –¢–∏–ø–∏ –æ–±'—î–∫—Ç—ñ–≤, —è–∫—ñ –º–æ–∂—É—Ç—å —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–ª—ñ–∑—ñ—é:**

| –¢–∏–ø | –û–ø–∏—Å |
| :---: | :---: |
| –†—ñ–∑–Ω—ñ –æ–±'—î–∫—Ç–∏ | –ê–ª–µ –∑ –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏ **`hashCode()`** ‚Äî **–∫–æ–ª—ñ–∑—ñ—è** |
| –û–¥–Ω–∞–∫–æ–≤—ñ –æ–±'—î–∫—Ç–∏ | –û–¥–Ω–∞–∫–æ–≤–∏–π —Ö–µ—à ‚Äî **—Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —ñ –±–∞–∂–∞–Ω–æ** |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

* **`hashCode()`** ‚Äî —Ü–µ **–∞–¥—Ä–µ—Å–∞** —É —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ñ. –Ø–∫—â–æ –≤–æ–Ω–∞ –æ–¥–Ω–∞–∫–æ–≤–∞ –¥–ª—è –∫—ñ–ª—å–∫–æ—Ö –æ–± º—î–∫—Ç—ñ–≤ ‚Äî –≤–∏–Ω–∏–∫–∞—î –∫–æ–ª—ñ–∑—ñ—è.
* Java –∑ —Ü–∏–º **–≤–º—ñ—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏** ‚Äî –≤ –æ–¥–Ω–æ–º—É –≤—ñ–¥—Ä—ñ –∑–±–µ—Ä—ñ–≥–∞—î —Å–ø–∏—Å–æ–∫ –æ–± º—î–∫—Ç—ñ–≤ —ñ –¥–æ–¥–∞—Ç–∫–æ–≤–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î —á–µ—Ä–µ–∑ **`equals()`**.
* –ê–ª–µ **—è–∫—â–æ —Ç–∞–∫–∏—Ö –∫–æ–ª—ñ–∑—ñ–π –±–∞–≥–∞—Ç–æ** ‚Äî –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø–∞–¥–∞—î: –∑–∞–º—ñ—Å—Ç—å O(1) —Å—Ç–∞—î O(n).
* –¢–æ–º—É –≤–∞–∂–ª–∏–≤–æ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ **`hashCode()`** —Ç–∞–∫, —â–æ–± –∑–Ω–∞—á–µ–Ω–Ω—è **–¥–æ–±—Ä–µ —Ä–æ–∑–ø–æ–¥—ñ–ª—è–ª–∏—Å—è**.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
public class BadHash {
    private String name;

    @Override
    public int hashCode() {
        return 42;  // –í–°–Ü –æ–± º—î–∫—Ç–∏ –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π —Ö–µ—à!
    }

    @Override
    public boolean equals(Object obj) {
        return obj instanceof BadHash && Objects.equals(name, ((BadHash)obj).name);
    }
}
```

üß™ –ù–∞—Å–ª—ñ–¥–∫–∏:

```java
Set<BadHash> set = new HashSet<>();
set.add(new BadHash("one"));
set.add(new BadHash("two"));
set.add(new BadHash("three"));
```

üîª –í—Å—ñ –ø–æ—Ç—Ä–∞–ø–ª—è—Ç—å –≤ –æ–¥–Ω–µ –≤—ñ–¥—Ä–æ -> HashSet –ø—Ä–∞—Ü—é—î —è–∫ –∑–≤–∏—á–∞–π–Ω–∏–π —Å–ø–∏—Å–æ–∫ -> –ø–æ–≥—ñ—Ä—à–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –°–∏—Ç—É–∞—Ü—ñ—è | –†–µ–∑—É–ª—å—Ç–∞—Ç |
| ----- | ----- |
| –†—ñ–∑–Ω—ñ –æ–± º—î–∫—Ç–∏, —Ä—ñ–∑–Ω—ñ —Ö–µ—à—ñ | ‚úÖ –®–≤–∏–¥–∫–∏–π –¥–æ—Å—Ç—É–ø |
| –†—ñ–∑–Ω—ñ –æ–± º—î–∫—Ç–∏, –æ–¥–Ω–∞–∫–æ–≤–∏–π —Ö–µ—à | ‚ùå –ö–æ–ª—ñ–∑—ñ—è -> –ø–æ—Ç—Ä–µ–±–∞ –≤ **`equals()`** |
| –û–¥–Ω–∞–∫–æ–≤—ñ –æ–± º—î–∫—Ç–∏, —Ä—ñ–∑–Ω—ñ —Ö–µ—à—ñ | ‚ùå –ü–æ—Ä—É—à–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É -> –ø–æ–º–∏–ª–∫–∏ –≤ **`HashMap`** |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

üî¢ **`HashCode ‚â† ID`**

ü§ù **`HashCode -> —Ç—ñ–ª—å–∫–∏ ‚Äú–≤ —è–∫–µ –≤—ñ–¥—Ä–æ‚Äù`**

üîé **`equals() -> ‚Äú—á–∏ —Ü–µ —Å–∞–º–µ —Ç–æ–π?‚Äù`**

üéØ –ö–æ–ª—ñ–∑—ñ—ó ‚Äî **OK**, –∞–ª–µ **–º–µ–Ω—à–µ \= –∫—Ä–∞—â–µ**

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

**–•–µ—à-–∫–æ–ª—ñ–∑—ñ—è** ‚Äî —Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–µ —è–≤–∏—â–µ –≤ Java, –∫–æ–ª–∏ –¥–≤–∞ –æ–±‚Äô—î–∫—Ç–∏ –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π **`hashCode()`**. –ê–ª–µ —è–∫—â–æ —ó—Ö –±–∞–≥–∞—Ç–æ ‚Äî –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Å–∏–ª—å–Ω–æ –ø–∞–¥–∞—î. –¢–æ–º—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è **`hashCode()`** –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ —è–∫—ñ—Å–Ω–æ—é: –≤–∫–ª—é—á–∞—Ç–∏ –≤—Å—ñ –≤–∞–∂–ª–∏–≤—ñ –ø–æ–ª—è, –º–∞—Ç–∏ —Ö–æ—Ä–æ—à–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª –∑–Ω–∞—á–µ–Ω—å —ñ –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –∑ **`equals()`**.

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ —Ö–µ—à-–∫–æ–ª—ñ–∑—ñ—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ Java?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–•–µ—à-–∫–æ–ª—ñ–∑—ñ—è** ‚Äî —Ü–µ —Å–∏—Ç—É–∞—Ü—ñ—è, –∫–æ–ª–∏ –¥–≤–∞ **—Ä—ñ–∑–Ω–∏—Ö** (–Ω–µ—Ä—ñ–≤–Ω–∏—Ö –∑–∞ `equals()`) –æ–±'—î–∫—Ç–∏ –º–∞—é—Ç—å **–æ–¥–Ω–∞–∫–æ–≤–µ** –∑–Ω–∞—á–µ–Ω–Ω—è `hashCode()`.
>
> `if (!obj1.equals(obj2) && obj1.hashCode() == obj2.hashCode()) { // –¶–µ –∫–æ–ª—ñ–∑—ñ—è }`
>
> –û—Å–∫—ñ–ª—å–∫–∏ –º–µ—Ç–æ–¥ `hashCode()` –ø–æ–≤–µ—Ä—Ç–∞—î `int`, —è–∫–∏–π –º–∞—î –æ–±–º–µ–∂–µ–Ω–∏–π –¥—ñ–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω—å (–±–ª–∏–∑—å–∫–æ 4 –º—ñ–ª—å—è—Ä–¥—ñ–≤), –∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –º–æ–∂–ª–∏–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ —É –ø—Ä–æ–≥—Ä–∞–º—ñ —î –ø—Ä–∞–∫—Ç–∏—á–Ω–æ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ—é, –∫–æ–ª—ñ–∑—ñ—ó —î **–Ω–µ–º–∏–Ω—É—á–∏–º —ñ –Ω–æ—Ä–º–∞–ª—å–Ω–∏–º —è–≤–∏—â–µ–º** (–∑–≥—ñ–¥–Ω–æ –∑ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º –î—ñ—Ä—ñ—Ö–ª–µ).
>
> –•–µ—à-—Å—Ç—Ä—É–∫—Ç—É—Ä–∏, —Ç–∞–∫—ñ —è–∫ `HashMap` —Ç–∞ `HashSet`, —Ä–æ–∑—Ä–æ–±–ª–µ–Ω—ñ –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –∫–æ–ª—ñ–∑—ñ–π —ñ –º–∞—é—Ç—å –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –¥–ª—è —ó—Ö –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–£—è–≤—ñ—Ç—å, —â–æ —Ö–µ—à-–∫–æ–¥ ‚Äî —Ü–µ –¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –ª—é–¥–∏–Ω–∏ (–±–µ–∑ —Ä–æ–∫—É). –ö–æ–ª—ñ–∑—ñ—è ‚Äî —Ü–µ –∫–æ–ª–∏ —É –¥–≤–æ—Ö —Ä—ñ–∑–Ω–∏—Ö –ª—é–¥–µ–π –¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –ø—Ä–∏–ø–∞–¥–∞—î –Ω–∞ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –¥–µ–Ω—å. –¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —ñ —Ç—Ä–∞–ø–ª—è—î—Ç—å—Å—è —á–∞—Å—Ç–æ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –∫–æ–ª—ñ–∑—ñ—è ‚Äî —Ü–µ –Ω–µ –ø–æ–º–∏–ª–∫–∞, –∞ –æ—á—ñ–∫—É–≤–∞–Ω–∞ —Å–∏—Ç—É–∞—Ü—ñ—è, –¥–ª—è —è–∫–æ—ó —Ö–µ—à-—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –º–∞—é—Ç—å –±—É—Ç–∏ –ø—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ñ.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `HashMap` –≤–∏—Ä—ñ—à—É—î –ø—Ä–æ–±–ª–µ–º—É —Ö–µ—à-–∫–æ–ª—ñ–∑—ñ–π?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `HashMap` –≤–∏—Ä—ñ—à—É—î –∫–æ–ª—ñ–∑—ñ—ó, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ –∫—ñ–ª—å–∫–∞ –∑–∞–ø–∏—Å—ñ–≤ –∑ –æ–¥–Ω–∞–∫–æ–≤–∏–º —Ö–µ—à-–∫–æ–¥–æ–º –≤ –æ–¥–Ω–æ–º—É –π —Ç–æ–º—É –∂ "–∫–æ—à–∏–∫—É" (bucket). –í–Ω—É—Ç—Ä—ñ—à–Ω—å–æ `HashMap` —î –º–∞—Å–∏–≤–æ–º —Ç–∞–∫–∏—Ö –∫–æ—à–∏–∫—ñ–≤.
>
> –ö–æ–ª–∏ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∫–æ–ª—ñ–∑—ñ—è (–∫—ñ–ª—å–∫–∞ –æ–±'—î–∫—Ç—ñ–≤ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å –≤ –æ–¥–∏–Ω –∫–æ—à–∏–∫), `HashMap` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –Ω–∞—Å—Ç—É–ø–Ω—É —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é:
>
> 1. **–î–æ Java 8:** –ö–æ–∂–µ–Ω –∫–æ—à–∏–∫ –±—É–≤ –ø—Ä–æ—Å—Ç–æ **–∑–≤'—è–∑–∞–Ω–∏–º —Å–ø–∏—Å–∫–æ–º (LinkedList)**. –ù–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç –¥–æ–¥–∞–≤–∞–≤—Å—è –≤ –∫—ñ–Ω–µ—Ü—å —Å–ø–∏—Å–∫—É.
>
> 2. **–ü–æ—á–∏–Ω–∞—é—á–∏ –∑ Java 8:** –°—Ç—Ä–∞—Ç–µ–≥—ñ—è —Å—Ç–∞–ª–∞ –±—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω–æ—é –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –ø—Ä–∏ –≤–µ–ª–∏–∫—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∫–æ–ª—ñ–∑—ñ–π:
>     * –°–ø–æ—á–∞—Ç–∫—É –∫–æ—à–∏–∫ –ø—Ä–∞—Ü—é—î —è–∫ **–∑–≤'—è–∑–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫**.
>     * –Ø–∫—â–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —É —Ü—å–æ–º—É —Å–ø–∏—Å–∫—É –¥–æ—Å—è–≥–∞—î –ø–µ–≤–Ω–æ–≥–æ –ø–æ—Ä–æ–≥—É (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º `TREEIFY_THRESHOLD` = 8), –∑–≤'—è–∑–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫ **–ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–µ —á–µ—Ä–≤–æ–Ω–æ-—á–æ—Ä–Ω–µ –¥–µ—Ä–µ–≤–æ**.
>
> –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞–π—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç, `HashMap` —Å–ø–æ—á–∞—Ç–∫—É –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –∫–æ—à–∏–∫ –∑–∞ `hashCode`, –∞ –ø–æ—Ç—ñ–º –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –ø–µ—Ä–µ–±–∏—Ä–∞—î –µ–ª–µ–º–µ–Ω—Ç–∏ —É —Å–ø–∏—Å–∫—É/–¥–µ—Ä–µ–≤—ñ, –≤–∏–∫–ª–∏–∫–∞—é—á–∏ `equals()` –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ, —â–æ–± –∑–Ω–∞–π—Ç–∏ —Ç–æ—á–Ω–∏–π –∑–±—ñ–≥.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**</h4>

–ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–∞ –¥–µ—Ä–µ–≤–æ –≤ Java 8 ‚Äî —Ü–µ –≤–∞–∂–ª–∏–≤–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è. –í–æ–Ω–∞ –∑–º—ñ–Ω—é—î –∞—Å–∏–º–ø—Ç–æ—Ç–∏—á–Ω—É —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –ø–æ—à—É–∫—É –≤ –Ω–∞–π–≥—ñ—Ä—à–æ–º—É –≤–∏–ø–∞–¥–∫—É (–∫–æ–ª–∏ –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –≤ –æ–¥–Ω–æ–º—É –∫–æ—à–∏–∫—É) –∑ **O(n)** –Ω–∞ **O(log n)**.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó `HashMap`, –≤–∫–ª—é—á–∞—é—á–∏ –º–µ—Ö–∞–Ω—ñ–∑–º –æ–±—Ä–æ–±–∫–∏ –∫–æ–ª—ñ–∑—ñ–π —Ç–∞ –µ–≤–æ–ª—é—Ü—ñ—é —Ü—å–æ–≥–æ –º–µ—Ö–∞–Ω—ñ–∑–º—É –≤ Java 8.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –≤–µ–ª–∏–∫–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–ª—ñ–∑—ñ–π –≤–ø–ª–∏–≤–∞—î –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å `HashMap` —Ç–∞ `HashSet`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í–µ–ª–∏–∫–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–ª—ñ–∑—ñ–π **–∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ñ—á–Ω–æ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å**, –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—é—á–∏ —Ö–µ—à-—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –∑ –¥—É–∂–µ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏—Ö –Ω–∞ –¥—É–∂–µ –ø–æ–≤—ñ–ª—å–Ω—ñ.
>
> * **–Ü–¥–µ–∞–ª—å–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫ (–º–∞–ª–æ –∫–æ–ª—ñ–∑—ñ–π):**
>     –û–ø–µ—Ä–∞—Ü—ñ—ó `put`, `get`, `remove` –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –≤ —Å–µ—Ä–µ–¥–Ω—å–æ–º—É –∑–∞ **O(1)** (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∏–π —á–∞—Å). `HashMap` —à–≤–∏–¥–∫–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –∫–æ—à–∏–∫, –¥–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –æ–¥–∏–Ω, –º–∞–∫—Å–∏–º—É–º –¥–≤–∞ –µ–ª–µ–º–µ–Ω—Ç–∏.
>
> * **–ù–∞–π–≥—ñ—Ä—à–∏–π –≤–∏–ø–∞–¥–æ–∫ (–±–∞–≥–∞—Ç–æ –∫–æ–ª—ñ–∑—ñ–π):**
>     –Ø–∫—â–æ `hashCode()` —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –ø–æ–≥–∞–Ω–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞–≤–∂–¥–∏ –ø–æ–≤–µ—Ä—Ç–∞—î —Ç–µ —Å–∞–º–µ —á–∏—Å–ª–æ), –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –ø–æ—Ç—Ä–∞–ø–ª—è—Ç—å –≤ –æ–¥–∏–Ω –∫–æ—à–∏–∫.
>   * –î–æ Java 8: `HashMap` –≤–∏—Ä–æ–¥–∂—É—î—Ç—å—Å—è —É **–∑–≤'—è–∑–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫**, —ñ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ–π —Å—Ç–∞—î **O(n)**, –¥–µ `n` ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —É –º–∞–ø—ñ.
>   * –ó Java 8: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ **–¥–µ—Ä–µ–≤–æ**, —ñ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å—Ç–∞—î **O(log n)**. –¶–µ –∫—Ä–∞—â–µ –∑–∞ O(n), –∞–ª–µ –∑–Ω–∞—á–Ω–æ –≥—ñ—Ä—à–µ –∑–∞ O(1).
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** –•–æ—á–∞ –∫–æ–ª—ñ–∑—ñ—ó —î –Ω–æ—Ä–º–∞–ª—å–Ω–∏–º —è–≤–∏—â–µ–º, —è–∫—ñ—Å–Ω–∞ —Ö–µ—à-—Ñ—É–Ω–∫—Ü—ñ—è, —è–∫–∞ –º—ñ–Ω—ñ–º—ñ–∑—É—î —ó—Ö–Ω—é –∫—ñ–ª—å–∫—ñ—Å—Ç—å, —î –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ—é –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–µ—Ä–µ–≤–∞–≥ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∞—Å–∏–º–ø—Ç–æ—Ç–∏—á–Ω–æ—ó —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ (Big O notation) —Ç–∞ –≤–ø–ª–∏–≤—É —è–∫–æ—Å—Ç—ñ `hashCode()` –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –∫–æ–ª–µ–∫—Ü—ñ–π.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ —Ö–æ—Ä–æ—à–∏–π `hashCode()` –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –º—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—ó –∫–æ–ª—ñ–∑—ñ–π?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –•–æ—Ä–æ—à–∏–π `hashCode()` –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å **—Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–æ–≥–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—É**. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –¥–ª—è —Ç–∏–ø–æ–≤–æ–≥–æ –Ω–∞–±–æ—Ä—É –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö –≤—ñ–Ω –º–∞—î –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Ö–µ—à-–∫–æ–¥–∏, —è–∫—ñ —Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–æ "—Ä–æ–∑–∫–∏–¥–∞–Ω—ñ" –ø–æ –≤—Å—å–æ–º—É –¥—ñ–∞–ø–∞–∑–æ–Ω—É –∑–Ω–∞—á–µ–Ω—å `int`.
>
> **–©–æ–± —Ü—å–æ–≥–æ –¥–æ—Å—è–≥—Ç–∏:**
>
> 1. **–í—Ä–∞—Ö–æ–≤—É–π—Ç–µ –≤—Å—ñ –∑–Ω–∞—á—É—â—ñ –ø–æ–ª—è:** –ú–µ—Ç–æ–¥ –ø–æ–≤–∏–Ω–µ–Ω –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –≤—Å—ñ –ø–æ–ª—è, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤ `equals()`. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ —Ä—ñ–∑–Ω—ñ —Å—Ç–∞–Ω–∏ –æ–±'—î–∫—Ç–∞ –¥–∞–≤–∞—Ç–∏–º—É—Ç—å —Ä—ñ–∑–Ω—ñ —Ö–µ—à-–∫–æ–¥–∏.
> 2. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø—Ä–æ—Å—Ç—ñ —á–∏—Å–ª–∞:** –í–∫–ª—é—á–µ–Ω–Ω—è –ø—Ä–æ—Å—Ç–∏—Ö —á–∏—Å–µ–ª (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –º–Ω–æ–∂–µ–Ω–Ω—è –Ω–∞ 31) –≤ –∞–ª–≥–æ—Ä–∏—Ç–º –¥–æ–ø–æ–º–∞–≥–∞—î "–∑–º—ñ—à–∞—Ç–∏" –±—ñ—Ç–∏ —ñ —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–∞—Ç–µ—Ä–Ω—ñ–≤, —â–æ –ø—Ä–∏–∑–≤–æ–¥—è—Ç—å –¥–æ —Å–∫—É–ø—á–µ–Ω–Ω—è —Ö–µ—à-–∫–æ–¥—ñ–≤ –≤ –æ–¥–Ω–∏—Ö —ñ —Ç–∏—Ö –∂–µ –¥—ñ–∞–ø–∞–∑–æ–Ω–∞—Ö.
> 3. **–í—Ä–∞—Ö–æ–≤—É–π—Ç–µ –ø–æ—Ä—è–¥–æ–∫ –ø–æ–ª—ñ–≤:** –ê–ª–≥–æ—Ä–∏—Ç–º –º–∞—î –±—É—Ç–∏ —á—É—Ç–ª–∏–≤–∏–º –¥–æ –ø–æ—Ä—è–¥–∫—É –ø–æ–ª—ñ–≤, —è–∫—â–æ —Ü–µ–π –ø–æ—Ä—è–¥–æ–∫ –º–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è. –ö–ª–∞—Å–∏—á–Ω–∞ —Ñ–æ—Ä–º—É–ª–∞ `result = 31 * result + field.hashCode()` —Ä–æ–±–∏—Ç—å —Ü–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, `hashCode` –¥–ª—è "ab" –±—É–¥–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—Ç–∏—Å—è –≤—ñ–¥ "ba".
> 4. **–ö–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª—è–π—Ç–µ —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏:** –î–ª—è `long`, `double`, –º–∞—Å–∏–≤—ñ–≤ —Ç–æ—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ –º–µ—Ç–æ–¥–∏ (`Long.hashCode()`, `Arrays.hashCode()`).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤, —â–æ –ª–µ–∂–∞—Ç—å –≤ –æ—Å–Ω–æ–≤—ñ —è–∫—ñ—Å–Ω–∏—Ö —Ö–µ—à-—Ñ—É–Ω–∫—Ü—ñ–π.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–µ `Object.hashCode()` –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –¥–∞–≤–∞—Ç–∏ –∫–æ–ª—ñ–∑—ñ—ó?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, –º–æ–∂–µ. –•–æ—á–∞ `native` —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `Object.hashCode()` –∑–∞–∑–≤–∏—á–∞–π –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –∞–¥—Ä–µ—Å—ñ –æ–±'—î–∫—Ç–∞ (—â–æ –≥–∞—Ä–∞–Ω—Ç—É—î —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å —Ö–µ—à—É –¥–ª—è –æ–±'—î–∫—Ç—ñ–≤, —â–æ —ñ—Å–Ω—É—é—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ), —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è **–Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î** —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ.
>
> –£ –¥–µ—è–∫–∏—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è—Ö JVM —Ö–µ—à-–∫–æ–¥ –º–æ–∂–µ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏—Å—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å—Ç–∞–Ω—ñ–≤ –ø–æ—Ç–æ–∫—ñ–≤, –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤ –∞–±–æ —ñ–Ω—à–∏—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤, —è–∫—ñ –º–æ–∂—É—Ç—å –ø—Ä–∏–∑–≤–æ–¥–∏—Ç–∏ –¥–æ –∫–æ–ª—ñ–∑—ñ–π, —Ö–æ—á–∞ —ñ –∑ –¥—É–∂–µ –Ω–∏–∑—å–∫–æ—é –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—é.
>
> –ë—ñ–ª—å—à–µ —Ç–æ–≥–æ, –æ—Å–∫—ñ–ª—å–∫–∏ –¥—ñ–∞–ø–∞–∑–æ–Ω `int` —î —Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–º, –∞ –æ–±'—î–∫—Ç–∏ –º–æ–∂—É—Ç—å —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏—Å—è —ñ –∑–Ω–∏—â—É–≤–∞—Ç–∏—Å—è, –∞–¥—Ä–µ—Å–∏ –ø–∞–º'—è—Ç—ñ –º–æ–∂—É—Ç—å –ø–µ—Ä–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è. –¢–µ–æ—Ä–µ—Ç–∏—á–Ω–æ –º–æ–∂–ª–∏–≤–æ, —â–æ –¥–≤–∞ —Ä—ñ–∑–Ω—ñ –æ–±'—î–∫—Ç–∏, —â–æ —ñ—Å–Ω—É—é—Ç—å —É —Ä—ñ–∑–Ω–∏–π —á–∞—Å, –æ—Ç—Ä–∏–º–∞—é—Ç—å —Ç–æ–π —Å–∞–º–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ–π–Ω–∏–π —Ö–µ—à-–∫–æ–¥.
>
> **–ù–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ** –¥–ª—è –æ–±'—î–∫—Ç—ñ–≤, —â–æ —ñ—Å–Ω—É—é—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π `hashCode()` —Ä—ñ–¥–∫–æ –¥–∞—î –∫–æ–ª—ñ–∑—ñ—ó, –∞–ª–µ –ø–æ–∫–ª–∞–¥–∞—Ç–∏—Å—è –Ω–∞ –π–æ–≥–æ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –Ω–µ –º–æ–∂–Ω–∞.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–£–≤–∞–∂–Ω—ñ—Å—Ç—å –¥–æ –¥–µ—Ç–∞–ª–µ–π —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ `Object.hashCode` –Ω–µ —î –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–∞–¥—ñ–π–Ω–∏–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä—ñ–≤.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–≤–µ–¥—ñ—Ç—å –≤—ñ–¥–æ–º–∏–π –ø—Ä–∏–∫–ª–∞–¥ —Ä—è–¥–∫—ñ–≤ —É Java, —è–∫—ñ —Å—Ç–≤–æ—Ä—é—é—Ç—å —Ö–µ—à-–∫–æ–ª—ñ–∑—ñ—é.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ö–ª–∞—Å–∏—á–Ω–∏–º —ñ —à–∏—Ä–æ–∫–æ –≤—ñ–¥–æ–º–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º —î –ø–∞—Ä–∞ —Ä—è–¥–∫—ñ–≤ **`"Aa"` —Ç–∞ `"BB"`**.
>
> `hashCode()` –¥–ª—è `String` –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è –∑–∞ —Ñ–æ—Ä–º—É–ª–æ—é `s[0]*31^(n-1) + s[1]*31^(n-2) + ...`.
>
> * `"Aa".hashCode()` -> `65 * 31 + 97 = 2015 + 97 = 2112`.
> * `"BB".hashCode()` -> `66 * 31 + 66 = 2046 + 66 = 2112`.
>
> –¶—ñ –¥–≤–∞ –∞–±—Å–æ–ª—é—Ç–Ω–æ —Ä—ñ–∑–Ω—ñ —Ä—è–¥–∫–∏ –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π —Ö–µ—à-–∫–æ–¥.
>
> –¶–µ —á—É–¥–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥ —Ç–æ–≥–æ, —â–æ –∫–æ–ª—ñ–∑—ñ—ó —ñ—Å–Ω—É—é—Ç—å –Ω–∞–≤—ñ—Ç—å –¥–ª—è –¥—É–∂–µ –ø—Ä–æ—Å—Ç–∏—Ö —ñ –∫–æ—Ä–æ—Ç–∫–∏—Ö –¥–∞–Ω–∏—Ö, —ñ —Ö–µ—à-—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –≥–æ—Ç–æ–≤–∏–º–∏ —ó—Ö –æ–±—Ä–æ–±–ª—è—Ç–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–∞–≥–∞–ª—å–Ω—É –µ—Ä—É–¥–∏—Ü—ñ—é —Ç–∞ –∑–Ω–∞–Ω–Ω—è –ø–æ—à–∏—Ä–µ–Ω–∏—Ö –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ —ñ "—Ü—ñ–∫–∞–≤–∏—Ö —Ñ–∞–∫—Ç—ñ–≤" –ø—Ä–æ Java.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ "–∞—Ç–∞–∫–∞ —á–µ—Ä–µ–∑ —Ö–µ—à-–∫–æ–ª—ñ–∑—ñ—ó" (Hash Collision DoS Attack) —ñ —è–∫ Java –∑–∞—Ö–∏—â–∞—î—Ç—å—Å—è –≤—ñ–¥ –Ω–µ—ó? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ê—Ç–∞–∫–∞ —á–µ—Ä–µ–∑ —Ö–µ—à-–∫–æ–ª—ñ–∑—ñ—ó** ‚Äî —Ü–µ —Ç–∏–ø DoS-–∞—Ç–∞–∫–∏ (–≤—ñ–¥–º–æ–≤–∞ –≤ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—ñ), –∫–æ–ª–∏ –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤–µ–ª–∏–∫—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫ POST-–ø–∞—Ä–∞–º–µ—Ç—Ä–∏ HTTP-–∑–∞–ø–∏—Ç—É), —è–∫—ñ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ –ø—ñ–¥—ñ–±—Ä–∞–Ω—ñ —Ç–∞–∫, —â–æ–± **–≤—Å—ñ –≤–æ–Ω–∏ –º–∞–ª–∏ –æ–¥–Ω–∞–∫–æ–≤–∏–π —Ö–µ—à-–∫–æ–¥**.
>
> –ö–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–Ω–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è —Ä–æ–∑–ø–∞—Ä—Å–∏—Ç–∏ —Ü—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —ñ –ø–æ–∫–ª–∞—Å—Ç–∏ —ó—Ö —É `HashMap`, –≤—Å—ñ –≤–æ–Ω–∏ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å –≤ –æ–¥–∏–Ω –∫–æ—à–∏–∫. –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –≤–∏—Ä–æ–¥–∂–µ–Ω–Ω—è `HashMap` —É –∑–≤'—è–∑–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫ (–∞–±–æ –¥–µ—Ä–µ–≤–æ), —ñ –∫–æ–∂–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø–æ—á–∏–Ω–∞—î –∑–∞–π–º–∞—Ç–∏ O(n) (–∞–±–æ O(log n)) —á–∞—Å—É. –ü—Ä–∏ –≤–µ–ª–∏–∫—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ç–∞–∫–∏—Ö –¥–∞–Ω–∏—Ö —Ü–µ –º–æ–∂–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å–æ—Ä —ñ "–ø—ñ–¥–≤—ñ—Å–∏—Ç–∏" —Å–µ—Ä–≤–µ—Ä.
>
> **–Ø–∫ Java –∑–∞—Ö–∏—â–∞—î—Ç—å—Å—è (–∑ Java 7u6 —Ç–∞ Java 8):**
>
> * –î–ª—è —Ä—è–¥–∫–æ–≤–∏—Ö –∫–ª—é—á—ñ–≤ (`String`) —É `HashMap` –±—É–ª–æ –≤–≤–µ–¥–µ–Ω–æ **–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É (–¥–æ–¥–∞—Ç–∫–æ–≤—É) —Ö–µ—à-—Ñ—É–Ω–∫—Ü—ñ—é**.
> * `HashMap` –≤—ñ–¥—Å—Ç–µ–∂—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–ª—ñ–∑—ñ–π —É –∫–æ—à–∏–∫–∞—Ö. –Ø–∫—â–æ –¥–ª—è —Ä—è–¥–∫–æ–≤–∏—Ö –∫–ª—é—á—ñ–≤ –≤–æ–Ω–∞ –ø–µ—Ä–µ–≤–∏—â—É—î –ø–µ–≤–Ω–∏–π –ø–æ—Ä—ñ–≥, –º–∞–ø–∞ –º–æ–∂–µ "–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏—Å—è" –Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ–Ω—à–æ–≥–æ, –º–µ–Ω—à –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É —Ö–µ—à—É–≤–∞–Ω–Ω—è –¥–ª—è —Ü—ñ—î—ó –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –º–∞–ø–∏, —â–æ–± "—Ä–æ–∑–∫–∏–¥–∞—Ç–∏" –∑–ª–æ–≤–º–∏—Å–Ω—ñ –¥–∞–Ω—ñ –ø–æ —Ä—ñ–∑–Ω–∏—Ö –∫–æ—à–∏–∫–∞—Ö.
> * –¶–µ –∑–Ω–∞—á–Ω–æ —É—Å–∫–ª–∞–¥–Ω—é—î –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è —Ç–∞–∫–æ—ó –∞—Ç–∞–∫–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∞—Å–ø–µ–∫—Ç—ñ–≤ –±–µ–∑–ø–µ–∫–∏, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—î—é —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–∏—Ö, —Ç–∞ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ —Å—É—á–∞—Å–Ω—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –∑–∞—Ö–∏—Å—Ç—É –≤ JDK.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å —Ä–æ–ª—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ `load factor` —Ç–∞ `initial capacity` —É `HashMap` —ñ —è–∫ –≤–æ–Ω–∏ –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –∫–æ–ª—ñ–∑—ñ—è–º–∏. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> * **`initial capacity` (–ø–æ—á–∞—Ç–∫–æ–≤–∞ —î–º–Ω—ñ—Å—Ç—å):** –¶–µ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Ä–æ–∑–º—ñ—Ä –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –º–∞—Å–∏–≤—É "–∫–æ—à–∏–∫—ñ–≤". –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º ‚Äî 16.
>
> * **`load factor` (–∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è):** –¶–µ —á–∏—Å–ª–æ –≤—ñ–¥ 0.0 –¥–æ 1.0, —è–∫–µ –≤–∏–∑–Ω–∞—á–∞—î, –Ω–∞—Å–∫—ñ–ª—å–∫–∏ –∑–∞–ø–æ–≤–Ω–µ–Ω–æ—é –º–æ–∂–µ –±—É—Ç–∏ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—è, –ø–µ—Ä—à –Ω—ñ–∂ —ó—ó —Ä–æ–∑–º—ñ—Ä –±—É–¥–µ –∑–±—ñ–ª—å—à–µ–Ω–æ (–æ–ø–µ—Ä–∞—Ü—ñ—è `rehash`). –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º ‚Äî 0.75.
>
> **–Ø–∫ –≤–æ–Ω–∏ –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –∫–æ–ª—ñ–∑—ñ—è–º–∏:**
>
> –ü–æ—Ä—ñ–≥ –¥–ª—è –∑–±—ñ–ª—å—à–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è —è–∫ `capacity * load_factor`. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è 16 * 0.75 = 12. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –∫–æ–ª–∏ –≤ –º–∞–ø—ñ –±—É–¥–µ 12 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, —ó—ó –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –º–∞—Å–∏–≤ –±—É–¥–µ –∑–±—ñ–ª—å—à–µ–Ω–æ (–∑–∞–∑–≤–∏—á–∞–π –≤–¥–≤—ñ—á—ñ, –¥–æ 32), —ñ –≤—Å—ñ —ñ—Å–Ω—É—é—á—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –±—É–¥—É—Ç—å –ø–µ—Ä–µ—Ö–µ—à–æ–≤–∞–Ω—ñ —Ç–∞ –ø–µ—Ä–µ—Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω—ñ –ø–æ –Ω–æ–≤–∏—Ö –∫–æ—à–∏–∫–∞—Ö.
>
> * **–ù–∏–∑—å–∫–∏–π `load factor` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 0.5):** –ú–∞–ø–∞ –±—É–¥–µ –∑–±—ñ–ª—å—à—É–≤–∞—Ç–∏—Å—è —Ä–∞–Ω—ñ—à–µ. –¶–µ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ **–º–µ–Ω—à–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∫–æ–ª—ñ–∑—ñ–π**, –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–∞ –∫–æ–∂–µ–Ω –∫–æ—à–∏–∫ –±—É–¥–µ –ø—Ä–∏–ø–∞–¥–∞—Ç–∏ –º–µ–Ω—à–µ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –∞–ª–µ –±—É–¥–µ **–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ –ø–∞–º'—è—Ç—ñ** —ñ –≤—ñ–¥–±—É–≤–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ –æ–ø–µ—Ä–∞—Ü—ñ–π `rehash`.
>
> * **–í–∏—Å–æ–∫–∏–π `load factor` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 0.9):** –ú–∞–ø–∞ –±—É–¥–µ –∑–±—ñ–ª—å—à—É–≤–∞—Ç–∏—Å—è –ø—ñ–∑–Ω—ñ—à–µ. –¶–µ **–µ–∫–æ–Ω–æ–º–∏—Ç—å –ø–∞–º'—è—Ç—å**, –∞–ª–µ –∑–±—ñ–ª—å—à—É—î –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å **–≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—è –∫–æ–ª—ñ–∑—ñ–π**, —â–æ –º–æ–∂–µ –∑–Ω–∏–∑–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `load factor` ‚Äî —Ü–µ –∫–æ–º–ø—Ä–æ–º—ñ—Å –º—ñ–∂ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –ø–∞–º'—è—Ç—ñ —Ç–∞ —á–∞—Å–æ–º –≤–∏–∫–æ–Ω–∞–Ω–Ω—è. –ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º (0.75) —î —Ö–æ—Ä–æ—à–∏–º –±–∞–ª–∞–Ω—Å–æ–º –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó `HashMap` —Ç–∞ –≤–º—ñ–Ω–Ω—è –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–æ–º–ø—Ä–æ–º—ñ—Å–∏ –º—ñ–∂ –ø–∞–º'—è—Ç—Ç—é —Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –≥—ñ—Ä—à–µ –¥–ª—è `HashMap`: –ø–æ—Ä—É—à–∏—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç `equals-hashCode` —á–∏ –º–∞—Ç–∏ –ø–æ–≥–∞–Ω–∏–π `hashCode`, —â–æ –¥–∞—î –±–∞–≥–∞—Ç–æ –∫–æ–ª—ñ–∑—ñ–π? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ü–æ—Ä—É—à–∏—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç `equals-hashCode` ‚Äî –∑–Ω–∞—á–Ω–æ –≥—ñ—Ä—à–µ.**
>
> * **–ü–æ—Ä—É—à–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É** (–∫–æ–ª–∏ `a.equals(b)`, –∞–ª–µ `a.hashCode() != b.hashCode()`):
>   * –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ **–Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏** —Ç–∞ **–≤—Ç—Ä–∞—Ç–∏ –ª–æ–≥—ñ—á–Ω–æ—ó —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ**. `HashMap` –ø—Ä–æ—Å—Ç–æ **–ø–µ—Ä–µ—Å—Ç–∞–Ω–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ**: –≤–∏ –Ω–µ –∑–º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç, —è–∫–∏–π –ª–æ–≥—ñ—á–Ω–æ —Ç–∞–º —î. –¶–µ –ø–æ–º–∏–ª–∫–∞ –≤ –ª–æ–≥—ñ—Ü—ñ –ø—Ä–æ–≥—Ä–∞–º–∏.
>
> * **–ü–æ–≥–∞–Ω–∏–π `hashCode` (–±–∞–≥–∞—Ç–æ –∫–æ–ª—ñ–∑—ñ–π):**
>   * –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –ª–∏—à–µ –¥–æ **–¥–µ–≥—Ä–∞–¥–∞—Ü—ñ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ**. `HashMap` –ø—Ä–æ–¥–æ–≤–∂–∏—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ **–∫–æ—Ä–µ–∫—Ç–Ω–æ** ‚Äî –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –±—É–¥—É—Ç—å –∑–Ω–∞–π–¥–µ–Ω—ñ, –Ω—ñ—á–æ–≥–æ –Ω–µ –∑–∞–≥—É–±–∏—Ç—å—Å—è. –ü—Ä–æ—Å—Ç–æ —Ü–µ –±—É–¥–µ –≤—ñ–¥–±—É–≤–∞—Ç–∏—Å—è –ø–æ–≤—ñ–ª—å–Ω–æ (–∑–∞ O(n) –∞–±–æ O(log n)). –¶–µ –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ, –∞ –Ω–µ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** –ü–æ–º–∏–ª–∫–∞ –≤ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ —î –Ω–∞–±–∞–≥–∞—Ç–æ —Å–µ—Ä–π–æ–∑–Ω—ñ—à–æ—é —ñ —Å–∫–ª–∞–¥–Ω—ñ—à–æ—é –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è, –Ω—ñ–∂ –ø—Ä–æ–±–ª–µ–º–∞ –∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é, —è–∫—É –º–æ–∂–Ω–∞ –≤–∏—è–≤–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è. –¢–æ–º—É –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É —î –∞–±—Å–æ–ª—é—Ç–Ω–∏–º –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å —Ä–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏ —ñ –ø—Ä—ñ–æ—Ä–∏—Ç–µ–∑—É–≤–∞—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∏: –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –∑–∞–≤–∂–¥–∏ –≤–∞–∂–ª–∏–≤—ñ—à–∞ –∑–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—â–æ —Ö–µ—à-—Ñ—É–Ω–∫—Ü—ñ—è —ñ–¥–µ–∞–ª—å–Ω–∞ —ñ –Ω–µ –¥–∞—î –∫–æ–ª—ñ–∑—ñ–π, —á–∏ –ø–æ—Ç—Ä—ñ–±–µ–Ω —Ç–æ–¥—ñ `equals()` –≤ `HashMap`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ —Ü—ñ–∫–∞–≤–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è. –Ø–∫–±–∏ —Ö–µ—à-—Ñ—É–Ω–∫—Ü—ñ—è –±—É–ª–∞ **—ñ–¥–µ–∞–ª—å–Ω–æ—é —ñ –ø–µ—Ä—Ñ–µ–∫—Ç–Ω–æ—é** (Perfect Hash Function), —â–æ –æ–∑–Ω–∞—á–∞—î, —â–æ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —É–Ω—ñ–∫–∞–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —Ö–µ—à-–∫–æ–¥, —Ç–æ –≤–∏–∫–ª–∏–∫ `equals()` –¥–ª—è —Ä–æ–∑—Ä—ñ–∑–Ω–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ —É –∫–æ—à–∏–∫—É **–±—É–≤ –±–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω**. –ö–æ–∂–µ–Ω –∫–æ—à–∏–∫ –º—ñ—Å—Ç–∏–≤ –±–∏ –Ω–µ –±—ñ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞.
>
> –û–¥–Ω–∞–∫, –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä—Ñ–µ–∫—Ç–Ω–∏—Ö —Ö–µ—à-—Ñ—É–Ω–∫—Ü—ñ–π –¥–ª—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ–≥–æ –Ω–∞–±–æ—Ä—É –¥–∞–Ω–∏—Ö —î –¥—É–∂–µ —Å–∫–ª–∞–¥–Ω–æ—é –∞–±–æ –Ω–µ–º–æ–∂–ª–∏–≤–æ—é –∑–∞–¥–∞—á–µ—é.
>
> –ë—ñ–ª—å—à–µ —Ç–æ–≥–æ, `equals()` –≤—Å–µ –æ–¥–Ω–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ—ó `put()`. –ö–æ–ª–∏ –≤–∏ –¥–æ–¥–∞—î—Ç–µ –Ω–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç, `HashMap` –º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –∫–ª—é—á –∑ —Ç–∞–∫–∏–º —Ö–µ—à-–∫–æ–¥–æ–º –≤–∂–µ —ñ—Å–Ω—É—î, —â–æ–± –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç–∏ –π–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è. –ù–∞–≤—ñ—Ç—å —è–∫—â–æ —Ö–µ—à-–∫–æ–¥ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π, –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ —Ü–µ —Ç–æ–π —Å–∞–º–∏–π –æ–±'—î–∫—Ç —á–∏ –Ω—ñ (—á–µ—Ä–µ–∑ `equals`). –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏ —Ö–æ—á–µ—Ç–µ –æ–Ω–æ–≤–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –∫–ª—é—á–∞ "–ê".
> `map.put("–ê", 1); map.put("–ê", 2);`. –©–æ–± –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —â–æ "–ê" –≤–∂–µ —î, `HashMap` –≤—Å–µ –æ–¥–Ω–æ –ø–æ—Ç—Ä–µ–±—É—î `equals()`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –º–∏—Å–ª–∏—Ç–∏ —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–æ —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≥—Ä–∞–Ω–∏—á–Ω—ñ –≤–∏–ø–∞–¥–∫–∏. –†–æ–∑—É–º—ñ–Ω–Ω—è –≤—Å—ñ—Ö –∞—Å–ø–µ–∫—Ç—ñ–≤ —Ä–æ–±–æ—Ç–∏ `HashMap`, –∞ –Ω–µ —Ç—ñ–ª—å–∫–∏ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –∫–æ–ª—ñ–∑—ñ–π.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –∫–ª–∞—Å `IdentityHashMap` –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ –∫–æ–ª—ñ–∑—ñ—è–º–∏? –ß–∏ –≤–∏–Ω–∏–∫–∞—é—Ç—å –≤–æ–Ω–∏ –≤ –Ω—å–æ–º—É? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `IdentityHashMap` ‚Äî —Ü–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `Map`, —è–∫–∞ **–Ω–∞–≤–º–∏—Å–Ω–æ –ø–æ—Ä—É—à—É—î** –∑–∞–≥–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç `Map`, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∫–ª—é—á—ñ–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä `==` –∑–∞–º—ñ—Å—Ç—å `equals()`, –∞ –¥–ª—è —Ö–µ—à—É–≤–∞–Ω–Ω—è ‚Äî `System.identityHashCode()` –∑–∞–º—ñ—Å—Ç—å `hashCode()`.
>
> **–ß–∏ –≤–∏–Ω–∏–∫–∞—é—Ç—å —É –Ω—å–æ–º—É –∫–æ–ª—ñ–∑—ñ—ó?**
> –¢–∞–∫, –≤–∏–Ω–∏–∫–∞—é—Ç—å, –∞–ª–µ –∑–Ω–∞—á–Ω–æ —Ä—ñ–¥—à–µ.
>
> `System.identityHashCode()` –∑–∞–∑–≤–∏—á–∞–π –≥–µ–Ω–µ—Ä—É—î —Ö–µ—à-–∫–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó –∞–¥—Ä–µ—Å–∏ –æ–±'—î–∫—Ç–∞. –û—Å–∫—ñ–ª—å–∫–∏ –¥–≤–∞ —Ä—ñ–∑–Ω—ñ –æ–±'—î–∫—Ç–∏ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –º–∞—é—Ç—å —Ä—ñ–∑–Ω—ñ –∞–¥—Ä–µ—Å–∏ –≤ –ø–∞–º'—è—Ç—ñ (–ø–æ–∫–∏ –≤–æ–Ω–∏ –æ–±–∏–¥–≤–∞ "–∂–∏–≤—ñ"), `identityHashCode` –¥–ª—è –Ω–∏—Ö –±—É–¥–µ —Ä—ñ–∑–Ω–∏–º.
>
> –û–¥–Ω–∞–∫, –∫–æ–ª—ñ–∑—ñ—ó –≤—Å–µ —â–µ –º–æ–∂–ª–∏–≤—ñ, —Ç–æ–º—É —â–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –º–æ–∂–ª–∏–≤–∏—Ö —Ö–µ—à-–∫–æ–¥—ñ–≤ `int` (~4 –º–ª—Ä–¥) –º–µ–Ω—à–∞ –∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –º–æ–∂–ª–∏–≤–∏—Ö –∞–¥—Ä–µ—Å –ø–∞–º'—è—Ç—ñ –≤ 64-–±—ñ—Ç–Ω—ñ–π —Å–∏—Å—Ç–µ–º—ñ. –¢–æ–º—É —á–∏—Å—Ç–æ —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–æ –¥–≤–∞ —Ä—ñ–∑–Ω—ñ –æ–±'—î–∫—Ç–∏ –º–æ–∂—É—Ç—å –æ—Ç—Ä–∏–º–∞—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ–π–Ω–∏–π —Ö–µ—à-–∫–æ–¥.
>
> –ê–ª–µ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ –≤ `IdentityHashMap` –∫–æ–ª—ñ–∑—ñ—ó —î –≤–∫—Ä–∞–π —Ä—ñ–¥–∫—ñ—Å–Ω–∏–º —è–≤–∏—â–µ–º. –ô–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å, –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏ –æ–±'—î–∫—Ç–∏ –∑–∞ —ó—Ö–Ω—å–æ—é —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—é, –∞ –Ω–µ –∑–∞ –ª–æ–≥—ñ—á–Ω–∏–º –∑–º—ñ—Å—Ç–æ–º (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ –ø—ñ–¥ —á–∞—Å –æ–±—Ö–æ–¥—É –≥—Ä–∞—Ñ—É).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –ø—Ä–æ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π —Ç–∞ —ó—Ö–Ω—ñ—Ö –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç–µ–π –≤—ñ–¥ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö. –ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—é —Ç–∞ —Ä—ñ–≤–Ω—ñ—Å—Ç—é.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `String.hashCode()` —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Å–∞–º–µ —á–µ—Ä–µ–∑ –º–Ω–æ–∂–µ–Ω–Ω—è –Ω–∞ 31? –ß–æ–º—É –± –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—Ä–æ—Å—Ç–æ —Å—É–º—É –∫–æ–¥—ñ–≤ —Å–∏–º–≤–æ–ª—ñ–≤? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫–±–∏ `hashCode()` –¥–ª—è `String` –±—É–≤ –ø—Ä–æ—Å—Ç–æ—é —Å—É–º–æ—é –∫–æ–¥—ñ–≤ —Å–∏–º–≤–æ–ª—ñ–≤, —Ü–µ –ø—Ä–∏–∑–≤–µ–ª–æ –± –¥–æ **–≤–µ–ª–∏—á–µ–∑–Ω–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∫–æ–ª—ñ–∑—ñ–π**.
>
> **–ü—Ä–æ–±–ª–µ–º–∞ –∑ —Å—É–º–æ—é:**
> –ë—É–¥—å-—è–∫—ñ —Ä—è–¥–∫–∏, —â–æ —î –∞–Ω–∞–≥—Ä–∞–º–∞–º–∏ (–º—ñ—Å—Ç—è—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π –Ω–∞–±—ñ—Ä —Å–∏–º–≤–æ–ª—ñ–≤ —É —Ä—ñ–∑–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É), –º–∞–ª–∏ –± –æ–¥–Ω–∞–∫–æ–≤–∏–π —Ö–µ—à-–∫–æ–¥.
>
> * `"ab".hashCode()` –±—É–≤ –±–∏ —Ä—ñ–≤–Ω–∏–π `"ba".hashCode()`.
> * `"stop".hashCode()` –±—É–≤ –±–∏ —Ä—ñ–≤–Ω–∏–π `"pots".hashCode()`.
>
> –¶–µ —Å—Ç–≤–æ—Ä–∏–ª–æ –± –≤–µ–ª–∏–∫—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–ª—ñ–∑—ñ–π —ñ –∑–Ω–∞—á–Ω–æ –ø–æ–≥—ñ—Ä—à–∏–ª–æ –± –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å `HashMap`, –∫–æ–ª–∏ –∫–ª—é—á–∞–º–∏ —î —Ä—è–¥–∫–∏.
>
> **–ß–æ–º—É –º–Ω–æ–∂–µ–Ω–Ω—è –Ω–∞ 31 —î –∫—Ä–∞—â–∏–º:**
>
> –§–æ—Ä–º—É–ª–∞ `s[0]*31^(n-1) + s[1]*31^(n-2) + ...` —î –ø–æ–ª—ñ–Ω–æ–º—ñ–∞–ª—å–Ω–æ—é —Ö–µ—à-—Ñ—É–Ω–∫—Ü—ñ—î—é. –ú–Ω–æ–∂–µ–Ω–Ω—è –Ω–∞ –ø—Ä–æ—Å—Ç–µ –Ω–µ–ø–∞—Ä–Ω–µ —á–∏—Å–ª–æ 31 **—Ä–æ–±–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ª–µ–∂–Ω–∏–º –≤—ñ–¥ –ø–æ—Ä—è–¥–∫—É —Å–∏–º–≤–æ–ª—ñ–≤**. –¶–µ –∑–Ω–∞—á–Ω–æ –ø–æ–∫—Ä–∞—â—É—î —Ä–æ–∑–ø–æ–¥—ñ–ª —Ö–µ—à-–∫–æ–¥—ñ–≤ —ñ —Ä—ñ–∑–∫–æ –∑–º–µ–Ω—à—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–ª—ñ–∑—ñ–π, –æ—Å–∫—ñ–ª—å–∫–∏ `"ab"` —ñ `"ba"` –¥–∞–¥—É—Ç—å –∑–æ–≤—Å—ñ–º —Ä—ñ–∑–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏.
>
> `65 * 31 + 98 != 98 * 31 + 65`
>
> –ö—Ä—ñ–º —Ç–æ–≥–æ, —è–∫ –≤–∂–µ –∑–≥–∞–¥—É–≤–∞–ª–æ—Å—è, `31` –æ–±–∏—Ä–∞–ª–æ—Å—è —á–µ—Ä–µ–∑ —Ç–µ, —â–æ –º–Ω–æ–∂–µ–Ω–Ω—è –Ω–∞ –Ω—å–æ–≥–æ –ª–µ–≥–∫–æ –æ–ø—Ç–∏–º—ñ–∑—É—î—Ç—å—Å—è –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–æ–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –æ—Å–Ω–æ–≤ —Ç–µ–æ—Ä—ñ—ó —Ö–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —è–∫—ñ—Å—Ç—å —Ö–µ—à-—Ñ—É–Ω–∫—Ü—ñ–π.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `HashMap`, —è–∫–∏–π –≤–∑–∞–≥–∞–ª—ñ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `hashCode`, –∞ –ª–∏—à–µ `equals`? –Ø–∫–æ—é –±—É–ª–∞ –± –π–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, –º–æ–∂–Ω–∞, –∞–ª–µ —Ü–µ –≤–∂–µ –Ω–µ –±—É–¥–µ "—Ö–µ—à"-–º–∞–ø–∞. –¶–µ –±—É–ª–∞ –± –∑–≤–∏—á–∞–π–Ω–∞ –º–∞–ø–∞, —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤—ñ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, **–∞—Å–æ—Ü—ñ–∞—Ç–∏–≤–Ω–æ–≥–æ —Å–ø–∏—Å–∫—É**.
>
> **–Ø–∫ –±–∏ –≤–æ–Ω–∞ –ø—Ä–∞—Ü—é–≤–∞–ª–∞:**
>
> * –í–Ω—É—Ç—Ä—ñ—à–Ω—å–æ –≤–æ–Ω–∞ –± –∑–±–µ—Ä—ñ–≥–∞–ª–∞ –∑–∞–ø–∏—Å–∏ `(–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–Ω—è)` —É –ø—Ä–æ—Å—Ç–æ–º—É —Å–ø–∏—Å–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `ArrayList<Entry<K, V>>`).
> * –ü—Ä–∏ –≤–∏–∫–ª–∏–∫—É `put(key, value)`:
>     1. –í–æ–Ω–∞ –± —ñ—Ç–µ—Ä—É–≤–∞–ª–∞ –ø–æ –≤—Å—å–æ–º—É —Å–ø–∏—Å–∫—É.
>     2. –î–ª—è –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ –≤–∏–∫–ª–∏–∫–∞–ª–∞ –± `equals()` –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∫–ª—é—á—ñ–≤.
>     3. –Ø–∫—â–æ –∑–±—ñ–≥ –∑–Ω–∞–π–¥–µ–Ω–æ, –∑–Ω–∞—á–µ–Ω–Ω—è –± –æ–Ω–æ–≤–ª—é–≤–∞–ª–æ—Å—è.
>     4. –Ø–∫—â–æ –Ω—ñ ‚Äî –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å –¥–æ–¥–∞–≤–∞–≤—Å—è –± —É –∫—ñ–Ω–µ—Ü—å —Å–ø–∏—Å–∫—É.
> * –ü—Ä–∏ –≤–∏–∫–ª–∏–∫—É `get(key)` –≤–æ–Ω–∞ –± —Ç–∞–∫–æ–∂ —ñ—Ç–µ—Ä—É–≤–∞–ª–∞ –ø–æ –≤—Å—å–æ–º—É —Å–ø–∏—Å–∫—É, –≤–∏–∫–ª–∏–∫–∞—é—á–∏ `equals()`, –¥–æ–∫–∏ –Ω–µ –∑–Ω–∞–π–¥–µ –∑–±—ñ–≥.
>
> **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:**
> –í—Å—ñ –æ—Å–Ω–æ–≤–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó (`put`, `get`, `remove`, `containsKey`) –º–∞–ª–∏ –± **–ª—ñ–Ω—ñ–π–Ω—É —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å O(n)**.
>
> –¶–µ –±—É–ª–æ –± –∑–Ω–∞—á–Ω–æ –º–µ–Ω—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –Ω—ñ–∂ `HashMap` (–∑ O(1)) –∞–±–æ `TreeMap` (–∑ O(log n)). –û—Ç–∂–µ, —Ç–∞–∫, –º–æ–∂–Ω–∞, –∞–ª–µ —Å–µ–Ω—Å—É –≤ —Ü—å–æ–º—É –Ω–µ–º–∞—î, –æ—Å–∫—ñ–ª—å–∫–∏ —ñ—Å–Ω—É—é—Ç—å –±—ñ–ª—å—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è —Ç–∞–∫–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –º–∏—Å–ª–∏—Ç–∏ –ø—Ä–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–∏—Ö. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ä–æ–ª—ñ `hashCode` —è–∫ –∫–ª—é—á–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å `HashMap`.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –∫–æ–ª—ñ–∑—ñ—ó –æ–ø–µ—Ä–∞—Ü—ñ—è `rehash` (–∑–±—ñ–ª—å—à–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É) –≤ `HashMap`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û–ø–µ—Ä–∞—Ü—ñ—è `rehash` (–∞–±–æ `resize`) –Ω–∞–ø—Ä—è–º—É –≤–ø–ª–∏–≤–∞—î –Ω–∞ –∫–æ–ª—ñ–∑—ñ—ó, –∑–∞–∑–≤–∏—á–∞–π **–∑–º–µ–Ω—à—É—é—á–∏ —ó—Ö–Ω—é –∫—ñ–ª—å–∫—ñ—Å—Ç—å**.
>
> **–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å `rehash`:**
>
> 1. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–æ–≤–∏–π –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –º–∞—Å–∏–≤ "–∫–æ—à–∏–∫—ñ–≤", –∑–∞–∑–≤–∏—á–∞–π **–≤–¥–≤—ñ—á—ñ –±—ñ–ª—å—à–∏–π** –∑–∞ —Å—Ç–∞—Ä–∏–π.
> 2. –£—Å—ñ —ñ—Å–Ω—É—é—á—ñ –∑–∞–ø–∏—Å–∏ –∑—ñ —Å—Ç–∞—Ä–æ—ó —Ç–∞–±–ª–∏—Ü—ñ **–ø–µ—Ä–µ—Ä–æ–∑–ø–æ–¥—ñ–ª—è—é—Ç—å—Å—è** –ø–æ –Ω–æ–≤—ñ–π.
> 3. –î–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É **–ø–µ—Ä–µ–æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è —ñ–Ω–¥–µ–∫—Å –∫–æ—à–∏–∫–∞**, –æ—Å–∫—ñ–ª—å–∫–∏ —Ç–µ–ø–µ—Ä –≤—ñ–Ω –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –Ω–æ–≤–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É –º–∞—Å–∏–≤—É (`index = hashCode % new_capacity`).
>
> **–í–ø–ª–∏–≤ –Ω–∞ –∫–æ–ª—ñ–∑—ñ—ó:**
> –û—Å–∫—ñ–ª—å–∫–∏ –Ω–æ–≤–∏–π –º–∞—Å–∏–≤ –±—ñ–ª—å—à–∏–π, —Ç—ñ –µ–ª–µ–º–µ–Ω—Ç–∏, —è–∫—ñ —Ä–∞–Ω—ñ—à–µ —á–µ—Ä–µ–∑ –∫–æ–ª—ñ–∑—ñ—é –ø–æ—Ç—Ä–∞–ø–ª—è–ª–∏ –≤ –æ–¥–∏–Ω –∫–æ—à–∏–∫, —Ç–µ–ø–µ—Ä –º–∞—é—Ç—å –≤–∏—Å–æ–∫–∏–π —à–∞–Ω—Å –ø–æ—Ç—Ä–∞–ø–∏—Ç–∏ **–≤ —Ä—ñ–∑–Ω—ñ –∫–æ—à–∏–∫–∏** —É –Ω–æ–≤—ñ–π —Ç–∞–±–ª–∏—Ü—ñ. –¶–µ "—Ä–æ–∑—Ä—ñ–¥–∂—É—î" –¥–∞–Ω—ñ —ñ –∑–º–µ–Ω—à—É—î —Å–µ—Ä–µ–¥–Ω—é –¥–æ–≤–∂–∏–Ω—É –ª–∞–Ω—Ü—é–∂–∫—ñ–≤/–¥–µ—Ä–µ–≤ —É –∫–æ—à–∏–∫–∞—Ö.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `rehash` ‚Äî —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î `HashMap` –¥–∏–Ω–∞–º—ñ—á–Ω–æ –∞–¥–∞–ø—Ç—É–≤–∞—Ç–∏—Å—è –¥–æ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö, –ø—ñ–¥—Ç—Ä–∏–º—É—é—á–∏ –Ω–∏–∑—å–∫–∏–π —Ä—ñ–≤–µ–Ω—å –∫–æ–ª—ñ–∑—ñ–π —ñ –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ —Å–≤–æ—é —Å–µ—Ä–µ–¥–Ω—é –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –Ω–∞ —Ä—ñ–≤–Ω—ñ O(1). –•–æ—á–∞ —Å–∞–º–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è `rehash` —î –¥–æ—Ä–æ–≥–æ—é (O(n)), –≤–æ–Ω–∞ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –Ω–µ—á–∞—Å—Ç–æ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ—ó –ø—Ä–∏—Ä–æ–¥–∏ `HashMap` —Ç–∞ –º–µ—Ö–∞–Ω—ñ–∑–º—É `rehash` —è–∫ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –¥–ª—è –±–æ—Ä–æ—Ç—å–±–∏ –∑ –∫–æ–ª—ñ–∑—ñ—è–º–∏.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–†–æ–∑–≥–ª—è–Ω–µ–º–æ `hashCode` –¥–ª—è `Integer`: `public static int hashCode(int value) { return value; }`. –ß–æ–º—É —Ç–∞–∫–∞ –ø—Ä–æ—Å—Ç–∞ —Ñ—É–Ω–∫—Ü—ñ—è —î —Ö–æ—Ä–æ—à–æ—é? –•—ñ–±–∞ –≤–æ–Ω–∞ –Ω–µ –±—É–¥–µ –¥–∞–≤–∞—Ç–∏ –±–∞–≥–∞—Ç–æ –∫–æ–ª—ñ–∑—ñ–π –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —á–∏—Å–µ–ª? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑ —Ö–µ—à-–∫–æ–¥–æ–º **–≤—Å–µ—Ä–µ–¥–∏–Ω—ñ** `HashMap`.
>
> –¢–∞–∫, —Ñ—É–Ω–∫—Ü—ñ—è `hashCode(int value) { return value; }` —î –¥—É–∂–µ –ø—Ä–æ—Å—Ç–æ—é. –ê–ª–µ –≤–æ–Ω–∞ —î **—ñ–¥–µ–∞–ª—å–Ω–æ—é —Ö–µ—à-—Ñ—É–Ω–∫—Ü—ñ—î—é** –¥–ª—è —Ç–∏–ø—É `int` –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É —Ä–æ–∑–ø–æ–¥—ñ–ª—É, –æ—Å–∫—ñ–ª—å–∫–∏ –∫–æ–∂–Ω–æ–º—É —É–Ω—ñ–∫–∞–ª—å–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–Ω—é `int` –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π `int` —Ö–µ—à-–∫–æ–¥.
>
> **–•—ñ–±–∞ –Ω–µ –±—É–¥–µ –±–∞–≥–∞—Ç–æ –∫–æ–ª—ñ–∑—ñ–π?**
> –ó–¥–∞–≤–∞–ª–æ—Å—è –±, –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —á–∏—Å–µ–ª `Integer`, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 1, 17, 33, —ó—Ö–Ω—ñ —Ö–µ—à-–∫–æ–¥–∏ –±—É–¥—É—Ç—å 1, 17, 33. –Ø–∫—â–æ —Ä–æ–∑–º—ñ—Ä `HashMap` ‚Äî 16, —Ç–æ –ø—Ä–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—ñ —ñ–Ω–¥–µ–∫—Å—É `index = hashCode % capacity` (—Ü–µ —Å–ø—Ä–æ—â–µ–Ω–Ω—è) –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è –∫–æ–ª—ñ–∑—ñ—è:
>
> * `1 % 16 -> 1`
> * `17 % 16 -> 1`
> * `33 % 16 -> 1`
>
> **–ê–ª–µ `HashMap` —Ä–æ–±–∏—Ç—å —Ü–µ —Ä–æ–∑—É–º–Ω—ñ—à–µ.** –í—ñ–Ω –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `hashCode % capacity`. –ü–µ—Ä–µ–¥ —Ü–∏–º –≤—ñ–Ω –∑–∞—Å—Ç–æ—Å–æ–≤—É—î **–¥–æ–¥–∞—Ç–∫–æ–≤—É –≤–ª–∞—Å–Ω—É —Ö–µ—à-—Ñ—É–Ω–∫—Ü—ñ—é**, —â–æ–± "—Ä–æ–∑–º–∞–∑–∞—Ç–∏" –±—ñ—Ç–∏ –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ —Ö–µ—à-–∫–æ–¥—É —ñ –∑—Ä–æ–±–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–µ–Ω—à –∑–∞–ª–µ–∂–Ω–∏–º –≤—ñ–¥ –º–æ–ª–æ–¥—à–∏—Ö –±—ñ—Ç—ñ–≤.
>
> –£ —Å—É—á–∞—Å–Ω–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö Java:
>
> ```java
> static final int hash(Object key) {
>     int h;
>     return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);
> }
> ```
>
> –í—ñ–Ω –∑–º—ñ—à—É—î —Å—Ç–∞—Ä—à—ñ –±—ñ—Ç–∏ –∑ –º–æ–ª–æ–¥—à–∏–º–∏ —á–µ—Ä–µ–∑ XOR. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Ö–µ—à-–∫–æ–¥–∏ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –≤ —Å—Ç–∞—Ä—à–∏—Ö –±—ñ—Ç–∞—Ö (—è–∫ –±–∞–≥–∞—Ç–æ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏—Ö —Ü—ñ–ª–∏—Ö —á–∏—Å–µ–ª), –ø—ñ—Å–ª—è —Ü—ñ—î—ó —Ñ—É–Ω–∫—Ü—ñ—ó —ó—Ö–Ω—ñ –º–æ–ª–æ–¥—à—ñ –±—ñ—Ç–∏ —Ç–∞–∫–æ–∂ –±—É–¥—É—Ç—å –≤—ñ–¥—Ä—ñ–∑–Ω—è—Ç–∏—Å—è. –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î —Ö–æ—Ä–æ—à–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª –ø–æ –∫–æ—à–∏–∫–∞—Ö, –Ω–∞–≤—ñ—Ç—å –¥–ª—è —Ç–∞–∫–æ—ó –ø—Ä–æ—Å—Ç–æ—ó —Ö–µ—à-—Ñ—É–Ω–∫—Ü—ñ—ó, —è–∫ —É `Integer`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î—É–∂–µ –≥–ª–∏–±–æ–∫—ñ –∑–Ω–∞–Ω–Ω—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó `HashMap`. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ `HashMap` –Ω–µ —Å–ª—ñ–ø–æ –¥–æ–≤—ñ—Ä—è—î `hashCode` –æ–±'—î–∫—Ç–∞, –∞ –¥–æ–¥–∞—Ç–∫–æ–≤–æ –æ–±—Ä–æ–±–ª—è—î –π–æ–≥–æ –¥–ª—è –∫—Ä–∞—â–æ–≥–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—É.*
