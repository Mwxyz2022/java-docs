---
layout: default
title: "Generics —É –∫–æ–ª–µ–∫—Ü—ñ—è—Ö"
parent: "–ö–æ–ª–µ–∫—Ü—ñ—ó: ArrayList —Ç–∞ LinkedList"
grand_parent: "Java Core"
nav_order: 10
---

# Generics —É –∫–æ–ª–µ–∫—Ü—ñ—è—Ö

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —Ç–∏–ø—É (`<T>`) —É –∫–æ–ª–µ–∫—Ü—ñ—è—Ö –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó, —â–æ —É—Å—É–≤–∞—î –ø–æ—Ç—Ä–µ–±—É –≤ —Ä—É—á–Ω–æ–º—É –∫–∞—Å—Ç–∏–Ω–≥—É —Ç–∞ —Ä–∏–∑–∏–∫ `ClassCastException` –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.

* –ø–æ–Ω—è—Ç—Ç—è: `Generics`, —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å, `type inference`, `wildcards` (`? extends`, `? super`).

* –ø—Ä–∏–∫–ª–∞–¥–∏: `List<String>` (—Ç–∏–ø—ñ–∑–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫), `Map<Integer, User>`.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ó–∞–ø–æ–±—ñ–≥–∞—î `ClassCastException`, —Ä–æ–±–∏—Ç—å –∫–æ–¥ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—à–∏–º —Ç–∞ –±–µ–∑–ø–µ—á–Ω—ñ—à–∏–º. `Wildcards` –Ω–∞–¥–∞—é—Ç—å –≥–Ω—É—á–∫—ñ—Å—Ç—å –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ —ñ—î—Ä–∞—Ä—Ö—ñ—è–º–∏ —Ç–∏–ø—ñ–≤.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ù–∞–≤—ñ—â–æ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏, `wildcards`, `type erasure`.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**`Generics`** ‚Äî —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º Java –¥–ª—è –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –∫–ª–∞—Å—ñ–≤, —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤ —Ç–∞ –º–µ—Ç–æ–¥—ñ–≤ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ç–∏–ø—ñ–≤, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å –ø—ñ–¥ —á–∞—Å –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

**`Generics`** –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∫–æ–ª–µ–∫—Ü—ñ—è–º –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –±—É–¥—å-—è–∫–∏–º–∏ —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–∏—Ö, –∞–ª–µ –ø—Ä–∏ —Ü—å–æ–º—É –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —â–æ–± —Ç–∏ –Ω–µ –∑–º—ñ—à–∞–≤ —è–±–ª—É–∫–∞ –∑ –∞–ø–µ–ª—å—Å–∏–Ω–∞–º–∏

---

## **–û—Å–Ω–æ–≤–Ω—ñ —Ç–∏–ø–∏**

–ü–∞—Ä–∞–º–µ—Ç—Ä —Ç–∏–ø—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, **`List<T>`**)

**Wildcards:**

* **`?`** ‚Äî –±—É–¥—å-—è–∫–∏–π —Ç–∏–ø
* **`? extends T`** ‚Äî –±—É–¥—å-—è–∫–∏–π –ø—ñ–¥—Ç–∏–ø T (–∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å)
* **`? super T`** ‚Äî –±—É–¥—å-—è–∫–∏–π –Ω–∞–¥—Ç–∏–ø T (–∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å)

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

* –ë–µ–∑ generics: **`List list = new ArrayList(); list.add("string")`**`;` ‚Äî –º–æ–∂–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –ø–æ–º–∏–ª–∫–∏ —á–∞—Å—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.
* –ó generics: **`List<String> list = new ArrayList<>();`** ‚Äî –ø–æ–º–∏–ª–∫–∏ –±—É–¥—É—Ç—å –ø–æ–º—ñ—á–µ–Ω—ñ –ø—ñ–¥ —á–∞—Å –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó, —è–∫—â–æ —Å–ø—Ä–æ–±—É—î—à –¥–æ–¥–∞—Ç–∏ –Ω–µ —Ä—è–¥–æ–∫.
* Wildcards –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å –ø–∏—Å–∞—Ç–∏ –±—ñ–ª—å—à –≥–Ω—É—á–∫–∏–π –∫–æ–¥, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ –º–µ—Ç–æ–¥, —è–∫–∏–π –º–æ–∂–µ –ø—Ä–∏–π–º–∞—Ç–∏ —Å–ø–∏—Å–∫–∏ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤, –∞–ª–µ –∑ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
// –ü—Ä–æ—Å—Ç–∞ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—è List<String>
List<String> fruits = new ArrayList<>();
fruits.

add("Apple");
// fruits.add(123); // –ü–æ–º–∏–ª–∫–∞ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó!

// Wildcard: –º–µ—Ç–æ–¥ –ø—Ä–∏–π–º–∞—î —Å–ø–∏—Å–æ–∫ –±—É–¥—å-—è–∫–∏—Ö –ø—ñ–¥—Ç–∏–ø—ñ–≤ Number
public void processNumbers(List<? extends Number> list) {
    for (Number num : list) {
        System.out.println(num);
    }
}

// Wildcard super: –º–µ—Ç–æ–¥ –º–æ–∂–µ –¥–æ–¥–∞–≤–∞—Ç–∏ Integer –∞–±–æ –π–æ–≥–æ –ø—ñ–¥—Ç–∏–ø–∏ —É —Å–ø–∏—Å–æ–∫
public void addIntegers(List<? super Integer> list) {
    list.add(10);
}
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –¢–∏–ø wildcards     | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è                      | –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è         | –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ                              |
|-------------------|----------------------------------|------------------------------|-----------------------------------------|
| **`?`**           | –ë—É–¥—å-—è–∫–∏–π —Ç–∏–ø ( —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å ) | **`List<?>`**                | –ß–∏—Ç–∞—î–º–æ –µ–ª–µ–º–µ–Ω—Ç–∏ —è–∫ Object              |
| **`? extends T`** | –ü—ñ–¥—Ç–∏–ø T (–∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å)        | **`List<? extends Number>`** | –ß–∏—Ç–∞—î–º–æ, –Ω–µ –º–æ–∂–Ω–∞ –¥–æ–¥–∞–≤–∞—Ç–∏              |
| **`? super T`**   | –ù–∞–¥—Ç–∏–ø T (–∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å)    | **`List<? super Integer>`**  | –ú–æ–∂–Ω–∞ –¥–æ–¥–∞–≤–∞—Ç–∏ –æ–±‚Äô—î–∫—Ç–∏ —Ç–∏–ø—É T —ñ –ø—ñ–¥—Ç–∏–ø–∏ |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

Generics ‚Äî —â–æ–± –Ω–µ –ø–ª—É—Ç–∞—Ç–∏ —Ç–∏–ø–∏, **`extends`** —á–∏—Ç–∞—î–º–æ, **`super`** –¥–æ–¥–∞—î–º–æ

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

Generics —Ä–æ–±–ª—è—Ç—å –∫–æ–¥ –∫–æ–ª–µ–∫—Ü—ñ–π –±–µ–∑–ø–µ—á–Ω—ñ—à–∏–º —ñ –≥–Ω—É—á–∫—ñ—à–∏–º, –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–æ–º–∏–ª–æ–∫ —á–∞—Å—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è. **`Wildcards`** ‚Äî —Ü–µ
—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –±—ñ–ª—å—à —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥—É –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ç–∏–ø—ñ–≤.

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Oracle Generics Tutorial**](https://docs.oracle.com/javase/tutorial/java/generics/)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—É –æ—Å–Ω–æ–≤–Ω—É –ø—Ä–æ–±–ª–µ–º—É –≤–∏—Ä—ñ—à—É—é—Ç—å –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û—Å–Ω–æ–≤–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞, —è–∫—É –≤–∏—Ä—ñ—à—É—é—Ç—å –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ ‚Äî —Ü–µ **–∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó**, —â–æ –¥–æ–∑–≤–æ–ª—è—î —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–æ–º–∏–ª–æ–∫ **`ClassCastException` –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (runtime)**.
>
> **–î–æ –ø–æ—è–≤–∏ –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤ (–¥–æ Java 5):**
> –ö–æ–ª–µ–∫—Ü—ñ—ó –ø—Ä–∞—Ü—é–≤–∞–ª–∏ –∑ —Ç–∏–ø–æ–º `Object`. –¶–µ –æ–∑–Ω–∞—á–∞–ª–æ, —â–æ –≤ –æ–¥–∏–Ω `List` –º–æ–∂–Ω–∞ –±—É–ª–æ –ø–æ–∫–ª–∞—Å—Ç–∏ –æ–±'—î–∫—Ç–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ (`String`, `Integer`, `User`). –ü—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∞ –∑ —Ç–∞–∫–æ—ó –∫–æ–ª–µ–∫—Ü—ñ—ó –¥–æ–≤–æ–¥–∏–ª–æ—Å—è —Ä–æ–±–∏—Ç–∏ –Ω–µ–±–µ–∑–ø–µ—á–Ω–µ —Ä—É—á–Ω–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤, —Å–ø–æ–¥—ñ–≤–∞—é—á–∏—Å—å, —â–æ —Ç–∏–ø —î –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º.
>
> ```java
> List list = new ArrayList();
> list.add("hello");
> Integer num = (Integer) list.get(0); // –ö–∏–Ω–µ ClassCastException
> ```
>
> **–ü—ñ—Å–ª—è –ø–æ—è–≤–∏ –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤:**
> –í–∏ –º–æ–∂–µ—Ç–µ –≤–∫–∞–∑–∞—Ç–∏, —â–æ —Å–∞–º–µ –±—É–¥–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è –≤ –∫–æ–ª–µ–∫—Ü—ñ—ó (`List<String>`). –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –ø–µ—Ä–µ–≤—ñ—Ä—è—î –≤—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, —ñ —Å–ø—Ä–æ–±–∞ –¥–æ–¥–∞—Ç–∏ –æ–±'—î–∫—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø—É –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ **–ø–æ–º–∏–ª–∫–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó**.
>
> ```java
> List<String> list = new ArrayList<>();
> // list.add(123); // –ü–û–ú–ò–õ–ö–ê –ö–û–ú–ü–Ü–õ–Ø–¶–Ü–á
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∫–ª—é—á–æ–≤–æ—ó –º–µ—Ç–∏ –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤ ‚Äî –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ –∑ —Ä–∞–Ω—Ç–∞–π–º—É –≤ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—é.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —É —á–æ–º—É —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ `List`, `List<Object>` —Ç–∞ `List<?>`.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ —Ç—Ä–∏ —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏, —è–∫—ñ –º–∞—é—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω–æ —Ä—ñ–∑–Ω—É —Å–µ–º–∞–Ω—Ç–∏–∫—É —Ç–∞ —Ä—ñ–≤–µ–Ω—å —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ:
>
> 1. **`List` (—Å–∏—Ä–∏–π —Ç–∏–ø, raw type):**
>     * –¶–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `List` –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü—ñ—ó. –î–ª—è –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞ **—Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–º–∫–Ω–µ–Ω–∞**. –í–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞–≤–∞—Ç–∏ –≤ —Ç–∞–∫–∏–π —Å–ø–∏—Å–æ–∫ –æ–±'—î–∫—Ç–∏ –±—É–¥—å-—è–∫–æ–≥–æ —Ç–∏–ø—É —ñ –ø—Ä–∏—Å–≤–æ—é–≤–∞—Ç–∏ –π–æ–º—É `List<String>` —á–∏ `List<Integer>`, —â–æ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ. –Ñ —Å–ø–∞–¥—â–∏–Ω–æ—é –¥–ª—è –∑–≤–æ—Ä–æ—Ç–Ω–æ—ó —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ.
>
> 2. **`List<Object>` (–ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–∏–π —Ç–∏–ø):**
>     * –¶–µ **—Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏–π** —Å–ø–∏—Å–æ–∫, —è–∫–∏–π –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ –æ–±'—î–∫—Ç–∏ **–±—É–¥—å-—è–∫–æ–≥–æ —Ç–∏–ø—É**.
>     * –í–∞–∂–ª–∏–≤–æ: `List<String>` **–Ω–µ —î** –ø—ñ–¥—Ç–∏–ø–æ–º `List<Object>`. –í–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –ø—Ä–∏—Å–≤–æ—ó—Ç–∏ `List<String>` –∑–º—ñ–Ω–Ω—ñ–π —Ç–∏–ø—É `List<Object>`.
>
> 3. **`List<?>` (wildcard):**
>     * –¶–µ **—Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏–π** —Å–ø–∏—Å–æ–∫, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –µ–ª–µ–º–µ–Ω—Ç–∏ **—è–∫–æ–≥–æ—Å—å –æ–¥–Ω–æ–≥–æ, –∞–ª–µ –Ω–µ–≤—ñ–¥–æ–º–æ–≥–æ —Ç–∏–ø—É**.
>     * –í—ñ–Ω —î **—Å—É–ø–µ—Ä—Ç–∏–ø–æ–º** –¥–ª—è –≤—Å—ñ—Ö `List<T>`. –í–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–∏—Å–≤–æ—ó—Ç–∏ `List<String>` –∞–±–æ `List<Integer>` –∑–º—ñ–Ω–Ω—ñ–π —Ç–∏–ø—É `List<?>`.
>     * **–û–±–º–µ–∂–µ–Ω–Ω—è:** –í `List<?>` **–Ω–µ –º–æ–∂–Ω–∞ –Ω—ñ—á–æ–≥–æ –¥–æ–¥–∞—Ç–∏** (–∫—Ä—ñ–º `null`), —Ç–æ–º—É —â–æ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –Ω–µ –∑–Ω–∞—î, —è–∫–∏–π —Å–∞–º–µ —Ç–∏–ø —î –±–µ–∑–ø–µ—á–Ω–∏–º.
>
> **–ö–æ—Ä–æ—Ç–∫–æ:** `List` ‚Äî –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ, `List<Object>` ‚Äî —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏–π –≥–µ—Ç–µ—Ä–æ–≥–µ–Ω–Ω–∏–π —Å–ø–∏—Å–æ–∫, `List<?>` ‚Äî —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏–π, –∞–ª–µ –Ω–µ–≤—ñ–¥–æ–º–æ–≥–æ —Ç–∏–ø—É (–ø–µ—Ä–µ–≤–∞–∂–Ω–æ —Ç—ñ–ª—å–∫–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Å–µ–º–∞–Ω—Ç–∏–∫–∏ –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤, wildcards —Ç–∞ —Å–∏—Ä–∏—Ö —Ç–∏–ø—ñ–≤. –¶–µ –æ–¥–Ω–µ –∑ –∫–ª—é—á–æ–≤–∏—Ö –ø–∏—Ç–∞–Ω—å –Ω–∞ —Ç–µ–º—É.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ (Type Erasure) —ñ —è–∫ –≤–æ–Ω–æ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –∫–æ–ª–µ–∫—Ü—ñ—ó?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–°—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤** ‚Äî —Ü–µ –ø—Ä–æ—Ü–µ—Å, –ø—ñ–¥ —á–∞—Å —è–∫–æ–≥–æ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä Java **–≤–∏–¥–∞–ª—è—î** –≤—Å—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –¥–∂–µ–Ω–µ—Ä–∏–∫-—Ç–∏–ø–∏ –ø—ñ—Å–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ.
>
> **–Ø–∫ —Ü–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –∫–æ–ª–µ–∫—Ü—ñ—ó:**
>
> 1. **–í—Ç—Ä–∞—Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –≤ —Ä–∞–Ω—Ç–∞–π–º—ñ:** –£ –±–∞–π—Ç-–∫–æ–¥—ñ `List<String>`, `List<Integer>` —ñ —Å–∏—Ä–∏–π `List` –≤–∏–≥–ª—è–¥–∞—é—Ç—å **–æ–¥–Ω–∞–∫–æ–≤–æ** ‚Äî –ø—Ä–æ—Å—Ç–æ —è–∫ `List`. JVM –Ω–µ –∑–Ω–∞—î –ø—Ä–æ —Ç–∏–ø–∏-–ø–∞—Ä–∞–º–µ—Ç—Ä–∏. `new ArrayList<String>().getClass() == new ArrayList<Integer>().getClass()` –ø–æ–≤–µ—Ä–Ω–µ `true`.
>
> 2. **–ù–µ—è–≤–Ω–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤:** –ö–æ–ª–∏ –≤–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –µ–ª–µ–º–µ–Ω—Ç –∑ –∫–æ–ª–µ–∫—Ü—ñ—ó ( `list.get(0)`), –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞—î –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è –¥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ–≥–æ —Ç–∏–ø—É (`(String)`), –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó –≤—ñ–Ω "–ø–∞–º'—è—Ç–∞—î", —â–æ —Ü–µ `List<String>`.
>
> 3. **–ù–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä–∏—Ç–∏ –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤:** –û–±–º–µ–∂–µ–Ω–Ω—è `new T[]` —î –ø—Ä—è–º–∏–º –Ω–∞—Å–ª—ñ–¥–∫–æ–º —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤.
>
> –û—Å–Ω–æ–≤–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è —Ü—å–æ–≥–æ –º–µ—Ö–∞–Ω—ñ–∑–º—É ‚Äî **–∑–≤–æ—Ä–æ—Ç–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å** –∑—ñ —Å—Ç–∞—Ä–∏–º –∫–æ–¥–æ–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ "–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º" —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ —Ç–∞ —è–∫—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è —Ü–µ –Ω–∞–∫–ª–∞–¥–∞—î.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –æ–∑–Ω–∞—á–∞—î –ø—Ä–∞–≤–∏–ª–æ PECS —ñ —è–∫ –π–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –¥–æ –∫–æ–ª–µ–∫—Ü—ñ–π? –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **PECS** ‚Äî —Ü–µ –º–Ω–µ–º–æ–Ω—ñ—á–Ω–µ –ø—Ä–∞–≤–∏–ª–æ ("Producer Extends, Consumer Super"), —è–∫–µ –¥–æ–ø–æ–º–∞–≥–∞—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–±–º–µ–∂–µ–Ω—ñ –º–∞—Å–∫–∏ (`bounded wildcards`) –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥–Ω—É—á–∫–æ–≥–æ API.
>
> * **Producer Extends (`? extends T`):**
>   * –Ø–∫—â–æ –≤–∞—à–∞ –∫–æ–ª–µ–∫—Ü—ñ—è –≤–∏—Å—Ç—É–ø–∞—î –≤ —Ä–æ–ª—ñ **–≤–∏—Ä–æ–±–Ω–∏–∫–∞ (producer)**, —Ç–æ–±—Ç–æ –≤–∏ –∑ –Ω–µ—ó –ø–µ—Ä–µ–≤–∞–∂–Ω–æ **—á–∏—Ç–∞—î—Ç–µ (–æ—Ç—Ä–∏–º—É—î—Ç–µ)** –¥–∞–Ω—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `extends`.
>   * `List<? extends Number>` –¥–æ–∑–≤–æ–ª—è—î –≤–∞–º –±–µ–∑–ø–µ—á–Ω–æ —á–∏—Ç–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ —è–∫ `Number`, –∞–ª–µ –∑–∞–±–æ—Ä–æ–Ω—è—î –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ.
>
> * **Consumer Super (`? super T`):**
>   * –Ø–∫—â–æ –≤–∞—à–∞ –∫–æ–ª–µ–∫—Ü—ñ—è –≤–∏—Å—Ç—É–ø–∞—î –≤ —Ä–æ–ª—ñ **—Å–ø–æ–∂–∏–≤–∞—á–∞ (consumer)**, —Ç–æ–±—Ç–æ –≤–∏ –≤ –Ω–µ—ó –ø–µ—Ä–µ–≤–∞–∂–Ω–æ **–∑–∞–ø–∏—Å—É—î—Ç–µ (–¥–æ–¥–∞—î—Ç–µ)** –¥–∞–Ω—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `super`.
>   * `List<? super Integer>` –¥–æ–∑–≤–æ–ª—è—î –≤–∞–º –±–µ–∑–ø–µ—á–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ `Integer`-–∏, –∞–ª–µ —á–∏—Ç–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –º–æ–∂–Ω–∞ —Ç—ñ–ª—å–∫–∏ —è–∫ `Object`.
>
> **–ü—Ä–∏–∫–ª–∞–¥ –∑ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è–º:**
>
> ```java
> public static <T> void copy(List<? extends T> src, List<? super T> dest) {
>     for (T item : src) { // `src` - –≤–∏—Ä–æ–±–Ω–∏–∫, —Ç–æ–º—É extends
>         dest.add(item);   // `dest` - —Å–ø–æ–∂–∏–≤–∞—á, —Ç–æ–º—É super
>     }
> }
>
> List<Integer> ints = List.of(1, 2);
> List<Number> nums = new ArrayList<>();
> copy(ints, nums); // –ö–æ–ø—ñ—é—î–º–æ –∑ List<Integer> –≤ List<Number>
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ç–∞ –≤–º—ñ–Ω–Ω—è –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø PECS, —â–æ —î –æ–∑–Ω–∞–∫–æ—é –≥–ª–∏–±–æ–∫–æ–≥–æ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤ —ñ wildcards.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å `ArrayList`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `ArrayList` –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º **–Ω–µ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º**. –Ü—Å–Ω—É—î –∫—ñ–ª—å–∫–∞ —Å–ø–æ—Å–æ–±—ñ–≤ –∑—Ä–æ–±–∏—Ç–∏ –π–æ–≥–æ —Ç–∞–∫–∏–º:
>
> 1. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `Collections.synchronizedList()`:**
>     * –¶–µ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–±. –í—ñ–Ω —Å—Ç–≤–æ—Ä—é—î **–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—É –æ–±–≥–æ—Ä—Ç–∫—É (wrapper)** –Ω–∞–¥ —ñ—Å–Ω—É—é—á–∏–º `ArrayList`. –ö–æ–∂–µ–Ω –º–µ—Ç–æ–¥ —Ü—ñ—î—ó –æ–±–≥–æ—Ä—Ç–∫–∏ (`add`, `get` —Ç–æ—â–æ) —î `synchronized`.
>
>     ```java
>     List<String> list = new ArrayList<>();
>     List<String> syncList = Collections.synchronizedList(list);
>     ```
>
>     * **–ù–µ–¥–æ–ª—ñ–∫:** –Ü—Ç–µ—Ä–∞—Ü—ñ—è –ø–æ —Ç–∞–∫—ñ–π –∫–æ–ª–µ–∫—Ü—ñ—ó –≤—Å–µ —â–µ **–Ω–µ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é** —ñ –≤–∏–º–∞–≥–∞—î –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó.
>
> 2. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `CopyOnWriteArrayList`:**
>
>     * –¶–µ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –∫–ª–∞—Å –∑ `java.util.concurrent`.
>     * –ü—Ä–∏ –∫–æ–∂–Ω—ñ–π **–æ–ø–µ—Ä–∞—Ü—ñ—ó –∑–∞–ø–∏—Å—É** (`add`, `remove`) –≤—ñ–Ω —Å—Ç–≤–æ—Ä—é—î **–ø–æ–≤–Ω—É –∫–æ–ø—ñ—é** –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –º–∞—Å–∏–≤—É. –¶–µ —Ä–æ–±–∏—Ç—å –∑–∞–ø–∏—Å "–¥–æ—Ä–æ–≥–∏–º".
>     * **–ü–µ—Ä–µ–≤–∞–≥–∞:** **–û–ø–µ—Ä–∞—Ü—ñ—ó —á–∏—Ç–∞–Ω–Ω—è** —î –¥—É–∂–µ —à–≤–∏–¥–∫–∏–º–∏, –Ω–µ –≤–∏–º–∞–≥–∞—é—Ç—å –±–ª–æ–∫—É–≤–∞–Ω—å. –Ü—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –Ω—å–æ–≥–æ —î **`fail-safe`** (–Ω–µ –∫–∏–¥–∞—î `ConcurrentModificationException`).
>     * **–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –Ü–¥–µ–∞–ª—å–Ω–∏–π –¥–ª—è —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤, –¥–µ **–∫—ñ–ª—å–∫—ñ—Å—Ç—å —á–∏—Ç–∞–Ω—å –∑–Ω–∞—á–Ω–æ –ø–µ—Ä–µ–≤–∏—â—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è `listeners`).
>
> 3. **–†—É—á–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±–ª–æ–∫–∏ `synchronized` –∞–±–æ `Lock`-–∏ –ø—Ä–∏ –¥–æ—Å—Ç—É–ø—ñ –¥–æ –∫–æ–ª–µ–∫—Ü—ñ—ó. –¶–µ –¥–∞—î –Ω–∞–π–±—ñ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—é, –∞–ª–µ —î —Å—Ö–∏–ª—å–Ω–∏–º –¥–æ –ø–æ–º–∏–ª–æ–∫.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–º–ø—Ä–æ–º—ñ—Å—ñ–≤ –∫–æ–∂–Ω–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É (–∑–æ–∫—Ä–µ–º–∞, —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ `synchronizedList` —Ç–∞ `CopyOnWriteArrayList`).*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –ø—Ä–∏–º—ñ—Ç–∏–≤–∏ (`int`, `double`) –≤ `ArrayList`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–ø—Ä—è–º—É ‚Äî **–Ω—ñ**. –ö–æ–ª–µ–∫—Ü—ñ—ó, –≤–∫–ª—é—á–∞—é—á–∏ `ArrayList`, –º–æ–∂—É—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ **–æ–±'—î–∫—Ç–∏**.
>
> –û–¥–Ω–∞–∫ –∑–∞–≤–¥—è–∫–∏ –º–µ—Ö–∞–Ω—ñ–∑–º—É **–∞–≤—Ç–æ–±–æ–∫—Å–∏–Ω–≥—É (autoboxing)**, –≤–≤–µ–¥–µ–Ω–æ–º—É –≤ Java 5, —Ä–æ–±–æ—Ç–∞ –∑ –ø—Ä–∏–º—ñ—Ç–∏–≤–∞–º–∏ –≤–∏–≥–ª—è–¥–∞—î "–±–µ–∑—à–æ–≤–Ω–æ—é".
>
> –ö–æ–ª–∏ –≤–∏ –Ω–∞–º–∞–≥–∞—î—Ç–µ—Å—è –¥–æ–¥–∞—Ç–∏ –ø—Ä–∏–º—ñ—Ç–∏–≤ —É –∫–æ–ª–µ–∫—Ü—ñ—é, Java –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ "–æ–±–≥–æ—Ä—Ç–∞—î" –π–æ–≥–æ —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π –∫–ª–∞—Å-–æ–±–≥–æ—Ä—Ç–∫—É:
>
> ```java
> List<Integer> numbers = new ArrayList<>();
> numbers.add(10); // –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î —Ü–µ –Ω–∞: numbers.add(Integer.valueOf(10));
> ```
>
> –Ü –Ω–∞–≤–ø–∞–∫–∏, –ø—Ä–∏ —á–∏—Ç–∞–Ω–Ω—ñ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è **–∞–Ω–±–æ–∫—Å–∏–Ω–≥**:
> `int myInt = numbers.get(0);` // –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î –Ω–∞: `numbers.get(0).intValue();`
>
> –•–æ—á–∞ —Ü–µ –∑—Ä—É—á–Ω–æ, –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–∞–º'—è—Ç–∞—Ç–∏, —â–æ –∫–æ–∂–Ω–∞ —Ç–∞–∫–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç–∏, —â–æ –º–æ–∂–µ –≤–ø–ª–∏–Ω—É—Ç–∏ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –æ–±–º–µ–∂–µ–Ω–Ω—è –∫–æ–ª–µ–∫—Ü—ñ–π (—Ç—ñ–ª—å–∫–∏ –æ–±'—î–∫—Ç–∏) —Ç–∞ —Ä–æ–ª—ñ –∞–≤—Ç–æ–±–æ–∫—Å–∏–Ω–≥—É —è–∫ "—Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–æ–≥–æ —Ü—É–∫—Ä—É" –¥–ª—è –æ–±—Ö–æ–¥—É —Ü—å–æ–≥–æ –æ–±–º–µ–∂–µ–Ω–Ω—è.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–ø–∏—à—ñ—Ç—å –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–µ—Ç–æ–¥, —è–∫–∏–π –ø—Ä–∏–π–º–∞—î `List<? extends Number>` —ñ –ø–æ–≤–µ—Ä—Ç–∞—î —Å—É–º—É —ó—ó –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —è–∫ `double`. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> ```java
> import java.util.List;
>
> public class Calculator {
>
>     // `List<? extends Number>` –æ–∑–Ω–∞—á–∞—î, —â–æ –º–∏ –º–æ–∂–µ–º–æ –ø—Ä–∏–π–Ω—è—Ç–∏
>     // List<Integer>, List<Double> —ñ —Ç.–¥.
>     // –¶–µ "Producer" (–º–∏ —á–∏—Ç–∞—î–º–æ –∑ –Ω—å–æ–≥–æ), —Ç–æ–º—É `extends`.
>     public static double sumOfList(List<? extends Number> list) {
>         double sum = 0.0;
>         // –ú–∏ –º–æ–∂–µ–º–æ –±–µ–∑–ø–µ—á–Ω–æ —ñ—Ç–µ—Ä—É–≤–∞—Ç–∏ –ø–æ –µ–ª–µ–º–µ–Ω—Ç–∞—Ö,
>         // –±–æ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –∑–Ω–∞—î, —â–æ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç - —Ü–µ Number.
>         for (Number n : list) {
>             // –Ü –º–æ–∂–µ–º–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –º–µ—Ç–æ–¥–∏ –∫–ª–∞—Å—É Number
>             sum += n.doubleValue();
>         }
>         return sum;
>     }
>
>     public static void main(String[] args) {
>         List<Integer> ints = List.of(1, 2, 3);
>         List<Double> doubles = List.of(1.5, 2.5);
>         System.out.println(sumOfList(ints));     // 6.0
>         System.out.println(sumOfList(doubles)); // 4.0
>     }
> }
> ```
>
> –¶–µ–π –ø—Ä–∏–∫–ª–∞–¥ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å `extends`-wildcards –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥–Ω—É—á–∫–∏—Ö —É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü—Ä–∞–∫—Ç–∏—á–Ω–µ –≤–º—ñ–Ω–Ω—è –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ bounded wildcards –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –∫–æ—Ä–∏—Å–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —á–æ–º—É —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º —Å–ø–∏—Å–∫—É —á–µ—Ä–µ–∑ `new ArrayList<>()` —Ç–∞ `Collections.emptyList()`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> * **`new ArrayList<>()`:**
>   * –°—Ç–≤–æ—Ä—é—î **–Ω–æ–≤–∏–π, –ø–æ—Ä–æ–∂–Ω—ñ–π, –∑–º—ñ–Ω—é–≤–∞–Ω–∏–π (mutable)** –æ–±'—î–∫—Ç `ArrayList`.
>   * –í–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞–≤–∞—Ç–∏ –≤ –Ω—å–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∏, –≤–∏–¥–∞–ª—è—Ç–∏ —ó—Ö —ñ —Ç.–¥.
>   * –ö–æ–∂–µ–Ω –≤–∏–∫–ª–∏–∫ —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä.
>
> * **`Collections.emptyList()`:**
>   * –ü–æ–≤–µ—Ä—Ç–∞—î **—î–¥–∏–Ω–∏–π, –Ω–µ–∑–º—ñ–Ω–Ω–∏–π (immutable)** –ø–æ—Ä–æ–∂–Ω—ñ–π —Å–ø–∏—Å–æ–∫.
>   * –ë—É–¥—å-—è–∫–∞ —Å–ø—Ä–æ–±–∞ –∑–º—ñ–Ω–∏—Ç–∏ —Ü–µ–π —Å–ø–∏—Å–æ–∫ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `add()`) –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ `UnsupportedOperationException`.
>   * –Ñ **–¥—É–∂–µ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º**, –æ—Å–∫—ñ–ª—å–∫–∏ –∑–∞–≤–∂–¥–∏ –ø–æ–≤–µ—Ä—Ç–∞—î —Ç–æ–π —Å–∞–º–∏–π, –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä. –ù–µ —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤.
>
> **–ö–æ–ª–∏ —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**
>
> * –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `new ArrayList<>()`, –∫–æ–ª–∏ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω **—Å–ø–∏—Å–æ–∫, —è–∫–∏–π –≤–∏ –∑–±–∏—Ä–∞—î—Ç–µ—Å—è –Ω–∞–ø–æ–≤–Ω—é–≤–∞—Ç–∏ —Ç–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏**.
> * –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `Collections.emptyList()`, –∫–æ–ª–∏ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –∑ –º–µ—Ç–æ–¥—É –ø–æ—Ä–æ–∂–Ω—ñ–π —Å–ø–∏—Å–æ–∫ **–≤ —è–∫–æ—Å—Ç—ñ "–∑–∞–≥–ª—É—à–∫–∏" –∞–±–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏**, —ñ –≤–∏ —Ö–æ—á–µ—Ç–µ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏, —â–æ –≤—ñ–Ω –Ω–µ –±—É–¥–µ –∑–º—ñ–Ω–µ–Ω–∏–π. –¶–µ —Ç–∞–∫–æ–∂ –ø–æ–∫—Ä–∞—â—É—î –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –∑–º—ñ–Ω—é–≤–∞–Ω–∏–º–∏ —Ç–∞ –Ω–µ–∑–º—ñ–Ω–Ω–∏–º–∏ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏. –ó–Ω–∞–Ω–Ω—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ–π, –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –≤ `Collections`.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `fail-fast` —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∏ –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∞–º–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–ø—Ä—è–º—É `fail-fast` —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∏ —Ç–∞ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ –Ω–µ –ø–æ–≤'—è–∑–∞–Ω—ñ. `fail-fast` ‚Äî —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º –≤–∏—è–≤–ª–µ–Ω–Ω—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—ó –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, –∞ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ ‚Äî –º–µ—Ö–∞–Ω—ñ–∑–º —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ.
>
> **–û–¥–Ω–∞–∫ –≤–æ–Ω–∏ –ø—Ä–∞—Ü—é—é—Ç—å —Ä–∞–∑–æ–º –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–∞–¥—ñ–π–Ω–æ–≥–æ –∫–æ–¥—É:**
>
> * **–î–∂–µ–Ω–µ—Ä—ñ–∫–∏** –∑–∞—Ö–∏—â–∞—é—Ç—å –≤—ñ–¥ –ø–æ–º–∏–ª–æ–∫ —Ç–∏–ø—ñ–≤ **–Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó**. `List<String> list = ...; list.add(123);` ‚Äî –Ω–µ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è.
> * **`fail-fast`** –∑–∞—Ö–∏—â–∞—î –≤—ñ–¥ –ª–æ–≥—ñ—á–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫ **–ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**.
>
>     ```java
>     List<String> list = new ArrayList<>();
>     // ...
>     for (String s : list) {
>         list.remove(s); // `ConcurrentModificationException` –≤ runtime
>     }
>     ```
>
> –î–∂–µ–Ω–µ—Ä—ñ–∫–∏ –Ω–µ –º–æ–∂—É—Ç—å –∑–∞–ø–æ–±—ñ–≥—Ç–∏ —Ç–∞–∫—ñ–π –ø–æ–º–∏–ª—Ü—ñ, –±–æ –æ–ø–µ—Ä–∞—Ü—ñ—è `list.remove(s)` —î —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ—é. –ê–ª–µ `fail-fast` —ñ—Ç–µ—Ä–∞—Ç–æ—Ä, —è–∫–∏–π –Ω–µ—è–≤–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è `for-each` —Ü–∏–∫–ª–æ–º, –≤–∏—è–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—É –∑–º—ñ–Ω—É –∫–æ–ª–µ–∫—Ü—ñ—ó —ñ –ø–æ–≤—ñ–¥–æ–º–∏—Ç—å –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º—É.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, —Ü–µ –¥–≤–∞ **–Ω–µ–∑–∞–ª–µ–∂–Ω–∏—Ö, –∞–ª–µ –¥–æ–ø–æ–≤–Ω—é—é—á–∏—Ö** –æ–¥–∏–Ω –æ–¥–Ω–æ–≥–æ –º–µ—Ö–∞–Ω—ñ–∑–º–∏, —è–∫—ñ —Ä–æ–±–ª—è—Ç—å —Ä–æ–±–æ—Ç—É –∑ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏ –±—ñ–ª—å—à –Ω–∞–¥—ñ–π–Ω–æ—é.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å —Ä–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏ —Ä—ñ–∑–Ω—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –∑–∞—Ö–∏—Å—Ç—É –≤ –∫–æ–ª–µ–∫—Ü—ñ—è—Ö —ñ —Ä–æ–∑—É–º—ñ—Ç–∏ —ó—Ö–Ω—é –º–µ—Ç—É.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ `Collection.toArray(T[] a)` —ñ —á–æ–º—É –≤—ñ–Ω –∫—Ä–∞—â–∏–π –∑–∞ `toArray()`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> * `toArray()` (–±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤): –ü–æ–≤–µ—Ä—Ç–∞—î `Object[]`. –ù–µ—Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏–π, –≤–∏–º–∞–≥–∞—î —Ä—É—á–Ω–æ–≥–æ –∫–∞—Å—Ç–∏–Ω–≥—É.
> * `toArray(T[] a)`: –¶–µ –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–µ—Ç–æ–¥, –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è **—Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ** –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ª–µ–∫—Ü—ñ—ó –≤ –º–∞—Å–∏–≤.
>
> **–Ø–∫ –≤—ñ–Ω –ø—Ä–∞—Ü—é—î:**
>
> 1. –í–∏ –ø–µ—Ä–µ–¥–∞—î—Ç–µ –≤ –Ω—å–æ–≥–æ –º–∞—Å–∏–≤-—à–∞–±–ª–æ–Ω —Ç–æ–≥–æ —Ç–∏–ø—É, —è–∫–∏–π –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω.
> 2. **–Ø–∫—â–æ –ø–µ—Ä–µ–¥–∞–Ω–∏–π –º–∞—Å–∏–≤ `a` –¥–æ—Å—Ç–∞—Ç–Ω—å–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É,** —â–æ–± –≤–º—ñ—Å—Ç–∏—Ç–∏ –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—ó, –≤—ñ–Ω –±—É–¥–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–∏–π –Ω–∏–º–∏, —ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ü–µ–π —Å–∞–º–∏–π –º–∞—Å–∏–≤ –±—É–¥–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–æ.
> 3. **–Ø–∫—â–æ –ø–µ—Ä–µ–¥–∞–Ω–∏–π –º–∞—Å–∏–≤ `a` –∑–∞–º–∞–ª–∏–π,** –º–µ—Ç–æ–¥ **—Å—Ç–≤–æ—Ä–∏—Ç—å –Ω–æ–≤–∏–π –º–∞—Å–∏–≤ —Ç–æ–≥–æ –∂ —Å–∞–º–æ–≥–æ —Ç–∏–ø—É, —â–æ –π `a`**, –∞–ª–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É, —ñ –∑–∞–ø–æ–≤–Ω–∏—Ç—å –π–æ–≥–æ.
>
> **–Ü–¥—ñ–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
> `List<String> list = ...;`
> `String[] array = list.toArray(new String[0]);`
>
> –ü–µ—Ä–µ–¥–∞—á–∞ –º–∞—Å–∏–≤—É –Ω—É–ª—å–æ–≤–æ—ó –¥–æ–≤–∂–∏–Ω–∏ —î –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º –ø–æ–≤—ñ–¥–æ–º–∏—Ç–∏ –º–µ—Ç–æ–¥—É –±–∞–∂–∞–Ω–∏–π —Ç–∏–ø, –Ω–µ –≤–∏–¥—ñ–ª—è—é—á–∏ –∑–∞–π–≤–æ—ó –ø–∞–º'—è—Ç—ñ. –¶–µ —î–¥–∏–Ω–∏–π –Ω–∞–¥—ñ–π–Ω–∏–π —Å–ø–æ—Å—ñ–± –æ–±—ñ–π—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –º–∞—Å–∏–≤—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è API –∫–æ–ª–µ–∫—Ü—ñ–π —Ç–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö —ñ–¥—ñ–æ–º –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑—ñ —Å—Ç–∏—Ä–∞–Ω–Ω—è–º —Ç–∏–ø—ñ–≤.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≥–µ—Ç–µ—Ä–æ–≥–µ–Ω–Ω—É, –∞–ª–µ —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—É –∫–æ–ª–µ–∫—Ü—ñ—é –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è —Ü—å–æ–≥–æ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø–∞—Ç–µ—Ä–Ω **—Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ –≥–µ—Ç–µ—Ä–æ–≥–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (typesafe heterogeneous container)**, –æ–ø–∏—Å–∞–Ω–∏–π —É "Effective Java".
>
> –Ü–¥–µ—è –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ–± –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **`Class<T>` —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–∏–π –∫–ª—é—á** —É –º–∞–ø—ñ.
>
> **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
>
> ```java
> public class Favorites {
>     private Map<Class<?>, Object> favorites = new HashMap<>();
>
>     // –ö–ª—é—á - —Ü–µ Class<T>, –∑–Ω–∞—á–µ–Ω–Ω—è - –µ–∫–∑–µ–º–ø–ª—è—Ä T
>     public <T> void putFavorite(Class<T> type, T instance) {
>         favorites.put(type, type.cast(instance));
>     }
>
>     public <T> T getFavorite(Class<T> type) {
>         return type.cast(favorites.get(type)); // type.cast() —Ä–æ–±–∏—Ç—å –±–µ–∑–ø–µ—á–Ω–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è
>     }
> }
> ```
>
> **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
>
> ```java
> Favorites f = new Favorites();
> f.putFavorite(String.class, "Java");
> f.putFavorite(Integer.class, 42);
>
> String s = f.getFavorite(String.class); // OK, –±–µ–∑ —Ä—É—á–Ω–∏—Ö –∫–∞—Å—Ç—ñ–≤
> Integer i = f.getFavorite(Integer.class); // OK
> ```
>
> –¶–µ–π –ø–∞—Ç–µ—Ä–Ω –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —è–∫ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω—ñ —Ç–æ–∫–µ–Ω–∏ —Ç–∏–ø—ñ–≤ (`Class<T>`) –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥—É–∂–µ –≥–Ω—É—á–∫–∏—Ö, –∞–ª–µ —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–∏—Ö, –¥–æ–ª–∞—é—á–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –ø—Ä–æ—Å—É–Ω—É—Ç–∏—Ö –ø–∞—Ç–µ—Ä–Ω—ñ–≤. –ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–æ—è—Å–Ω–∏—Ç–∏, —è–∫ `Class<T>` –º–æ–∂–µ —Å–ª—É–≥—É–≤–∞—Ç–∏ —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏–º –∫–ª—é—á–µ–º.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–†–æ–∑–≥–ª—è–Ω–µ–º–æ `Collections.checkedList(List<E> list, Class<E> type)`. –Ø–∫—É –ø—Ä–æ–±–ª–µ–º—É –≤—ñ–Ω –≤–∏—Ä—ñ—à—É—î —ñ –¥–æ —è–∫–æ–≥–æ –ø–∞—Ç–µ—Ä–Ω—É –≤—ñ–Ω –Ω–∞–ª–µ–∂–∏—Ç—å? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `Collections.checkedList` –≤–∏—Ä—ñ—à—É—î –ø—Ä–æ–±–ª–µ–º—É –±–µ–∑–ø–µ–∫–∏ –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ **—Å–∏—Ä–∏–º–∏ —Ç–∏–ø–∞–º–∏ (raw types)**.
>
> **–ü—Ä–æ–±–ª–µ–º–∞:**
> –Ø–∫—â–æ –≤–∏ –ø–µ—Ä–µ–¥–∞—î—Ç–µ —Å–≤–æ—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω—É –∫–æ–ª–µ–∫—Ü—ñ—é (`List<Integer>`) –≤ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–π –∫–æ–¥, —è–∫–∏–π –ø—Ä–∞—Ü—é—î –∑ —Å–∏—Ä–∏–º `List`, —Ü–µ–π –∫–æ–¥ –º–æ–∂–µ –ø–æ–º–∏–ª–∫–æ–≤–æ –¥–æ–¥–∞—Ç–∏ —Ç—É–¥–∏ –æ–±'—î–∫—Ç —ñ–Ω—à–æ–≥–æ —Ç–∏–ø—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `String`). –í–∏ –¥—ñ–∑–Ω–∞—î—Ç–µ—Å—å –ø—Ä–æ —Ü–µ —Ç—ñ–ª—å–∫–∏ –ø—ñ–∑–Ω—ñ—à–µ, –æ—Ç—Ä–∏–º–∞–≤—à–∏ `ClassCastException`.
>
> **–†—ñ—à–µ–Ω–Ω—è:**
>
> `checkedList` –ø–æ–≤–µ—Ä—Ç–∞—î **–¥–∏–Ω–∞–º—ñ—á–Ω–æ —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω—É –æ–±–≥–æ—Ä—Ç–∫—É (wrapper)** –Ω–∞–¥ –≤–∞—à–∏–º —Å–ø–∏—Å–∫–æ–º. –¶—è –æ–±–≥–æ—Ä—Ç–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ç–∏–ø **–∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞, —â–æ –¥–æ–¥–∞—î—Ç—å—Å—è, –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**.
>
> ```java
> List<Integer> myList = new ArrayList<>();
> List<Integer> checkedList = Collections.checkedList(myList, Integer.class);
>
> List raw = checkedList;
> raw.add("oops"); // –ù–µ–≥–∞–π–Ω–æ –∫–∏–Ω–µ ClassCastException —Ç—É—Ç, –∞ –Ω–µ –ø—ñ–∑–Ω—ñ—à–µ!
> ```
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `checkedList` –¥–æ–∑–≤–æ–ª—è—î –≤–∏—è–≤–∏—Ç–∏ –ø–æ–º–∏–ª–∫—É **–Ω–µ–≥–∞–π–Ω–æ** –≤ —Ç–æ–º—É –º—ñ—Å—Ü—ñ, –¥–µ –≤–æ–Ω–∞ –≤–∏–Ω–∏–∫–∞—î.
>
> **–ü–∞—Ç–µ—Ä–Ω:** –¶–µ –ø—Ä–∏–∫–ª–∞–¥ **`Decorator`**. –í—ñ–Ω "–æ–±–≥–æ—Ä—Ç–∞—î" —ñ—Å–Ω—É—é—á–∏–π —Å–ø–∏—Å–æ–∫ —ñ –¥–æ–¥–∞—î –Ω–æ–≤—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Ç–∏–ø—É –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –º–µ–Ω—à –ø–æ—à–∏—Ä–µ–Ω–∏—Ö —É—Ç–∏–ª—ñ—Ç –∑ `Collections`. –†–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∏ –∑–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è –∫—É–ø–∏ —Ç–∞ —Å–ø–æ—Å–æ–±—ñ–≤ –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ –Ω–µ—ó.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ "diamond operator" (`<>`) —ñ —á–∏ –º–æ–∂–Ω–∞ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑ –∞–Ω–æ–Ω—ñ–º–Ω–∏–º–∏ –∫–ª–∞—Å–∞–º–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **"Diamond operator" (`<>`)** ‚Äî —Ü–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–∏–π —Ü—É–∫–æ—Ä (–∑ Java 7), —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –Ω–µ –¥—É–±–ª—é–≤–∞—Ç–∏ —Ç–∏–ø–∏-–∞—Ä–≥—É–º–µ–Ω—Ç–∏ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –¥–∂–µ–Ω–µ—Ä–∏–∫-–æ–±'—î–∫—Ç–∞.
> `List<String> list = new ArrayList<>();` (–∑–∞–º—ñ—Å—Ç—å `new ArrayList<String>()`).
>
> **–ß–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑ –∞–Ω–æ–Ω—ñ–º–Ω–∏–º–∏ –∫–ª–∞—Å–∞–º–∏?**
>
> * **–î–æ Java 9:** **–ù—ñ, –Ω–µ –º–æ–∂–Ω–∞ –±—É–ª–æ.** –°–ø—Ä–æ–±–∞ –Ω–∞–ø–∏—Å–∞—Ç–∏ `new MyInterface<>() { ... }` –ø—Ä–∏–∑–≤–æ–¥–∏–ª–∞ –¥–æ –ø–æ–º–∏–ª–∫–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó. –î–æ–≤–æ–¥–∏–ª–æ—Å—è –ø–∏—Å–∞—Ç–∏ –ø–æ–≤–Ω–∏–π —Ç–∏–ø: `new MyInterface<String>() { ... }`.
>
> * **–ü–æ—á–∏–Ω–∞—é—á–∏ –∑ Java 9:** **–¢–∞–∫, –º–æ–∂–Ω–∞.** –¶–µ –æ–¥–Ω–µ –∑ –ø–æ–∫—Ä–∞—â–µ–Ω—å –º–æ–≤–∏. –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä —Ç–µ–ø–µ—Ä –º–æ–∂–µ –≤–∏–≤–æ–¥–∏—Ç–∏ —Ç–∏–ø —ñ –¥–ª—è –∞–Ω–æ–Ω—ñ–º–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤.
>
> **–ü—Ä–∏–∫–ª–∞–¥ (Java 9+):**
>
> ```java
> Comparator<String> caseInsensitive = new Comparator<>() {
>     @Override
>     public int compare(String s1, String s2) {
>         return s1.compareToIgnoreCase(s2);
>     }
> };
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –µ–≤–æ–ª—é—Ü—ñ—ó –º–æ–≤–∏ Java. –£–≤–∞–∂–Ω—ñ—Å—Ç—å –¥–æ –¥–µ—Ç–∞–ª–µ–π, —è–∫—ñ –∑–º—ñ–Ω—é–≤–∞–ª–∏—Å—è –º—ñ–∂ –≤–µ—Ä—Å—ñ—è–º–∏ JDK.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —â–æ —Ç–∞–∫–µ `Object[]` –ø—Ä–æ—Ç–∏ `T[]` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –º–µ—Ç–æ–¥—É `Collection.toArray()`. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ —Ç–µ, —è–∫ –ø–æ–¥–æ–ª–∞—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑—ñ —Å—Ç–∏—Ä–∞–Ω–Ω—è–º —Ç–∏–ø—ñ–≤ —Ç–∞ –º–∞—Å–∏–≤–∞–º–∏.
>
> * **`Object[] toArray()`:**
>   * –¶–µ–π –º–µ—Ç–æ–¥ –ø—Ä–æ—Å—Ç–∏–π, –∞–ª–µ –Ω–µ—Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏–π. –í—ñ–Ω –ø–æ–≤–µ—Ä—Ç–∞—î `Object[]`, –±–æ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–ª–µ–∫—Ü—ñ—è –Ω–µ –∑–Ω–∞—î, –º–∞—Å–∏–≤ —è–∫–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø—É —ó–π –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏.
>   * –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Ç—Ä–µ–±—É—î —Ä—É—á–Ω–æ–≥–æ —ñ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤ (`(String[])`).
>
> * **`<T> T[] toArray(T[] a)`:**
>   * –¶–µ –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–µ—Ç–æ–¥, —è–∫–∏–π –≤–∏—Ä—ñ—à—É—î –ø—Ä–æ–±–ª–µ–º—É. –í—ñ–Ω –ø—Ä–∏–π–º–∞—î **–º–∞—Å–∏–≤-—à–∞–±–ª–æ–Ω `a`**.
>   * **–ú–µ—Ç–∞ —Ü—å–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç—É** ‚Äî –ø–µ—Ä–µ–¥–∞—Ç–∏ –≤ –º–µ—Ç–æ–¥ **—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ç–∏–ø `T` –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**.
>   * –í—Å–µ—Ä–µ–¥–∏–Ω—ñ –º–µ—Ç–æ–¥—É, –æ—Ç—Ä–∏–º–∞–≤—à–∏ —Ü–µ–π –º–∞—Å–∏–≤-—à–∞–±–ª–æ–Ω, Java –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é (`Array.newInstance(a.getClass().getComponentType(), ...)`) –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –º–∞—Å–∏–≤—É **—Ç–æ—á–Ω–æ —Ç–æ–≥–æ –∂ —Å–∞–º–æ–≥–æ —Ç–∏–ø—É**, —â–æ –π `a`.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `toArray(T[] a)` ‚Äî —Ü–µ —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–∏–π "–æ–±—Ö—ñ–¥–Ω–∏–π —à–ª—è—Ö", —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –æ–±'—î–¥–Ω–∞—Ç–∏ —Å–≤—ñ—Ç –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤ (—è–∫—ñ –Ω–µ –∑–Ω–∞—é—Ç—å –ø—Ä–æ —Å–≤–æ—ó —Ç–∏–ø–∏ –≤ —Ä–∞–Ω—Ç–∞–π–º—ñ) —ñ —Å–≤—ñ—Ç –º–∞—Å–∏–≤—ñ–≤ (—è–∫—ñ –∑–æ–±–æ–≤'—è–∑–∞–Ω—ñ –∑–Ω–∞—Ç–∏ –ø—Ä–æ —Å–≤–æ—ó —Ç–∏–ø–∏ –≤ —Ä–∞–Ω—Ç–∞–π–º—ñ).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î—É–∂–µ –≥–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –ø—Ä–∞—Ü—é—î `toArray(T[] a)` "–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º", —Ç–∞ –π–æ–≥–æ —Ä–æ–ª—ñ —è–∫ –º–æ—Å—Ç–∞ –º—ñ–∂ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏ —Ç–∞ —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω–∏–º–∏ –º–∞—Å–∏–≤–∞–º–∏.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–ø–∏—à—ñ—Ç—å –∫–æ–¥, —è–∫–∏–π –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —è–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ `ClassCastException` —á–µ—Ä–µ–∑ –∑–º—ñ—à—É–≤–∞–Ω–Ω—è —Å–∏—Ä–∏—Ö —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö —Ç–∏–ø—ñ–≤, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –Ω–µ–º–∞—î –∂–æ–¥–Ω–æ–≥–æ —è–≤–Ω–æ–≥–æ –∫–∞—Å—Ç–∏–Ω–≥—É —É –≤–∞—à–æ–º—É –∫–æ–¥—ñ. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –º–æ–∂–ª–∏–≤–æ, –∫–æ–ª–∏ –Ω–µ—è–≤–Ω–∏–π –∫–∞—Å—Ç–∏–Ω–≥, –¥–æ–¥–∞–Ω–∏–π –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–æ–º, –¥–∞—î –∑–±—ñ–π.
>
> ```java
> import java.util.ArrayList;
> import java.util.List;
>
> public class HiddenCastException {
>
>     // –£—è–≤—ñ–º–æ, —â–æ —Ü–µ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–π –º–µ—Ç–æ–¥, —è–∫–∏–π –ø—Ä–∞—Ü—é—î –∑ —Å–∏—Ä–∏–º List
>     public static void corrupt(List list) {
>         list.add(123); // –î–æ–¥–∞—î–º–æ Integer
>     }
>
>     public static void main(String[] args) {
>         List<String> strings = new ArrayList<>();
>         strings.add("hello");
>
>         // –ü–µ—Ä–µ–¥–∞—î–º–æ –Ω–∞—à —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏–π —Å–ø–∏—Å–æ–∫ —É –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–π –º–µ—Ç–æ–¥
>         corrupt(strings);
>
>         // –¢—É—Ç –Ω–µ–º–∞—î —è–≤–Ω–æ–≥–æ –∫–∞—Å—Ç–∏–Ω–≥—É!
>         // –ê–ª–µ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä "–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º" –¥–æ–¥–∞—î –π–æ–≥–æ, –±–æ –∑–Ω–∞—î, —â–æ —Ü–µ List<String>
>         // —ñ —Ü–∏–∫–ª for-each –æ—á—ñ–∫—É—î String.
>         // –ö–æ–¥ –Ω–∏–∂—á–µ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–∏–π: for (Iterator it = strings.iterator(); it.hasNext();) { String s = (String) it.next(); ... }
>         for (String s : strings) {
>             // –¶–µ–π —Ä—è–¥–æ–∫ –≤–ø–∞–¥–µ –Ω–∞ –¥—Ä—É–≥–æ–º—É –µ–ª–µ–º–µ–Ω—Ç—ñ (123) –∑ ClassCastException
>             System.out.println("–î–æ–≤–∂–∏–Ω–∞: " + s.length());
>         }
>     }
> }
> ```
>
> **–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
>
> –¶–∏–∫–ª `for-each` –Ω–µ—è–≤–Ω–æ –≤–∏–∫–ª–∏–∫–∞—î `strings.iterator().next()` —ñ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –ø—Ä–∏–≤–µ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ `String`. –ö–æ–ª–∏ –≤—ñ–Ω –¥—ñ–π–¥–µ –¥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ `123` (—è–∫–∏–π —î `Integer`), —Ü–µ–π –Ω–µ—è–≤–Ω–∏–π, –¥–æ–¥–∞–Ω–∏–π –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–æ–º, –∫–∞—Å—Ç–∏–Ω–≥ –∑–∞–∑–Ω–∞—î –Ω–µ–≤–¥–∞—á—ñ, —ñ –±—É–¥–µ –∫–∏–Ω—É—Ç–æ `ClassCastException`.
>
> –¶–µ —è—Å–∫—Ä–∞–≤–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —á–æ–º—É —Å–∏—Ä—ñ —Ç–∏–ø–∏ —î –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–º–∏: –≤–æ–Ω–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å –ø–æ–º–∏–ª–∫–∏, —è–∫—ñ –ø—Ä–æ—è–≤–ª—è—é—Ç—å—Å—è –≤ –∑–æ–≤—Å—ñ–º —ñ–Ω—à—ñ–π —á–∞—Å—Ç–∏–Ω—ñ –∫–æ–¥—É, –Ω—ñ–∂ —Ç–∞–º, –¥–µ —ó—Ö –±—É–ª–æ –¥–æ–ø—É—â–µ–Ω–æ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –ø—Ä–∞—Ü—é—î —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–∏–π —Ü—É–∫–æ—Ä (—è–∫ `for-each`) —ñ —â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è "–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º", –≤–∫–ª—é—á–∞—é—á–∏ –Ω–µ—è–≤–Ω—ñ –∫–∞—Å—Ç–∏–Ω–≥–∏.*
