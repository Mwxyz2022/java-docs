---
layout: default
title: "–ü–æ–∫—Ä–∏—Ç—Ç—è –∫–æ–¥—É —Ç–µ—Å—Ç–∞–º–∏ (Code Coverage)"
parent: "Java JUnit"
grand_parent: "Java Core"
nav_order: 11
---

# –ü–æ–∫—Ä–∏—Ç—Ç—è –∫–æ–¥—É —Ç–µ—Å—Ç–∞–º–∏ (Code Coverage)

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `Code Coverage` ‚Äì —Ü–µ –º–µ—Ç—Ä–∏–∫–∞ —è–∫–æ—Å—Ç—ñ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è, —è–∫–∞ –ø–æ–∫–∞–∑—É—î, —è–∫—É —á–∞—Å—Ç–∏–Ω—É –∫–æ–¥—É –ø—Ä–æ–≥—Ä–∞–º–∏ –±—É–ª–æ –≤–∏–∫–æ–Ω–∞–Ω–æ (
  –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ) –ø—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç—ñ–≤.
* –ø–æ–Ω—è—Ç—Ç—è: Code Coverage, Line Coverage, Branch Coverage, Method Coverage, Class Coverage, `JaCoCo` (—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç).
* –ø—Ä–∏–∫–ª–∞–¥–∏: `if (number > 0) { ... } else { ... }` ‚Äì –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ–∫—Ä–∏—Ç—Ç—è –≥—ñ–ª–æ–∫.
* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: 100% –ø–æ–∫—Ä–∏—Ç—Ç—è –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î —è–∫—ñ—Å—Ç—å (–≤–∞–∂–ª–∏–≤—ñ `assert`-–∏). 80-90% ‚Äì —Ç–∏–ø–æ–≤–∏–π —Ü—ñ–ª—å–æ–≤–∏–π —Ä—ñ–≤–µ–Ω—å. `Branch coverage` —á–∞—Å—Ç–æ –≤–∞–∂–ª–∏–≤—ñ—à–∏–π –∑–∞ `Line coverage`.
* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –©–æ —Ü–µ, –º–µ—Ç—Ä–∏–∫–∏, —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, —è–∫ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É–≤–∞—Ç–∏.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**Code Coverage** ‚Äî —Ü–µ –º–µ—Ç—Ä–∏–∫–∞ —è–∫–æ—Å—Ç—ñ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è, —è–∫–∞ –ø–æ–∫–∞–∑—É—î, —è–∫—É —á–∞—Å—Ç–∏–Ω—É –∫–æ–¥—É –ø—Ä–æ–≥—Ä–∞–º–∏ –±—É–ª–æ –≤–∏–∫–æ–Ω–∞–Ω–æ (–ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ)
–ø—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç—ñ–≤.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¶–µ –≤—ñ–¥—Å–æ—Ç–æ–∫ –∫–æ–¥—É, —è–∫–∏–π ¬´–∑–∞—á–µ–ø–∏–ª–∏¬ª —Ç–µ—Å—Ç–∏. –ß–∏–º –±—ñ–ª—å—à–µ ‚Äî —Ç–∏–º –∫—Ä–∞—â–µ –≤–∏–¥–Ω–æ, —â–æ —Ç–µ—Å—Ç–∞–º–∏ —â–æ—Å—å –¥—ñ–π—Å–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è.
---

## ** –û—Å–Ω–æ–≤–Ω–µ **


**üìä –û—Å–Ω–æ–≤–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫—Ä–∏—Ç—Ç—è:**

* **Line Coverage** ‚Äì —Å–∫—ñ–ª—å–∫–∏ —Ä—è–¥–∫—ñ–≤ –∫–æ–¥—É –≤–∏–∫–æ–Ω–∞–Ω–æ
* **Branch Coverage** ‚Äì —Å–∫—ñ–ª—å–∫–∏ –≥—ñ–ª–æ–∫ (if/else, switch) –ø—Ä–æ–π–¥–µ–Ω–æ
* **Method Coverage** ‚Äì —Å–∫—ñ–ª—å–∫–∏ –º–µ—Ç–æ–¥—ñ–≤ –±—É–ª–æ –≤–∏–∫–ª–∏–∫–∞–Ω–æ
* **Class Coverage** ‚Äì —Å–∫—ñ–ª—å–∫–∏ –∫–ª–∞—Å—ñ–≤ –±—É–ª–æ –∑–∞–¥—ñ—è–Ω–æ
* **Instruction Coverage** ‚Äì –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–∏—Ö JVM-—ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π

**üõ† –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏:**

* **JaCoCo** (–Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∏–π –¥–ª—è Java)
* IntelliJ IDEA coverage tool
* Cobertura, Clover, SonarQube

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

* –£—è–≤–∏, —â–æ —Ç–≤—ñ–π –∫–æ–¥ ‚Äî —Ü–µ –ª–∞–±—ñ—Ä–∏–Ω—Ç. Test coverage –ø–æ–∫–∞–∑—É—î, —Å–∫—ñ–ª—å–∫–∏ –∫–æ—Ä–∏–¥–æ—Ä—ñ–≤ —Ç–∏ –ø—Ä–æ–π—à–æ–≤. –ê–ª–µ –ø—Ä–æ–π—Ç–∏ –≤—Å—ñ ‚Äî –Ω–µ –∑–∞–≤–∂–¥–∏
  –æ–∑–Ω–∞—á–∞—î, —â–æ –ª–∞–±—ñ—Ä–∏–Ω—Ç –±–µ–∑–ø–µ—á–Ω–∏–π üòâ
* 100% **`coverage`** –º–æ–∂–µ –Ω—ñ—á–æ–≥–æ –Ω–µ **`–æ–∑–Ω–∞—á–∞—Ç–∏`**, —è–∫—â–æ **`assert‚Äô`**`—ñ–≤` –Ω–µ–º–∞—î –∞–±–æ –ª–æ–≥—ñ–∫–∞ –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∞.
* Branch coverage –≤–∞–∂–ª–∏–≤—ñ—à–∏–π, –±–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ä–æ–∑–≥–∞–ª—É–∂–µ–Ω–Ω—è ‚Äî —Ç–æ–±—Ç–æ —Å–∫–ª–∞–¥–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
public boolean isPositive(int number) {
    if (number > 0) {
        return true;
    } else {
        return false;
    }
}
```
**üìà –ü–æ–∫—Ä–∏—Ç—Ç—è:**

* Line coverage: 100% (—è–∫—â–æ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞–ª–∏ —ñ \>0, —ñ ‚â§0)
* Branch coverage: 100% (if —ñ else –≤–∏–∫–æ–Ω–∞–ª–∏—Å—å)
* –ê–ª–µ —è–∫—â–æ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞–ª–∏ –ª–∏—à–µ number \= 1, —Ç–æ branch \= 50%

**üì¶ JaCoCo —É pom.xml:**

```java
xml
–ö–æ–ø—ñ—é–≤–∞—Ç–∏
–†–µ–¥–∞–≥—É–≤–∞—Ç–∏
<plugin>
    <groupId>org.jacoco</groupId>
    <artifactId>jacoco-maven-plugin</artifactId>
    <version>0.8.8</version>
    <executions>
        <execution>
            <goals>
                <goal>prepare-agent</goal>
            </goals>
        </execution>
        <execution>
            <id>report</id>
            <phase>verify</phase>
            <goals>
                <goal>report</goal>
            </goals>
        </execution>
    </executions>
</plugin>
```
---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

|       –ú–µ—Ç—Ä–∏–∫–∞       |       –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î       |       –ü—Ä–∏–∫–ª–∞–¥       |
|:-------------------:|:------------------------:|:-------------------:|
|  **Line Coverage**  |     –í–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä—è–¥–∫—ñ–≤     |  **`if (x > 0)`**   |
| **Branch Coverage** | –í–∞—Ä—ñ–∞–Ω—Ç–∏ –ª–æ–≥—ñ—á–Ω–∏—Ö —à–ª—è—Ö—ñ–≤ |  **`if` —ñ `else`**  |
| **Method Coverage** |    –ß–∏ –≤–∏–∫–ª–∏–∫–∞–Ω–æ –º–µ—Ç–æ–¥    | **`someMethod()`**  |
| **Class Coverage**  | –ß–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤—Å—è –∫–ª–∞—Å | **`new MyClass()`** |

---

## **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –©–æ —Ç–∞–∫–µ test coverage?




### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**





–¶–µ –ø–æ–∫–∞–∑–Ω–∏–∫, —è–∫–∞ —á–∞—Å—Ç–∫–∞ –∫–æ–¥—É –≤–∏–∫–æ–Ω–∞–ª–∞—Å—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç—ñ–≤. –í–∏–º—ñ—Ä—é—î—Ç—å—Å—è —É –≤—ñ–¥—Å–æ—Ç–∫–∞—Ö.

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –ß–æ–º—É 100% –ø–æ–∫—Ä–∏—Ç—Ç—è ‚Äî –Ω–µ –≥–∞—Ä–∞–Ω—Ç—ñ—è —è–∫–æ—Å—Ç—ñ?




### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**





–ë–æ —Ç–µ—Å—Ç –º—ñ–≥ –≤–∏–∫–æ–Ω–∞—Ç–∏ —Ä—è–¥–æ–∫, –∞–ª–µ –Ω—ñ—á–æ–≥–æ –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏. –í–∞–∂–ª–∏–≤—ñ –Ω–µ –ª–∏—à–µ –ø—Ä–æ–π–¥–µ–Ω—ñ —Ä—è–¥–∫–∏, –∞ –π –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ (**`assert`**).

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –°–∫—ñ–ª—å–∫–∏ coverage –¥–æ—Å—Ç–∞—Ç–Ω—å–æ?




### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**





–ó–∞–∑–≤–∏—á–∞–π **80‚Äì90%** –¥–æ—Å—Ç–∞—Ç–Ω—å–æ. –ì–æ–ª–æ–≤–Ω–µ ‚Äî –ø–æ–∫—Ä–∏—Ç—Ç—è –≤–∞–∂–ª–∏–≤–æ—ó –ª–æ–≥—ñ–∫–∏. –ü–æ–∫—Ä–∏—Ç—Ç—è 100% –º–æ–∂–µ –±—É—Ç–∏ –¥–æ—Ä–æ–≥–∏–º —ñ –º–∞–ª–æ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º.

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –Ø–∫—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –ø–æ–∫—Ä–∏—Ç—Ç—è –∫–æ–¥—É —É Java?




### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**





JaCoCo, IntelliJ IDEA coverage, SonarQube, Cobertura.

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –Ø–∫ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É–≤–∞—Ç–∏ coverage –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ?




### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**





–ü–æ—è—Å–Ω–∏, —è–∫—ñ –º–µ—Ç—Ä–∏–∫–∏ —Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤, —è–∫–æ–≥–æ —Ä—ñ–≤–Ω—è –¥–æ–º—ñ–≥—Å—è —ñ —è–∫ –ø–æ–∫—Ä–∏—Ç—Ç—è –∫–æ—Ä–µ–ª—é—î –∑ –ª–æ–≥—ñ–∫–æ—é –ø—Ä–æ–≥—Ä–∞–º–∏ (–æ—Å–æ–±–ª–∏–≤–æ edge cases
—ñ –≤–∏–Ω—è—Ç–∫–∏).

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**"LAMBI"** ‚Äî —è–∫ –º–∞–ª–µ–Ω—å–∫–∞ –ª–∞–º–ø–∞, —â–æ —Å–≤—ñ—Ç–∏—Ç—å –Ω–∞ coverage:

* **L** ‚Äî Line
* **A** ‚Äî Assert
* **M** ‚Äî Method
* **B** ‚Äî Branch
* **I** ‚Äî Instruction

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* **Test Coverage** ‚Äî —Ü–µ –≤–∞–∂–ª–∏–≤–∞ –º–µ—Ç—Ä–∏–∫–∞, –∞–ª–µ –Ω–µ –∞–±—Å–æ–ª—é—Ç.
* –ó–æ—Å–µ—Ä–µ–¥–∂—É–π—Å—è –Ω–∞ –ª–æ–≥—ñ—Ü—ñ, –Ω–µ –Ω–∞ **%**.
* **Branch \> Line** —É –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤.
* **JaCoCo** ‚Äî –∑—Ä—É—á–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è.
* **80‚Äì90%** **coverage** ‚Äî —Ö–æ—Ä–æ—à–∏–π —Ü—ñ–ª—å–æ–≤–∏–π —Ä—ñ–≤–µ–Ω—å, —è–∫—â–æ –ø–æ–∫—Ä–∏—Ç–æ –≤–∞–∂–ª–∏–≤—ñ –≥—ñ–ª–∫–∏.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**What is Code Coverage? (JetBrains Guide)**](https://www.jetbrains.com/help/idea/coverage.html)