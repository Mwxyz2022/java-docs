---
layout: default
title: "Immutable –æ–±‚Äô—î–∫—Ç–∏ —è–∫ –∫–ª—é—á—ñ –≤ HashMap"
parent: "Immutable –æ–±'—î–∫—Ç–∏"
grand_parent: "Java Core"
nav_order: 4
---

# Immutable –æ–±‚Äô—î–∫—Ç–∏ —è–∫ –∫–ª—é—á—ñ –≤ HashMap

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `Immutable` –æ–±'—î–∫—Ç–∏ —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥—è—Ç—å —è–∫ –∫–ª—é—á—ñ –¥–ª—è `HashMap` —Ç–∞ `HashSet`, –æ—Å–∫—ñ–ª—å–∫–∏ —ó—Ö–Ω—ñ–π —Å—Ç–∞–Ω –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —â–æ –≥–∞—Ä–∞–Ω—Ç—É—î —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å `hashCode()` —Ç–∞ `equals()` ‚Äì —Ü–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–æ—à—É–∫—É –≤ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—è—Ö.

* –ø–æ–Ω—è—Ç—Ç—è: `Immutable` –∫–ª—é—á, `hashCode()`, `equals()`, `key integrity`.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `String`, `Integer` —è–∫ –∫–ª—é—á—ñ —É `HashMap`. –ó–º—ñ–Ω–∞ `mutable` –∫–ª—é—á–∞ –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ "–≤—Ç—Ä–∞—Ç–∏" –∑–∞–ø–∏—Å—É.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:  –°—Ç–∞–±—ñ–ª—å–Ω–∏–π `hashCode()` —Ç–∞ `equals()` –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å, —â–æ –µ–ª–µ–º–µ–Ω—Ç –±—É–¥–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π. `Mutable` –∫–ª—é—á—ñ –º–æ–∂—É—Ç—å –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ª–æ–≥—ñ—á–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ß–æ–º—É `immutable` –∫–ª—é—á—ñ –≤–∞–∂–ª–∏–≤—ñ, —â–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è –∑ `mutable` –∫–ª—é—á–µ–º.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

Immutable-–æ–±‚Äô—î–∫—Ç–∏ ‚Äî —Ü–µ –æ–±‚Äô—î–∫—Ç–∏, —Å—Ç–∞–Ω —è–∫–∏—Ö **–Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –∑–º—ñ–Ω–µ–Ω–∏–π** –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è. –£ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ **`HashMap`** –≤–æ–Ω–∏ —Å–ª—É–≥—É—é—Ç—å **–±–µ–∑–ø–µ—á–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏**, –±–æ –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å **—Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å –∑–Ω–∞—á–µ–Ω—å `hashCode()` —Ç–∞ `equals()`**, —â–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–æ–±–æ—Ç–∏ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—å.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–Ø–∫—â–æ —Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à –∫–ª—é—á –≤ **`HashMap`**, –≤—ñ–Ω **–ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –Ω–µ–∑–º—ñ–Ω–Ω–∏–º**, –±–æ —Å–∞–º–µ –≤—ñ–¥ –π–æ–≥–æ "—ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ" (—á–µ—Ä–µ–∑ **`hashCode`** —Ç–∞ **`equals`**) –∑–∞–ª–µ–∂–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–µ –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è. –Ø–∫—â–æ –∫–ª—é—á –∑–º—ñ–Ω–∏—Ç—å—Å—è ‚Äî –º–∞–ø–∞ –ø—Ä–æ—Å—Ç–æ –Ω–µ –∑–Ω–∞—Ç–∏–º–µ, –¥–µ —à—É–∫–∞—Ç–∏

---

## **–û—Å–Ω–æ–≤–Ω—ñ –ø–æ–Ω—è—Ç—Ç—è —Ç–∞ –º–µ—Ö–∞–Ω—ñ–∑–º–∏**

**üìä –ö–ª—é—á–æ–≤—ñ –ø–æ–Ω—è—Ç—Ç—è:**

* **`hashCode()`** ‚Äî –≤–∏–∑–Ω–∞—á–∞—î, –≤ —è–∫–µ "–≤—ñ–¥—Ä–æ" (**`bucket`**) –ø–æ–º—ñ—Å—Ç–∏—Ç–∏ –∫–ª—é—á.
* **`equals()`** ‚Äî –≤–∏–∑–Ω–∞—á–∞—î, —á–∏ –¥–≤–∞ –∫–ª—é—á—ñ ‚Äî —Ü–µ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –æ–±'—î–∫—Ç –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –ª–æ–≥—ñ–∫–∏.
* **Key Integrity** ‚Äî –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—å —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –∫–ª—é—á–∞ –ø—Ä–æ—Ç—è–≥–æ–º —á–∞—Å—É –ø–µ—Ä–µ–±—É–≤–∞–Ω–Ω—è —É **`Map`**.

**üìå –í–∞–∂–ª–∏–≤–æ:**  
–ó–º—ñ–Ω—é–≤–∞–Ω–∏–π –∫–ª—é—á -> –∑–º—ñ–Ω–Ω–∏–π **`hashCode`** -> –∫–ª—é—á –±—ñ–ª—å—à–µ **–Ω–µ –±—É–¥–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π** —É –º–∞–ø—ñ -> **–ø–æ—Ä–æ–∂–Ω—ñ–π –ø–æ–≥–ª—è–¥** üëÄ –Ω–∞ **`null`**.

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

–£—è–≤–∏ **`HashMap`** —è–∫ –ø–æ–ª–∏—á–∫–∏ –≤ –∞—Ä—Ö—ñ–≤—ñ üìÅ. –ö–æ–ª–∏ —Ç–∏ –∫–ª–∞–¥–µ—à –¥–æ–∫—É–º–µ–Ω—Ç (–∑–Ω–∞—á–µ–Ω–Ω—è), —Ç–∏ –ø–∏—à–µ—à –Ω–∞–∑–≤—É (–∫–ª—é—á) –Ω–∞ —Ç–∞–±–ª–∏—á—Ü—ñ (—á–µ—Ä–µ–∑ **`hashCode`**). –Ø–∫—â–æ –ø–æ—Ç—ñ–º —Ö—Ç–æ—Å—å –ø–æ–º—ñ–Ω—è—î —Ü—é –Ω–∞–∑–≤—É ‚Äî —Ç–∏ –ø—Ä–æ—Å—Ç–æ **–Ω–µ –∑–Ω–∞–π–¥–µ—à —Ü—é –ø–æ–ª–∏—Ü—é**, –±–æ —à—É–∫–∞—î—à –∑–∞ —Å—Ç–∞—Ä–æ—é –Ω–∞–∑–≤–æ—é

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

**‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫: –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `Integer` (immutable)**

```java
Map<Integer, String> map = new HashMap<>();
map.put(42, "Answer");
System.out.println(map.get(42)); // Output: Answer
```

**‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫: –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è mutable –æ–±‚Äô—î–∫—Ç–∞**

```java
class MutableKey {
    int id;

    MutableKey(int id) {
        this.id = id;
    }

    @Override
    public int hashCode() {
        return id;
    }

    @Override
    public boolean equals(Object obj) {
        return obj instanceof MutableKey && ((MutableKey) obj).id == this.id;
    }
}

// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –ø—Ä–æ–±–ª–µ–º–∏
MutableKey key = new MutableKey(1);
Map<MutableKey, String> map = new HashMap<>();
map.put(key, "value");

// –ó–º—ñ–Ω—é—î–º–æ —Å—Ç–∞–Ω –∫–ª—é—á–∞!
key.id = 2;

System.out.println(map.get(key)); // Output: null ‚ùó
```

üìå –ö–ª—é—á "–∑–ª–∞–º–∞–≤—Å—è": —Ö–µ—à-–∫–æ–¥ –≤–∫–∞–∑—É—î –≤–∂–µ –Ω–µ –Ω–∞ —Ç–æ–π bucket.

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

|  | Immutable –∫–ª—é—á üîí | Mutable –∫–ª—é—á üîì |
| :---: | :---: | :---: |
| **`hashCode()`** | –°—Ç–∞–±—ñ–ª—å–Ω–∏–π | –ú–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—å |
| **`equals()`** | –°—Ç–∞–±—ñ–ª—å–Ω–∏–π | –ú–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—å |
| **–ü–æ—à—É–∫ —É `Map`** | –ù–∞–¥—ñ–π–Ω–∏–π | –ú–æ–∂–µ –Ω–µ –∑–Ω–∞–π—Ç–∏ |
| **–ü–æ–≤–µ–¥—ñ–Ω–∫–∞** | –ü—Ä–æ–≥–Ω–æ–∑–æ–≤–∞–Ω–∞ | –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –∑–ª–∞–º–∞–Ω–∞ |
| **–ü—Ä–∏–∫–ª–∞–¥** | **`String, Integer`** | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –∫–ª–∞—Å–∏ –±–µ–∑ –æ–±–º–µ–∂–µ–Ω—å |

---

## **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –ß–æ–º—É `HashMap` –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –∫–ª—é—á—ñ, —è–∫—ñ –Ω–µ –∑–º—ñ–Ω—é—é—Ç—å—Å—è? ‚≠êÔ∏è‚≠êÔ∏è**

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–ë–æ **`HashMap`** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **`hashCode`** —ñ **`equals`** –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∞ –ø–æ—à—É–∫—É –∑–Ω–∞—á–µ–Ω—å. –Ø–∫—â–æ –∫–ª—é—á –∑–º—ñ–Ω–∏—Ç—å—Å—è ‚Äî **`hashCode`** –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏—Å—å, —ñ –∫–ª—é—á –±—ñ–ª—å—à–µ –Ω–µ –±—É–¥–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π.

##### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

–†–æ–∑—É–º—ñ–Ω–Ω—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Ä–æ–±–æ—Ç–∏ **`HashMap`** —ñ –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ —Å—Ç–∞–±—ñ–ª—å–Ω–∏—Ö —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä—ñ–≤ –∫–ª—é—á—ñ–≤.

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è, —è–∫—â–æ –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ–ª–µ –∫–ª—é—á–∞ –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤ `HashMap`? ‚≠êÔ∏è**

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–ú–∞–ø–∞ –Ω–µ –∑–º–æ–∂–µ –∑–Ω–∞–π—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ —Ü–∏–º –∫–ª—é—á–µ–º, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –æ–±‚Äô—î–∫—Ç —â–µ —ñ—Å–Ω—É—î. –¶–µ —Å–ø—Ä–∏—á–∏–Ω—è—î **"logically lost entry"** ‚Äî –≤–æ–Ω–æ —î –≤ –º–∞–ø—ñ, –∞–ª–µ –¥–æ—Å—Ç—É–ø—É –¥–æ –Ω—å–æ–≥–æ –±—ñ–ª—å—à–µ –Ω–µ–º–∞—î.

##### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

–ó–Ω–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º mutable-–∫–ª—é—á—ñ–≤ —ñ –Ω–∞–≤–∏—á–∫–∏ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –∫–ª–∞—Å—ñ–≤ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –∫–æ–ª–µ–∫—Ü—ñ—è—Ö.

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –Ø–∫—ñ –∫–ª–∞—Å–∏ –ø—ñ–¥—Ö–æ–¥—è—Ç—å –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —è–∫ –∫–ª—é—á—ñ?**

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

Immutable –∫–ª–∞—Å–∏ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–º–∏ **`equals()`** —Ç–∞ **`hashCode()`**, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: **`String, Integer, Long, UUID.`**

##### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

–ó–Ω–∞–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ —Ç–∞ –≤–º—ñ–Ω–Ω—è –≤—ñ–¥—Ä—ñ–∑–Ω–∏—Ç–∏ –±–µ–∑–ø–µ—á–Ω—ñ —Ç–∏–ø–∏ –¥–ª—è **`Map`**.

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**"HASH" ‚Äî —è–∫ –Ω–µ –≤–ª—è–ø–∞—Ç–∏—Å—å —É –±–∞–≥ –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –∫–ª—é—á—ñ–≤:**

* **H**old the key steady (–Ω–µ –∑–º—ñ–Ω—é–π\!)
* **A**lways override **`hashCode()`** and **`equals()`**
* **S**trings and primitives ‚Äî –¥—Ä—É–∑—ñ
* **H**ands off mutable fields\! üôÖ‚Äç‚ôÇÔ∏è

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* Immutable –æ–±‚Äô—î–∫—Ç–∏ ‚Äî —ñ–¥–µ–∞–ª—å–Ω—ñ –∫–ª—é—á—ñ –¥–ª—è **`HashMap`**, –±–æ –Ω–µ –∑–º—ñ–Ω—é—é—Ç—å—Å—è –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è.
* –í–æ–Ω–∏ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å **`hashCode()`** —Ç–∞ **`equals()`**, —â–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø–æ—à—É–∫—É.
* Mutable –∫–ª—é—á—ñ –º–æ–∂—É—Ç—å –∑–ª–∞–º–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –º–∞–ø–∏, –Ω–∞–≤—ñ—Ç—å –±–µ–∑ –ø–æ–º–∏–ª–æ–∫ —É –∫–æ–¥—ñ.
* –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è: —è–∫—â–æ –æ–±‚Äô—î–∫—Ç ‚Äî –∫–ª—é—á, –∑—Ä–æ–±–∏ –π–æ–≥–æ **`immutable`**, –∞–±–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π —É –º–∞–ø—ñ.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Java HashMap key mutability issue ‚Äî StackOverflow**](https://stackoverflow.com/questions/5128121/why-should-keys-in-hashmap-be-immutable)
