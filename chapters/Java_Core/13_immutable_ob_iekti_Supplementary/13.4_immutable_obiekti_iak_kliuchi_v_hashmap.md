---
layout: default
title: "Immutable –æ–±‚Äô—î–∫—Ç–∏ —è–∫ –∫–ª—é—á—ñ –≤ HashMap"
parent: "Immutable –æ–±'—î–∫—Ç–∏"
grand_parent: "Java Core"
nav_order: 4
---

# Immutable –æ–±‚Äô—î–∫—Ç–∏ —è–∫ –∫–ª—é—á—ñ –≤ HashMap

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `Immutable` –æ–±'—î–∫—Ç–∏ —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥—è—Ç—å —è–∫ –∫–ª—é—á—ñ –¥–ª—è `HashMap` —Ç–∞ `HashSet`, –æ—Å–∫—ñ–ª—å–∫–∏ —ó—Ö–Ω—ñ–π —Å—Ç–∞–Ω –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —â–æ –≥–∞—Ä–∞–Ω—Ç—É—î —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å `hashCode()` —Ç–∞ `equals()` ‚Äì —Ü–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–æ—à—É–∫—É –≤ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—è—Ö.

* –ø–æ–Ω—è—Ç—Ç—è: `Immutable` –∫–ª—é—á, `hashCode()`, `equals()`, `key integrity`.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `String`, `Integer` —è–∫ –∫–ª—é—á—ñ —É `HashMap`. –ó–º—ñ–Ω–∞ `mutable` –∫–ª—é—á–∞ –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ "–≤—Ç—Ä–∞—Ç–∏" –∑–∞–ø–∏—Å—É.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:  –°—Ç–∞–±—ñ–ª—å–Ω–∏–π `hashCode()` —Ç–∞ `equals()` –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å, —â–æ –µ–ª–µ–º–µ–Ω—Ç –±—É–¥–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π. `Mutable` –∫–ª—é—á—ñ –º–æ–∂—É—Ç—å –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ª–æ–≥—ñ—á–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ß–æ–º—É `immutable` –∫–ª—é—á—ñ –≤–∞–∂–ª–∏–≤—ñ, —â–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è –∑ `mutable` –∫–ª—é—á–µ–º.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

Immutable-–æ–±‚Äô—î–∫—Ç–∏ ‚Äî —Ü–µ –æ–±‚Äô—î–∫—Ç–∏, —Å—Ç–∞–Ω —è–∫–∏—Ö **–Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –∑–º—ñ–Ω–µ–Ω–∏–π** –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è. –£ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ **`HashMap`** –≤–æ–Ω–∏ —Å–ª—É–≥—É—é—Ç—å **–±–µ–∑–ø–µ—á–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏**, –±–æ –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å **—Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å –∑–Ω–∞—á–µ–Ω—å `hashCode()` —Ç–∞ `equals()`**, —â–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–æ–±–æ—Ç–∏ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—å.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–Ø–∫—â–æ —Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à –∫–ª—é—á –≤ **`HashMap`**, –≤—ñ–Ω **–ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –Ω–µ–∑–º—ñ–Ω–Ω–∏–º**, –±–æ —Å–∞–º–µ –≤—ñ–¥ –π–æ–≥–æ "—ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ" (—á–µ—Ä–µ–∑ **`hashCode`** —Ç–∞ **`equals`**) –∑–∞–ª–µ–∂–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–µ –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è. –Ø–∫—â–æ –∫–ª—é—á –∑–º—ñ–Ω–∏—Ç—å—Å—è ‚Äî –º–∞–ø–∞ –ø—Ä–æ—Å—Ç–æ –Ω–µ –∑–Ω–∞—Ç–∏–º–µ, –¥–µ —à—É–∫–∞—Ç–∏

---

## **–û—Å–Ω–æ–≤–Ω—ñ –ø–æ–Ω—è—Ç—Ç—è —Ç–∞ –º–µ—Ö–∞–Ω—ñ–∑–º–∏**

**üìä –ö–ª—é—á–æ–≤—ñ –ø–æ–Ω—è—Ç—Ç—è:**

* **`hashCode()`** ‚Äî –≤–∏–∑–Ω–∞—á–∞—î, –≤ —è–∫–µ "–≤—ñ–¥—Ä–æ" (**`bucket`**) –ø–æ–º—ñ—Å—Ç–∏—Ç–∏ –∫–ª—é—á.
* **`equals()`** ‚Äî –≤–∏–∑–Ω–∞—á–∞—î, —á–∏ –¥–≤–∞ –∫–ª—é—á—ñ ‚Äî —Ü–µ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –æ–±'—î–∫—Ç –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –ª–æ–≥—ñ–∫–∏.
* **Key Integrity** ‚Äî –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—å —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –∫–ª—é—á–∞ –ø—Ä–æ—Ç—è–≥–æ–º —á–∞—Å—É –ø–µ—Ä–µ–±—É–≤–∞–Ω–Ω—è —É **`Map`**.

**üìå –í–∞–∂–ª–∏–≤–æ:**  
–ó–º—ñ–Ω—é–≤–∞–Ω–∏–π –∫–ª—é—á -> –∑–º—ñ–Ω–Ω–∏–π **`hashCode`** -> –∫–ª—é—á –±—ñ–ª—å—à–µ **–Ω–µ –±—É–¥–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π** —É –º–∞–ø—ñ -> **–ø–æ—Ä–æ–∂–Ω—ñ–π –ø–æ–≥–ª—è–¥** üëÄ –Ω–∞ **`null`**.

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

–£—è–≤–∏ **`HashMap`** —è–∫ –ø–æ–ª–∏—á–∫–∏ –≤ –∞—Ä—Ö—ñ–≤—ñ üìÅ. –ö–æ–ª–∏ —Ç–∏ –∫–ª–∞–¥–µ—à –¥–æ–∫—É–º–µ–Ω—Ç (–∑–Ω–∞—á–µ–Ω–Ω—è), —Ç–∏ –ø–∏—à–µ—à –Ω–∞–∑–≤—É (–∫–ª—é—á) –Ω–∞ —Ç–∞–±–ª–∏—á—Ü—ñ (—á–µ—Ä–µ–∑ **`hashCode`**). –Ø–∫—â–æ –ø–æ—Ç—ñ–º —Ö—Ç–æ—Å—å –ø–æ–º—ñ–Ω—è—î —Ü—é –Ω–∞–∑–≤—É ‚Äî —Ç–∏ –ø—Ä–æ—Å—Ç–æ **–Ω–µ –∑–Ω–∞–π–¥–µ—à —Ü—é –ø–æ–ª–∏—Ü—é**, –±–æ —à—É–∫–∞—î—à –∑–∞ —Å—Ç–∞—Ä–æ—é –Ω–∞–∑–≤–æ—é

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

**‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫: –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `Integer` (immutable)**

```java
Map<Integer, String> map = new HashMap<>();
map.put(42, "Answer");
System.out.println(map.get(42)); // Output: Answer
```

**‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫: –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è mutable –æ–±‚Äô—î–∫—Ç–∞**

```java
class MutableKey {
    int id;

    MutableKey(int id) {
        this.id = id;
    }

    @Override
    public int hashCode() {
        return id;
    }

    @Override
    public boolean equals(Object obj) {
        return obj instanceof MutableKey && ((MutableKey) obj).id == this.id;
    }
}

// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –ø—Ä–æ–±–ª–µ–º–∏
MutableKey key = new MutableKey(1);
Map<MutableKey, String> map = new HashMap<>();
map.put(key, "value");

// –ó–º—ñ–Ω—é—î–º–æ —Å—Ç–∞–Ω –∫–ª—é—á–∞!
key.id = 2;

System.out.println(map.get(key)); // Output: null ‚ùó
```

üìå –ö–ª—é—á "–∑–ª–∞–º–∞–≤—Å—è": —Ö–µ—à-–∫–æ–¥ –≤–∫–∞–∑—É—î –≤–∂–µ –Ω–µ –Ω–∞ —Ç–æ–π bucket.

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

|  | Immutable –∫–ª—é—á üîí | Mutable –∫–ª—é—á üîì |
| :---: | :---: | :---: |
| **`hashCode()`** | –°—Ç–∞–±—ñ–ª—å–Ω–∏–π | –ú–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—å |
| **`equals()`** | –°—Ç–∞–±—ñ–ª—å–Ω–∏–π | –ú–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—å |
| **–ü–æ—à—É–∫ —É `Map`** | –ù–∞–¥—ñ–π–Ω–∏–π | –ú–æ–∂–µ –Ω–µ –∑–Ω–∞–π—Ç–∏ |
| **–ü–æ–≤–µ–¥—ñ–Ω–∫–∞** | –ü—Ä–æ–≥–Ω–æ–∑–æ–≤–∞–Ω–∞ | –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –∑–ª–∞–º–∞–Ω–∞ |
| **–ü—Ä–∏–∫–ª–∞–¥** | **`String, Integer`** | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –∫–ª–∞—Å–∏ –±–µ–∑ –æ–±–º–µ–∂–µ–Ω—å |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**"HASH" ‚Äî —è–∫ –Ω–µ –≤–ª—è–ø–∞—Ç–∏—Å—å —É –±–∞–≥ –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –∫–ª—é—á—ñ–≤:**

* **H**old the key steady (–Ω–µ –∑–º—ñ–Ω—é–π\!)
* **A**lways override **`hashCode()`** and **`equals()`**
* **S**trings and primitives ‚Äî –¥—Ä—É–∑—ñ
* **H**ands off mutable fields\! üôÖ‚Äç‚ôÇÔ∏è

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* Immutable –æ–±‚Äô—î–∫—Ç–∏ ‚Äî —ñ–¥–µ–∞–ª—å–Ω—ñ –∫–ª—é—á—ñ –¥–ª—è **`HashMap`**, –±–æ –Ω–µ –∑–º—ñ–Ω—é—é—Ç—å—Å—è –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è.
* –í–æ–Ω–∏ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å **`hashCode()`** —Ç–∞ **`equals()`**, —â–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø–æ—à—É–∫—É.
* Mutable –∫–ª—é—á—ñ –º–æ–∂—É—Ç—å –∑–ª–∞–º–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –º–∞–ø–∏, –Ω–∞–≤—ñ—Ç—å –±–µ–∑ –ø–æ–º–∏–ª–æ–∫ —É –∫–æ–¥—ñ.
* –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è: —è–∫—â–æ –æ–±‚Äô—î–∫—Ç ‚Äî –∫–ª—é—á, –∑—Ä–æ–±–∏ –π–æ–≥–æ **`immutable`**, –∞–±–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π —É –º–∞–ø—ñ.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Java HashMap key mutability issue ‚Äî StackOverflow**](https://stackoverflow.com/questions/5128121/why-should-keys-in-hashmap-be-immutable)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ (immutable) –æ–±'—î–∫—Ç–∏ —î —ñ–¥–µ–∞–ª—å–Ω–∏–º–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏ –¥–ª—è –∫–ª—é—á—ñ–≤ —É `HashMap`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ü–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏ —î —ñ–¥–µ–∞–ª—å–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏ –¥–ª—è `HashMap` —Ç–∞ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ `HashSet`, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∏ **–≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å, —â–æ —ó—Ö–Ω—ñ–π `hashCode()` –Ω–µ –∑–º—ñ–Ω–∏—Ç—å—Å—è** –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –æ–±'—î–∫—Ç –±—É–ª–æ –¥–æ–¥–∞–Ω–æ –≤ –∫–æ–ª–µ–∫—Ü—ñ—é.
>
> **–¶–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ, —Ç–æ–º—É —â–æ:**
>
> 1. `HashMap` –≤–∏–∑–Ω–∞—á–∞—î "–∫–æ—à–∏–∫" (bucket) –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∑–∞–ø–∏—Å—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ **`hashCode()` –∫–ª—é—á–∞, –æ–±—á–∏—Å–ª–µ–Ω–æ–≥–æ –≤ –º–æ–º–µ–Ω—Ç –π–æ–≥–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è (`put`)**.
> 2. –Ø–∫—â–æ –ø—ñ—Å–ª—è —Ü—å–æ–≥–æ `hashCode()` –∫–ª—é—á–∞ –∑–º—ñ–Ω–∏—Ç—å—Å—è, —Ç–æ –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ–π —Å–ø—Ä–æ–±—ñ –¥–æ—Å—Ç—É–ø—É –¥–æ —Ü—å–æ–≥–æ –∑–∞–ø–∏—Å—É (`get()`), `HashMap` –±—É–¥–µ —à—É–∫–∞—Ç–∏ –π–æ–≥–æ —É **–Ω–æ–≤–æ–º—É, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –∫–æ—à–∏–∫—É**.
>
> –û—Å–∫—ñ–ª—å–∫–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç –Ω–µ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ —Å–≤—ñ–π —Å—Ç–∞–Ω, –π–æ–≥–æ `hashCode()` —î **—Å—Ç–∞–±—ñ–ª—å–Ω–∏–º** –ø—Ä–æ—Ç—è–≥–æ–º —É—Å—å–æ–≥–æ –∂–∏—Ç—Ç—è. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –æ–±'—î–∫—Ç –∑–∞–≤–∂–¥–∏ –±—É–¥–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏—Å—è —É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –∫–æ—à–∏–∫—É, —ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó `get`, `remove`, `containsKey` –∑–∞–≤–∂–¥–∏ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º—É—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–¶–µ —è–∫ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ä–µ—á—ñ –≤ –∫–∞–º–µ—Ä—ñ —Å—Ö–æ–≤—É. –í–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –∫–ª—é—á –≤—ñ–¥ –∫–æ–º—ñ—Ä–∫–∏ ‚Ññ42. –Ø–∫—â–æ –≤–∏ –ø–æ—Ç—ñ–º —è–∫–æ—Å—å –∑–º—ñ–Ω–∏—Ç–µ –∫–ª—é—á —Ç–∞–∫, —â–æ –≤—ñ–Ω –ø–æ—á–Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ –∫–æ–º—ñ—Ä–∫—É ‚Ññ50, –≤–∞—à—ñ —Ä–µ—á—ñ –∑–∞–ª–∏—à–∞—Ç—å—Å—è –≤ 42-–π, –∞ –≤–∏ –±—É–¥–µ—Ç–µ —à—É–∫–∞—Ç–∏ —ó—Ö —É 50-–π —ñ –Ω—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ—Ç–µ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–æ—ó –≤–∏–º–æ–≥–∏ –¥–æ —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ `hashCode` –¥–ª—è –∫–ª—é—á—ñ–≤ —É —Ö–µ—à-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è, —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π (mutable) –æ–±'—î–∫—Ç —è–∫ –∫–ª—é—á —É `HashMap` —ñ –∑–º—ñ–Ω–∏—Ç–∏ –π–æ–≥–æ –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ —Ç–æ–≥–æ, —â–æ –≤–∏ **"–≤—Ç—Ä–∞—Ç–∏—Ç–µ"** –¥–æ—Å—Ç—É–ø –¥–æ —Ü—å–æ–≥–æ –∑–∞–ø–∏—Å—É –≤ `HashMap`, —Ö–æ—á–∞ –≤—ñ–Ω —Ñ—ñ–∑–∏—á–Ω–æ –∑–∞–ª–∏—à–∞—Ç–∏–º–µ—Ç—å—Å—è –≤ –ø–∞–º'—è—Ç—ñ.
>
> **–°—Ü–µ–Ω–∞—Ä—ñ–π –ø—Ä–æ–±–ª–µ–º–∏:**
>
> 1. –í–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç-–∫–ª—é—á: `MutableKey key = new MutableKey("initial_state");`.
> 2. –í–∏ –¥–æ–¥–∞—î—Ç–µ –π–æ–≥–æ –≤ –º–∞–ø—É: `map.put(key, "some_value");`. `HashMap` –æ–±—á–∏—Å–ª—é—î –π–æ–≥–æ `hashCode` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, H1) —ñ —Ä–æ–∑–º—ñ—â—É—î –∑–∞–ø–∏—Å —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π –∫–æ—à–∏–∫.
> 3. **–ü–æ—Ç—ñ–º –≤–∏ –∑–º—ñ–Ω—é—î—Ç–µ —Å—Ç–∞–Ω –∫–ª—é—á–∞:** `key.setState("new_state");`.
> 4. –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ —Ç–æ–≥–æ, —â–æ —Ç–µ–ø–µ—Ä **`key.hashCode()` –ø–æ–≤–µ—Ä—Ç–∞—î –Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, H2).
> 5. –ö–æ–ª–∏ –≤–∏ –Ω–∞–º–∞–≥–∞—î—Ç–µ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è `map.get(key)`, `HashMap` –æ–±—á–∏—Å–ª—é—î **–Ω–æ–≤–∏–π** —Ö–µ—à-–∫–æ–¥ H2, —à—É–∫–∞—î –∑–∞–ø–∏—Å —É –∫–æ—à–∏–∫—É –¥–ª—è H2, –Ω—ñ—á–æ–≥–æ —Ç–∞–º –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —ñ –ø–æ–≤–µ—Ä—Ç–∞—î **`null`**.
>
> –ó–∞–ø–∏—Å –∑–∞–ª–∏—à–∏–≤—Å—è –≤ —Å—Ç–∞—Ä–æ–º—É –∫–æ—à–∏–∫—É, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Ö–µ—à—É H1, –∞–ª–µ –¥–æ—Å—Ç—É–ø –¥–æ –Ω—å–æ–≥–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∑–º—ñ–Ω–µ–Ω–æ–≥–æ –∫–ª—é—á–∞ –≤–∂–µ –Ω–µ–º–æ–∂–ª–∏–≤–∏–π. –¶–µ —Ç–∞–∫–æ–∂ —î —Ñ–æ—Ä–º–æ—é –≤–∏—Ç–æ–∫—É –ø–∞–º'—è—Ç—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–æ–∫—Ä–æ–∫–æ–≤–æ –ø–æ—è—Å–Ω–∏—Ç–∏, —è–∫ –∑–º—ñ–Ω–∞ –º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –≤—Ç—Ä–∞—Ç–∏ –¥–æ—Å—Ç—É–ø—É –¥–æ –∑–Ω–∞—á–µ–Ω–Ω—è.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É, —â–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –ø—Ä–æ–±–ª–µ–º—É –∑ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º –∫–ª—é—á–µ–º —É `HashMap`. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> ```java
> import java.util.HashMap;
> import java.util.Map;
> import java.util.Objects;
>
> class MutableUser {
>     private String name;
>
>     public MutableUser(String name) { this.name = name; }
>     public void setName(String name) { this.name = name; }
>
>     @Override
>     public boolean equals(Object o) {
>         if (this == o) return true;
>         if (o == null || getClass() != o.getClass()) return false;
>         return name.equals(((MutableUser) o).name);
>     }
>
>     @Override
>     public int hashCode() {
>         return Objects.hash(name);
>     }
> }
>
> public class MutableKeyProblem {
>     public static void main(String[] args) {
>         Map<MutableUser, String> userMap = new HashMap<>();
>         MutableUser user = new MutableUser("John");
>
>         // 1. –î–æ–¥–∞—î–º–æ –∑–∞–ø–∏—Å –∑ –∫–ª—é—á–µ–º
>         userMap.put(user, "Premium User");
>         System.out.println("–ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –ø–æ—á–∞—Ç–∫–æ–≤–∏–º –∫–ª—é—á–µ–º: " + userMap.get(user)); // Premium User
>
>         // 2. –ó–ú–Ü–ù–Æ–Ñ–ú–û –ö–õ–Æ–ß!
>         user.setName("Peter");
>
>         // 3. –ù–∞–º–∞–≥–∞—î–º–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ —Ç–∏–º —Å–∞–º–∏–º, –∞–ª–µ –∑–º—ñ–Ω–µ–Ω–∏–º –∫–ª—é—á–µ–º
>         System.out.println("–ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–º—ñ–Ω–µ–Ω–∏–º –∫–ª—é—á–µ–º: " + userMap.get(user)); // null!
>         System.out.println("–ú–∞–ø–∞ –º—ñ—Å—Ç–∏—Ç—å –∫–ª—é—á? " + userMap.containsKey(user)); // false!
>
>         // –ê–ª–µ –∑–∞–ø–∏—Å –≤—Å–µ —â–µ —ñ—Å–Ω—É—î –≤ –º–∞–ø—ñ, –ø—Ä–æ—Å—Ç–æ "–∑–∞–≥—É–±–ª–µ–Ω–∏–π"
>         System.out.println("–†–æ–∑–º—ñ—Ä –º–∞–ø–∏: " + userMap.size()); // 1
>     }
> }
> ```
>
> –¶–µ–π –ø—Ä–∏–∫–ª–∞–¥ –Ω–∞–æ—á–Ω–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —è–∫ –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ —ñ–º–µ–Ω—ñ –æ–±'—î–∫—Ç–∞ `user` –º–∏ –≤—Ç—Ä–∞—á–∞—î–º–æ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–Ω–∞–π—Ç–∏ –π–æ–≥–æ –≤ –º–∞–ø—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –∫–æ–¥—É, —â–æ —ñ–ª—é—Å—Ç—Ä—É—î –ø—Ä–æ–±–ª–µ–º—É.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `String` —î —Ç–∞–∫–∏–º —Ö–æ—Ä–æ—à–∏–º –∫–ª—é—á–µ–º –¥–ª—è `HashMap`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `String` —î —á—É–¥–æ–≤–∏–º –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–º –¥–ª—è –∫–ª—é—á–∞ –∑ –∫—ñ–ª—å–∫–æ—Ö –ø—Ä–∏—á–∏–Ω, —è–∫—ñ –ø–æ–≤–Ω—ñ—Å—Ç—é –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –≤–∏–º–æ–≥–∞–º –¥–æ –∫–ª—é—á—ñ–≤:
>
> 1. **–Ü–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å (Immutability):** `String` —î –Ω–µ–∑–º—ñ–Ω–Ω–∏–º. –ô–æ–≥–æ –≤–º—ñ—Å—Ç, –∞ –æ—Ç–∂–µ, —ñ –π–æ–≥–æ `hashCode()` —Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç `equals()`, –Ω—ñ–∫–æ–ª–∏ –Ω–µ –∑–º—ñ–Ω—è—Ç—å—Å—è –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è. –¶–µ **–Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∞** –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å.
>
> 2. **–ö–æ—Ä–µ–∫—Ç–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `equals()` —Ç–∞ `hashCode()`:** `String` –º–∞—î –ø—Ä–∞–≤–∏–ª—å–Ω—É, –¥–æ–±—Ä–µ –ø—Ä–æ–¥—É–º–∞–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é —Ü–∏—Ö –º–µ—Ç–æ–¥—ñ–≤. `equals()` –ø–æ—Ä—ñ–≤–Ω—é—î —Ä—è–¥–∫–∏ –∑–∞ –≤–º—ñ—Å—Ç–æ–º, –∞ `hashCode()` –∑–∞–±–µ–∑–ø–µ—á—É—î —Ö–æ—Ä–æ—à–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª, —â–æ –º—ñ–Ω—ñ–º—ñ–∑—É—î –∫–æ–ª—ñ–∑—ñ—ó.
>
> 3. **–ö–µ—à—É–≤–∞–Ω–Ω—è `hashCode()`:** –ö–ª–∞—Å `String` –∫–µ—à—É—î —Å–≤—ñ–π —Ö–µ—à-–∫–æ–¥. –í—ñ–Ω –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤–∏–∫–ª–∏–∫—É —ñ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è. –ù–∞—Å—Ç—É–ø–Ω—ñ –≤–∏–∫–ª–∏–∫–∏ –º–∏—Ç—Ç—î–≤–æ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è, —â–æ –∑–Ω–∞—á–Ω–æ –ø—ñ–¥–≤–∏—â—É—î –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ —Ä—è–¥–∫—ñ–≤ —è–∫ –∫–ª—é—á—ñ–≤ —É `HashMap`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ –≤–∏–º–æ–≥–∏ –¥–æ –∫–ª—é—á—ñ–≤ –¥–æ –Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–æ–≥–æ –∫–ª–∞—Å—É, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ —Ü—ñ–π —Ä–æ–ª—ñ.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `StringBuilder` —è–∫ –∫–ª—é—á —É `HashMap`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–µ—Ö–Ω—ñ—á–Ω–æ**, —Ç–∞–∫, –º–æ–∂–Ω–∞, –æ—Å–∫—ñ–ª—å–∫–∏ `StringBuilder` —î `Object` —ñ –º–∞—î –º–µ—Ç–æ–¥–∏ `equals` —Ç–∞ `hashCode`, —É—Å–ø–∞–¥–∫–æ–≤–∞–Ω—ñ –≤—ñ–¥ `Object`.
>
> **–ü—Ä–∞–∫—Ç–∏—á–Ω–æ**, —Ü–µ **–¥—É–∂–µ –ø–æ–≥–∞–Ω–∞ —ñ–¥–µ—è**, —ñ —Ä–æ–±–∏—Ç–∏ —Ç–∞–∫ –Ω–µ —Å–ª—ñ–¥ –∑ –¥–≤–æ—Ö –ø—Ä–∏—á–∏–Ω:
>
> 1. **–ú—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å:** `StringBuilder` —î –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º. –Ø–∫—â–æ –≤–∏ –∑–º—ñ–Ω–∏—Ç–µ –π–æ–≥–æ –≤–º—ñ—Å—Ç –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤ –º–∞–ø—É, –≤–∏ "–≤—Ç—Ä–∞—Ç–∏—Ç–µ" –∑–∞–ø–∏—Å, —è–∫ —É –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –ø—Ä–∏–∫–ª–∞–¥–∞—Ö.
>
> 2. **–ù–µ–ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω—ñ `equals()` —Ç–∞ `hashCode()`:** –ö–ª–∞—Å `StringBuilder` **–Ω–µ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—î** —Ü—ñ –º–µ—Ç–æ–¥–∏. –í—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –∑ `Object`, —è–∫–∞ –ø–æ—Ä—ñ–≤–Ω—é—î –æ–±'—î–∫—Ç–∏ **–∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º**.
>
>     ```java
>     StringBuilder sb1 = new StringBuilder("a");
>     StringBuilder sb2 = new StringBuilder("a");
>
>     map.put(sb1, "value");
>
>     // sb2 –Ω–µ –∑–Ω–∞–π–¥–µ –Ω—ñ—á–æ–≥–æ, –±–æ sb1.equals(sb2) -> false (—Ü–µ —Ä—ñ–∑–Ω—ñ –æ–±'—î–∫—Ç–∏)
>     System.out.println(map.get(sb2)); // null
>     ```
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `StringBuilder` –ø–æ—Ä—É—à—É—î –æ–±–∏–¥–≤—ñ –∫–ª—é—á–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –∫–ª—é—á—ñ–≤ `HashMap`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ç–æ–≥–æ, —è–∫—ñ –∫–ª–∞—Å–∏ –∑—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—ó –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –Ω–µ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—é—Ç—å `equals`/`hashCode`, —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –Ω–∞—Å–ª—ñ–¥–∫—ñ–≤ —Ü—å–æ–≥–æ.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ "key integrity" (—Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –∫–ª—é—á–∞) —É `HashMap`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¶—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –∫–ª—é—á–∞ (Key Integrity)** ‚Äî —Ü–µ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—è, —è–∫–∞ –æ–∑–Ω–∞—á–∞—î, —â–æ **–∫–ª—é—á –Ω–µ –ø–æ–≤–∏–Ω–µ–Ω –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è** —Ç–∞–∫–∏–º —á–∏–Ω–æ–º, —â–æ–± —Ü–µ –≤–ø–ª–∏–≤–∞–ª–æ –Ω–∞ –π–æ–≥–æ –ª–æ–≥—ñ—á–Ω—É —Ä—ñ–≤–Ω—ñ—Å—Ç—å (—Ä–µ–∑—É–ª—å—Ç–∞—Ç `equals()` —Ç–∞ `hashCode()`) –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –≤—ñ–Ω –±—É–≤ –¥–æ–¥–∞–Ω–∏–π —É `HashMap`.
>
> **–Ü–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏** –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –∫–ª—é—á–∞.
>
> **–ú—É—Ç–∞–±–µ–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏** –ø–æ—Ä—É—à—É—é—Ç—å —ó—ó, —è–∫—â–æ —ó—Ö–Ω—ñ–π —Å—Ç–∞–Ω –∑–º—ñ–Ω—é—î—Ç—å—Å—è. –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ —Ç–æ–≥–æ, —â–æ `HashMap` –Ω–µ –º–æ–∂–µ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–≤–æ—ó—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ `get(key)` –ø–æ–≤–µ—Ä–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è, —è–∫–µ –±—É–ª–æ –¥–æ–¥–∞–Ω–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `put(key, value)`).
>
> –ü—ñ–¥—Ç—Ä–∏–º–∞–Ω–Ω—è —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –∫–ª—é—á—ñ–≤ —î –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—é –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç–∞, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `HashMap`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω–æ–ª–æ–≥—ñ—ó —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ –∫–ª—é—á–∞ —è–∫ –æ—Å–Ω–æ–≤–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ `HashMap`.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `final`-–ø–æ–ª—è –≤ –∫–ª–∞—Å—ñ –∫–ª—é—á–∞ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –π–æ–≥–æ –ø—Ä–∏–¥–∞—Ç–Ω—ñ—Å—Ç—å –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ `HashMap`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `final`-–ø–æ–ª—è —î **–∫–ª—é—á–æ–≤–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º** –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –∫–ª—é—á—ñ–≤.
>
> 1. **–ì–∞—Ä–∞–Ω—Ç—ñ—è –Ω–µ–∑–º—ñ–Ω–Ω–æ—Å—Ç—ñ:** –Ø–∫—â–æ –≤—Å—ñ –ø–æ–ª—è, —â–æ –±–µ—Ä—É—Ç—å —É—á–∞—Å—Ç—å —É `equals()` —Ç–∞ `hashCode()`, –æ–≥–æ–ª–æ—à–µ–Ω—ñ —è–∫ `final`, —Ç–æ –ø—ñ—Å–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ —ó—Ö–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è (–∞–±–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è) **–Ω–µ –º–æ–∂–Ω–∞ –±—É–¥–µ –∑–º—ñ–Ω–∏—Ç–∏**.
>
> 2. **–°—Ç–∞–±—ñ–ª—å–Ω–∏–π `hashCode`:** –û—Å–∫—ñ–ª—å–∫–∏ —Å—Ç–∞–Ω –ø–æ–ª—ñ–≤ –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç `hashCode()` —Ç–∞ `equals()` —Ç–∞–∫–æ–∂ –±—É–¥–µ —Å—Ç–∞–±—ñ–ª—å–Ω–∏–º –ø—Ä–æ—Ç—è–≥–æ–º —É—Å—å–æ–≥–æ –∂–∏—Ç—Ç—è –æ–±'—î–∫—Ç–∞.
>
> **–ü—Ä–∏–∫–ª–∞–¥ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞:**
>
> ```java
> public final class LocationKey {
>     private final double latitude;
>     private final double longitude;
>
>     // ... –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
>
>     @Override
>     public int hashCode() {
>         return Objects.hash(latitude, longitude);
>     }
>     // ... equals
> }
> ```
>
> –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `final` –ø–æ–ª—ñ–≤ —î –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–º —ñ –Ω–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–∏–º —Å–ø–æ—Å–æ–±–æ–º –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏, —â–æ –∫–ª—é—á —î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º —ñ –±–µ–∑–ø–µ—á–Ω–∏–º –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ `HashMap`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ `final` —î –±—É–¥—ñ–≤–µ–ª—å–Ω–∏–º –±–ª–æ–∫–æ–º –¥–ª—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ –∫–ª—é—á—ñ–≤.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –±—É–¥–µ, —è–∫—â–æ –º–µ—Ç–æ–¥ `hashCode()` –º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Ç–∞–∫, —â–æ –≤—ñ–Ω –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∑–º—ñ–Ω—é–≤–∞–Ω–∏—Ö –ø–æ–ª—ñ–≤? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –¥—É–∂–µ —Ü—ñ–∫–∞–≤–∏–π, —Ö–æ—á–∞ —ñ –Ω–µ—Ç–∏–ø–æ–≤–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π. –Ø–∫—â–æ `hashCode()` –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –ø–æ–ª—ñ–≤, —â–æ –∑–º—ñ–Ω—é—é—Ç—å—Å—è, —Ç–æ –∫–ª—é—á **–Ω–µ –±—É–¥–µ "–≤—Ç—Ä–∞—á–µ–Ω–æ"** —É `HashMap`.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> class TrickyKey {
>     private final int id; // –Ω–µ–∑–º—ñ–Ω–Ω–µ –ø–æ–ª–µ
>     private String mutableData; // –∑–º—ñ–Ω–Ω–µ –ø–æ–ª–µ
>
>     public void setMutableData(String data) { this.mutableData = data; }
>
>     // hashCode –∑–∞–ª–µ–∂–∏—Ç—å –¢–Ü–õ–¨–ö–ò –≤—ñ–¥ –Ω–µ–∑–º—ñ–Ω–Ω–æ–≥–æ `id`
>     @Override
>     public int hashCode() { return Objects.hash(id); }
>
>     // equals —Ç–∞–∫–æ–∂ –∑–∞–ª–µ–∂–∏—Ç—å —Ç—ñ–ª—å–∫–∏ –≤—ñ–¥ id
>     @Override
>     public boolean equals(Object o) { /* ... –ø–æ—Ä—ñ–≤–Ω—é—î —Ç—ñ–ª—å–∫–∏ id */ }
> }
>
> Map<TrickyKey, String> map = new HashMap<>();
> TrickyKey key = new TrickyKey(1, "data1");
> map.put(key, "value");
>
> // –ó–º—ñ–Ω—é—î–º–æ –º—É—Ç–∞–±–µ–ª—å–Ω–µ –ø–æ–ª–µ
> key.setMutableData("data2");
>
> // –ö–ª—é—á –±—É–¥–µ –∑–Ω–∞–π–¥–µ–Ω–æ!
> System.out.println(map.get(key)); // "value"
> ```
>
> **–ß–æ–º—É —Ü–µ –ø—Ä–∞—Ü—é—î:**
> –û—Å–∫—ñ–ª—å–∫–∏ `hashCode()` —ñ `equals()` –∑–∞–ª–µ–∂–∞—Ç—å —Ç—ñ–ª—å–∫–∏ –≤—ñ–¥ **—ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—ó —á–∞—Å—Ç–∏–Ω–∏** —Å—Ç–∞–Ω—É (`id`), —Ç–æ –∑–º—ñ–Ω–∞ `mutableData` –Ω–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ "—ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å" –∫–ª—é—á–∞ –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É `HashMap`.
>
> **–ê–ª–µ —Ü–µ –≤—Å–µ —â–µ –ø–æ–≥–∞–Ω–∏–π –¥–∏–∑–∞–π–Ω**, –æ—Å–∫—ñ–ª—å–∫–∏ –¥–≤–∞ –æ–±'—î–∫—Ç–∏ `TrickyKey` –∑ –æ–¥–Ω–∞–∫–æ–≤–∏–º `id`, –∞–ª–µ —Ä—ñ–∑–Ω–∏–º `mutableData` –±—É–¥—É—Ç—å –≤–≤–∞–∂–∞—Ç–∏—Å—è **—Ä—ñ–≤–Ω–∏–º–∏**. –¶–µ –º–æ–∂–µ –±—É—Ç–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–∏–º —ñ –ø–æ—Ä—É—à—É–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –ø—Ä–æ–≥—Ä–∞–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –Ω–µ—Ç—Ä–∏–≤—ñ–∞–ª—å–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó —Ç–∞ –±–∞—á–∏—Ç–∏, —â–æ —Ö–æ—á–∞ —Ç–µ—Ö–Ω—ñ—á–Ω–æ `HashMap` –Ω–µ "–ª–∞–º–∞—î—Ç—å—Å—è", –ª–æ–≥—ñ–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–∏ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä—É—à–µ–Ω–∞.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –∫–ª–∞—Å–∏, –∫—Ä—ñ–º `String` —Ç–∞ –æ–±–≥–æ—Ä—Ç–æ–∫, —î —Ö–æ—Ä–æ—à–∏–º–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ö—Ä—ñ–º –æ—á–µ–≤–∏–¥–Ω–∏—Ö `String` —Ç–∞ –æ–±–≥–æ—Ä—Ç–æ–∫ ( `Integer`, `Long`...), —î –π —ñ–Ω—à—ñ —á—É–¥–æ–≤—ñ –∫–∞–Ω–¥–∏–¥–∞—Ç–∏:
>
> * **–ö–ª–∞—Å–∏ –∑ `java.time` API (–∑ Java 8):** `LocalDate`, `LocalDateTime`, `Instant` —Ç–æ—â–æ. –í—Å—ñ –≤–æ–Ω–∏ —î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏ —ñ –º–∞—é—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω—ñ `equals()` —Ç–∞ `hashCode()`.
>
> * **`java.util.UUID`:** –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º –∑–∞ —Å–≤–æ—î—é –ø—Ä–∏—Ä–æ–¥–æ—é.
>
> * **`java.nio.file.Path`:** –û–±'—î–∫—Ç —à–ª—è—Ö—É —î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º.
>
> * **–ë—É–¥—å-—è–∫–∏–π `enum` —Ç–∏–ø:** `enum`-–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ —î —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞–º–∏ —ñ, —è–∫ –Ω–∞—Å–ª—ñ–¥–æ–∫, —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏.
>
> * **`record` (–∑ Java 16):** –Ø–∫—â–æ `record` –º—ñ—Å—Ç–∏—Ç—å —Ç—ñ–ª—å–∫–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, –≤—ñ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º —ñ –Ω–∞–¥–∞—î –ø—Ä–∞–≤–∏–ª—å–Ω—ñ `equals`/`hashCode`, —â–æ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ —á—É–¥–æ–≤–∏–º –∫–ª—é—á–µ–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–∞–≥–∞–ª—å–Ω—É –µ—Ä—É–¥–∏—Ü—ñ—é —Ç–∞ –∑–Ω–∞–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—ó –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ Java, –∑–æ–∫—Ä–µ–º–∞ —Å—É—á–∞—Å–Ω–æ–≥–æ `java.time` API —Ç–∞ `record`.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –º–∞—Å–∏–≤–∏ —î –ø–æ–≥–∞–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏ –¥–ª—è `HashMap`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ú–∞—Å–∏–≤–∏ —î –¥—É–∂–µ –ø–æ–≥–∞–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∏ **–Ω–µ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—é—Ç—å `equals()` —Ç–∞ `hashCode()`**.
>
> –í–æ–Ω–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –∑ –∫–ª–∞—Å—É `Object`.
>
> * `equals()` –¥–ª—è –º–∞—Å–∏–≤—ñ–≤ –ø—Ä–∞—Ü—é—î —è–∫ **`==`**, —Ç–æ–±—Ç–æ –ø–æ—Ä—ñ–≤–Ω—é—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è.
> * `hashCode()` –¥–ª—è –º–∞—Å–∏–≤—ñ–≤ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ **–∞–¥—Ä–µ—Å–∏ –≤ –ø–∞–º'—è—Ç—ñ**.
>
> **–ù–∞—Å–ª—ñ–¥–∫–∏:**
> –î–≤–∞ —Ä—ñ–∑–Ω—ñ –º–∞—Å–∏–≤–∏, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–æ–Ω–∏ –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π –≤–º—ñ—Å—Ç, –±—É–¥—É—Ç—å –≤–≤–∞–∂–∞—Ç–∏—Å—è `HashMap` **–∞–±—Å–æ–ª—é—Ç–Ω–æ —Ä—ñ–∑–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏**.
>
> ```java
> int[] key1 = {1, 2};
> int[] key2 = {1, 2};
>
> Map<int[], String> map = new HashMap<>();
> map.put(key1, "value");
>
> // map.get(key2) –ø–æ–≤–µ—Ä–Ω–µ null, –±–æ key1.equals(key2) -> false
> System.out.println(map.get(key2)); // null
> ```
>
> –©–æ–± –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –º–∞—Å–∏–≤ —è–∫ –∫–ª—é—á, –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –± —Å—Ç–≤–æ—Ä–∏—Ç–∏ **–∫–ª–∞—Å-–æ–±–≥–æ—Ä—Ç–∫—É** –Ω–∞–≤–∫–æ–ª–æ –Ω—å–æ–≥–æ, —è–∫–∏–π –±–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞–≤ `equals` —Ç–∞ `hashCode` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `Arrays.equals()` —Ç–∞ `Arrays.hashCode()`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –º–∞—Å–∏–≤–∏ –Ω–µ –º–∞—é—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó —Å–µ–º–∞–Ω—Ç–∏–∫–∏ —Ä—ñ–≤–Ω–æ—Å—Ç—ñ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ —Ö–µ—à-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–†–æ–∑–≥–ª—è–Ω–µ–º–æ `Map<List<String>, String>`. –ß–∏ —î `List<String>` —Ö–æ—Ä–æ—à–∏–º –∫–ª—é—á–µ–º? –ü–æ—è—Å–Ω—ñ—Ç—å. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `List<String>` —î **–¥—É–∂–µ –ø–æ–≥–∞–Ω–∏–º —ñ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–º** –∫–ª—é—á–µ–º.
>
> –•–æ—á–∞ `List` (–Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –º–∞—Å–∏–≤—ñ–≤) **–ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—î `equals()` —Ç–∞ `hashCode()`** (–≤–æ–Ω–∏ –±–∞–∑—É—é—Ç—å—Å—è –Ω–∞ –≤–º—ñ—Å—Ç—ñ —Å–ø–∏—Å–∫—É), –±—ñ–ª—å—à—ñ—Å—Ç—å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π `List` (–∑–æ–∫—Ä–µ–º–∞, `ArrayList` —Ç–∞ `LinkedList`) —î **–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏**.
>
> **–ü—Ä–æ–±–ª–µ–º–∞ —Ç–∞ —Å–∞–º–∞, —â–æ —ñ –∑ –±—É–¥—å-—è–∫–∏–º –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º –∫–ª—é—á–µ–º:**
>
> 1. –í–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ `List<String> keyList = new ArrayList<>(List.of("a"));`.
> 2. –ö–ª–∞–¥–µ—Ç–µ –π–æ–≥–æ –≤ –º–∞–ø—É: `map.put(keyList, "value");`. `hashCode` –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ `["a"]`.
> 3. **–í–∏ –∑–º—ñ–Ω—é—î—Ç–µ –∫–ª—é—á:** `keyList.add("b");`.
> 4. –¢–µ–ø–µ—Ä `hashCode` –¥–ª—è `keyList` —ñ–Ω—à–∏–π (–±–æ –≤–º—ñ—Å—Ç —Å–ø–∏—Å–∫—É –∑–º—ñ–Ω–∏–≤—Å—è).
> 5. –í–∏ –±—ñ–ª—å—à–µ **–Ω–µ –∑–º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏** –∑–∞–ø–∏—Å –∑–∞ —Ü–∏–º –∫–ª—é—á–µ–º.
>
> **–Ø–∫ –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ –±–µ–∑–ø–µ—á–Ω–∏–º:**
>
> –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —è–∫ –∫–ª—é—á **—ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫**, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —á–µ—Ä–µ–∑ `List.of()`:
> `List<String> keyList = List.of("a", "b");`
> –û—Å–∫—ñ–ª—å–∫–∏ —Ç–∞–∫–∏–π —Å–ø–∏—Å–æ–∫ –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏, –≤—ñ–Ω –±—É–¥–µ –Ω–∞–¥—ñ–π–Ω–∏–º –∫–ª—é—á–µ–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–∏—Ö `equals`/`hashCode` –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ ‚Äî —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —Ç–∞–∫–æ–∂ —î –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ—é.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –º–æ–∂–Ω–∞ –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ `HashMap` –≤—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –∫–ª—é—á—ñ–≤ –Ω–∞ —Ä—ñ–≤–Ω—ñ –¥–∏–∑–∞–π–Ω—É? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫—â–æ –≤–∏ –ø—Ä–æ–µ–∫—Ç—É—î—Ç–µ —Å–∏—Å—Ç–µ–º—É, –¥–µ –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏, —è–∫—ñ –∫–ª—é—á—ñ –±—É–¥—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è, –∞–ª–µ —Ö–æ—á–µ—Ç–µ –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏—Å—è –≤—ñ–¥ –ø—Ä–æ–±–ª–µ–º –∑ –º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—é, —î –æ–¥–∏–Ω —Ü—ñ–∫–∞–≤–∏–π –ø—ñ–¥—Ö—ñ–¥:
>
> **–°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫–æ–ø—ñ—é –∫–ª—é—á–∞ –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –≤ –º–∞–ø—É.**
>
> –¶–µ –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏, —Å—Ç–≤–æ—Ä–∏–≤—à–∏ –≤–ª–∞—Å–Ω–∏–π –∫–ª–∞—Å-–æ–±–≥–æ—Ä—Ç–∫—É –Ω–∞–¥ `HashMap`.
>
> ```java
> public class SafeHashMap<K extends Cloneable, V> { // –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏–º–∞–≥–∞—î–º–æ Cloneable
>     private Map<K, V> map = new HashMap<>();
>
>     public void put(K key, V value) {
>         // –°—Ç–≤–æ—Ä—é—î–º–æ –∫–æ–ø—ñ—é –∫–ª—é—á–∞ –ø–µ—Ä–µ–¥ –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º
>         K keyCopy = (K) key.clone();
>         map.put(keyCopy, value);
>     }
>
>     public V get(K key) {
>         // –ü–æ—à—É–∫ —Ç–∞–∫–æ–∂ –±—É–¥–µ –≤—ñ–¥–±—É–≤–∞—Ç–∏—Å—è –∑–∞ –≤–∏—Ö—ñ–¥–Ω–∏–º –∫–ª—é—á–µ–º, —è–∫–∏–π –Ω–µ –∑–º—ñ–Ω–∏–≤—Å—è
>         // (—Ç—É—Ç —î –Ω—é–∞–Ω—Å–∏, –∫—Ä–∞—â–µ —à—É–∫–∞—Ç–∏ –∑–∞ –∫–æ–ø—ñ—î—é, –∞–ª–µ —Ü–µ —Å–∫–ª–∞–¥–Ω—ñ—à–µ)
>         return map.get(key); // –ü–æ—à—É–∫ –≤—Å–µ —â–µ –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–æ–±–ª–µ–º–æ—é
>     }
> }
> ```
>
> –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ —ñ–Ω–∫–∞–ø—Å—É–ª—é—î –ª–æ–≥—ñ–∫—É –∑–∞—Ö–∏—Å—Ç—É. –ö–æ–ª–∏ –∫–ª—ñ—î–Ω—Ç –¥–æ–¥–∞—î –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –∫–ª—é—á, –º–∞–ø–∞ –∑–±–µ—Ä—ñ–≥–∞—î –π–æ–≥–æ **"–∑–Ω—ñ–º–æ–∫" (snapshot)** –Ω–∞ –º–æ–º–µ–Ω—Ç –¥–æ–¥–∞–≤–∞–Ω–Ω—è. –ü–æ–¥–∞–ª—å—à—ñ –∑–º—ñ–Ω–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞ –Ω–µ –≤–ø–ª–∏–Ω—É—Ç—å –Ω–∞ —Å—Ç–∞–Ω –º–∞–ø–∏.
>
> **–ù–µ–¥–æ–ª—ñ–∫–∏:**
>
> * –ü–æ—Ç—Ä–µ–±—É—î –º–µ—Ö–∞–Ω—ñ–∑–º—É –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è (`clone` –∞–±–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è).
> * `get(key)` —Ç–∞–∫–æ–∂ –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–æ–±–ª–µ–º–æ—é, —è–∫—â–æ –∫–ª—é—á –±—É–ª–æ –∑–º—ñ–Ω–µ–Ω–æ. –ü–æ—à—É–∫ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ —Ä–æ–±–∏—Ç–∏ –ø–æ –≤—Å—ñ–º –∫–ª—é—á–∞–º.
>
> –ù–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ, —Ü–µ —Å–∫–ª–∞–¥–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Ç–æ–º—É –ø—Ä–æ—Å—Ç—ñ—à–µ –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è –ø—Ä–∞–≤–∏–ª–∞ "–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –∫–ª—é—á—ñ".

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –¥—É–º–∞—Ç–∏ –ø—Ä–æ –Ω–µ—Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è —Ç–∞ –ø—Ä–æ–µ–∫—Ç—É–≤–∞—Ç–∏ –∑–∞—Ö–∏—Å–Ω—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –≤ `HashMap` –±–µ–∑ –∑–º—ñ–Ω–∏ –∫–ª—é—á–∞? –Ø–∫ —Ü–µ –≤–ø–ª–∏–Ω–µ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–∞–ø–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, –º–æ–∂–Ω–∞, —ñ —Ü–µ —î –∞–±—Å–æ–ª—é—Ç–Ω–æ **—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—é —ñ –±–µ–∑–ø–µ—á–Ω–æ—é** –æ–ø–µ—Ä–∞—Ü—ñ—î—é.
>
> **–°–ø–æ—Å–æ–±–∏ –∑–º—ñ–Ω–∏ –∑–Ω–∞—á–µ–Ω–Ω—è:**
>
> 1. **–ü–æ–≤—Ç–æ—Ä–Ω–∏–π –≤–∏–∫–ª–∏–∫ `put()`:**
>     `map.put("key", "old_value");`
>     `map.put("key", "new_value"); // –ó–Ω–∞—á–µ–Ω–Ω—è –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç—å—Å—è`
>
> 2. **–ß–µ—Ä–µ–∑ `Map.Entry` –ø—Ä–∏ —ñ—Ç–µ—Ä–∞—Ü—ñ—ó:**
>     `entry.setValue("new_value");`
>
> 3. **–ß–µ—Ä–µ–∑ `replace()` –∞–±–æ `compute()` (–∑ Java 8).**
>
> **–Ø–∫ —Ü–µ –≤–ø–ª–∏–Ω–µ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–∞–ø–∏?**
>
> **–ù—ñ—è–∫.** –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `HashMap` (—Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —É –∫–æ—à–∏–∫–∞—Ö) –∑–∞–ª–µ–∂–∏—Ç—å **–≤–∏–∫–ª—é—á–Ω–æ –≤—ñ–¥ —Ö–µ—à-–∫–æ–¥—ñ–≤ –∫–ª—é—á—ñ–≤**. –ó–º—ñ–Ω–∞ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ –≤–ø–ª–∏–≤–∞—î –Ω—ñ –Ω–∞ `hashCode()` –∫–ª—é—á–∞, –Ω—ñ –Ω–∞ —ñ–Ω–¥–µ–∫—Å –∫–æ—à–∏–∫–∞.
>
> –û–ø–µ—Ä–∞—Ü—ñ—è –ø—Ä–æ—Å—Ç–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —ñ—Å–Ω—É—é—á–∏–π –≤—É–∑–æ–ª (`Node`) —ñ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É—î –π–æ–≥–æ –ø–æ–ª–µ `value`. –ù—ñ —Ä–µ—Å–∞–π–∑–∏–Ω–≥, –Ω—ñ –ø–µ—Ä–µ—Ö–µ—à—É–≤–∞–Ω–Ω—è –Ω–µ –≤—ñ–¥–±—É–≤–∞—é—Ç—å—Å—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ß—ñ—Ç–∫–µ —Ä–æ–∑–º–µ–∂—É–≤–∞–Ω–Ω—è –º—ñ–∂ –∫–ª—é—á–µ–º (—è–∫–∏–π –º–∞—î –±—É—Ç–∏ —Å—Ç–∞–±—ñ–ª—å–Ω–∏–º) —Ç–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º (—è–∫–µ –º–æ–∂–µ –±—É—Ç–∏ –∑–º—ñ–Ω–Ω–∏–º).*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `final` –Ω–∞ –ø–æ–ª—è—Ö –∫–ª–∞—Å—É-–∫–ª—é—á–∞ –Ω–µ –∑–∞–≤–∂–¥–∏ –≥–∞—Ä–∞–Ω—Ç—É—î –π–æ–≥–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `final` –Ω–∞ –ø–æ–ª—ñ –≥–∞—Ä–∞–Ω—Ç—É—î —Ç—ñ–ª—å–∫–∏ —Ç–µ, —â–æ **–ø–æ—Å–∏–ª–∞–Ω–Ω—è** –Ω–∞ —Ü–µ –ø–æ–ª–µ –±—É–¥–µ –ø—Ä–∏—Å–≤–æ—î–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑ —ñ –Ω–µ –±—É–¥–µ –∑–º—ñ–Ω–µ–Ω–æ.
>
> –í—ñ–Ω **–Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î**, —â–æ **–æ–±'—î–∫—Ç**, –Ω–∞ —è–∫–∏–π —Ü–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤–∫–∞–∑—É—î, —î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public final class KeyWithFinalList {
>     private final String id;
>     // –ü–æ–ª–µ-—Å–ø–∏—Å–æ–∫ —î final, –∞–ª–µ —Å–∞–º —Å–ø–∏—Å–æ–∫ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π
>     private final List<String> properties;
>
>     // ... –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä ...
>
>     @Override public int hashCode() {
>         // hashCode –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –≤–º—ñ—Å—Ç—É —Å–ø–∏—Å–∫—É!
>         return Objects.hash(id, properties);
>     }
>     @Override public boolean equals(Object obj) { ... }
> }
> ```
>
> **–ü—Ä–æ–±–ª–µ–º–∞:**
>
> 1. –í–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ `List<String> list = new ArrayList<>();`
> 2. –°—Ç–≤–æ—Ä—é—î—Ç–µ –∫–ª—é—á: `KeyWithFinalList key = new KeyWithFinalList("key1", list);`
> 3. –î–æ–¥–∞—î—Ç–µ –π–æ–≥–æ –≤ –º–∞–ø—É.
> 4. **–ó–º—ñ–Ω—é—î—Ç–µ —Å–ø–∏—Å–æ–∫:** `list.add("property");`.
> 5. –•–µ—à-–∫–æ–¥ –æ–±'—î–∫—Ç–∞ `key` **–∑–º—ñ–Ω–∏–≤—Å—è**, —Ç–æ–º—É —â–æ –∑–º—ñ–Ω–∏–≤—Å—è –≤–º—ñ—Å—Ç `properties`.
>
> –¢–µ–ø–µ—Ä –≤–∏ –∑–Ω–æ–≤—É "–≤—Ç—Ä–∞—Ç–∏–ª–∏" –∫–ª—é—á —É –º–∞–ø—ñ. –¢–æ–º—É –¥–ª—è —Å–ø—Ä–∞–≤–∂–Ω—å–æ—ó —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ `final`-–ø–æ–ª—è –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ—Å–∏–ª–∞—Ç–∏—Å—è **—Ç—ñ–ª—å–∫–∏ –Ω–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏**.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—é –ø–æ—Å–∏–ª–∞–Ω–Ω—è (`final`) —Ç–∞ –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—é —Å—Ç–∞–Ω—É –æ–±'—î–∫—Ç–∞.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–±–∏ –≤–∏ —Å—Ç–≤–æ—Ä—é–≤–∞–ª–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –∫–ª–∞—Å –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —è–∫ –∫–ª—é—á `HashMap`, —è–∫—ñ –± –ø'—è—Ç—å –æ—Å–Ω–æ–≤–Ω–∏—Ö –ø—Ä–∞–≤–∏–ª –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–ª–∏? (–ü—ñ–¥—Å—É–º–æ–∫).

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–¥–µ–∞–ª—å–Ω–æ–≥–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞ —è –± –¥–æ—Ç—Ä–∏–º—É–≤–∞–≤—Å—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –ø—Ä–∞–≤–∏–ª:
>
> 1. **–ó—Ä–æ–±–∏–≤ –±–∏ –∫–ª–∞—Å `final`**, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–æ—Ä—É—à–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É.
> 2. **–í—Å—ñ –ø–æ–ª—è –∑—Ä–æ–±–∏–≤ –±–∏ `private` —Ç–∞ `final`**, —â–æ–± –∑–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ –¥–æ—Å—Ç—É–ø —Ç–∞ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–µ –ø—Ä–∏—Å–≤–æ—î–Ω–Ω—è.
> 3. **–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞–≤ –±–∏ –≤—Å—ñ –ø–æ–ª—è —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä**, –±–µ–∑ –Ω–∞–¥–∞–Ω–Ω—è –±—É–¥—å-—è–∫–∏—Ö —Å–µ—Ç—Ç–µ—Ä—ñ–≤.
> 4. **–Ø–∫–±–∏ –∫–ª–∞—Å –º—ñ—Å—Ç–∏–≤ –º—É—Ç–∞–±–µ–ª—å–Ω—ñ –ø–æ–ª—è** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `List` –∞–±–æ `Date`), —è –± –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤ **–∑–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è** —ñ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ, —ñ –≤ –≥–µ—Ç—Ç–µ—Ä–∞—Ö (–∞–±–æ –ø–æ–≤–µ—Ä—Ç–∞–≤ –±–∏ –Ω–µ–∑–º—ñ–Ω–Ω—ñ –æ–±–≥–æ—Ä—Ç–∫–∏).
> 5. **–ö–æ—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∏–≤ –±–∏ `equals()` —Ç–∞ `hashCode()`** –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∑–Ω–∞—á—É—â–∏—Ö, —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –ø–æ–ª—ñ–≤, —â–æ–± `HashMap` –º–æ–≥–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑ –Ω–∏–º –ø—Ä–∞—Ü—é–≤–∞—Ç–∏.
>
> –î–æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ü–∏—Ö –ø—Ä–∞–≤–∏–ª –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –∫–ª—é—á –±—É–¥–µ –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º, –Ω–∞–¥—ñ–π–Ω–∏–º —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å —É–∑–∞–≥–∞–ª—å–Ω–∏—Ç–∏ —Ç–∞ —á—ñ—Ç–∫–æ —Å—Ñ–æ—Ä–º—É–ª—é–≤–∞—Ç–∏ –≤—Å—ñ –∫–ª—é—á–æ–≤—ñ –≤–∏–º–æ–≥–∏ –¥–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞.*
