---
layout: default
title: "Thread-safety —ñ immutable –æ–±‚Äô—î–∫—Ç–∏"
parent: "Immutable –æ–±'—î–∫—Ç–∏"
grand_parent: "Java Core"
nav_order: 7
---

# Thread-safety —ñ immutable –æ–±‚Äô—î–∫—Ç–∏

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `Immutable` –æ–±'—î–∫—Ç–∏ —î `thread-safe` –∑–∞ —Å–≤–æ—î—é –ø—Ä–∏—Ä–æ–¥–æ—é, –æ—Å–∫—ñ–ª—å–∫–∏ —ó—Ö–Ω—ñ–π —Å—Ç–∞–Ω –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è. –¶–µ —É—Å—É–≤–∞—î –ø—Ä–æ–±–ª–µ–º–∏ –≥–æ–Ω–∫–∏ –∑–∞ –∑–º—ñ–Ω–Ω—ñ (`race conditions`) —Ç–∞ –ø–æ—Ç—Ä–µ–±—É –≤ —è–≤–Ω—ñ–π —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó.

* –ø–æ–Ω—è—Ç—Ç—è: `Thread-safety`, `concurrency`, `safe publishing`.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `String`, `Integer`, `LocalDate` ‚Äì –Ω–µ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:  –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å `race conditions`, –ª–µ–≥–∫—ñ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á—ñ –º—ñ–∂ –ø–æ—Ç–æ–∫–∞–º–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ `safe publishing`.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ß–æ–º—É `immutable` —î `thread-safe`, `safe publishing`.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**Thread-safety (–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å)** ‚Äî —Ü–µ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –æ–±‚Äô—î–∫—Ç–∞ –∞–±–æ –º–µ—Ç–æ–¥—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –ø—Ä–∏ –¥–æ—Å—Ç—É–ø—ñ –∑ –∫—ñ–ª—å–∫–æ—Ö –ø–æ—Ç–æ–∫—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –±–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–Ø–∫—â–æ **–∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤** –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–¥–∏–Ω –æ–±‚Äô—î–∫—Ç **–±–µ–∑ –≤–∑–∞—î–º–Ω–æ–≥–æ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è —á–∏ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤**, ‚Äî –≤—ñ–Ω **thread-safe**. Immutable –æ–±'—î–∫—Ç–∏ –¥–æ—Å—è–≥–∞—é—Ç—å —Ü—å–æ–≥–æ "–∑ –∫–æ—Ä–æ–±–∫–∏", –±–æ... –Ω—É, —ó—Ö –ø—Ä–æ—Å—Ç–æ –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ üíé.

---

## **üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è thread-safe –ø—ñ–¥—Ö–æ–¥—ñ–≤:**

| –ü—ñ–¥—Ö—ñ–¥ | Thread-safe? | –ü–æ—Ç—Ä–µ–±—É—î —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó? | –ü—Ä–∏–∫–ª–∞–¥ |
| :---: | :---: | :---: | :---: |
| **Immutable –æ–±'—î–∫—Ç–∏** | ‚úÖ | ‚ùå | **`String, Integer, LocalDate`** |
| **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω—ñ –±–ª–æ–∫–∏** | ‚úÖ | ‚úÖ | **`synchronized`** –º–µ—Ç–æ–¥–∏ |
| **Volatile –ø–æ–ª—è** | –ß–∞—Å—Ç–∫–æ–≤–æ | –ó–∞–ª–µ–∂–∏—Ç—å | –ó–º—ñ–Ω–Ω—ñ –≤–∏–¥–∏–º—ñ –º—ñ–∂ –ø–æ—Ç–æ–∫–∞–º–∏ |
| **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó** | ‚úÖ | ‚ùå | **`ConcurrentHashMap`** |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

**–£—è–≤–∏ –ø–µ–ª—å–º–µ–Ω–Ω—É üçΩÔ∏è.**

* –Ø–∫—â–æ **immutable –æ–±‚Äô—î–∫—Ç** ‚Äî —Ü–µ –∑–∞–º–æ—Ä–æ–∂–µ–Ω—ñ –ø–µ–ª—å–º–µ–Ω—ñ ü•∂: –Ω—ñ—Ö—Ç–æ —ó—Ö –Ω–µ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏, —Ç–æ–∂ –Ω–µ —Ç—Ä–µ–±–∞ –¥–æ–º–æ–≤–ª—è—Ç–∏—Å—å, —Ö—Ç–æ –∫–æ–ª–∏ —ó—Ö –ª—ñ–ø–∏—Ç—å.
* –Ø–∫—â–æ mutable ‚Äî —Ç—Ä–µ–±–∞ –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤—É–≤–∞—Ç–∏ —á–µ—Ä–≥—É, –±–ª–æ–∫—É–≤–∞–Ω–Ω—è, mutex'–∏ –π –Ω–µ—Ä–≤–æ–≤–∏–π —Ç–∏–∫.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
// Immutable –∫–ª–∞—Å -- –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ thread-safe
public final class Money {
    private final int amount;
    private final String currency;

    public Money(int amount, String currency) {
        this.amount = amount;
        this.currency = currency;
    }

    public int getAmount() { return amount; }
    public String getCurrency() { return currency; }
}
```

* –ñ–æ–¥–µ–Ω –ø–æ—Ç—ñ–∫ –Ω–µ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ **`amount`** –∞–±–æ **`currency`** –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è.

* **–ë–µ–∑ –∂–æ–¥–Ω–æ–≥–æ synchronized** –≤—Å–µ –ø—Ä–∞—Ü—é—î –±–µ–∑–ø–µ—á–Ω–æ.

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Immutable –æ–±'—î–∫—Ç–∏ | Mutable \+ synchronized |
| :---: | :---: | :---: |
| **Thread-safe –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –∑—É—Å–∏–ª—å** | ‚úÖ | ‚ùå (–ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è) |
| **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å** | –í–∏—â–∞ | –ù–∏–∂—á–∞ —á–µ—Ä–µ–∑ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è |
| **–£—Å–∫–ª–∞–¥–Ω–µ–Ω—ñ—Å—Ç—å –∫–æ–¥—É** | –ù–∏–∑—å–∫–∞ | –í–∏—Å–æ–∫–∞ (lock, unlock, race conditions) |
| **–ì–∞—Ä–∞–Ω—Ç—ñ—ó –±–µ–∑–ø–µ–∫–∏** | –°—Ç–∞—Ç–∏—á–Ω—ñ | –î–∏–Ω–∞–º—ñ—á–Ω—ñ (runtime errors –º–æ–∂–ª–∏–≤—ñ) |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**"Immutable \= Invisible for Locks"**

* Immutable –æ–±‚Äô—î–∫—Ç—ñ–≤ **–Ω–µ –≤–∏–¥–Ω–æ** –¥–ª—è –±–ª–æ–∫—É–≤–∞–Ω—å, –±–æ –≤ –Ω–∏—Ö –Ω–µ–º–∞—î –∑–º—ñ–Ω.
* –ù—ñ—Ö—Ç–æ –Ω–µ –≤–æ—é—î –∑–∞ –∑–º—ñ–Ω–Ω—ñ, —è–∫—â–æ –Ω–µ–º–∞ –∑–º—ñ–Ω üëª.

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* **Immutable –æ–±‚Äô—î–∫—Ç–∏ ‚Äî —Ü–µ –ø—Ä–∏—Ä–æ–¥–Ω–æ thread-safe**, –±–æ —ó—Ö –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏.
* –í–æ–Ω–∏ **–Ω–µ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó**, –ª–µ–≥–∫–æ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è –º—ñ–∂ –ø–æ—Ç–æ–∫–∞–º–∏ –π –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å –±–µ–∑–ø–µ–∫—É.
* –í–∞–∂–ª–∏–≤–æ –≤–º—ñ—Ç–∏ **–ø—Ä–∞–≤–∏–ª—å–Ω–æ —ó—Ö —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏** —ñ –∑–Ω–∞—Ç–∏, –∫–æ–ª–∏ –≤–æ–Ω–∏ **–∫—Ä–∞—â–∏–π –≤–∏–±—ñ—Ä** —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Brian Goetz: Java Concurrency in Practice ‚Äî Immutable Objects**](https://jcip.net)
* [**Oracle Docs: Java Memory Model**](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –æ–∑–Ω–∞—á–∞—î, —â–æ –∫–ª–∞—Å —î "–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º" (thread-safe)?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ö–ª–∞—Å –≤–≤–∞–∂–∞—î—Ç—å—Å—è **–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º**, —è–∫—â–æ –π–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∏ –ø–æ–≤–æ–¥—è—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ–º—É –¥–æ—Å—Ç—É–ø—ñ –¥–æ –Ω–∏—Ö –∑ –∫—ñ–ª—å–∫–æ—Ö –ø–æ—Ç–æ–∫—ñ–≤, –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ —É –∑–æ–≤–Ω—ñ—à–Ω—ñ–π —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∑ –±–æ–∫—É –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–≥–æ –∫–æ–¥—É.
>
> –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ:
>
> * –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞ –Ω–µ –±—É–¥–µ –ø–æ—à–∫–æ–¥–∂–µ–Ω–æ.
> * –í—Å—ñ –ø–æ—Ç–æ–∫–∏ –±—É–¥—É—Ç—å –±–∞—á–∏—Ç–∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–π —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞.
> * –Ü–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–∏ –∫–ª–∞—Å—É –Ω–µ –±—É–¥—É—Ç—å –ø–æ—Ä—É—à–µ–Ω—ñ.
>
> –ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å –º–æ–∂–µ –±—É—Ç–∏ –¥–æ—Å—è–≥–Ω—É—Ç–∞ —Ä—ñ–∑–Ω–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏: –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ, —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó (`synchronized`, `Lock`), –∞—Ç–æ–º–∞—Ä–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–µ–±–ª–æ–∫—É—é—á–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–¶–µ —è–∫ –º–∞—Ç–∏ —Å–ø—Ä–∞–≤—É –∑ –∫–∞—Å–∏—Ä–æ–º —É –±–∞–Ω–∫—É. –ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–π –∫–∞—Å–∏—Ä –æ–±—Å–ª—É–≥–æ–≤—É—î –æ–¥–Ω–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞ –∑–∞ —Ä–∞–∑ —ñ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø–µ—Ä–µ–ø–ª—É—Ç–∞—î –≥—Ä–æ—à—ñ –º—ñ–∂ —Ä–∞—Ö—É–Ω–∫–∞–º–∏, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤ —á–µ—Ä–∑—ñ —Å—Ç–æ—ó—Ç—å –±–∞–≥–∞—Ç–æ –ª—é–¥–µ–π. –ù–µ-–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–π –∫–∞—Å–∏—Ä –º–æ–∂–µ –ø–æ—á–∞—Ç–∏ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞—Ç–∏ –¥—Ä—É–≥–æ–≥–æ, –Ω–µ –∑–∞–∫—ñ–Ω—á–∏–≤—à–∏ –∑ –ø–µ—Ä—à–∏–º, —â–æ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ —Ö–∞–æ—Å—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –±–∞–∑–æ–≤–æ–≥–æ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ —Ç–∞ —Ç–æ–≥–æ, —â–æ –≤–æ–Ω–∞ –æ–∑–Ω–∞—á–∞—î –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ –ø—Ä–æ–≥—Ä–∞–º–∏.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ (immutable) –æ–±'—î–∫—Ç–∏ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º–∏ –∑–∞ —Å–≤–æ—î—é –ø—Ä–∏—Ä–æ–¥–æ—é?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ü–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º–∏ "–∑–∞ –¥–∏–∑–∞–π–Ω–æ–º" (inherently thread-safe), —Ç–æ–º—É —â–æ —ó—Ö–Ω—ñ–π **–≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏** –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è.
>
> –¶–µ —É—Å—É–≤–∞—î –≤—Å—ñ –æ—Å–Ω–æ–≤–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑—ñ —Å–ø—ñ–ª—å–Ω–∏–º **–∑–º—ñ–Ω—é–≤–∞–Ω–∏–º** —Å—Ç–∞–Ω–æ–º:
>
> 1. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Å—Ç–∞–Ω—ñ–≤ –≥–æ–Ω–∏—Ç–≤–∏ (Race Conditions):** –ö—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤ –Ω–µ –º–æ–∂—É—Ç—å "–∑–º–∞–≥–∞—Ç–∏—Å—è" –∑–∞ –∑–º—ñ–Ω—É —Å—Ç–∞–Ω—É –æ–±'—î–∫—Ç–∞, –æ—Å–∫—ñ–ª—å–∫–∏ –π–æ–≥–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –Ω–µ–º–æ–∂–ª–∏–≤–æ. –ü—Ä–æ–±–ª–µ–º–∞ "–ø–µ—Ä–µ–≤—ñ—Ä-—ñ-–∑–º—ñ–Ω–∏" –ø—Ä–æ—Å—Ç–æ –Ω–µ –≤–∏–Ω–∏–∫–∞—î.
>
> 2. **–ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è:** –û—Å–∫—ñ–ª—å–∫–∏ –Ω–µ–º–∞—î –∑–º—ñ–Ω—é–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö, —è–∫—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞—Ö–∏—â–∞—Ç–∏, –Ω–µ–º–∞—î –ø–æ—Ç—Ä–µ–±–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `synchronized` –±–ª–æ–∫–∏ –∞–±–æ `Lock`-–∏. –¶–µ —Ä–æ–±–∏—Ç—å –∫–æ–¥ –∑–Ω–∞—á–Ω–æ –ø—Ä–æ—Å—Ç—ñ—à–∏–º —ñ —à–≤–∏–¥—à–∏–º.
>
> 3. **–ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å:** –û–±'—î–∫—Ç –∑–∞–≤–∂–¥–∏ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —É –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º—É —Å—Ç–∞–Ω—ñ, –≤ —è–∫–æ–º—É –≤—ñ–Ω –±—É–≤ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π.
>
> –û—Å–∫—ñ–ª—å–∫–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—à–∫–æ–¥–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∏–π –¥–æ—Å—Ç—É–ø, –Ω–∏–º –º–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ –¥—ñ–ª–∏—Ç–∏—Å—è –º—ñ–∂ –±–∞–≥–∞—Ç—å–º–∞ –ø–æ—Ç–æ–∫–∞–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —Å–∞–º–µ –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—å —Å—Ç–∞–Ω—É —î –ø—Ä–∏—á–∏–Ω–æ—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ –¥–≤–∞ –ø—ñ–¥—Ö–æ–¥–∏ –¥–æ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ: —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> | –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | –Ü–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏ | –ú—É—Ç–∞–±–µ–ª—å–Ω—ñ + –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è |
> |---|---|---|
> | **–ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏** | –°—Ç–∞–Ω –Ω–µ–∑–º—ñ–Ω–Ω–∏–π. –ó–∞–º—ñ—Å—Ç—å –∑–º—ñ–Ω–∏ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç. | –°—Ç–∞–Ω –∑–º—ñ–Ω–Ω–∏–π, –∞–ª–µ –¥–æ—Å—Ç—É–ø –¥–æ –Ω—å–æ–≥–æ –∑–∞—Ö–∏—â–µ–Ω–∏–π –±–ª–æ–∫—É–≤–∞–Ω–Ω—è–º–∏. |
> | **–ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å** | **–¢–∞–∫, –∑–∞ –¥–∏–∑–∞–π–Ω–æ–º.** –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∞ —ñ –ø—Ä–æ—Å—Ç–∞. | **–¢–∞–∫, –∞–ª–µ –≤–∏–º–∞–≥–∞—î —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó.** –°—Ö–∏–ª—å–Ω–∞ –¥–æ –ø–æ–º–∏–ª–æ–∫. |
> | **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –∫–æ–¥—É** | **–ù–∏–∑—å–∫–∞.** –ö–æ–¥ –ø—Ä–æ—Å—Ç–∏–π —ñ –∑—Ä–æ–∑—É–º—ñ–ª–∏–π. | **–í–∏—Å–æ–∫–∞.** –ü–æ—Ç—Ä—ñ–±–Ω–æ –∫–µ—Ä—É–≤–∞—Ç–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è–º–∏, —î —Ä–∏–∑–∏–∫ –¥–µ–¥–ª–æ–∫—ñ–≤. |
> | **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å** | **–î—É–∂–µ –≤–∏—Å–æ–∫–∞** –ø—Ä–∏ —á–∏—Ç–∞–Ω–Ω—ñ. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ –º–æ–∂–µ –±—É—Ç–∏ "–¥–æ—Ä–æ–≥–∏–º" –ø—Ä–∏ —á–∞—Å—Ç–∏—Ö –∑–º—ñ–Ω–∞—Ö. | **–ù–∏–∂—á–∞** —á–µ—Ä–µ–∑ –Ω–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è, —è–∫—ñ —Å—Ç–≤–æ—Ä—é—é—Ç—å "–ø–ª—è—à–∫–æ–≤–µ –≥–æ—Ä–ª–æ". |
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** **–Ü–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —î –∫—Ä–∞—â–∏–º –ø—ñ–¥—Ö–æ–¥–æ–º**, –∫–æ–ª–∏ —Ü–µ –º–æ–∂–ª–∏–≤–æ. –í–æ–Ω–∞ –≤–µ–¥–µ –¥–æ –ø—Ä–æ—Å—Ç—ñ—à–æ–≥–æ, –Ω–∞–¥—ñ–π–Ω—ñ—à–æ–≥–æ —Ç–∞ —á–∞—Å—Ç–æ –±—ñ–ª—å—à –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–¥—É. –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ, –∫–æ–ª–∏ —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞ –∑–∞ —Å–≤–æ—î—é –ø—Ä–∏—Ä–æ–¥–æ—é –º–∞—î –±—É—Ç–∏ –∑–º—ñ–Ω—é–≤–∞–Ω–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–æ–º–ø—Ä–æ–º—ñ—Å–∏ —Ä—ñ–∑–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤ –¥–æ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –±–ª–æ–∫—É–≤–∞–Ω—å (—á–µ—Ä–µ–∑ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å) —î –∫—Ä–∞—â–∏–º, –Ω—ñ–∂ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –Ω–∏–º–∏.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ "–±–µ–∑–ø–µ—á–Ω–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è" (safe publishing) —ñ —è–∫ –≤–æ–Ω–∞ –ø–æ–≤'—è–∑–∞–Ω–∞ –∑ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—é —Ç–∞ `final` –ø–æ–ª—è–º–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **"–ë–µ–∑–ø–µ—á–Ω–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è"** ‚Äî —Ü–µ –ø—Ä–æ—Ü–µ—Å, —è–∫–∏–π –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –≤—Å—ñ –ø–æ—Ç–æ–∫–∏ –±—É–¥—É—Ç—å –±–∞—á–∏—Ç–∏ **–∫–æ—Ä–µ–∫—Ç–Ω–æ —ñ –ø–æ–≤–Ω—ñ—Å—Ç—é —Å–∫–æ–Ω—Å—Ç—Ä—É–π–æ–≤–∞–Ω–∏–π** –æ–±'—î–∫—Ç, –∞ –Ω–µ –π–æ–≥–æ —á–∞—Å—Ç–∫–æ–≤–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Å—Ç–∞–Ω.
>
> **–Ø–∫ —Ü–µ –ø–æ–≤'—è–∑–∞–Ω–æ –∑ `final` –ø–æ–ª—è–º–∏ —Ç–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—é:**
>
> **–ú–æ–¥–µ–ª—å –ø–∞–º'—è—Ç—ñ Java (JMM)** –Ω–∞–¥–∞—î —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –≥–∞—Ä–∞–Ω—Ç—ñ—ó –¥–ª—è `final` –ø–æ–ª—ñ–≤:
>
> * **–Ø–∫—â–æ –æ–±'—î–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ –∫–æ—Ä–µ–∫—Ç–Ω–æ** (—Ç–æ–±—Ç–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è `this` –Ω–µ "–≤–∏—Ç—ñ–∫–∞—î" –∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞), —Ç–æ JMM –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∑–∞–≤–µ—Ä—à–∏–≤ —Å–≤–æ—é —Ä–æ–±–æ—Ç—É, **–≤—Å—ñ –ø–æ—Ç–æ–∫–∏ –±—É–¥—É—Ç—å –±–∞—á–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—Å—ñ—Ö –π–æ–≥–æ `final`-–ø–æ–ª—ñ–≤**.
>
> –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –¥–ª—è **—ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ** –æ–±'—î–∫—Ç–∞ (—É —è–∫–æ–≥–æ –≤—Å—ñ –ø–æ–ª—è `final`) **–Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞** –¥–æ–¥–∞—Ç–∫–æ–≤–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è (`volatile` –∞–±–æ `synchronized`) –¥–ª—è –π–æ–≥–æ –±–µ–∑–ø–µ—á–Ω–æ—ó –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó. –°–∞–º —Ñ–∞–∫—Ç —Ç–æ–≥–æ, —â–æ –ø–æ–ª—è —î `final`, –∑–∞–±–µ–∑–ø–µ—á—É—î —ó—Ö–Ω—é –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤–∏–¥–∏–º—ñ—Å—Ç—å.
>
> **–Ø–∫—â–æ –∂ –ø–æ–ª—è –Ω–µ `final`**, —Ç–æ –Ω–µ–º–∞—î –≥–∞—Ä–∞–Ω—Ç—ñ—ó, —â–æ —ñ–Ω—à—ñ –ø–æ—Ç–æ–∫–∏ –ø–æ–±–∞—á–∞—Ç—å —ó—Ö–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó. –í–æ–Ω–∏ –º–æ–∂—É—Ç—å –ø–æ–±–∞—á–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º (`0` –∞–±–æ `null`).
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `final` —î —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏–º –º–µ—Ö–∞–Ω—ñ–∑–º–æ–º –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –±–µ–∑–ø–µ—á–Ω–æ—ó –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó —ñ, —è–∫ –Ω–∞—Å–ª—ñ–¥–æ–∫, –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î—É–∂–µ –≥–ª–∏–±–æ–∫—ñ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ Java Memory Model. –†–æ–∑—É–º—ñ–Ω–Ω—è –∑–≤'—è–∑–∫—É –º—ñ–∂ `final`, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º–∏ —Ç–∞ –≥–∞—Ä–∞–Ω—Ç—ñ—è–º–∏ –≤–∏–¥–∏–º–æ—Å—Ç—ñ –∑–º—ñ–Ω.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `String` –º–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –±–µ–∑ `synchronized`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–æ–º—É —â–æ –∫–ª–∞—Å `String` —î **—ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º**.
>
> 1. **–°—Ç–∞–Ω –Ω–µ–∑–º—ñ–Ω–Ω–∏–π:** –ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ `String` –π–æ–≥–æ –≤–º—ñ—Å—Ç (–ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å —Å–∏–º–≤–æ–ª—ñ–≤) –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏. –ë—É–¥—å-—è–∫–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è, —è–∫ `concat` –∞–±–æ `replace`, —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç.
> 2. **–ù–µ–º–∞—î —Å—Ç–∞–Ω—É –≥–æ–Ω–∏—Ç–≤–∏:** –û—Å–∫—ñ–ª—å–∫–∏ –Ω–µ–º–∞—î –º–µ—Ç–æ–¥—ñ–≤, —è–∫—ñ –∑–º—ñ–Ω—é—é—Ç—å —Å—Ç–∞–Ω, –¥–≤–∞ –ø–æ—Ç–æ–∫–∏ –Ω–µ –º–æ–∂—É—Ç—å "–∑–º–∞–≥–∞—Ç–∏—Å—è" –∑–∞ –π–æ–≥–æ –∑–º—ñ–Ω—É.
> 3. **–ü–æ–ª—è —î `final`:** –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –º–∞—Å–∏–≤ —Å–∏–º–≤–æ–ª—ñ–≤ (–∞–±–æ –±–∞–π—Ç—ñ–≤) —î `final`, —â–æ –≥–∞—Ä–∞–Ω—Ç—É—î –π–æ–≥–æ –±–µ–∑–ø–µ—á–Ω—É –ø—É–±–ª—ñ–∫–∞—Ü—ñ—é.
>
> –ó–∞–≤–¥—è–∫–∏ —Ü–∏–º –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è–º, –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä `String` –º–æ–∂–µ –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –ø–æ—Ç–æ–∫—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –±–µ–∑ –±—É–¥—å-—è–∫–∏—Ö –±–ª–æ–∫—É–≤–∞–Ω—å.
>
> –¶–µ –æ–¥–Ω–∞ –∑ –∫–ª—é—á–æ–≤–∏—Ö –ø—Ä–∏—á–∏–Ω, —á–æ–º—É `String` —î —Ç–∞–∫–∏–º –Ω–∞–¥—ñ–π–Ω–∏–º —ñ —à–∏—Ä–æ–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏–º –∫–ª–∞—Å–æ–º –≤ Java.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –∑–∞–≥–∞–ª—å–Ω—ñ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –¥–æ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–æ–≥–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—É –≤ Java ‚Äî `String`.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, —É –≤–∞—Å —î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –∫–ª–∞—Å, —â–æ –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ **–º—É—Ç–∞–±–µ–ª—å–Ω—É** –∫–æ–ª–µ–∫—Ü—ñ—é. –ß–∏ —î —Ü–µ–π –∫–ª–∞—Å –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í—ñ–Ω –±—É–¥–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º **—Ç—ñ–ª—å–∫–∏ –≤ —Ç–æ–º—É –≤–∏–ø–∞–¥–∫—É, —è–∫—â–æ –±—É–ª–∏ –≤–∂–∏—Ç—ñ –∑–∞—Ö–æ–¥–∏ –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ –∑–º—ñ–Ω —Ü—ñ—î—ó –º—É—Ç–∞–±–µ–ª—å–Ω–æ—ó –∫–æ–ª–µ–∫—Ü—ñ—ó**.
>
> –°–∞–º –ø–æ —Å–æ–±—ñ –∫–ª–∞—Å –Ω–µ –±—É–¥–µ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º, –∞ –æ—Ç–∂–µ, —ñ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º, —è–∫—â–æ –≤—ñ–Ω –ø—Ä–æ—Å—Ç–æ –∑–±–µ—Ä—ñ–≥–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç.
>
> **–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ:**
>
> 1. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ:** –©–æ–± —ñ–∑–æ–ª—é–≤–∞—Ç–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω –≤—ñ–¥ –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –æ–±'—î–∫—Ç–∞.
> 2. **–ü–æ–≤–µ—Ä—Ç–∞—Ç–∏ –Ω–µ–∑–º—ñ–Ω–Ω—É –∫–æ–ø—ñ—é –∞–±–æ –≤–∏–¥ —É –≥–µ—Ç—Ç–µ—Ä—ñ:** –©–æ–± –Ω–µ "–≤–∏–ø—É—Å–∫–∞—Ç–∏" –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π —Å—Ç–∞–Ω.
> 3. –í–Ω—É—Ç—Ä—ñ—à–Ω—è –∫–æ–ª–µ–∫—Ü—ñ—è —Ç–∞–∫–æ–∂ –º–∞—î –±—É—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∞, —è–∫—â–æ –¥–æ –Ω–µ—ó —î –¥–æ—Å—Ç—É–ø –∑ –∫—ñ–ª—å–∫–æ—Ö –º–µ—Ç–æ–¥—ñ–≤ –∫–ª–∞—Å—É.
>
> **–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–π "—ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π" –∫–ª–∞—Å:**
>
> ```java
> public final class SafeDataHolder {
>     private final List<String> data;
>
>     public SafeDataHolder(List<String> data) {
>         // –†–æ–±–∏–º–æ –∫–æ–ø—ñ—é, —â–æ–± –±—É—Ç–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–º
>         this.data = new ArrayList<>(data);
>     }
>
>     public List<String> getData() {
>         // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –Ω–µ–∑–º—ñ–Ω–Ω—É –æ–±–≥–æ—Ä—Ç–∫—É, –∞ –Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è!
>         return Collections.unmodifiableList(data);
>     }
> }
> ```
>
> –Ø–∫—â–æ —Ü—ñ –ø—Ä–∞–≤–∏–ª–∞ –Ω–µ –¥–æ—Ç—Ä–∏–º–∞–Ω—ñ, –∫–ª–∞—Å –Ω–µ —î –Ω—ñ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º, –Ω—ñ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å "–Ω–µ –∑–∞—Ä–∞–∑–Ω–∞" —ñ –≤–∏–º–∞–≥–∞—î –∑–∞—Ö–∏—Å—Ç—É –Ω–∞ –º–µ–∂–∞—Ö –∫–ª–∞—Å—É.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏ —î —á—É–¥–æ–≤–∏–º–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏ –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ü–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏ —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥—è—Ç—å –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è, —Ç–æ–º—É —â–æ —ó—Ö–Ω—ñ–π —Å—Ç–∞–Ω —ñ, —è–∫ –Ω–∞—Å–ª—ñ–¥–æ–∫, —ó—Ö–Ω—è **—ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å (–≤–∏–∑–Ω–∞—á–µ–Ω–∞ —á–µ—Ä–µ–∑ `equals` —Ç–∞ `hashCode`)** —î —Å—Ç–∞–±—ñ–ª—å–Ω–∏–º–∏.
>
> **–ü–µ—Ä–µ–≤–∞–≥–∏ –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è:**
>
> 1. **–°—Ç–∞–±—ñ–ª—å–Ω–∏–π `hashCode`:** –í–∏ –º–æ–∂–µ—Ç–µ –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç —è–∫ –∫–ª—é—á —É `HashMap`-–∫–µ—à—ñ. –ô–æ–≥–æ —Ö–µ—à-–∫–æ–¥ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –∑–º—ñ–Ω–∏—Ç—å—Å—è.
> 2. **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å:** –í–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –æ–±'—î–∫—Ç –∑ –∫–µ—à—É —ñ –±—É—Ç–∏ –≤–ø–µ–≤–Ω–µ–Ω–∏–º–∏, —â–æ –π–æ–≥–æ —Å—Ç–∞–Ω –Ω–µ –±—É–≤ –∑–º—ñ–Ω–µ–Ω–∏–π —ñ–Ω—à–æ—é —á–∞—Å—Ç–∏–Ω–æ—é –ø—Ä–æ–≥—Ä–∞–º–∏.
> 3. **–ë–µ–∑–ø–µ—á–Ω–µ –ø–µ—Ä–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –û–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä –∑ –∫–µ—à—É –º–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ —Ä—ñ–∑–Ω–∏–º –∫–ª—ñ—î–Ω—Ç–∞–º –∞–±–æ –ø–æ—Ç–æ–∫–∞–º, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∏ –Ω–µ –∑–º–æ–∂—É—Ç—å –π–æ–≥–æ "–∑—ñ–ø—Å—É–≤–∞—Ç–∏".
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
> `Integer.valueOf(int)` –∫–µ—à—É—î –∑–Ω–∞—á–µ–Ω–Ω—è –≤—ñ–¥ -128 –¥–æ 127. –û—Å–∫—ñ–ª—å–∫–∏ `Integer` —î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º, JVM –º–æ–∂–µ –±–µ–∑–ø–µ—á–Ω–æ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä –¥–ª—è, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Integer.valueOf(10)`, –µ–∫–æ–Ω–æ–º–ª—è—á–∏ –ø–∞–º'—è—Ç—å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –¥–æ–∑–≤–æ–ª—è—î –±–µ–∑–ø–µ—á–Ω–æ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ —Ç–∞–∫—ñ –ø–∞—Ç–µ—Ä–Ω–∏, —è–∫ –∫–µ—à—É–≤–∞–Ω–Ω—è –∞–±–æ –ø—É–ª –æ–±'—î–∫—Ç—ñ–≤.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–†–æ–∑–≥–ª—è–Ω–µ–º–æ –ø–∞—Ç–µ—Ä–Ω `Builder`. –ß–∏ —î —Å–∞–º `Builder` –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º? –ê –æ–±'—î–∫—Ç, —è–∫–∏–π –≤—ñ–Ω —Å—Ç–≤–æ—Ä—é—î?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> * **–°–∞–º –æ–±'—î–∫—Ç `Builder`**: **–ù—ñ, –Ω–µ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º**.
>   * –ë—ñ–ª–¥–µ—Ä —î **–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º** –æ–±'—î–∫—Ç–æ–º. –ô–æ–≥–æ —Å—Ç–∞–Ω –∑–º—ñ–Ω—é—î—Ç—å—Å—è –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –≤–∏–∫–ª–∏–∫—É –º–µ—Ç–æ–¥—É-—Å–µ—Ç—Ç–µ—Ä–∞ (`with...()`).
>   * –Ø–∫—â–æ –∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –Ω–∞–º–∞–≥–∞—é—Ç—å—Å—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä—É–≤–∞—Ç–∏ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä –±—ñ–ª–¥–µ—Ä–∞, —Ü–µ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ —Å—Ç–∞–Ω—É –≥–æ–Ω–∏—Ç–≤–∏. –†–µ–∑—É–ª—å—Ç–∞—Ç `build()` –±—É–¥–µ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–º.
>   * –¢–æ–º—É **–æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä `Builder` –º–∞—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è —Ç—ñ–ª—å–∫–∏ –≤ –æ–¥–Ω–æ–º—É –ø–æ—Ç–æ—Ü—ñ**.
>
> * **–û–±'—î–∫—Ç, —è–∫–∏–π –≤—ñ–Ω —Å—Ç–≤–æ—Ä—é—î**: **–ú–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º**.
>   * –ü–∞—Ç–µ—Ä–Ω `Builder` –¥—É–∂–µ –¥–æ–±—Ä–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è **—ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö** –æ–±'—î–∫—Ç—ñ–≤.
>   * –ü—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –º–µ—Ç–æ–¥ `build()` —Å—Ç–≤–æ—Ä—é—î —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç, —Ü–µ–π –æ–±'—î–∫—Ç –≤–∂–µ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º —ñ –π–æ–≥–æ –º–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –º—ñ–∂ –ø–æ—Ç–æ–∫–∞–º–∏.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** `Builder` ‚Äî —Ü–µ **–Ω–µ-–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç** –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è **–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤**.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å —Ä–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ —Å–∞–º–æ–≥–æ –ø–∞—Ç–µ—Ä–Ω—É (`Builder` ‚Äî –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π) —Ç–∞ –æ–±'—î–∫—Ç–∞, —è–∫–∏–π –≤—ñ–Ω —Å—Ç–≤–æ—Ä—é—î.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –≤–≤–∞–∂–∞—Ç–∏ –∫–ª–∞—Å –∑ `private final`-–ø–æ–ª—è–º–∏ —Ç–∞ –±–µ–∑ —Å–µ—Ç—Ç–µ—Ä—ñ–≤ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º, —è–∫—â–æ –≤—ñ–Ω –º–∞—î –º–µ—Ç–æ–¥ `clone()`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –º–µ—Ç–æ–¥—É `clone()`.
>
> * **–Ø–∫—â–æ `clone()` –≤–∏–∫–æ–Ω—É—î –≥–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è**, –ø–æ–≤–µ—Ä—Ç–∞—é—á–∏ –Ω–æ–≤–∏–π, –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–π –æ–±'—î–∫—Ç, —Ç–æ —Ü–µ –Ω–µ –ø–æ—Ä—É—à—É—î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ. –ö–ª–∞—Å –≤—Å–µ —â–µ –º–æ–∂–Ω–∞ –≤–≤–∞–∂–∞—Ç–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º.
>
> * **–Ø–∫—â–æ `clone()` –≤–∏–∫–æ–Ω—É—î –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è** (—â–æ —î –ø–æ–≤–µ–¥—ñ–Ω–∫–æ—é –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º), —ñ –∫–ª–∞—Å –º—ñ—Å—Ç–∏—Ç—å –º—É—Ç–∞–±–µ–ª—å–Ω—ñ –ø–æ–ª—è, —Ç–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä—É—à–µ–Ω–∞. –û—Ä–∏–≥—ñ–Ω–∞–ª —ñ –∫–ª–æ–Ω –±—É–¥—É—Ç—å –¥—ñ–ª–∏—Ç–∏ —Å–ø—ñ–ª—å–Ω–∏–π –∑–º—ñ–Ω—é–≤–∞–Ω–∏–π —Å—Ç–∞–Ω.
>
> –û–¥–Ω–∞–∫, —Å–∞–º–∞ —ñ–¥–µ—è "–∫–ª–æ–Ω—É–≤–∞–Ω–Ω—è" –¥–ª—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ —î –¥–µ—â–æ –¥–∏–≤–Ω–æ—é. –Ø–∫—â–æ –æ–±'—î–∫—Ç –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏, **—Å–µ–Ω—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –π–æ–≥–æ –ø–æ–≤–Ω–æ—ó –∫–æ–ø—ñ—ó –Ω–µ–≤–µ–ª–∏–∫–∏–π**. –ú–æ–∂–Ω–∞ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ç–æ–π —Å–∞–º–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä, –±–æ –≤—ñ–Ω –±–µ–∑–ø–µ—á–Ω–∏–π.
>
> –¢–æ–º—É –≤ —ñ–¥–µ–∞–ª—å–Ω–æ–º—É —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–º—É –∫–ª–∞—Å—ñ –º–µ—Ç–æ–¥ `clone()` –∞–±–æ –Ω–µ —Ä–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è, –∞–±–æ, —è–∫—â–æ —Ä–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è (—á–µ—Ä–µ–∑ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è), –≤—ñ–Ω –º–∞—î –∫–∏–¥–∞—Ç–∏ `CloneNotSupportedException` –∞–±–æ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ `this`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —Å–µ–Ω—Å –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—è –≤—Ç—Ä–∞—á–∞—î—Ç—å—Å—è –¥–ª—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤. –ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `final` –Ω–∞ –∫–ª–∞—Å—ñ –≤–∞–∂–ª–∏–≤–∏–π –¥–ª—è –≥–∞—Ä–∞–Ω—Ç—ñ—ó –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `final` –Ω–∞ –∫–ª–∞—Å—ñ –∑–∞–±–æ—Ä–æ–Ω—è—î —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è. –¶–µ –≤–∞–∂–ª–∏–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ –¥–ª—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω **–∑–∞—Ö–∏—â–∞—î –≤—ñ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –ø—ñ–¥–∫–ª–∞—Å—ñ–≤**.
>
> **–ü—Ä–æ–±–ª–µ–º–∞:**
> –Ø–∫–±–∏ –∫–ª–∞—Å –Ω–µ –±—É–≤ `final`, —Ö—Ç–æ—Å—å –º—ñ–≥ –±–∏ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –π–æ–≥–æ –ø—ñ–¥–∫–ª–∞—Å —ñ –¥–æ–¥–∞—Ç–∏ —Ç—É–¥–∏ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π —Å—Ç–∞–Ω –∞–±–æ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∏—Ç–∏ –º–µ—Ç–æ–¥–∏ —Ç–∞–∫, —â–æ–± –≤–æ–Ω–∏ —Å—Ç–∞–ª–∏ –Ω–µ-–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º–∏.
>
> –Ø–∫—â–æ —ñ–Ω—à–∞ —á–∞—Å—Ç–∏–Ω–∞ –∫–æ–¥—É –æ—á—ñ–∫—É—î –æ—Ç—Ä–∏–º–∞—Ç–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π —ñ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–π –æ–±'—î–∫—Ç, –∞ –Ω–∞—Ç–æ–º—ñ—Å—Ç—å –æ—Ç—Ä–∏–º—É—î –µ–∫–∑–µ–º–ø–ª—è—Ä —Ç–∞–∫–æ–≥–æ –º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –ø—ñ–¥–∫–ª–∞—Å—É, –≤—Å—ñ –≥–∞—Ä–∞–Ω—Ç—ñ—ó –±–µ–∑–ø–µ–∫–∏ —Ä—É–π–Ω—É—é—Ç—å—Å—è.
>
> `final` –Ω–∞ –∫–ª–∞—Å—ñ —î **—î–¥–∏–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏**, —â–æ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –≤–∞—à–æ–≥–æ –∫–ª–∞—Å—É –Ω–µ –±—É–¥–µ –∑–º—ñ–Ω–µ–Ω–∞ –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–∏–º —á–∏–Ω–æ–º, —ñ —â–æ –≤—ñ–Ω –∑–∞–ª–∏—à–∏—Ç—å—Å—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º —ñ, —è–∫ –Ω–∞—Å–ª—ñ–¥–æ–∫, –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –û–û–ü-–º–µ—Ö–∞–Ω—ñ–∑–º–∏ (—É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è) –º–æ–∂—É—Ç—å –≤–ø–ª–∏–≤–∞—Ç–∏ –Ω–∞ –≥–∞—Ä–∞–Ω—Ç—ñ—ó –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–†–æ–∑–≥–ª—è–Ω–µ–º–æ `Collections.unmodifiableList()`. –ß–∏ —î —Å–ø–∏—Å–æ–∫, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è, –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù—ñ, –≤—ñ–Ω **–Ω–µ —î –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º**. –í—ñ–Ω —î **–Ω–µ–∑–º—ñ–Ω–Ω–∏–º (unmodifiable) –≤–∏–¥–æ–º**, –∞–ª–µ –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ —Å–≤–æ—ó—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤.
>
> 1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ø–∏—Å–∫—É —î –Ω–µ–∑–º—ñ–Ω–Ω–æ—é:** –í–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ –∞–±–æ –≤–∏–¥–∞–ª–∏—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –∑ –æ–±–≥–æ—Ä—Ç–∫–∏ (`add()`, `remove()` –∫–∏–Ω—É—Ç—å `UnsupportedOperationException`).
>
> 2. **–ï–ª–µ–º–µ–Ω—Ç–∏ —Å–ø–∏—Å–∫—É –º–æ–∂—É—Ç—å –±—É—Ç–∏ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏:** –û–±–≥–æ—Ä—Ç–∫–∞ –º—ñ—Å—Ç–∏—Ç—å **–ø–æ—Å–∏–ª–∞–Ω–Ω—è** –Ω–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏. –Ø–∫—â–æ —Ü—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ —î –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏, —ó—Ö–Ω—ñ–π –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω **–º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏**.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> List<StringBuilder> originalList = new ArrayList<>();
> originalList.add(new StringBuilder("a"));
>
> List<StringBuilder> unmodifiableList = Collections.unmodifiableList(originalList);
>
> // –ó–º—ñ–Ω–∏—Ç–∏ —Å–∞–º —Å–ø–∏—Å–æ–∫ –Ω–µ –º–æ–∂–Ω–∞:
> // unmodifiableList.add(new StringBuilder("b")); // UnsupportedOperationException
>
> // –ê–ª–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –Ω—å–æ–≥–æ!
> unmodifiableList.get(0).append("b");
>
> System.out.println(unmodifiableList); // [ab]
> ```
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** `unmodifiableList` –≥–∞—Ä–∞–Ω—Ç—É—î —Ç—ñ–ª—å–∫–∏ –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—å **—Å—Ç—Ä—É–∫—Ç—É—Ä–∏** –∫–æ–ª–µ–∫—Ü—ñ—ó, –∞ –Ω–µ –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—å —ó—ó –µ–ª–µ–º–µ–Ω—Ç—ñ–≤. –î–ª—è –ø–æ–≤–Ω–æ—ó —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ —Å–∞–º—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ —Ç–∞–∫–æ–∂ –º–∞—é—Ç—å –±—É—Ç–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ß—ñ—Ç–∫–µ —Ä–æ–∑–º–µ–∂—É–≤–∞–Ω–Ω—è –º—ñ–∂ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—é —Å–∞–º–æ—ó –∫–æ–ª–µ–∫—Ü—ñ—ó —Ç–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—é —ó—ó –≤–º—ñ—Å—Ç—É.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —â–æ —Ç–∞–∫–µ "–Ω–µ–±–µ–∑–ø–µ—á–Ω–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è" (`unsafe publication`) —ñ —è–∫ —Ü–µ –º–æ–∂–µ –∑–ª–∞–º–∞—Ç–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å –Ω–∞–≤—ñ—Ç—å –¥–ª—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ù–µ–±–µ–∑–ø–µ—á–Ω–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è** ‚Äî —Ü–µ —Å–∏—Ç—É–∞—Ü—ñ—è, –∫–æ–ª–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç —Å—Ç–∞—î –≤–∏–¥–∏–º–∏–º –¥–ª—è —ñ–Ω—à–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤ **–¥–æ —Ç–æ–≥–æ, —è–∫ –π–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–≤–µ—Ä—à–∏–≤ —Å–≤–æ—é —Ä–æ–±–æ—Ç—É**.
>
> –¶–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ —Ç–æ–≥–æ, —â–æ —ñ–Ω—à—ñ –ø–æ—Ç–æ–∫–∏ –ø–æ–±–∞—á–∞—Ç—å **–Ω–µ–ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –æ–±'—î–∫—Ç**.
>
> **–Ø–∫ —Ü–µ –º–æ–∂–µ –∑–ª–∞–º–∞—Ç–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å:**
>
> –ù–∞–≤—ñ—Ç—å —è–∫—â–æ –∫–ª–∞—Å —î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º –∑ `final`-–ø–æ–ª—è–º–∏, –∞–ª–µ –π–æ–≥–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è "–≤–∏—Ç—ñ–∫–∞—î" –∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, JMM –±—ñ–ª—å—à–µ –Ω–µ –Ω–∞–¥–∞—î –≥–∞—Ä–∞–Ω—Ç—ñ–π –≤–∏–¥–∏–º–æ—Å—Ç—ñ –¥–ª—è `final`-–ø–æ–ª—ñ–≤.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public final class UnsafePublisher {
>     private final int value;
>     public static UnsafePublisher instance;
>
>     public UnsafePublisher() {
>         // –ü–û–ú–ò–õ–ö–ê: –ü—É–±–ª—ñ–∫—É—î–º–æ `this` –¥–æ —Ç–æ–≥–æ, —è–∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∑–∞–≤–µ—Ä—à–∏–≤—Å—è!
>         instance = this;
>         // –£—è–≤—ñ–º–æ, —â–æ —Ç—É—Ç –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —è–∫–∞—Å—å —Ç—Ä–∏–≤–∞–ª–∞ —Ä–æ–±–æ—Ç–∞...
>         this.value = 10;
>     }
> }
> ```
>
> **–°—Ü–µ–Ω–∞—Ä—ñ–π –ø—Ä–æ–±–ª–µ–º–∏:**
>
> 1. –ü–æ—Ç—ñ–∫ A –ø–æ—á–∏–Ω–∞—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ `UnsafePublisher`.
> 2. `instance` –æ—Ç—Ä–∏–º—É—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ **–Ω–µ –¥–æ –∫—ñ–Ω—Ü—è —Å—Ç–≤–æ—Ä–µ–Ω–∏–π** –æ–±'—î–∫—Ç.
> 3. –ü–æ—Ç—ñ–∫ B —á–∏—Ç–∞—î `UnsafePublisher.instance` —ñ –±–∞—á–∏—Ç—å, —â–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–µ `null`.
> 4. –ü–æ—Ç—ñ–∫ B –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –ø–æ–ª—è `value`, –∞–ª–µ –≤–æ–Ω–æ —â–µ –Ω–µ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–µ —ñ –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ `0`!
>
> –©–æ–± —Ü—å–æ–≥–æ —É–Ω–∏–∫–Ω—É—Ç–∏, **–Ω—ñ–∫–æ–ª–∏ –Ω–µ –º–æ–∂–Ω–∞ –¥–æ–∑–≤–æ–ª—è—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—é `this` "–≤–∏—Ç—ñ–∫–∞—Ç–∏" –∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –π–æ–≥–æ –≤ —ñ–Ω—à–∏–π –æ–±'—î–∫—Ç –∞–±–æ –ø—Ä–∏—Å–≤–æ—é–≤–∞—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω–æ–º—É –ø–æ–ª—é) –¥–æ –ø–æ–≤–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î—É–∂–µ –≥–ª–∏–±–æ–∫—ñ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ Java Memory Model. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–Ω–∫–∏—Ö –∞—Å–ø–µ–∫—Ç—ñ–≤, —â–æ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –ø–æ–≤'—è–∑–∞–Ω–∞ –∑ `volatile`? –ß–∏ –ø–æ—Ç—Ä—ñ–±–µ–Ω `volatile` –¥–ª—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –ø–æ–ª—ñ–≤? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù—ñ, –¥–ª—è –ø–æ–ª—ñ–≤ **–∫–æ—Ä–µ–∫—Ç–Ω–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—É** –∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ `volatile` **–Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–µ**.
>
> * `volatile` –≥–∞—Ä–∞–Ω—Ç—É—î **–≤–∏–¥–∏–º—ñ—Å—Ç—å** –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–º—ñ–Ω –¥–ª—è –≤—Å—ñ—Ö –ø–æ—Ç–æ–∫—ñ–≤ —ñ –∑–∞–ø–æ–±—ñ–≥–∞—î –ø–µ–≤–Ω–∏–º –≤–∏–¥–∞–º –ø–µ—Ä–µ–≤–ø–æ—Ä—è–¥–∫—É–≤–∞–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π.
>
> * **–ê–ª–µ!** Java Memory Model –Ω–∞–¥–∞—î **—Ç–∞–∫—ñ —Å–∞–º—ñ –≥–∞—Ä–∞–Ω—Ç—ñ—ó –≤–∏–¥–∏–º–æ—Å—Ç—ñ** –¥–ª—è **`final`-–ø–æ–ª—ñ–≤** –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞. –Ø–∫—â–æ –ø–æ–ª–µ –æ–≥–æ–ª–æ—à–µ–Ω–æ `final`, —Ç–æ –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –æ–±'—î–∫—Ç –±–µ–∑–ø–µ—á–Ω–æ –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ, –≤—Å—ñ –ø–æ—Ç–æ–∫–∏ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –ø–æ–±–∞—á–∞—Ç—å –π–æ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–µ, —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è.
>
> –¢–æ–º—É `final` —î –±—ñ–ª—å—à —Å–∏–ª—å–Ω–∏–º —ñ —Å–µ–º–∞–Ω—Ç–∏—á–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º –≤–∏–±–æ—Ä–æ–º –¥–ª—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω—É.
>
> **–ö–æ–ª–∏ `volatile` –ø–æ—Ç—Ä—ñ–±–µ–Ω:**
>
> `volatile` –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–ª—è –ø–æ–ª—ñ–≤, —è–∫—ñ **–º–æ–∂—É—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è** —ñ —Ü—ñ –∑–º—ñ–Ω–∏ –º–∞—é—Ç—å –±—É—Ç–∏ –Ω–µ–≥–∞–π–Ω–æ –≤–∏–¥–∏–º—ñ —ñ–Ω—à–∏–º –ø–æ—Ç–æ–∫–∞–º. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–æ–ª–µ, —è–∫–µ –∑–±–µ—Ä—ñ–≥–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–∞–º —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç:
> `private volatile ImmutableObject config;`
>
> –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –∫–æ–ª–∏ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –∑–º—ñ–Ω–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è, –≤–∫–∞–∑–∞–≤—à–∏ –Ω–∞ –Ω–æ–≤–∏–π —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, –≤—Å—ñ —ñ–Ω—à—ñ –ø–æ—Ç–æ–∫–∏ –Ω–µ–≥–∞–π–Ω–æ –ø–æ–±–∞—á–∞—Ç—å —Ü—é –∑–º—ñ–Ω—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –≥–∞—Ä–∞–Ω—Ç—ñ—è–º–∏, —è–∫—ñ –Ω–∞–¥–∞—é—Ç—å `final` —Ç–∞ `volatile`.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `java.time.LocalDate` —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º, –∞ `java.text.SimpleDateFormat` ‚Äî –Ω—ñ?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ —á—É–¥–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥ —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º —Ç–∞ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º –¥–∏–∑–∞–π–Ω–æ–º.
>
> * **`LocalDate` (–∑ Java 8):**
>   * –Ñ **—ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º**. –ë—É–¥—å-—è–∫–∏–π –π–æ–≥–æ –º–µ—Ç–æ–¥ (`plusDays`, `withYear` —Ç–æ—â–æ) –ø–æ–≤–µ—Ä—Ç–∞—î **–Ω–æ–≤–∏–π –æ–±'—î–∫—Ç** `LocalDate`.
>   * –û—Å–∫—ñ–ª—å–∫–∏ –π–æ–≥–æ —Å—Ç–∞–Ω –Ω–µ–∑–º—ñ–Ω–Ω–∏–π, –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä `LocalDate` –º–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤ –±–∞–≥–∞—Ç—å–æ—Ö –ø–æ—Ç–æ–∫–∞—Ö.
>
> * **`SimpleDateFormat` (—Å—Ç–∞—Ä–∏–π API):**
>   * –Ñ **–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º**.
>   * –í—ñ–Ω –∑–±–µ—Ä—ñ–≥–∞—î –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –æ–±'—î–∫—Ç `Calendar`, —è–∫–∏–π –≤—ñ–Ω **–∑–º—ñ–Ω—é—î** –ø—ñ–¥ —á–∞—Å –≤–∏–∫–ª–∏–∫—ñ–≤ –º–µ—Ç–æ–¥—ñ–≤ `parse()` —Ç–∞ `format()`.
>   * –Ø–∫—â–æ –∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –≤–∏–∫–ª–∏—á—É—Ç—å `format()` –Ω–∞ –æ–¥–Ω–æ–º—É —ñ —Ç–æ–º—É –∂ –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ `SimpleDateFormat`, –≤–æ–Ω–∏ –±—É–¥—É—Ç—å "–∑–º–∞–≥–∞—Ç–∏—Å—è" –∑–∞ –∑–º—ñ–Ω—É —Ü—å–æ–≥–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ `Calendar`, —â–æ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ —Ö–∞–æ—Ç–∏—á–Ω–∏—Ö —ñ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.
>   * –¢–æ–º—É –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä `SimpleDateFormat` **–Ω–µ –º–æ–∂–Ω–∞** –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑ –∫—ñ–ª—å–∫–æ—Ö –ø–æ—Ç–æ–∫—ñ–≤. –ô–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∞–±–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É –∑–∞–Ω–æ–≤–æ, –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `ThreadLocal`.
>
> –¶–µ –æ–¥–Ω–∞ –∑ –∫–ª—é—á–æ–≤–∏—Ö –ø—Ä–∏—á–∏–Ω, —á–æ–º—É —Å—Ç–∞—Ä–µ Date/Time API –±—É–ª–æ –∑–∞–º—ñ–Ω–µ–Ω–µ –Ω–∞ `java.time`, —è–∫–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –ø–æ–±—É–¥–æ–≤–∞–Ω–µ –Ω–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ –ø–æ—Ç–æ–∫–æ–Ω–µ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤ —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è, —è–∫ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –≤–∏—Ä—ñ—à—É—î —Ü—ñ –ø—Ä–æ–±–ª–µ–º–∏.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `record` –≤ Java —Å–ø—Ä–∏—è—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—é –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `record` –∑–Ω–∞—á–Ω–æ —Å–ø—Ä–∏—è—î —Ü—å–æ–º—É, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –∑–∞ —Å–≤–æ—î—é —Å—É—Ç—Ç—é —î "—Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–∏–º —Ü—É–∫—Ä–æ–º" –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è **—ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –Ω–æ—Å—ñ—ó–≤ –¥–∞–Ω–∏—Ö**.
>
> 1. **–Ü–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:** –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î `private final` –ø–æ–ª—è –¥–ª—è –≤—Å—ñ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤, –æ–≥–æ–ª–æ—à–µ–Ω–∏—Ö —É –∑–∞–≥–æ–ª–æ–≤–∫—É. –¶–µ –æ—Å–Ω–æ–≤–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ.
> 2. **–ó–∞–±–æ—Ä–æ–Ω–∞ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è:** `record` —î –Ω–µ—è–≤–Ω–æ `final`, —â–æ –∑–∞—Ö–∏—â–∞—î –π–æ–≥–æ –≤—ñ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –ø—ñ–¥–∫–ª–∞—Å—ñ–≤.
> 3. **–ë–µ–∑–ø–µ—á–Ω–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è:** –ó–∞–≤–¥—è–∫–∏ `final`-–ø–æ–ª—è–º, –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫–∞–Ω–æ–Ω—ñ—á–Ω–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –π–æ–≥–æ —Å—Ç–∞–Ω –±—É–¥–µ –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–¥–∏–º–∏–º –¥–ª—è –≤—Å—ñ—Ö –ø–æ—Ç–æ–∫—ñ–≤.
>
> –ó–∞–≤–¥—è–∫–∏ —Ü–∏–º —Ç—Ä—å–æ–º –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è–º, `record`, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —è–∫–æ–≥–æ —î **–ø—Ä–∏–º—ñ—Ç–∏–≤–∞–º–∏ –∞–±–æ —ñ–Ω—à–∏–º–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏**, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–∞—î **–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º** –±–µ–∑ –∂–æ–¥–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –∑—É—Å–∏–ª—å –∑ –±–æ–∫—É —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞.
>
> –û–¥–Ω–∞–∫, —è–∫—â–æ `record` –º—ñ—Å—Ç–∏—Ç—å –º—É—Ç–∞–±–µ–ª—å–Ω—ñ –ø–æ–ª—è (`List`, `Date`), —Ç–æ –¥–ª—è –ø–æ–≤–Ω–æ—ó –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ —Ç–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ –≤—Å–µ —â–µ –ø–æ—Ç—Ä—ñ–±–Ω–µ **—Ä—É—á–Ω–µ –∑–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è**, —è–∫ —ñ –¥–ª—è –∑–≤–∏—á–∞–π–Ω–æ–≥–æ –∫–ª–∞—Å—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π –º–æ–≤–∏ —Ç–∞ —Ç–æ–≥–æ, —è–∫ –≤–æ–Ω–∏ —Å–ø—Ä–æ—â—É—é—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –Ω–∞–¥—ñ–π–Ω–æ–≥–æ —Ç–∞ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ –∫–æ–¥—É.*
