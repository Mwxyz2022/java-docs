---
layout: default
title: "–ü—Ä–∞–≤–∏–ª–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è immutable –∫–ª–∞—Å—É"
parent: "Immutable –æ–±'—î–∫—Ç–∏"
grand_parent: "Java Core"
nav_order: 2
---

# –ü—Ä–∞–≤–∏–ª–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è immutable –∫–ª–∞—Å—É

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –î–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è `immutable` –∫–ª–∞—Å—É —Å–ª—ñ–¥ –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—å 5 –ø—Ä–∞–≤–∏–ª: –æ–≥–æ–ª–æ—Å–∏—Ç–∏ –∫–ª–∞—Å `final`, –∑—Ä–æ–±–∏—Ç–∏ –≤—Å—ñ –ø–æ–ª—è `private final`, —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–æ–ª—è –ª–∏—à–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –Ω–µ –Ω–∞–¥–∞–≤–∞—Ç–∏ —Å–µ—Ç—Ç–µ—Ä—ñ–≤, —Ç–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≥–ª–∏–±–æ–∫—ñ –∫–æ–ø—ñ—ó `mutable` –ø–æ–ª—ñ–≤ —É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ —Ç–∞ –≥–µ—Ç—Ç–µ—Ä–∞—Ö.

* –ø–æ–Ω—è—Ç—Ç—è: `final class`, `private final` –ø–æ–ª—è, –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Å–µ—Ç—Ç–µ—Ä—ñ–≤, Defensive Copy.

* –ø—Ä–∏–∫–ª–∞–¥–∏: –ö–ª–∞—Å `Person` –∑ `final` –ø–æ–ª—è–º–∏ `name` —Ç–∞ `age`, –±–µ–∑ —Å–µ—Ç—Ç–µ—Ä—ñ–≤.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:  –ó–∞–±–µ–∑–ø–µ—á—É—î –ø–æ–≤–Ω–∏–π –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∑–º—ñ–Ω–∏ —Å—Ç–∞–Ω—É –∑–∑–æ–≤–Ω—ñ, –≥–∞—Ä–∞–Ω—Ç—É—î –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—å –ø–æ–≤–µ–¥—ñ–Ω–∫–∏.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –í—Å—ñ 5 –∫—Ä–æ–∫—ñ–≤, —â–æ –ø–æ—Ä—É—à—É—î –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—å.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**Immutable-–∫–ª–∞—Å** ‚Äî —Ü–µ –∫–ª–∞—Å, –æ–±'—î–∫—Ç–∏ —è–∫–æ–≥–æ –Ω–µ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –∑–º—ñ–Ω–µ–Ω—ñ –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è. –©–æ–± –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—å, –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—å —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö –ø—Ä–∞–≤–∏–ª, —è–∫—ñ –∑–∞—Ö–∏—â–∞—é—Ç—å —Å—Ç–∞–Ω –æ–±‚Äô—î–∫—Ç–∞.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¶–µ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è ¬´–∑–∞–º–æ—Ä–æ–∂–µ–Ω–æ–≥–æ¬ª –æ–±'—î–∫—Ç–∞: –æ–¥–∏–Ω —Ä–∞–∑ —Å—Ç–≤–æ—Ä–∏–≤ ‚Äî —ñ –≤—Å–µ, –Ω—ñ—Ö—Ç–æ –Ω–µ –º–∞—î —Å–ø–æ—Å–æ–±—É –π–æ–≥–æ –∑–º—ñ–Ω–∏—Ç–∏. –Ø–∫ —Ñ–æ—Ç–æ –≤ –ø–∞—Å–ø–æ—Ä—Ç—ñ ‚Äî –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Ö–æ—á–µ—à –∑–º—ñ–Ω–∏—Ç–∏ –∑–∞—á—ñ—Å–∫—É, —Å–ø–æ—á–∞—Ç–∫—É —Å—Ç–≤–æ—Ä–∏ –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç (–ø–∞—Å–ø–æ—Ä—Ç).

---

## **üìä –ê–ª–≥–æ—Ä–∏—Ç–º —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:**

* **–ö—Ä–æ–∫ 1:** –û–≥–æ–ª–æ—Å–∏ –∫–ª–∞—Å —è–∫ **`final`**, —â–æ–± –π–æ–≥–æ –Ω–µ –º–æ–∂–Ω–∞ –±—É–ª–æ —É—Å–ø–∞–¥–∫—É–≤–∞—Ç–∏.
* **–ö—Ä–æ–∫ 2:** –í—Å—ñ –ø–æ–ª—è –∑—Ä–æ–±–∏ **`private`** `final`.
* **–ö—Ä–æ–∫ 3:** –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–π –ø–æ–ª—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.
* **–ö—Ä–æ–∫ 4:** –ù–µ –Ω–∞–¥–∞–≤–∞–π setter-—ñ–≤.
* **–ö—Ä–æ–∫ 5:** –Ø–∫—â–æ —î –ø–æ–ª—è-—Å—Å–∏–ª–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, **`List`**, **`Date`**) ‚Äî –ø–æ–≤–µ—Ä—Ç–∞–π –∫–æ–ø—ñ—ó –∞–±–æ —Ä–æ–±–∏ deep copy.

üìå –û—Å–Ω–æ–≤–Ω—ñ –ø–æ–Ω—è—Ç—Ç—è:

| –ü–æ–Ω—è—Ç—Ç—è | –ü–æ—è—Å–Ω–µ–Ω–Ω—è |
| :---: | :---: |
| **`final` class** | –ó–∞–±–æ—Ä–æ–Ω–∞ –Ω–∞ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è ‚Äî –Ω—ñ—Ö—Ç–æ –Ω–µ –∑–º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É –∫–ª–∞—Å—É |
| **`private final`** | –ü–æ–ª–µ –ª–∏—à–µ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è, –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ |
| **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å set-—Ç–µ—Ä—ñ–≤** | –ù–µ–º–∞—î –ø—É–±–ª—ñ—á–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –¥–ª—è –∑–º—ñ–Ω–∏ —Å—Ç–∞–Ω—É |
| **–ó–∞—Ö–∏—Å—Ç –ø–æ–ª—ñ–≤** | –Ø–∫—â–æ –ø–æ–ª–µ ‚Äî –æ–±'—î–∫—Ç, –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –∑–∞—Ö–∏—â–µ–Ω—É –∫–æ–ø—ñ—é, –∞ –Ω–µ —Å–∞–º –æ–±'—î–∫—Ç |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

–£—è–≤–∏, —â–æ —Å—Ç–≤–æ—Ä—é—î—à –±–∞–Ω–∫—ñ–≤—Å—å–∫–∏–π —Ä–∞—Ö—É–Ω–æ–∫. –í—Å—Ç–∞–Ω–æ–≤–ª—é—î—à –Ω–æ–º–µ—Ä —Ä–∞—Ö—É–Ω–∫—É —Ç–∞ —ñ–º'—è –∫–ª—ñ—î–Ω—Ç–∞ ‚Äî —ñ —Ü—ñ –¥–∞–Ω—ñ –≤–∂–µ –Ω–µ –∑–º—ñ–Ω—é—é—Ç—å—Å—è. –ë–∞–ª–∞–Ω—Å –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –º–æ–∂–Ω–∞ (–∞–ª–µ —Ü–µ mutable), –∞ –æ—Ç —ñ–º‚Äô—è —Ç–∞ –Ω–æ–º–µ—Ä —Ä–∞—Ö—É–Ω–∫—É –º–∞—é—Ç—å –±—É—Ç–∏ immutable ‚Äî —â–æ–± –±–∞–Ω–∫ –∑–Ω–∞–≤, —â–æ —Ü–µ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –∫–ª—ñ—î–Ω—Ç. –¶–µ ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É \+ –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—å

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
public final class Account {
    private final String holderName;
    private final int accountNumber;

    public Account(String holderName, int accountNumber) {
        this.holderName = holderName;
        this.accountNumber = accountNumber;
    }

    public String getHolderName() {
        return holderName;
    }

    public int getAccountNumber() {
        return accountNumber;
    }
}
```

üìå –£ —Ü—å–æ–º—É –∫–ª–∞—Å—ñ:

* –ö–ª–∞—Å **`final`**
* –ü–æ–ª—è **`private`** **`final`**
* –ñ–æ–¥–Ω–æ–≥–æ —Å–µ—Ç—Ç–µ—Ä–∞
* –î–∞–Ω—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—é—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

|  | Immutable-–∫–ª–∞—Å | Mutable-–∫–ª–∞—Å |
| :---: | :---: | :---: |
| **–ù–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è** | –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ (**`final`**) | –ú–æ–∂–ª–∏–≤–µ |
| **–ü–æ–ª—è** | **`private final`** | **`private`**, –º–æ–∂—É—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—å |
| **–°–µ—Ç—Ç–µ—Ä–∏** | –í—ñ–¥—Å—É—Ç–Ω—ñ | –ü—Ä–∏—Å—É—Ç–Ω—ñ |
| **–ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ–∫–∞** | –¢–∞–∫ | –ù—ñ (–ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è) |
| **–ü—Ä–∏–∫–ª–∞–¥** | **`String, LocalDate`** | **`ArrayList, StringBuilder`** |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**"FENCE"** ‚Äî —è–∫ –æ–≥–æ—Ä–æ–∂–∞ –¥–ª—è –¥–∞–Ω–∏—Ö üõ°Ô∏è

* **F**inal class
* **E**very field is private final
* **N**o setters
* **C**onstructor for all values
* **E**ncapsulate mutable types (—á–µ—Ä–µ–∑ –∫–æ–ø—ñ—ó)

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

–©–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ-—Å–ø—Ä–∞–≤–∂–Ω—å–æ–º—É immutable-–∫–ª–∞—Å:

* **–û–≥–æ–ª–æ—Å–∏ `final` –∫–ª–∞—Å**
* **–£—Å—ñ –ø–æ–ª—è ‚Äî `private final`**
* **–ñ–æ–¥–Ω–∏—Ö setter-—ñ–≤**
* **–ü–æ–ª—è-–æ–±'—î–∫—Ç–∏ ‚Äî —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è**
* **–í—Å–µ ‚Äî —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä**

Immutable –∫–ª–∞—Å–∏ ‚Äî —Ü–µ must-have –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ, –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ–≥–æ –∫–æ–¥—É –≤ Java. –í–æ–Ω–∏ —Å–ø—Ä–æ—â—É—é—Ç—å –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤—É —Ä–æ–∑—Ä–æ–±–∫—É, –∑–º–µ–Ω—à—É—é—Ç—å –ø–æ–º–∏–ª–∫–∏, —ñ –ø–æ–∫–∞–∑—É—é—Ç—å —Ç–≤–æ—î —Ä–æ–∑—É–º—ñ–Ω–Ω—è OOP.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Java Immutable Objects ‚Äî Oracle Tutorial**](https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–∑–≤—ñ—Ç—å –æ—Å–Ω–æ–≤–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞, —è–∫–∏—Ö –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ (immutable) –∫–ª–∞—Å—É.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –©–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –∫–ª–∞—Å, —Å–ª—ñ–¥ –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –ø'—è—Ç–∏ –ø—Ä–∞–≤–∏–ª:
>
> 1. **–û–≥–æ–ª–æ—Å–∏—Ç–∏ –∫–ª–∞—Å —è–∫ `final`:** –¶–µ –∑–∞–±–æ—Ä–æ–Ω—è—î —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è —ñ –Ω–µ –¥–æ–∑–≤–æ–ª—è—î –ø—ñ–¥–∫–ª–∞—Å–∞–º –∑–º—ñ–Ω–∏—Ç–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É.
>
> 2. **–ó—Ä–æ–±–∏—Ç–∏ –≤—Å—ñ –ø–æ–ª—è `private` —Ç–∞ `final`:**
>     * `private` ‚Äî –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –ø—Ä—è–º–æ–º—É –¥–æ—Å—Ç—É–ø—É –∑–∑–æ–≤–Ω—ñ.
>     * `final` ‚Äî –¥–ª—è –≥–∞—Ä–∞–Ω—Ç—ñ—ó, —â–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø–æ–ª–µ –±—É–¥–µ –ø—Ä–∏—Å–≤–æ—î–Ω–æ –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑.
>
> 3. **–ù–µ –Ω–∞–¥–∞–≤–∞—Ç–∏ —Å–µ—Ç—Ç–µ—Ä—ñ–≤ (setter-–º–µ—Ç–æ–¥—ñ–≤):** –ù–µ –ø–æ–≤–∏–Ω–Ω–æ –±—É—Ç–∏ –∂–æ–¥–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤, —è–∫—ñ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Å—Ç–∞–Ω –ø–æ–ª—ñ–≤.
>
> 4. **–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤—Å—ñ –ø–æ–ª—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ:** –£—Å—ñ `final`-–ø–æ–ª—è –º–∞—é—Ç—å –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–≤–æ—ó –∑–Ω–∞—á–µ–Ω–Ω—è –ø—ñ–¥ —á–∞—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞.
>
> 5. **–ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –∑–∞—Ö–∏—Å—Ç –¥–ª—è –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –ø–æ–ª—ñ–≤:** –Ø–∫—â–æ –∫–ª–∞—Å –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ **–º—É—Ç–∞–±–µ–ª—å–Ω—ñ** –æ–±'—î–∫—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `List`, `Date`), –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **–∑–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è**:
>     * –£ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≥–ª–∏–±–æ–∫—É –∫–æ–ø—ñ—é –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö.
>     * –£ –≥–µ—Ç—Ç–µ—Ä–∞—Ö –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –∫–æ–ø—ñ—é –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ —Å—Ç–∞–Ω—É (–∞–±–æ –π–æ–≥–æ –Ω–µ–∑–º—ñ–Ω–Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è).

#### **üìù –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ (FENCE):**

* **F**inal class
* **E**very field is private and final
* **N**o setters
* **C**onstructor-only initialization
* **E**nsure deep copy for mutable fields

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ß—ñ—Ç–∫–µ –∑–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø'—è—Ç–∏ –ø—Ä–∞–≤–∏–ª, –æ—Å–æ–±–ª–∏–≤–æ —É–≤–∞–≥–∞ –¥–æ —Ä–æ–±–æ—Ç–∏ –∑ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏ –ø–æ–ª—è–º–∏.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –∫–ª–∞—Å –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ–≥–æ–ª–æ—à—É–≤–∞—Ç–∏ —è–∫ `final` –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û–≥–æ–ª–æ—à–µ–Ω–Ω—è –∫–ª–∞—Å—É —è–∫ `final` **–∑–∞–±–æ—Ä–æ–Ω—è—î —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è**. –¶–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ, –æ—Å–∫—ñ–ª—å–∫–∏ –±–µ–∑ —Ü—å–æ–≥–æ –∑–ª–æ–≤–º–∏—Å–Ω–∏–π –∞–±–æ –ø—Ä–æ—Å—Ç–æ –Ω–µ—É–≤–∞–∂–Ω–∏–π —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ **–ø—ñ–¥–∫–ª–∞—Å**, —è–∫–∏–π –ø–æ—Ä—É—à–∏—Ç—å —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å.
>
> **–ü—Ä–∏–∫–ª–∞–¥ –ø—Ä–æ–±–ª–µ–º–∏ –±–µ–∑ `final`:**
>
> ```java
> // –ë–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π –∫–ª–∞—Å –≤–∏–≥–ª—è–¥–∞—î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º, –∞–ª–µ –Ω–µ —î final
> public class NotQuiteImmutable {
>     private final int value;
>     public NotQuiteImmutable(int value) { this.value = value; }
>     public int getValue() { return value; }
> }
>
> // –ó–ª–æ–≤–º–∏—Å–Ω–∏–∫ —Å—Ç–≤–æ—Ä—é—î –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –ø—ñ–¥–∫–ª–∞—Å
> public class MutableSubclass extends NotQuiteImmutable {
>     private int mutableValue;
>
>     public MutableSubclass(int value) {
>         super(value);
>         this.mutableValue = value;
>     }
>
>     // –î–æ–¥–∞—î —Å–µ—Ç—Ç–µ—Ä, –ø–æ—Ä—É—à—É—é—á–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å
>     public void setValue(int value) { this.mutableValue = value; }
>
>     @Override
>     public int getValue() { return this.mutableValue; }
> }
> ```
>
> –¢–µ–ø–µ—Ä, —è–∫—â–æ –º–µ—Ç–æ–¥ –æ—á—ñ–∫—É—î `NotQuiteImmutable`, –π–æ–º—É –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–¥–∞—Ç–∏ `MutableSubclass`, —ñ –π–æ–≥–æ —Å—Ç–∞–Ω –º–æ–∂–µ –±—É—Ç–∏ –∑–º—ñ–Ω–µ–Ω–æ, —â–æ —Ä—É–π–Ω—É—î –≤—Å—ñ –≥–∞—Ä–∞–Ω—Ç—ñ—ó, —è–∫—ñ, —è–∫ –∑–¥–∞–≤–∞–ª–æ—Å—è, –Ω–∞–¥–∞–≤–∞–≤ –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å. `final` –∑–∞–ø–æ–±—ñ–≥–∞—î —Ü—å–æ–º—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–µ –¥–ª—è –ø–æ—Ä—É—à–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –∫–ª–∞—Å—É, —ñ —è–∫ `final` –∑–∞—Ö–∏—â–∞—î –≤—ñ–¥ —Ü—å–æ–≥–æ.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –ø—Ä–æ—Å—Ç–æ –æ–≥–æ–ª–æ—Å–∏—Ç–∏ –ø–æ–ª—è —è–∫ `private final` –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –ø–æ–≤–Ω–æ—ó —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û–≥–æ–ª–æ—à–µ–Ω–Ω—è –ø–æ–ª—è —è–∫ `private final` –≥–∞—Ä–∞–Ω—Ç—É—î –ª–∏—à–µ —Ç–µ, —â–æ **–ø–æ—Å–∏–ª–∞–Ω–Ω—è** –Ω–∞ —Ü–µ –ø–æ–ª–µ –±—É–¥–µ –ø—Ä–∏—Å–≤–æ—î–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑ —ñ –Ω–µ –∑–º–æ–∂–µ –±—É—Ç–∏ –∑–º—ñ–Ω–µ–Ω–æ.
>
> –¶–µ **–Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î**, —â–æ —Å–∞–º **–æ–±'—î–∫—Ç**, –Ω–∞ —è–∫–∏–π —Ü–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤–∫–∞–∑—É—î, —î –Ω–µ–∑–º—ñ–Ω–Ω–∏–º.
>
> **–ü—Ä–æ–±–ª–µ–º–∞ –≤–∏–Ω–∏–∫–∞—î –∑ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏ –æ–±'—î–∫—Ç–∞–º–∏:**
>
> ```java
> public final class ProblematicImmutable {
>     // –ü–æ—Å–∏–ª–∞–Ω–Ω—è `items` —î final, –π–æ–≥–æ –Ω–µ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–ø—Ä–∏—Å–≤–æ—ó—Ç–∏
>     private final List<String> items;
>
>     public ProblematicImmutable(List<String> items) {
>         this.items = items;
>     }
>
>     public List<String> getItems() {
>         return this.items;
>     }
> }
> ```
>
> **–Ø–∫ –ø–æ—Ä—É—à–∏—Ç–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å:**
> `obj.getItems().add("Hacked!");` // `items` ‚Äî —Ü–µ —Ç–µ –∂ —Å–∞–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è, —Ç–æ–º—É –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞ –∑–º—ñ–Ω—é—î—Ç—å—Å—è.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** `final` –∑–∞—Ö–∏—â–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è, –∞–ª–µ –Ω–µ –æ–±'—î–∫—Ç –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º. –î–ª—è –ø–æ–≤–Ω–æ—ó —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ç–∞–∫–æ–∂ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –∑–∞—Ö–∏—Å—Ç —Å–∞–º–∏—Ö –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ (—á–µ—Ä–µ–∑ –∑–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—é –ø–æ—Å–∏–ª–∞–Ω–Ω—è —Ç–∞ –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—é –æ–±'—î–∫—Ç–∞. –¶–µ –æ–¥–Ω–∞ –∑ –∫–ª—é—á–æ–≤–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü—ñ–π.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –∑–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è (defensive copy) —ñ —è–∫ –π–æ–≥–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ —Ç–∞ –≥–µ—Ç—Ç–µ—Ä—ñ? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ó–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è** ‚Äî —Ü–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ø—ñ–π –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ —Å—Ç–∞–Ω—É –≤–∞—à–æ–≥–æ –∫–ª–∞—Å—É –≤—ñ–¥ –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–∏—Ö –∑–º—ñ–Ω –∑–∑–æ–≤–Ω—ñ.
>
> **1. –ó–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ:**
>
> * **–ú–µ—Ç–∞:** –ó–∞–ø–æ–±—ñ–≥—Ç–∏ —Ç–æ–º—É, —â–æ–± –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ –∑–º—ñ–Ω–∏–≤ –≤–∞—à –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω —á–µ—Ä–µ–∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è, —è–∫–µ –≤—ñ–Ω –ø–µ—Ä–µ–¥–∞–≤.
> * **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:** –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤—É –∫–æ–ø—ñ—é –º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞, –ø–µ—Ä–µ–¥–∞–Ω–æ–≥–æ —è–∫ –∞—Ä–≥—É–º–µ–Ω—Ç, —ñ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ü—é –∫–æ–ø—ñ—é.
>
>     ```java
>     public ImmutableClass(List<String> externalList) {
>         // –ù–µ —Ä–æ–±—ñ—Ç—å —Ç–∞–∫: this.internalList = externalList;
>         this.internalList = new ArrayList<>(externalList); // –°—Ç–≤–æ—Ä—é—î–º–æ –∫–æ–ø—ñ—é
>     }
>     ```
>
> **2. –ó–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≤ –≥–µ—Ç—Ç–µ—Ä—ñ:**
>
> * **–ú–µ—Ç–∞:** –ó–∞–ø–æ–±—ñ–≥—Ç–∏ —Ç–æ–º—É, —â–æ–± –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ –∑–º—ñ–Ω–∏–≤ –≤–∞—à –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω, –æ—Ç—Ä–∏–º–∞–≤—à–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω—å–æ–≥–æ.
> * **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:** –ü–æ–≤–µ—Ä—Ç–∞—Ç–∏ –∫–æ–ø—ñ—é –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞.
>
>     ```java
>     public List<String> getList() {
>         // –ù–µ —Ä–æ–±—ñ—Ç—å —Ç–∞–∫: return this.internalList;
>         return new ArrayList<>(this.internalList);
>     }
>     ```
>
> –©–µ –∫—Ä–∞—â–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–ª—è –≥–µ—Ç—Ç–µ—Ä–∞ ‚Äî –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ **–Ω–µ–∑–º—ñ–Ω–Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è (unmodifiable view)**, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ `Collections.unmodifiableList()`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∑–∞—Ö–∏—Å–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è, —â–æ —î –Ω–∞–π—Å–∫–ª–∞–¥–Ω—ñ—à–æ—é —á–∞—Å—Ç–∏–Ω–æ—é —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—É.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—É, —â–æ –º—ñ—Å—Ç–∏—Ç—å –º—É—Ç–∞–±–µ–ª—å–Ω–µ –ø–æ–ª–µ `java.util.Date`.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ö–ª–∞—Å `java.util.Date` —î –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º (–º–∞—î –º–µ—Ç–æ–¥ `setTime()`), —Ç–æ–º—É –≤–∏–º–∞–≥–∞—î –∑–∞—Ö–∏—Å–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è.
>
> ```java
> import java.util.Date;
>
> public final class Event {
>     private final String name;
>     private final Date eventDate; // –ú—É—Ç–∞–±–µ–ª—å–Ω–µ –ø–æ–ª–µ
>
>     public Event(String name, Date eventDate) {
>         this.name = name;
>         // 1. –ó–∞—Ö–∏—Å–Ω–∞ –∫–æ–ø—ñ—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ
>         this.eventDate = new Date(eventDate.getTime());
>     }
>
>     public String getName() {
>         return name;
>     }
>
>     public Date getEventDate() {
>         // 2. –ó–∞—Ö–∏—Å–Ω–∞ –∫–æ–ø—ñ—è –≤ –≥–µ—Ç—Ç–µ—Ä—ñ
>         return new Date(eventDate.getTime());
>     }
> }
> ```
>
> **–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –∑–∞—Ö–∏—Å—Ç—É:**
>
> ```java
> Date myDate = new Date();
> Event event = new Event("Birthday", myDate);
>
> // –°–ø—Ä–æ–±–∞ –∑–º—ñ–Ω–∏—Ç–∏ –∑–∑–æ–≤–Ω—ñ –Ω–µ –≤–¥–∞—Å—Ç—å—Å—è
> myDate.setTime(0); // –¶–µ –∑–º—ñ–Ω–∏—Ç—å myDate, –∞–ª–µ –Ω–µ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω event
>
> // –°–ø—Ä–æ–±–∞ –∑–º—ñ–Ω–∏—Ç–∏ —á–µ—Ä–µ–∑ –≥–µ—Ç—Ç–µ—Ä —Ç–∞–∫–æ–∂ –Ω–µ –≤–¥–∞—Å—Ç—å—Å—è
> event.getEventDate().setTime(0); // –¶–µ –∑–º—ñ–Ω–∏—Ç—å –∫–æ–ø—ñ—é, –∞ –Ω–µ –æ—Ä–∏–≥—ñ–Ω–∞–ª
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—É –∑ JDK.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –ø–∞—Ç–µ—Ä–Ω `Builder` –¥–æ–ø–æ–º–∞–≥–∞—î —É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ü–∞—Ç–µ—Ä–Ω `Builder` —î **—ñ–¥–µ–∞–ª—å–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º** –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤.
>
> **–Ø–∫ –≤—ñ–Ω –¥–æ–ø–æ–º–∞–≥–∞—î:**
>
> 1. **–ü–æ–∫—Ä–æ–∫–æ–≤–µ –∫–æ–Ω—Å—Ç—Ä—É—é–≤–∞–Ω–Ω—è:** `Builder` –¥–æ–∑–≤–æ–ª—è—î –∫–ª—ñ—î–Ω—Ç—É –∑–∞–¥–∞–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—ñ–≤ –ø–æ–µ—Ç–∞–ø–Ω–æ, —â–æ —î –∑—Ä—É—á–Ω–∏–º –¥–ª—è –æ–±'—î–∫—Ç—ñ–≤ –∑ –±–∞–≥–∞—Ç—å–º–∞ –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.
>
> 2. **–Ü–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞:**
>     * –û—Å–Ω–æ–≤–Ω–∏–π –æ–±'—î–∫—Ç –º–æ–∂–µ –º–∞—Ç–∏ **–ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä** —ñ **`final` –ø–æ–ª—è**.
>     * –°–∞–º –æ–±'—î–∫—Ç `Builder` —î –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º, –∞–ª–µ –≤—ñ–Ω —ñ—Å–Ω—É—î –ª–∏—à–µ –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–Ω—Å—Ç—Ä—É—é–≤–∞–Ω–Ω—è.
>     * –ú–µ—Ç–æ–¥ `build()` –≤–∏–∫–ª–∏–∫–∞—î –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —Å—Ç–≤–æ—Ä—é—é—á–∏ **–æ–¥–∏–Ω —Ä–∞–∑ —ñ –Ω–∞–∑–∞–≤–∂–¥–∏** —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç. –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –∑–º—ñ–Ω–∏—Ç–∏ –π–æ–≥–æ —Å—Ç–∞–Ω –Ω–µ–º–æ–∂–ª–∏–≤–æ.
>
> 3. **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è:** –ú–µ—Ç–æ–¥ `build()` —î —ñ–¥–µ–∞–ª—å–Ω–∏–º –º—ñ—Å—Ü–µ–º –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤—Å—ñ—Ö –ø–æ–ª—ñ–≤ –Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º —Ñ—ñ–Ω–∞–ª—å–Ω–æ–≥–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `Builder` —ñ–Ω–∫–∞–ø—Å—É–ª—é—î –≤–µ—Å—å –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π "–±—Ä—É–¥–Ω–∏–π" –ø—Ä–æ—Ü–µ—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –∞ –Ω–∞–∑–æ–≤–Ω—ñ –≤–∏–¥–∞—î —á–∏—Å—Ç–∏–π, –≤–∞–ª—ñ–¥–Ω–∏–π —Ç–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ `Builder` —ñ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –¥–æ–ø–æ–≤–Ω—é—é—Ç—å –æ–¥–∏–Ω –æ–¥–Ω–æ–≥–æ.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—â–æ –≤–∞—à —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –∫–ª–∞—Å –º—ñ—Å—Ç–∏—Ç—å –ø–æ–ª–µ, —â–æ —î –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ —ñ–Ω—à–∏–π —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –∫–ª–∞—Å, —á–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è –Ω—å–æ–≥–æ —Ä–æ–±–∏—Ç–∏ –∑–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ù—ñ, –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ.**
>
> –Ø–∫—â–æ –ø–æ–ª–µ —î –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ —ñ–Ω—à–∏–π –æ–±'—î–∫—Ç, —è–∫–∏–π **–≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ —î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `String`, `Integer`, `LocalDate` –∞–±–æ –≤–∞—à –≤–ª–∞—Å–Ω–∏–π —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –∫–ª–∞—Å), —Ç–æ —Ä–æ–±–∏—Ç–∏ –π–æ–≥–æ –∫–æ–ø—ñ—é –Ω–µ –º–∞—î —Å–µ–Ω—Å—É.
>
> **–ß–æ–º—É?**
>
> –û—Å–∫—ñ–ª—å–∫–∏ —Å—Ç–∞–Ω —Ü—å–æ–≥–æ –≤–∫–ª–∞–¥–µ–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –Ω–µ–º–æ–∂–ª–∏–≤–æ –∑–º—ñ–Ω–∏—Ç–∏, –Ω–µ–º–∞—î —Ä–∏–∑–∏–∫—É, —â–æ –≤—ñ–Ω –±—É–¥–µ –º–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π –∑–∑–æ–≤–Ω—ñ. –°–ø—ñ–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç —î **–±–µ–∑–ø–µ—á–Ω–∏–º —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º**, –æ—Å–∫—ñ–ª—å–∫–∏ –µ–∫–æ–Ω–æ–º–∏—Ç—å –ø–∞–º'—è—Ç—å.
>
> ```java
> public final class UserProfile {
>     private final String username; // String —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π
>     private final LocalDate birthDate; // LocalDate —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π
>
>     // –ó–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ç—É—Ç –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–µ
>     public UserProfile(String username, LocalDate birthDate) {
>         this.username = username;
>         this.birthDate = birthDate;
>     }
> }
> ```
>
> –ó–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–µ **—Ç—ñ–ª—å–∫–∏** –¥–ª—è –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –ø–æ–ª—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–£—Å–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —î "—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ—é" —ñ –∑–∞—Ö–∏—Å–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –≤–∏–±—ñ—Ä–∫–æ–≤–æ.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–π –∑—ñ —Å–ø–æ—Å–æ–±—ñ–≤ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∫–æ–ª–µ–∫—Ü—ñ—ó –∑ –≥–µ—Ç—Ç–µ—Ä–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—É —î –∫—Ä–∞—â–∏–º —ñ —á–æ–º—É? `new ArrayList<>(list)` —á–∏ `Collections.unmodifiableList(list)`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`Collections.unmodifiableList(list)` —î –∑–Ω–∞—á–Ω–æ –∫—Ä–∞—â–∏–º.**
>
> * **`new ArrayList<>(list)` (–∑–∞—Ö–∏—Å–Ω–∞ –∫–æ–ø—ñ—è):**
>   * **–ü–ª—é—Å:** –ì–∞—Ä–∞–Ω—Ç—É—î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å.
>   * **–ú—ñ–Ω—É—Å:** –ü–æ–≤–µ—Ä—Ç–∞—î –∑–≤–∏—á–∞–π–Ω–∏–π `ArrayList`, —Å—Ç–≤–æ—Ä—é—é—á–∏ —É –∫–ª—ñ—î–Ω—Ç–∞ **—Ö–∏–±–Ω–µ –≤—Ä–∞–∂–µ–Ω–Ω—è**, —â–æ –π–æ–≥–æ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏. –ë—É–¥—å-—è–∫—ñ –∑–º—ñ–Ω–∏ –Ω–µ –≤–ø–ª–∏–Ω—É—Ç—å –Ω–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª, –∞–ª–µ –º–æ–∂—É—Ç—å –∑–∞–ø–ª—É—Ç–∞—Ç–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞. –¢–∞–∫–æ–∂ –≤–∏–º–∞–≥–∞—î –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö.
>
> * **`Collections.unmodifiableList(list)` (–Ω–µ–∑–º—ñ–Ω–Ω–∏–π –≤–∏–¥):**
>   * **–ü–µ—Ä–µ–≤–∞–≥–∏:**
>         1. **–ß—ñ—Ç–∫–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç:** –ü–æ–≤–µ—Ä—Ç–∞—î –æ–±–≥–æ—Ä—Ç–∫—É, —è–∫–∞ **—è–≤–Ω–æ –∑–∞–±–æ—Ä–æ–Ω—è—î** –±—É–¥—å-—è–∫—ñ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó. –°–ø—Ä–æ–±–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `add()` –∞–±–æ `remove()` –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ `UnsupportedOperationException`. –¶–µ —Ä–æ–±–∏—Ç—å API –±—ñ–ª—å—à —á–µ—Å–Ω–∏–º —Ç–∞ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–º.
>         2. **–ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:** –ù–µ —Å—Ç–≤–æ—Ä—é—î –ø–æ–≤–Ω–æ—ó –∫–æ–ø—ñ—ó —Å–ø–∏—Å–∫—É, –∞ –ª–∏—à–µ –ª–µ–≥–∫–æ–≤–∞–≥—É –æ–±–≥–æ—Ä—Ç–∫—É –Ω–∞–¥ –Ω–∏–º. –¶–µ –µ–∫–æ–Ω–æ–º–∏—Ç—å –ø–∞–º'—è—Ç—å —Ç–∞ —á–∞—Å.
>
> –ó Java 9 —â–µ –∫—Ä–∞—â–∏–º –≤–∞—Ä—ñ–∞–Ω—Ç–æ–º –º–æ–∂–µ –±—É—Ç–∏ `List.copyOf(list)`, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—É –∫–æ–ª–µ–∫—Ü—ñ—é, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –æ–±–≥–æ—Ä—Ç–∫—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ "–∫–æ–ø—ñ—î—é" —Ç–∞ "–Ω–µ–∑–º—ñ–Ω–Ω–∏–º –≤–∏–¥–æ–º" (unmodifiable view) —Ç–∞ –≤–º—ñ–Ω–Ω—è –≤–∏–±—Ä–∞—Ç–∏ –Ω–∞–π–±—ñ–ª—å—à —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–µ —Ç–∞ –±–µ–∑–ø–µ—á–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –≤–∞–∂–ª–∏–≤–∞ –¥–ª—è `String Pool`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ü–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —î **—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ—é –ø–µ—Ä–µ–¥—É–º–æ–≤–æ—é** –¥–ª—è —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –ø—É–ª—É —Ä—è–¥–∫—ñ–≤ (String Pool).
>
> **String Pool** ‚Äî —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó, –ø—Ä–∏ —è–∫–æ–º—É JVM –∑–±–µ—Ä—ñ–≥–∞—î –æ–¥–∏–Ω —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ä—è–¥–∫–æ–≤–æ–≥–æ –ª—ñ—Ç–µ—Ä–∞–ª—É.
>
> **–Ø–∫–±–∏ `String` –±—É–≤ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º, –≤–∏–Ω–∏–∫–ª–∞ –± —Ç–∞–∫–∞ –ø—Ä–æ–±–ª–µ–º–∞:**
>
> ```java
> String s1 = "hello"; // –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç "hello" —É –ø—É–ª—ñ
> String s2 = "hello"; // –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –¢–û–ô –°–ê–ú–ò–ô –æ–±'—î–∫—Ç "hello" —É –ø—É–ª—ñ
>
> // s1 —Ç–∞ s2 –ø–æ—Å–∏–ª–∞—é—Ç—å—Å—è –Ω–∞ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –æ–±'—î–∫—Ç.
>
> // –£—è–≤—ñ–º–æ, —â–æ String –º—É—Ç–∞–±–µ–ª—å–Ω–∏–π:
> s1.changeTo("hacked!"); // –ó–º—ñ–Ω—é—î–º–æ —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞, –Ω–∞ —è–∫–∏–π –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è s1
>
> // –û—Å–∫—ñ–ª—å–∫–∏ s2 –ø–æ—Å–∏–ª–∞–≤—Å—è –Ω–∞ —Ç–æ–π —Å–∞–º–∏–π –æ–±'—î–∫—Ç, –π–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è —Ç–µ–∂ –∑–º—ñ–Ω–∏–ª–æ—Å—è!
> System.out.println(s2); // –í–∏–≤–µ–¥–µ "hacked!" - —Ü–µ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞!
> ```
>
> –û–¥–Ω–∞ –∑–º—ñ–Ω–Ω–∞ –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–æ –∑–º—ñ–Ω–∏–ª–∞ –± –∑–Ω–∞—á–µ–Ω–Ω—è —ñ–Ω—à–æ—ó, —â–æ —î –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ–ø—Ä–∏–ø—É—Å—Ç–∏–º–∏–º.
>
> –Ü–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –æ–±'—î–∫—Ç —É –ø—É–ª—ñ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –∑–º—ñ–Ω–∏—Ç—å—Å—è, —Ç–æ–º—É –Ω–∞ –Ω—å–æ–≥–æ –º–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ –ø–æ—Å–∏–ª–∞—Ç–∏—Å—è –∑ –±–∞–≥–∞—Ç—å–æ—Ö –º—ñ—Å—Ü—å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –∑–∞–±–µ–∑–ø–µ—á—É—î –±–µ–∑–ø–µ–∫—É —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å String Pool.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `record` –≤ Java 16 —Å–ø—Ä–æ—â—É—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤? –Ø–∫—ñ "–ø—ñ–¥–≤–æ–¥–Ω—ñ –∫–∞–º–µ–Ω—ñ" –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–Ø–∫ —Å–ø—Ä–æ—â—É—î:**
> `record` ‚Äî —Ü–µ "—Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–∏–π —Ü—É–∫–æ—Ä" –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ—Å—Ç–∏—Ö, —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤-–Ω–æ—Å—ñ—ó–≤ –¥–∞–Ω–∏—Ö. –ö–æ–ª–∏ –≤–∏ –ø–∏—à–µ—Ç–µ `public record Point(int x, int y) {}`, –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î**:
>
> * `private final` –ø–æ–ª—è –¥–ª—è `x` —Ç–∞ `y`.
> * –ö–∞–Ω–æ–Ω—ñ—á–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —â–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î —Ü—ñ –ø–æ–ª—è.
> * –ü—É–±–ª—ñ—á–Ω—ñ –≥–µ—Ç—Ç–µ—Ä–∏ (`x()` —Ç–∞ `y()`).
> * –ü—Ä–∞–≤–∏–ª—å–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó `equals()`, `hashCode()` —Ç–∞ `toString()`.
> * –°–∞–º –∫–ª–∞—Å —î –Ω–µ—è–≤–Ω–æ `final`.
> –¶–µ –∑–Ω–∞—á–Ω–æ –∑–º–µ–Ω—à—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥—É.
>
> **–Ø–∫—ñ "–ø—ñ–¥–≤–æ–¥–Ω—ñ –∫–∞–º–µ–Ω—ñ" –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è:**
>
> `record` **–Ω–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–∞—Ö–∏—Å–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è** –¥–ª—è –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –ø–æ–ª—ñ–≤. –¶—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å –≤—Å–µ —â–µ –ª–µ–∂–∏—Ç—å –Ω–∞ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—É.
>
> **–ü—Ä–∏–∫–ª–∞–¥ –ø—Ä–æ–±–ª–µ–º–∏:**
> `public record Order(int id, List<String> items) {}`
> –¶–µ–π `record` –Ω–µ —î –ø–æ-—Å–ø—Ä–∞–≤–∂–Ω—å–æ–º—É —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º, –±–æ –∫–ª—ñ—î–Ω—Ç –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ —Å–ø–∏—Å–æ–∫ `items`.
>
> **–ü—Ä–∞–≤–∏–ª—å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑ –∑–∞—Ö–∏—Å—Ç–æ–º:**
>
> ```java
> public record Order(int id, List<String> items) {
>     // –ö–æ–º–ø–∞–∫—Ç–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ç–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
>     public Order(int id, List<String> items) {
>         this.id = id;
>         this.items = List.copyOf(items); // –°—Ç–≤–æ—Ä—é—î–º–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—É –∫–æ–ø—ñ—é (–∑ Java 10)
>     }
>
>     // –¢–∞–∫–æ–∂ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∏—Ç–∏ –≥–µ—Ç—Ç–µ—Ä
>     @Override
>     public List<String> items() {
>         return Collections.unmodifiableList(this.items); // –∞–±–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –∫–æ–ø—ñ—é
>     }
> }
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π Java. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ `record` –≤–∏—Ä—ñ—à—É—î –ø—Ä–æ–±–ª–µ–º—É —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥—É, –∞–ª–µ –Ω–µ –ø—Ä–æ–±–ª–µ–º—É –≥–ª–∏–±–æ–∫–æ—ó —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–π –∑ –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ SOLID –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä—É—à–µ–Ω–∏–π –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ–π —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—É? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–π–±—ñ–ª—å—à –æ—á–µ–≤–∏–¥–Ω–æ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä—É—à–µ–Ω–æ **–ü—Ä–∏–Ω—Ü–∏–ø –ø—ñ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –õ—ñ—Å–∫–æ–≤ (Liskov Substitution Principle - LSP)**.
>
> –¶–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è, —è–∫—â–æ **–∫–ª–∞—Å –Ω–µ —î `final`**.
>
> **–°—Ü–µ–Ω–∞—Ä—ñ–π:**
>
> 1. –í–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –∫–ª–∞—Å `ImmutableBase`, —è–∫–∏–π —Å–ø—Ä–æ–µ–∫—Ç–æ–≤–∞–Ω–æ —è–∫ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π, –∞–ª–µ –∑–∞–±—É–ª–∏ –∑—Ä–æ–±–∏—Ç–∏ –π–æ–≥–æ `final`.
> 2. –Ü–Ω—à–∏–π —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ —Å—Ç–≤–æ—Ä—é—î `MutableSubclass extends ImmutableBase`, —è–∫–∏–π –¥–æ–¥–∞—î —Å–µ—Ç—Ç–µ—Ä–∏ —ñ –∑–º—ñ–Ω—é—î —Å–≤–æ—é –ø–æ–≤–µ–¥—ñ–Ω–∫—É.
> 3. –£ –≤–∞—à–æ–º—É –∫–æ–¥—ñ —î –º–µ—Ç–æ–¥, —â–æ –ø—Ä–∏–π–º–∞—î `ImmutableBase`, —ñ –ø–æ–∫–ª–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ –π–æ–≥–æ –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—å.
> 4. –Ø–∫—â–æ —Ü—å–æ–º—É –º–µ—Ç–æ–¥—É –ø–µ—Ä–µ–¥–∞—Ç–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä `MutableSubclass`, —Ç–æ –≤—Å—ñ –≤–∞—à—ñ –ø—Ä–∏–ø—É—â–µ–Ω–Ω—è –ø—Ä–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –±—É–¥—É—Ç—å –ø–æ—Ä—É—à–µ–Ω—ñ, —ñ –ø—Ä–æ–≥—Ä–∞–º–∞ –º–æ–∂–µ –ø–æ—á–∞—Ç–∏ –ø–æ–≤–æ–¥–∏—Ç–∏—Å—è –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ.
>
> `MutableSubclass` –Ω–µ –º–æ–∂–µ –∫–æ—Ä–µ–∫—Ç–Ω–æ "–∑–∞–º—ñ–Ω–∏—Ç–∏" `ImmutableBase`, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–∏. –¶–µ —ñ —î –ø–æ—Ä—É—à–µ–Ω–Ω—è–º LSP. –°–∞–º–µ —Ç–æ–º—É –ø—Ä–∞–≤–∏–ª–æ ‚Ññ1 ‚Äî **—Ä–æ–±–∏—Ç–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –∫–ª–∞—Å `final`**.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–æ–≤'—è–∑—É–≤–∞—Ç–∏ –ø–∞—Ç–µ—Ä–Ω–∏ —Ç–∞ —ñ–¥—ñ–æ–º–∏ –∑ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏–º–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ –æ–±'—î–∫—Ç–Ω–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω—É, —Ç–∞–∫–∏–º–∏ —è–∫ SOLID.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –∑–∞–≤–∂–¥–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –∫–ª–∞—Å–∏ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º–∏? –ù–∞–≤–µ–¥—ñ—Ç—å –∫–æ–Ω—Ç—Ä–ø—Ä–∏–∫–ª–∞–¥. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, **–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ** —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –∫–ª–∞—Å–∏ –∑–∞–≤–∂–¥–∏ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º–∏.
>
> –û–¥–Ω–∞–∫, —è–∫—â–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ **–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**, –∫–ª–∞—Å –º–æ–∂–µ –Ω–µ –±—É—Ç–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º.
>
> **–ö–æ–Ω—Ç—Ä–ø—Ä–∏–∫–ª–∞–¥: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è**
>
> –ù–∞–≤—ñ—Ç—å –¥–ª—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞, —è–∫—â–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω—å–æ–≥–æ —Å—Ç–∞—î –≤–∏–¥–∏–º–∏–º –¥–ª—è —ñ–Ω—à–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤ **–¥–æ —Ç–æ–≥–æ, —è–∫ –π–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–≤–µ—Ä—à–∏–≤ —Å–≤–æ—é —Ä–æ–±–æ—Ç—É**, —ñ–Ω—à—ñ –ø–æ—Ç–æ–∫–∏ –º–æ–∂—É—Ç—å –ø–æ–±–∞—á–∏—Ç–∏ **–Ω–µ–ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –æ–±'—î–∫—Ç**.
>
> ```java
> public final class LeakyImmutable {
>     public static LeakyImmutable instance;
>     private final int value;
>
>     public LeakyImmutable(int value) {
>         // –ü–æ–º–∏–ª–∫–∞: –ø—É–±–ª—ñ–∫—É—î–º–æ `this` –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞!
>         LeakyImmutable.instance = this;
>         // ... —è–∫–∞—Å—å —Ç—Ä–∏–≤–∞–ª–∞ —Ä–æ–±–æ—Ç–∞
>         this.value = value * 2;
>     }
> }
> ```
>
> –Ø–∫—â–æ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ —Å—Ç–≤–æ—Ä—é—î `LeakyImmutable`, —ñ–Ω—à–∏–π –ø–æ—Ç—ñ–∫ –º–æ–∂–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ `LeakyImmutable.instance` —ñ –ø–æ–±–∞—á–∏—Ç–∏, —â–æ `value` –≤—Å–µ —â–µ –¥–æ—Ä—ñ–≤–Ω—é—î `0`.
>
> –¶–µ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **"–Ω–µ–±–µ–∑–ø–µ—á–Ω–æ—é –ø—É–±–ª—ñ–∫–∞—Ü—ñ—î—é" (unsafe publication)**. –¶–µ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞ —Å–∞–º–æ–≥–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—É, –∞ –ø—Ä–æ–±–ª–µ–º–∞ —Ç–æ–≥–æ, —è–∫ –π–æ–≥–æ —Å—Ç–≤–æ—Ä—é—é—Ç—å —ñ "–ø—É–±–ª—ñ–∫—É—é—Ç—å" –¥–ª—è —ñ–Ω—à–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤.
>
> –ú–æ–¥–µ–ª—å –ø–∞–º'—è—Ç—ñ Java –≥–∞—Ä–∞–Ω—Ç—É—î –±–µ–∑–ø–µ—á–Ω—É –ø—É–±–ª—ñ–∫–∞—Ü—ñ—é `final`-–ø–æ–ª—ñ–≤ —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è **–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞**.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î—É–∂–µ –≥–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è Java Memory Model. –ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –±–∞—á–∏—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∏ –Ω–µ —Ç—ñ–ª—å–∫–∏ –≤ –∫–ª–∞—Å—ñ, –∞ –π —É —Ç–æ–º—É, —è–∫ –≤—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–µ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –∫–ª–∞—Å –º—ñ—Å—Ç–∏—Ç–∏ –ø–æ–ª—è, —è–∫—ñ –Ω–µ —î `final`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–µ–æ—Ä–µ—Ç–∏—á–Ω–æ ‚Äî —Ç–∞–∫, –∞–ª–µ —Ü–µ –¥—É–∂–µ –ø–æ–≥–∞–Ω–∏–π —ñ —Ä–∏–∑–∏–∫–æ–≤–∞–Ω–∏–π –¥–∏–∑–∞–π–Ω.**
>
> –Ø–∫—â–æ –ø–æ–ª—è –Ω–µ —î `final`, —ó—Ö–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–∂–Ω–∞ –±—É–¥–µ –∑–º—ñ–Ω–∏—Ç–∏ **–≤—Å–µ—Ä–µ–¥–∏–Ω—ñ** –∫–ª–∞—Å—É (–æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∏ `private`), —Ö–æ—á–∞ –π –Ω–µ –∑–∑–æ–≤–Ω—ñ (–±–æ –Ω–µ–º–∞—î —Å–µ—Ç—Ç–µ—Ä—ñ–≤).
>
> **–ü—Ä–∏–∫–ª–∞–¥ –ø—Ä–æ–±–ª–µ–º–∏:**
>
> ```java
> public final class TrickyImmutable {
>     private int value; // –Ω–µ final
>
>     public TrickyImmutable(int value) { this.value = value; }
>
>     public int getValue() { return value; }
>
>     // –Ø–∫–∏–π—Å—å –º–µ—Ç–æ–¥, —â–æ –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–æ –∑–º—ñ–Ω—é—î —Å—Ç–∞–Ω
>     public void doSomething() {
>         this.value++; // –ü–æ—Ä—É—à–µ–Ω–Ω—è —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ
>     }
> }
> ```
>
> –•–æ—á–∞ –¥–ª—è –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ —Å–≤—ñ—Ç—É –∫–ª–∞—Å –≤–∏–≥–ª—è–¥–∞—î —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º (–Ω–µ–º–∞—î —Å–µ—Ç—Ç–µ—Ä—ñ–≤), –π–æ–≥–æ —Å—Ç–∞–Ω –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è. –¶–µ –ø–æ—Ä—É—à—É—î –æ—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ —ñ —Ä–æ–±–∏—Ç—å –ø–æ–≤–µ–¥—ñ–Ω–∫—É –∫–ª–∞—Å—É –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ—é.
>
> –ö—Ä—ñ–º —Ç–æ–≥–æ, –±–µ–∑ `final` –ø–æ–ª—ñ–≤ –≤–∏ **–≤—Ç—Ä–∞—á–∞—î—Ç–µ –≥–∞—Ä–∞–Ω—Ç—ñ—ó –≤–∏–¥–∏–º–æ—Å—Ç—ñ**, —è–∫—ñ –Ω–∞–¥–∞—î –º–æ–¥–µ–ª—å –ø–∞–º'—è—Ç—ñ Java –¥–ª—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—ó –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** –î–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–∞–¥—ñ–π–Ω–æ–≥–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—É **–≤—Å—ñ –ø–æ–ª—è –º–∞—é—Ç—å –±—É—Ç–∏ `final`**.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —á–æ–º—É `final` —î –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∏–º –Ω–µ —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∑–∞–±–æ—Ä–æ–Ω–∏ –ø–µ—Ä–µ–ø—Ä–∏—Å–≤–æ—î–Ω–Ω—è, –∞ –π –¥–ª—è –≥–∞—Ä–∞–Ω—Ç—ñ–π –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, —É –≤–∞—Å —î —ñ—î—Ä–∞—Ä—Ö—ñ—è –∫–ª–∞—Å—ñ–≤, —ñ –≤–∏ —Ö–æ—á–µ—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ –¥–µ—è–∫—ñ —ó—ó —á–∞—Å—Ç–∏–Ω–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏. –ß–∏ –º–æ–∂–ª–∏–≤–æ —Ü–µ? –Ø–∫ –±–∏ –≤–∏ —Ü–µ —Å–ø—Ä–æ–µ–∫—Ç—É–≤–∞–ª–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, —Ü–µ –º–æ–∂–ª–∏–≤–æ, –∞–ª–µ –≤–∏–º–∞–≥–∞—î —Ä–µ—Ç–µ–ª—å–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω—É. –û—Å–∫—ñ–ª—å–∫–∏ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –∫–ª–∞—Å –º–∞—î –±—É—Ç–∏ `final`, –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ —É—Å–ø–∞–¥–∫–æ–≤—É–≤–∞—Ç–∏ –≤—ñ–¥ –Ω—å–æ–≥–æ. –ê–ª–µ –≤–∏ –º–æ–∂–µ—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ **–Ω–∞–≤–ø–∞–∫–∏**.
>
> **–ü—ñ–¥—Ö—ñ–¥: –Ü–º—É—Ç–∞–±–µ–ª—å–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥–ª—è –º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.**
>
> 1. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è **—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å**, —è–∫–∏–π –æ–ø–∏—Å—É—î –∑–∞–≥–∞–ª—å–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É.
> 2. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è **–º—É—Ç–∞–±–µ–ª—å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è** —Ü—å–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ `Builder` –∞–±–æ –∑—ñ —Å–µ—Ç—Ç–µ—Ä–∞–º–∏).
> 3. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è **—ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è** —Ü—å–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> // 1. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å
> interface IPoint {
>     int getX();
>     int getY();
> }
>
> // 2. –ú—É—Ç–∞–±–µ–ª—å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
> class MutablePoint implements IPoint { ... —Å–µ—Ç—Ç–µ—Ä–∏ ... }
>
> // 3. –Ü–º—É—Ç–∞–±–µ–ª—å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
> final class ImmutablePoint implements IPoint { ... —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –¥–∏–∑–∞–π–Ω ... }
> ```
>
> –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∫–æ–¥—É, —â–æ –ø—Ä–∞—Ü—é—î –∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `IPoint`, –ø—Ä–∏–π–º–∞—Ç–∏ **–±—É–¥—å-—è–∫—É** –∑ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π.
>
> –¢–∞–∫–æ–∂ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **—ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏ —è–∫ –ø–æ–ª—è** —É –±—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω–∏—Ö –º—É—Ç–∞–±–µ–ª—å–Ω–∏—Ö –∫–ª–∞—Å–∞—Ö, —â–æ —î —á–∞—Å—Ç–∏–Ω–æ—é –ø—Ä–∏–Ω—Ü–∏–ø—É "–º—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—ó –∑–º—ñ–Ω—é–≤–∞–Ω–æ—Å—Ç—ñ".
>
> –ù–µ –º–æ–∂–Ω–∞ "–∑–º—ñ—à–∞—Ç–∏" —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ –º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –≤ –æ–¥–Ω—ñ–π —ñ—î—Ä–∞—Ä—Ö—ñ—ó —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Å—Ç–∏–º —à–ª—è—Ö–æ–º, –∞–ª–µ –º–æ–∂–Ω–∞ –¥–æ—Å—è–≥—Ç–∏ –≥–Ω—É—á–∫–æ—Å—Ç—ñ —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –º–∏—Å–ª–∏—Ç–∏ –ø—Ä–æ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É —Ç–∞ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∏ "–ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏" –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö –¥–∏–∑–∞–π–Ω–µ—Ä—Å—å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –±—ñ–ª—å—à —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–µ: –æ–±'—î–∫—Ç, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —á–µ—Ä–µ–∑ `new String("text")`, —á–∏ –ª—ñ—Ç–µ—Ä–∞–ª `"text"`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –∑ –ø—ñ–¥—Å—Ç—É–ø–æ–º, —â–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ä–æ–∑—É–º—ñ–Ω–Ω—è, —â–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å ‚Äî —Ü–µ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å **–∫–ª–∞—Å—É**, –∞ –Ω–µ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞.
>
> **–û–±–∏–¥–≤–∞** –æ–±'—î–∫—Ç–∏ —î **–æ–¥–Ω–∞–∫–æ–≤–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏**.
>
> * –ö–ª–∞—Å `java.lang.String` —î **—ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º**.
> * –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ **–±—É–¥—å-—è–∫–∏–π** –µ–∫–∑–µ–º–ø–ª—è—Ä —Ü—å–æ–≥–æ –∫–ª–∞—Å—É, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —è–∫ –≤—ñ–Ω –±—É–≤ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π (`new` —á–∏ —á–µ—Ä–µ–∑ –ª—ñ—Ç–µ—Ä–∞–ª), **–Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –∑–º—ñ–Ω–µ–Ω–∏–π** –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è.
>
> **–£ —á–æ–º—É –∂ —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ –Ω–∏–º–∏:**
>
> * **`"text"` (–ª—ñ—Ç–µ—Ä–∞–ª):**
>   * –û–±'—î–∫—Ç —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —É **–ø—É–ª—ñ —Ä—è–¥–∫—ñ–≤ (String Pool)**. –Ø–∫—â–æ —Ç–∞–∫–∏–π —Ä—è–¥–æ–∫ –≤–∂–µ —ñ—Å–Ω—É—î, –±—É–¥–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω—å–æ–≥–æ. `String a = "text"; String b = "text"; a == b` –±—É–¥–µ `true`.
> * **`new String("text")`:**
>   * **–ü—Ä–∏–º—É—Å–æ–≤–æ —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç** `String` —É **–∫—É–ø—ñ (heap)**. –¶–µ–π –æ–±'—î–∫—Ç –Ω–µ –ø–æ—Ç—Ä–∞–ø–ª—è—î –≤ –ø—É–ª.
>   * `String a = new String("text"); String b = new String("text"); a == b` –±—É–¥–µ `false`.
>
> –û—Ç–∂–µ, –≤–æ–Ω–∏ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è **–º—ñ—Å—Ü–µ–º —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è** —Ç–∞ **—ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—é –ø–æ—Å–∏–ª–∞–Ω–Ω—è**, –∞–ª–µ —ó—Ö–Ω—è **—ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —î –∞–±—Å–æ–ª—é—Ç–Ω–æ –æ–¥–Ω–∞–∫–æ–≤–æ—é**.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î—É–∂–µ —á—ñ—Ç–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å ‚Äî —Ü–µ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å –∫–ª–∞—Å—É, –∞ –Ω–µ —Å–ø–æ—Å–æ–±—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞. –ó–Ω–∞–Ω–Ω—è –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç–µ–π –º—ñ–∂ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º `String` —á–µ—Ä–µ–∑ `new` —Ç–∞ —á–µ—Ä–µ–∑ –ª—ñ—Ç–µ—Ä–∞–ª.*
