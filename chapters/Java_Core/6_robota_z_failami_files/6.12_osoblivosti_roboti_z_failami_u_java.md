---
layout: default
title: "–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ —Ä–æ–±–æ—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏ —É Java"
parent: "–†–æ–±–æ—Ç–∞ –∑ —Ñ–∞–π–ª–∞–º–∏ (Files)"
grand_parent: "Java Core"
nav_order: 12
---

# –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ —Ä–æ–±–æ—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏ —É Java

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –ù—é–∞–Ω—Å–∏ —Ä–æ–±–æ—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏: –¥–æ–∑–∞–ø–∏—Å –¥–∞–Ω–∏—Ö (`append` —Ä–µ–∂–∏–º), –∫–æ—Ä–µ–∫—Ç–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–¥—É–≤–∞–Ω—å (`UTF-8`), –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤ (–ø–æ—Ç–æ–∫–æ–≤–µ –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è –∑–∞–º—ñ—Å—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤ –ø–∞–º'—è—Ç—å), –∞ —Ç–∞–∫–æ–∂ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å `flush()` —Ç–∞ `close()` –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö.

* –ø–æ–Ω—è—Ç—Ç—è: –î–æ–∑–∞–ø–∏—Å (`append`), –∫–æ–¥—É–≤–∞–Ω–Ω—è (`UTF-8`, `StandardCharsets`), –≤–µ–ª–∏–∫—ñ —Ñ–∞–π–ª–∏, `flush()`, `close()`.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `new FileWriter("file.txt", true)` (–¥–æ–∑–∞–ø–∏—Å), `new OutputStreamWriter(new FileOutputStream("file.txt"), StandardCharsets.UTF_8)` (–∫–æ–¥—É–≤–∞–Ω–Ω—è), –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `BufferedReader` –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –í–∞–∂–ª–∏–≤—ñ—Å—Ç—å `true` –¥–ª—è –¥–æ–∑–∞–ø–∏—Å—É, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `UTF-8` –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º –∑ –∫–æ–¥—É–≤–∞–Ω–Ω—è–º, –ø–æ—Ç–æ–∫–æ–≤–∞ –æ–±—Ä–æ–±–∫–∞ –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤ –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è `OutOfMemoryError`.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –Ø–∫ –¥–æ–∑–∞–ø–∏—Å–∞—Ç–∏, —è–∫ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –∫–æ–¥—É–≤–∞–Ω–Ω—è–º, —è–∫ –æ–±—Ä–æ–±–ª—è—Ç–∏ –≤–µ–ª–∏–∫—ñ —Ñ–∞–π–ª–∏.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**  

–ü—ñ–¥ —á–∞—Å —á–∏—Ç–∞–Ω–Ω—è/–∑–∞–ø–∏—Å—É —Ñ–∞–π–ª—ñ–≤ —É Java –≤–∏–Ω–∏–∫–∞—é—Ç—å **–æ—Å–æ–±–ª–∏–≤—ñ –Ω—é–∞–Ω—Å–∏**, –ø–æ–≤‚Äô—è–∑–∞–Ω—ñ –∑ **–¥–æ–∑–∞–ø–∏—Å–æ–º**, **–∫–æ–¥—É–≤–∞–Ω–Ω—è–º —Å–∏–º–≤–æ–ª—ñ–≤**, —Ç–∞ **–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—é –æ–±—Ä–æ–±–∫–æ—é –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤**.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**  

–Ñ —Å–∏—Ç—É–∞—Ü—ñ—ó, –∫–æ–ª–∏:

* —Ç—Ä–µ–±–∞ **–Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É–≤–∞—Ç–∏ —Ñ–∞–π–ª**, –∞ **–¥–æ–ø–∏—Å—É–≤–∞—Ç–∏**;

* –≤–∞–∂–ª–∏–≤–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ **–≤–∏–±—Ä–∞—Ç–∏ –∫–æ–¥—É–≤–∞–Ω–Ω—è** (—â–æ–± –Ω–µ –±—É–ª–æ –∫—Ä–∞–∫–æ–∑—è–±—Ä);

* **–≤–µ–ª–∏–∫–∏–π —Ñ–∞–π–ª** –Ω–µ –º–æ–∂–Ω–∞ –ø—Ä–æ—Å—Ç–æ –≤–∑—è—Ç–∏ —ñ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤ –ø–∞–º º—è—Ç—å.

---

## **–û—Å–Ω–æ–≤–Ω—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ —Ç–∞ –ø—Ä–∏–∫–ª–∞–¥–∏**

### **üîπ –î–æ–∑–∞–ø–∏—Å —É —Ñ–∞–π–ª (`append = true`)**

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º `FileWriter` **–ø–µ—Ä–µ–∑–∞–ø–∏—Å—É—î** —Ñ–∞–π–ª.

–©–æ–± **–¥–æ–¥–∞—Ç–∏ —Ä—è–¥–æ–∫ –¥–æ –∫—ñ–Ω—Ü—è** ‚Äî —Ç—Ä–µ–±–∞ —è–≤–Ω–æ –≤–∫–∞–∑–∞—Ç–∏ `true`:

```java
FileWriter fw = new FileWriter("notes.txt", true); // append = true
fw.write("–ù–æ–≤–∏–π —Ä—è–¥–æ–∫\n");
fw.close();
```

üß† *–ü–∞–º º—è—Ç–∞–π:* –±–µ–∑ **`true`** ‚Äî —Ñ–∞–π–ª –æ—á–∏—Å—Ç–∏—Ç—å—Å—è –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å–æ–º.

---

### **üîπ –ü—Ä–æ–±–ª–µ–º–∏ –∑ –∫–æ–¥—É–≤–∞–Ω–Ω—è–º (UTF-8, Charset)**

Java –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **—Å–∏—Å—Ç–µ–º–Ω–µ –∫–æ–¥—É–≤–∞–Ω–Ω—è**, —Ç–æ–º—É –º–æ–∂—É—Ç—å –≤–∏–Ω–∏–∫–∞—Ç–∏:

* –ü–æ–º–∏–ª–∫–∏ –∑ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–º–∏ –ª—ñ—Ç–µ—Ä–∞–º–∏

* ¬´–ö—Ä–∞–∫–æ–∑—è–±—Ä–∏¬ª —É Windows-–∫–æ–Ω—Å–æ–ª—ñ

üìå –†—ñ—à–µ–Ω–Ω—è ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **`OutputStreamWriter`** –∑ –≤–∫–∞–∑–∞–Ω–∏–º –∫–æ–¥—É–≤–∞–Ω–Ω—è–º:

```java
Writer writer = new OutputStreamWriter(
    new FileOutputStream("output.txt"), StandardCharsets.UTF_8);
writer.write("–ü—Ä–∏–≤—ñ—Ç —Å–≤—ñ—Ç!");
writer.close();
```

‚úÖ –ê–±–æ –≤ `Files.write()` –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–¥–∞—Ç–∏ `Charset`.

---

### **üîπ –†–æ–±–æ—Ç–∞ –∑ –≤–µ–ª–∏–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏**

–ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π:

```java
String all = new String(Files.readAllBytes(path)); // ‚ùå
```

–±–æ —Ü–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î **–≤–µ—Å—å —Ñ–∞–π–ª —É –ø–∞–º º—è—Ç—å** -> –º–æ–∂–ª–∏–≤–∏–π `OutOfMemoryError`.

üìå –ö—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å—Ç—Ä—ñ–º –∞–±–æ **`BufferedReader`** –ø–æ—Å—Ç—Ä–æ—á–Ω–æ:

```java
try (BufferedReader reader = Files.newBufferedReader(path)) {
    String line;
    while ((line = reader.readLine()) != null) {
        System.out.println(line);
    }
}
```

üß† –¶–µ **–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ**, –±–æ —á–∏—Ç–∞—î —Ñ–∞–π–ª —á–∞—Å—Ç–∏–Ω–∞–º–∏ (–ø–æ —Ä—è–¥–∫–∞—Ö).

---

## **–¢–∞–±–ª–∏—Ü—è –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ (üìã)**

| –°–∏—Ç—É–∞—Ü—ñ—è | –ü—Ä–∞–≤–∏–ª—å–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è |
| :---: | ----- |
| –î–æ–¥–∞—Ç–∏ –¥–∞–Ω—ñ –≤ –∫—ñ–Ω–µ—Ü—å —Ñ–∞–π–ª—É | `new FileWriter("file.txt", true)` |
| –£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ/—Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–∏ | `StandardCharsets.UTF_8` |
| –û–±—Ä–æ–±–∫–∞ –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤ | `BufferedReader` –∞–±–æ `Files.lines(path)` |
| –í–∏–≤—ñ–¥ —ñ–∑ –±—É—Ñ–µ—Ä–∞ –≤—Ä—É—á–Ω—É | `writer.flush()` |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

``java
append = true     -> –¥–æ–∑–∞–ø–∏—Å
UTF-8             -> –Ω–æ—Ä–º–∞–ª—å–Ω–µ –∫–æ–¥—É–≤–∞–Ω–Ω—è
BufferedReader    -> –≤–µ–ª–∏–∫–∏–π —Ñ–∞–π–ª = –Ω–µ —á–∏—Ç–∞—î–º–æ –ø–æ–≤–Ω—ñ—Å—Ç—é
flush()           -> –≤–∏–≤—ñ–¥ –∑ –±—É—Ñ–µ—Ä–∞ –≤—Ä—É—á–Ω—É
``
---

## **–ü—ñ–¥—Å—É–º–æ–∫ (üü©)**

–ü—ñ–¥ —á–∞—Å —Ä–æ–±–æ—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏ –≤ Java –≤–∞–∂–ª–∏–≤–æ –ø–∞–º º—è—Ç–∞—Ç–∏:

* **–•–æ—á–µ—à –¥–æ–∑–∞–ø–∏—Å** ‚Äî –ø–∏—à–∏ `true` –≤ `FileWriter`.
* **–•–æ—á–µ—à –∫–æ—Ä–µ–∫—Ç–Ω–µ –∫–æ–¥—É–≤–∞–Ω–Ω—è** ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π `UTF-8`.
* **–í–µ–ª–∏–∫–∏–π —Ñ–∞–π–ª?** ‚Äî —á–∏—Ç–∞–π –π–æ–≥–æ **—Ä—è–¥–∫–∞–º–∏** —á–µ—Ä–µ–∑ `BufferedReader`.
* **–ù–µ –±–∞—á–∏—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É?** ‚Äî –∑—Ä–æ–±–∏ `flush()` –∞–±–æ `close()`.

–¶—ñ –¥—Ä—ñ–±–Ω–∏—Ü—ñ ‚Äî –∑–∞–ø–æ—Ä—É–∫–∞ **—Å—Ç–∞–±—ñ–ª—å–Ω–æ—ó —ñ —è–∫—ñ—Å–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏**.

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –¥–æ–¥–∞—Ç–∏ –¥–∞–Ω—ñ –≤ –∫—ñ–Ω–µ—Ü—å —Ñ–∞–π–ª—É, –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É—é—á–∏ –π–æ–≥–æ –≤–º—ñ—Å—Ç?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –©–æ–± –¥–æ–¥–∞—Ç–∏ –¥–∞–Ω—ñ –≤ –∫—ñ–Ω–µ—Ü—å —Ñ–∞–π–ª—É (—Ä–µ–∂–∏–º –¥–æ–∑–∞–ø–∏—Å—É, –∞–±–æ `append mode`), –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –æ–±'—î–∫—Ç–∞ –¥–ª—è –∑–∞–ø–∏—Å—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `FileWriter` –∞–±–æ `FileOutputStream`, –ø–µ—Ä–µ–¥–∞—Ç–∏ –¥—Ä—É–≥–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç `true`.
>
> * `new FileWriter("file.txt", true)` ‚Äî –≤—ñ–¥–∫—Ä–∏—î —Ñ–∞–π–ª `file.txt` –¥–ª—è –¥–æ–∑–∞–ø–∏—Å—É —Ç–µ–∫—Å—Ç—É.
> * `new FileOutputStream("file.bin", true)` ‚Äî –≤—ñ–¥–∫—Ä–∏—î —Ñ–∞–π–ª `file.bin` –¥–ª—è –¥–æ–∑–∞–ø–∏—Å—É –±–∞–π—Ç—ñ–≤.
>
> –Ø–∫—â–æ —Ü–µ–π –ø—Ä–∞–ø–æ—Ä–µ—Ü—å –Ω–µ –≤–∫–∞–∑–∞—Ç–∏ (–∞–±–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ `false`), —Ñ–∞–π–ª –±—É–¥–µ –æ—á–∏—â–µ–Ω–æ –ø–µ—Ä–µ–¥ –Ω–æ–≤–∏–º –∑–∞–ø–∏—Å–æ–º.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–¶–µ –æ–¥–Ω–∞ –∑ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –ª–æ–≥-—Ñ–∞–π–ª–∞–º–∏ –∞–±–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –ø–æ—Å—Ç—É–ø–æ–≤–æ –Ω–∞–∫–æ–ø–∏—á—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ. –ó–∞–±—É—Ç–∏–π –ø—Ä–∞–ø–æ—Ä–µ—Ü—å `true` —î —á–∞—Å—Ç–æ—é –ø—Ä–∏—á–∏–Ω–æ—é –≤—Ç—Ä–∞—Ç–∏ –¥–∞–Ω–∏—Ö.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
import java.io.FileWriter;
import java.io.IOException;

public class AppendExample {
    public static void main(String[] args) {
        // try-with-resources –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–∫—Ä–∏—î FileWriter
        try (FileWriter writer = new FileWriter("log.txt", true)) { // <-- –í–∞–∂–ª–∏–≤–∏–π –ø—Ä–∞–ø–æ—Ä–µ—Ü—å true
            writer.write("–ù–æ–≤–∏–π –∑–∞–ø–∏—Å —É –ª–æ–∑—ñ.\n");
            System.out.println("–î–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ –¥–æ–∑–∞–ø–∏—Å–∞–Ω–æ.");
        } catch (IOException e) {
            System.err.println("–ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥ —á–∞—Å –∑–∞–ø–∏—Å—É –≤ —Ñ–∞–π–ª: " + e.getMessage());
        }
    }
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –±–∞–∑–æ–≤–æ–≥–æ API –¥–ª—è –¥–æ–∑–∞–ø–∏—Å—É —Ñ–∞–π–ª—ñ–≤ —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ –¥—Ä—É–≥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö `FileWriter`/`FileOutputStream`.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –ø—Ä–∏ —á–∏—Ç–∞–Ω–Ω—ñ –∞–±–æ –∑–∞–ø–∏—Å—ñ —Ñ–∞–π–ª—É –∑ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–º–∏ –ª—ñ—Ç–µ—Ä–∞–º–∏ –∑'—è–≤–ª—è—é—Ç—å—Å—è "–∫—Ä–∞–∫–æ–∑—è–±—Ä–∏" (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ —Å–∏–º–≤–æ–ª–∏)?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> "–ö—Ä–∞–∫–æ–∑—è–±—Ä–∏" (mojibake) –∑'—è–≤–ª—è—é—Ç—å—Å—è —á–µ—Ä–µ–∑ **–Ω–µ–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –∫–æ–¥—É–≤–∞–Ω—å** –ø—Ä–∏ –∑–∞–ø–∏—Å—ñ —Ç–∞ —á–∏—Ç–∞–Ω–Ω—ñ —Ñ–∞–π–ª—É.
>
> –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º Java –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å–∏—Å—Ç–µ–º–Ω–µ –∫–æ–¥—É–≤–∞–Ω–Ω—è (`System.getProperty("file.encoding")`), —è–∫–µ –Ω–∞ Windows —á–∞—Å—Ç–æ —î `Cp1251`, –∞ –Ω–∞ Linux/macOS ‚Äî `UTF-8`. –Ø–∫—â–æ –≤–∏ –∑–∞–ø–∏—Å—É—î—Ç–µ —Ñ–∞–π–ª –∑ –∫–æ–¥—É–≤–∞–Ω–Ω—è–º `UTF-8`, –∞ —á–∏—Ç–∞—î—Ç–µ –π–æ–≥–æ —è–∫ `Cp1251` (–∞–±–æ –Ω–∞–≤–ø–∞–∫–∏), —Å–∏–º–≤–æ–ª–∏, —è–∫–∏—Ö –Ω–µ–º–∞—î –≤ –æ–±–æ—Ö –∫–æ–¥—É–≤–∞–Ω–Ω—è—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –ª—ñ—Ç–µ—Ä–∏ `—ñ`, `—ó`, `—î`), –±—É–¥—É—Ç—å –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω—ñ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ.
>
> **–†—ñ—à–µ–Ω–Ω—è:** –ó–∞–≤–∂–¥–∏ —è–≤–Ω–æ –≤–∫–∞–∑—É–π—Ç–µ –∫–æ–¥—É–≤–∞–Ω–Ω—è `UTF-8` –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ —Ç–µ–∫—Å—Ç–æ–≤–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–¶–µ —è–∫ –Ω–∞–º–∞–≥–∞—Ç–∏—Å—è –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –Ω–∞–ø–∏—Å–∞–Ω–µ –∞–∑–±—É–∫–æ—é –ú–æ—Ä–∑–µ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –¥–ª—è —Ä–æ–∑—à–∏—Ñ—Ä–æ–≤–∫–∏ —Å–µ–º–∞—Ñ–æ—Ä–Ω—É –∞–±–µ—Ç–∫—É. –í–∏ –±–∞—á–∏—Ç–µ —Å–∏–≥–Ω–∞–ª–∏, –∞–ª–µ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É—î—Ç–µ —ó—Ö –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∏ –∫–æ–¥—É–≤–∞–Ω—å —Ç–∞ —É—Å–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ —è–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é –Ω–∞–¥ –Ω–∏–º–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ–≥–æ —Ç–∞ –∫–æ—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∞—Ü—é—é—á–æ–≥–æ –∫–æ–¥—É.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –Ω–∞–¥—ñ–π–Ω–æ –≤–∫–∞–∑–∞—Ç–∏ –∫–æ–¥—É–≤–∞–Ω–Ω—è UTF-8 –ø—Ä–∏ –∑–∞–ø–∏—Å—ñ —Ç–∞ —á–∏—Ç–∞–Ω–Ω—ñ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª—É?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–∏–π —Å–ø–æ—Å—ñ–± ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ API, —è–∫–µ –¥–æ–∑–≤–æ–ª—è—î —è–≤–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –æ–±'—î–∫—Ç `Charset`. –î–ª—è —Ü—å–æ–≥–æ —ñ—Å–Ω—É—é—Ç—å —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –∫–ª–∞—Å–∏-–æ–±–≥–æ—Ä—Ç–∫–∏ —Ç–∞ –º–µ—Ç–æ–¥–∏.
>
> **–ü—Ä–∏ –∑–∞–ø–∏—Å—ñ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π —Å–ø–æ—Å—ñ–±):**
> –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `OutputStreamWriter`, —è–∫–∏–π "–æ–±–≥–æ—Ä—Ç–∞—î" `FileOutputStream`, —ñ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ `StandardCharsets.UTF_8`.
>
> **–ü—Ä–∏ —á–∏—Ç–∞–Ω–Ω—ñ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π —Å–ø–æ—Å—ñ–±):**
> –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `InputStreamReader`, —è–∫–∏–π "–æ–±–≥–æ—Ä—Ç–∞—î" `FileInputStream`.
>
> **–°—É—á–∞—Å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –∑ `java.nio.file.Files`:**
> –ú–µ—Ç–æ–¥–∏ –∫–ª–∞—Å—É `Files` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Files.writeString()`, `Files.readString()`, `Files.newBufferedReader()`) –ø—Ä–∏–π–º–∞—é—Ç—å `Charset` —è–∫ –Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
import java.io.*;
import java.nio.charset.StandardCharsets;
import java.nio.file.Files;
import java.nio.file.Path;

public class Utf8Example {
    public static void main(String[] args) throws IOException {
        Path path = Path.of("test_utf8.txt");

        // –ó–∞–ø–∏—Å –∑ UTF-8 –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é java.nio
        Files.writeString(path, "–ü—Ä–∏–≤—ñ—Ç, —Å–≤—ñ—Ç–µ!", StandardCharsets.UTF_8);

        // –ß–∏—Ç–∞–Ω–Ω—è –∑ UTF-8 –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é java.nio
        String content = Files.readString(path, StandardCharsets.UTF_8);
        System.out.println("–í–º—ñ—Å—Ç —Ñ–∞–π–ª—É: " + content);

        Files.delete(path);
    }
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ —Ä–æ–±–æ—Ç–∏ –∑ –∫–æ–¥—É–≤–∞–Ω–Ω—è–º–∏ —Ç–∞ –∑–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏—Ö —ñ –∫–ª–∞—Å–∏—á–Ω–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ —ó—Ö —è–≤–Ω–æ–≥–æ –≤–∫–∞–∑—É–≤–∞–Ω–Ω—è.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —á–æ–º—É —Ä–∏–∑–∏–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º–µ—Ç–æ–¥—ñ–≤ `Files.readAllBytes()` –∞–±–æ `Files.readAllLines()`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ì–æ–ª–æ–≤–Ω–∏–π —Ä–∏–∑–∏–∫ –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ —Ü—ñ –º–µ—Ç–æ–¥–∏ **–∑—á–∏—Ç—É—é—Ç—å –≤–µ—Å—å –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—É –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É –ø–∞–º'—è—Ç—å (RAM)** –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑.
>
> –Ø–∫—â–æ —Ñ–∞–π–ª –≤–∏—è–≤–∏—Ç—å—Å—è –¥—É–∂–µ –≤–µ–ª–∏–∫–∏–º (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫—ñ–ª—å–∫–∞ —Å–æ—Ç–µ–Ω—å –º–µ–≥–∞–±–∞–π—Ç –∞–±–æ –≥—ñ–≥–∞–±–∞–π—Ç), —Ü–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ:
>
> * **`OutOfMemoryError`**: –ü—Ä–æ–≥—Ä–∞–º–∞ —Å–ø—Ä–æ–±—É—î –≤–∏–¥—ñ–ª–∏—Ç–∏ –±—ñ–ª—å—à–µ –ø–∞–º'—è—Ç—ñ, –Ω—ñ–∂ –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è JVM, —â–æ —Å–ø—Ä–∏—á–∏–Ω–∏—Ç—å —ó—ó –∞–≤–∞—Ä—ñ–π–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è.
> * **–î–µ–≥—Ä–∞–¥–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ**: –ù–∞–≤—ñ—Ç—å —è–∫—â–æ –ø–æ–º–∏–ª–∫–∏ –Ω–µ —Å—Ç–∞–Ω–µ—Ç—å—Å—è, –≤–µ–ª–∏–∫–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –ø–∞–º'—è—Ç—å –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑–±–∏—Ä–∞—á–∞ —Å–º—ñ—Ç—Ç—è (Garbage Collector), —â–æ —Å–∏–ª—å–Ω–æ —Å–ø–æ–≤—ñ–ª—å–Ω–∏—Ç—å —Ä–æ–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–∏.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** —Ü—ñ –º–µ—Ç–æ–¥–∏ –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–∏—à–µ –¥–ª—è –Ω–µ–≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤, —Ä–æ–∑–º—ñ—Ä —è–∫–∏—Ö –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –æ–±–º–µ–∂–µ–Ω–∏–π.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–¶–µ –∫–ª–∞—Å–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞ –Ω–æ–≤–∞—á–∫—ñ–≤. –ö–æ–¥ –≤–∏–≥–ª—è–¥–∞—î –¥—É–∂–µ –ø—Ä–æ—Å—Ç–∏–º —ñ –∑—Ä—É—á–Ω–∏–º, –∞–ª–µ —î –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–º —É —Ä–µ–∞–ª—å–Ω–∏—Ö —É–º–æ–≤–∞—Ö, –¥–µ —Ä–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—ñ–≤ –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –Ω–∞—Å–ª—ñ–¥–∫—ñ–≤ –ø–æ–≤–Ω–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É –≤ –ø–∞–º'—è—Ç—å —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –æ—Ü—ñ–Ω—é–≤–∞—Ç–∏ —Ä–∏–∑–∏–∫–∏, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º "–∑—Ä—É—á–Ω–∏—Ö", –∞–ª–µ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–æ–±–ª—è—Ç–∏ –≤–µ–ª–∏–∫—ñ —Ñ–∞–π–ª–∏ –≤ Java, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ `OutOfMemoryError`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è –æ–±—Ä–æ–±–∫–∏ –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **–ø–æ—Ç–æ–∫–æ–≤–µ —á–∏—Ç–∞–Ω–Ω—è (streaming)**, —è–∫–µ –æ–±—Ä–æ–±–ª—è—î —Ñ–∞–π–ª —á–∞—Å—Ç–∏–Ω–∞–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–æ —Ä—è–¥–∫–∞—Ö –∞–±–æ –ø–æ –±—É—Ñ–µ—Ä–∞—Ö –±–∞–π—Ç—ñ–≤), –∞ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –π–æ–≥–æ –ø–æ–≤–Ω—ñ—Å—Ç—é –≤ –ø–∞–º'—è—Ç—å.
>
> **–ù–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à—ñ –ø—ñ–¥—Ö–æ–¥–∏:**
>
> 1. **–î–ª—è —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `BufferedReader`, —è–∫–∏–π —á–∏—Ç–∞—î —Ñ–∞–π–ª –ø–æ —Ä—è–¥–∫–∞—Ö –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–µ—Ç–æ–¥—É `readLine()`. –°—É—á–∞—Å–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ‚Äî `Files.lines(path)`, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î `Stream<String>`.
>
> 2. **–î–ª—è –±—ñ–Ω–∞—Ä–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `BufferedInputStream`, —è–∫–∏–π —á–∏—Ç–∞—î —Ñ–∞–π–ª –ø–æ—Ä—Ü—ñ—è–º–∏ (–±—É—Ñ–µ—Ä–∞–º–∏) –±–∞–π—Ç—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–µ—Ç–æ–¥—É `read(byte[] buffer)`.
>
> –¶—ñ –ø—ñ–¥—Ö–æ–¥–∏ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –º—ñ–Ω—ñ–º–∞–ª—å–Ω–µ —Ç–∞ —Å—Ç–∞–±—ñ–ª—å–Ω–µ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É —Ñ–∞–π–ª—É.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ (—á–∏—Ç–∞–Ω–Ω—è –≤–µ–ª–∏–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª—É):**

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;

public class LargeFileReadExample {
    public static void processLargeFile(Path path) {
        try (BufferedReader reader = Files.newBufferedReader(path)) {
            String line;
            while ((line = reader.readLine()) != null) {
                // –û–±—Ä–æ–±–ª—è—î–º–æ –∫–æ–∂–µ–Ω —Ä—è–¥–æ–∫ –æ–∫—Ä–µ–º–æ, –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ —ó—Ö —É—Å—ñ
                // System.out.println(line);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –ø–∞—Ç–µ—Ä–Ω—ñ–≤ –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ –≤–µ–ª–∏–∫–∏—Ö –æ–±—Å—è–≥—ñ–≤ –¥–∞–Ω–∏—Ö —Ç–∞ –≤–º—ñ–Ω–Ω—è –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –ø–æ—Ç–æ–∫–æ–≤—ñ –ø—ñ–¥—Ö–æ–¥–∏.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–î–ª—è —á–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –º–µ—Ç–æ–¥–∏ `flush()` —Ç–∞ `close()` –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –ø–æ—Ç–æ–∫–∞–º–∏ –≤–∏–≤–æ–¥—É?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> * **`flush()` (–ø—Ä–æ—à—Ç–æ–≤—Ö–Ω—É—Ç–∏)**: –ë—ñ–ª—å—à—ñ—Å—Ç—å –ø–æ—Ç–æ–∫—ñ–≤ –≤–∏–≤–æ–¥—É (–æ—Å–æ–±–ª–∏–≤–æ –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω—ñ, —è–∫ `BufferedWriter` –∞–±–æ `BufferedOutputStream`) –Ω–µ –∑–∞–ø–∏—Å—É—é—Ç—å –¥–∞–Ω—ñ –Ω–∞ –¥–∏—Å–∫ –æ–¥—Ä–∞–∑—É. –í–æ–Ω–∏ –Ω–∞–∫–æ–ø–∏—á—É—é—Ç—å —ó—Ö —É –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–º—É –±—É—Ñ–µ—Ä—ñ –≤ –ø–∞–º'—è—Ç—ñ. –ú–µ—Ç–æ–¥ `flush()` –ø—Ä–∏–º—É—Å–æ–≤–æ **–∑–∞–ø–∏—Å—É—î –≤–µ—Å—å –≤–º—ñ—Å—Ç –±—É—Ñ–µ—Ä–∞** —É –∫—ñ–Ω—Ü–µ–≤–∏–π –ø—Ä–∏–π–º–∞—á (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É —Ñ–∞–π–ª –Ω–∞ –¥–∏—Å–∫—É). –¶–µ –∫–æ—Ä–∏—Å–Ω–æ, –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏, —â–æ –¥–∞–Ω—ñ –∑–∞–ø–∏—Å–∞–Ω—ñ —Å–∞–º–µ –≤ —Ü–µ–π –º–æ–º–µ–Ω—Ç, –Ω–µ –∑–∞–∫—Ä–∏–≤–∞—é—á–∏ –ø–æ—Ç—ñ–∫.
>
> * **`close()` (–∑–∞–∫—Ä–∏—Ç–∏)**: –¶–µ–π –º–µ—Ç–æ–¥ —Ä–æ–±–∏—Ç—å –¥–≤—ñ —Ä–µ—á—ñ:
>     1. **–í–∏–∫–ª–∏–∫–∞—î `flush()`** –Ω–µ—è–≤–Ω–æ, —â–æ–± –∑–∞–ø–∏—Å–∞—Ç–∏ –∑–∞–ª–∏—à–∫–∏ –¥–∞–Ω–∏—Ö –∑ –±—É—Ñ–µ—Ä–∞.
>     2. **–ó–≤—ñ–ª—å–Ω—è—î —Å–∏—Å—Ç–µ–º–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏**, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –ø–æ—Ç–æ–∫–æ–º (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ñ–∞–π–ª–æ–≤–∏–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä).
>
> –ù–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `close()` ‚Äî —Ü–µ —Å–µ—Ä–π–æ–∑–Ω–∞ –ø–æ–º–∏–ª–∫–∞, —è–∫–∞ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –≤—Ç—Ä–∞—Ç–∏ –¥–∞–Ω–∏—Ö —Ç–∞ –≤–∏—Ç–æ–∫—É —Ä–µ—Å—É—Ä—Å—ñ–≤.

#### **üìù –ú–Ω–µ–º–æ–Ω—ñ–∫–∞:**

* `flush()` ‚Äî —Ü–µ —è–∫ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ –∫–Ω–æ–ø–∫—É "–ó–±–µ—Ä–µ–≥—Ç–∏" –≤ –¥–æ–∫—É–º–µ–Ω—Ç—ñ, –Ω–µ –∑–∞–∫—Ä–∏–≤–∞—é—á–∏ –π–æ–≥–æ.
* `close()` ‚Äî —Ü–µ —è–∫ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ "–ó–±–µ—Ä–µ–≥—Ç–∏ —Ç–∞ –≤–∏–π—Ç–∏".

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó –±—É—Ñ–µ—Ä–∏–∑–∞—Ü—ñ—ó —Ç–∞ –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º –ø–æ—Ç–æ–∫—ñ–≤ –≤–≤–æ–¥—É-–≤–∏–≤–æ–¥—É.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏–º –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è `FileWriter` –≤—ñ–¥ `OutputStreamWriter` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ —Ä–æ–±–æ—Ç–∏ –∑ –∫–æ–¥—É–≤–∞–Ω–Ω—è–º?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û—Å–Ω–æ–≤–Ω–∞ –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –ø–æ–ª—è–≥–∞—î –≤ **–∫–æ–Ω—Ç—Ä–æ–ª—ñ –Ω–∞–¥ –∫–æ–¥—É–≤–∞–Ω–Ω—è–º —Å–∏–º–≤–æ–ª—ñ–≤**.
>
> * **`FileWriter`**: –¶–µ –∑—Ä—É—á–Ω–∏–π, –∞–ª–µ –º–µ–Ω—à –≥–Ω—É—á–∫–∏–π –∫–ª–∞—Å. –í—ñ–Ω **–∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å–∏—Å—Ç–µ–º–Ω–µ –∫–æ–¥—É–≤–∞–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º** (`System.getProperty("file.encoding")`), —ñ –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ —Ü–µ –∑–º—ñ–Ω–∏—Ç–∏. –¶–µ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ –Ω–µ–ø—Ä–∏–¥–∞—Ç–Ω–∏–º –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ–≥–æ –∫–æ–¥—É.
>
> * **`OutputStreamWriter`**: –¶–µ –∫–ª–∞—Å-"–º—ñ—Å—Ç" –º—ñ–∂ –ø–æ—Ç–æ–∫–∞–º–∏ —Å–∏–º–≤–æ–ª—ñ–≤ (`Writer`) —Ç–∞ –ø–æ—Ç–æ–∫–∞–º–∏ –±–∞–π—Ç—ñ–≤ (`OutputStream`). –ô–æ–≥–æ –∫–ª—é—á–æ–≤–∞ –ø–µ—Ä–µ–≤–∞–≥–∞ –≤ —Ç–æ–º—É, —â–æ –≤—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î **—è–≤–Ω–æ –≤–∫–∞–∑–∞—Ç–∏ –∫–æ–¥—É–≤–∞–Ω–Ω—è** –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ. –¶–µ –Ω–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–∏–π —Å–ø–æ—Å—ñ–± –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏, —è–∫ —Å–∏–º–≤–æ–ª–∏ –≤–∞—à–æ–≥–æ `String` –±—É–¥—É—Ç—å –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω—ñ –Ω–∞ –±–∞–π—Ç–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å–æ–º —É —Ñ–∞–π–ª.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** –î–ª—è –±—É–¥—å-—è–∫–æ—ó —Å–µ—Ä–π–æ–∑–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ —Ç–µ–∫—Å—Ç–æ–º —Å–ª—ñ–¥ –Ω–∞–¥–∞–≤–∞—Ç–∏ –ø–µ—Ä–µ–≤–∞–≥—É `OutputStreamWriter` (–∞–±–æ —Å—É—á–∞—Å–Ω–æ–º—É API `Files`), –∞ –Ω–µ `FileWriter`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —ñ—î—Ä–∞—Ä—Ö—ñ—ó –∫–ª–∞—Å—ñ–≤ `java.io` —Ç–∞ –≤–º—ñ–Ω–Ω—è –≤–∏–±–∏—Ä–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∑–∞–≤–¥–∞–Ω–Ω—è, —É—Å–≤—ñ–¥–æ–º–ª—é—é—á–∏ –π–æ–≥–æ –æ–±–º–µ–∂–µ–Ω–Ω—è.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü—ñ—è –≤ –ø–æ—Ç–æ–∫–∞—Ö –≤–≤–æ–¥—É-–≤–∏–≤–æ–¥—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `BufferedReader`, `BufferedWriter`) —ñ —è–∫ –≤–æ–Ω–∞ –ø–æ–∫—Ä–∞—â—É—î –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ë—É—Ñ–µ—Ä–∏–∑–∞—Ü—ñ—è** ‚Äî —Ü–µ –ø—Ä–æ—Ü–µ—Å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ–º—ñ–∂–Ω–æ—ó –æ–±–ª–∞—Å—Ç—ñ –ø–∞–º'—è—Ç—ñ (–±—É—Ñ–µ—Ä–∞) –¥–ª—è —Ç–∏–º—á–∞—Å–æ–≤–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø–µ—Ä–µ–¥ —ó—Ö —á–∏—Ç–∞–Ω–Ω—è–º –∞–±–æ –∑–∞–ø–∏—Å–æ–º.
>
> **–Ø–∫ —Ü–µ –ø–æ–∫—Ä–∞—â—É—î –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:**
> –û–ø–µ—Ä–∞—Ü—ñ—ó –≤–≤–æ–¥—É-–≤–∏–≤–æ–¥—É (–∑–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ –∂–æ—Ä—Å—Ç–∫–æ–≥–æ –¥–∏—Å–∫–∞) —î –¥—É–∂–µ "–¥–æ—Ä–æ–≥–∏–º–∏" —ñ –ø–æ–≤—ñ–ª—å–Ω–∏–º–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏ –≤ –ø–∞–º'—è—Ç—ñ.
>
> * **–ë–µ–∑ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü—ñ—ó:** –ö–æ–∂–µ–Ω –≤–∏–∫–ª–∏–∫ `read()` –∞–±–æ `write()` –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –æ–∫—Ä–µ–º–æ–≥–æ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è/–∑–∞–ø–∏—Å—É –æ–¥–Ω–æ–≥–æ –±–∞–π—Ç–∞ –∞–±–æ —Å–∏–º–≤–æ–ª–∞. –¶–µ –≤–∫—Ä–∞–π –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.
> * **–ó –±—É—Ñ–µ—Ä–∏–∑–∞—Ü—ñ—î—é:**
>   * –ü—Ä–∏ —á–∏—Ç–∞–Ω–Ω—ñ (`BufferedReader`) –∑–∞ –æ–¥–∏–Ω —Å–∏—Å—Ç–µ–º–Ω–∏–π –≤–∏–∫–ª–∏–∫ –∑ –¥–∏—Å–∫–∞ —á–∏—Ç–∞—î—Ç—å—Å—è –≤–µ–ª–∏–∫–∏–π —à–º–∞—Ç–æ–∫ –¥–∞–Ω–∏—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 8KB) —ñ —Ä–æ–∑–º—ñ—â—É—î—Ç—å—Å—è –≤ –±—É—Ñ–µ—Ä—ñ. –ü–æ–¥–∞–ª—å—à—ñ –≤–∏–∫–ª–∏–∫–∏ `read()` –±–µ—Ä—É—Ç—å –¥–∞–Ω—ñ –≤–∂–µ –∑ —Ü—å–æ–≥–æ —à–≤–∏–¥–∫–æ–≥–æ –±—É—Ñ–µ—Ä–∞ –≤ –ø–∞–º'—è—Ç—ñ, –¥–æ–∫–∏ –≤—ñ–Ω –Ω–µ —Å–ø–æ—Ä–æ–∂–Ω—ñ—î.
>   * –ü—Ä–∏ –∑–∞–ø–∏—Å—ñ (`BufferedWriter`) –¥–∞–Ω—ñ –Ω–∞–∫–æ–ø–∏—á—É—é—Ç—å—Å—è –≤ –±—É—Ñ–µ—Ä—ñ. –ó–∞–ø–∏—Å –Ω–∞ –¥–∏—Å–∫ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –±—É—Ñ–µ—Ä –∑–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è (–∞–±–æ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `flush()`/`close()`), —â–æ –¥–æ–∑–≤–æ–ª—è—î –æ–±'—î–¥–Ω–∞—Ç–∏ –±–∞–≥–∞—Ç–æ –¥—Ä—ñ–±–Ω–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –≤ –æ–¥–Ω—É –≤–µ–ª–∏–∫—É —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é.
>
> –¶–µ –∑–Ω–∞—á–Ω–æ –∑–º–µ–Ω—à—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–æ—Ä–æ–≥–∏—Ö –∑–≤–µ—Ä–Ω–µ–Ω—å –¥–æ –¥–∏—Å–∫–∞ —Ç–∞ –ø—Ä–∏—Å–∫–æ—Ä—é—î —Ä–æ–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–∏.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–¶–µ —è–∫ —Å—Ö–æ–¥–∏—Ç–∏ –¥–æ —Å–∫–ª–∞–¥—É. –ë–µ–∑ –±—É—Ñ–µ—Ä–∞ –≤–∏ –±—ñ–≥–∞—î—Ç–µ –Ω–∞ —Å–∫–ª–∞–¥ –∑–∞ –∫–æ–∂–Ω–∏–º —Ü–≤—è—Ö–æ–º –æ–∫—Ä–µ–º–æ. –ó –±—É—Ñ–µ—Ä–æ–º ‚Äî –≤–∏ –±–µ—Ä–µ—Ç–µ –≤–µ–ª–∏–∫—É –∫–æ—Ä–æ–±–∫—É —Ü–≤—è—Ö—ñ–≤ (–±—É—Ñ–µ—Ä), –ø—Ä–∏–Ω–æ—Å–∏—Ç–µ —ó—ó –Ω–∞ —Ä–æ–±–æ—á–µ –º—ñ—Å—Ü–µ —ñ –ø–æ—Ç—ñ–º —à–≤–∏–¥–∫–æ –±–µ—Ä–µ—Ç–µ —Ü–≤—è—Ö–∏ –≤–∂–µ –∑ –∫–æ—Ä–æ–±–∫–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó I/O –æ–ø–µ—Ä–∞—Ü—ñ–π —Ç–∞ —É—Å–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ä–æ–ª—ñ —Ç–∞ –ø–µ—Ä–µ–≤–∞–≥ –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞ —Ä–æ–±–æ—Ç—É, –∞–ª–µ —Ñ–∞–π–ª, –≤ —è–∫–∏–π –≤–æ–Ω–∞ –º–∞–ª–∞ –ø–∏—Å–∞—Ç–∏, –≤–∏—è–≤–∏–≤—Å—è –ø–æ—Ä–æ–∂–Ω—ñ–º. –Ø–∫—ñ –Ω–∞–π—ñ–º–æ–≤—ñ—Ä–Ω—ñ—à—ñ –ø—Ä–∏—á–∏–Ω–∏? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –∫–ª–∞—Å–∏—á–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞, —è–∫–∞ –º–∞—î –¥–≤—ñ –Ω–∞–π—ñ–º–æ–≤—ñ—Ä–Ω—ñ—à—ñ –ø—Ä–∏—á–∏–Ω–∏, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü—ñ—î—é:
>
> 1. **–ù–µ –±—É–≤ –≤–∏–∫–ª–∏–∫–∞–Ω–∏–π –º–µ—Ç–æ–¥ `close()` –Ω–∞ –ø–æ—Ç–æ—Ü—ñ –≤–∏–≤–æ–¥—É.** –î–∞–Ω—ñ, —è–∫—ñ –ø—Ä–æ–≥—Ä–∞–º–∞ "–∑–∞–ø–∏—Å–∞–ª–∞", –∑–∞–ª–∏—à–∏–ª–∏—Å—è —É –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–º—É –±—É—Ñ–µ—Ä—ñ –≤ –ø–∞–º'—è—Ç—ñ (`BufferedWriter`, `OutputStreamWriter` —Ç–æ—â–æ). –ö–æ–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—è, JVM –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏–ø–∏–Ω–∏–ª–∞ —Å–≤–æ—é —Ä–æ–±–æ—Ç—É, –Ω–µ –¥–∞–≤—à–∏ –ø–æ—Ç–æ–∫—É –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ "—Å–∫–∏–Ω—É—Ç–∏" (flush) –≤–º—ñ—Å—Ç –±—É—Ñ–µ—Ä–∞ –Ω–∞ –¥–∏—Å–∫.
>
> 2. **–ü—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—è –∞–≤–∞—Ä—ñ–π–Ω–æ –¥–æ –≤–∏–∫–ª–∏–∫—É `close()` –∞–±–æ `flush()`.** –Ø–∫—â–æ –≤ –∫–æ–¥—ñ –≤–∏–Ω–∏–∫ –≤–∏–Ω—è—Ç–æ–∫, —è–∫–∏–π –Ω–µ –±—É–≤ –æ–±—Ä–æ–±–ª–µ–Ω–∏–π, —ñ –±–ª–æ–∫ `finally` –∞–±–æ `try-with-resources` –±—É–≤ –≤—ñ–¥—Å—É—Ç–Ω—ñ–π –∞–±–æ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π, –ø–æ—Ç—ñ–∫ —Ç–∞–∫–æ–∂ –Ω–µ –±—É–≤ –∑–∞–∫—Ä–∏—Ç–∏–π –Ω–∞–ª–µ–∂–Ω–∏–º —á–∏–Ω–æ–º, —ñ –¥–∞–Ω—ñ –∑ –±—É—Ñ–µ—Ä–∞ –≤—Ç—Ä–∞—Ç–∏–ª–∏—Å—è.
>
> **–†—ñ—à–µ–Ω–Ω—è:** –ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é `try-with-resources` –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ø–æ—Ç–æ–∫–∞–º–∏. –í–æ–Ω–∞ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –º–µ—Ç–æ–¥ `close()` –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–∏–Ω–∏–∫–Ω–µ –≤–∏–Ω—è—Ç–æ–∫.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –¥—ñ–∞–≥–Ω–æ—Å—Ç—É–≤–∞—Ç–∏ –ø–æ—à–∏—Ä–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ I/O, —Ç–∞ –∑–Ω–∞–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–æ—ó –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–∫—Ä–∏—Ç—Ç—è —Ä–µ—Å—É—Ä—Å—ñ–≤.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä—É—á–Ω—É –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `flush()`, —è–∫—â–æ `try-with-resources` –≤—Å–µ –æ–¥–Ω–æ –≤–∏–∫–ª–∏—á–µ `close()`, —è–∫–∏–π, —É —Å–≤–æ—é —á–µ—Ä–≥—É, –≤–∏–∫–ª–∏—á–µ `flush()`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –†—É—á–Ω–∏–π –≤–∏–∫–ª–∏–∫ `flush()` –ø–æ—Ç—Ä—ñ–±–µ–Ω —É —Å–∏—Ç—É–∞—Ü—ñ—è—Ö, –∫–æ–ª–∏ –≤–∞–º –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏, —â–æ –¥–∞–Ω—ñ **–±—É–¥—É—Ç—å –∑–∞–ø–∏—Å–∞–Ω—ñ –Ω–∞ –¥–∏—Å–∫ (–∞–±–æ –ø–µ—Ä–µ–¥–∞–Ω—ñ –ø–æ –º–µ—Ä–µ–∂—ñ) –≤ –ø–µ–≤–Ω–∏–π –º–æ–º–µ–Ω—Ç —á–∞—Å—É**, —â–µ **–¥–æ –∑–∞–∫—Ä–∏—Ç—Ç—è –ø–æ—Ç–æ–∫—É**.
>
> **–¢–∏–ø–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:**
>
> 1. **–¢—Ä–∏–≤–∞–ª–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è –∑–∞–ø–∏—Å—É:** –í–∏ –ø–∏—à–µ—Ç–µ –≤–µ–ª–∏–∫–∏–π –ª–æ–≥-—Ñ–∞–π–ª –∞–±–æ –∑–≤—ñ—Ç, —ñ —Ö–æ—á–µ—Ç–µ –±–∞—á–∏—Ç–∏ –ø—Ä–æ–º—ñ–∂–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —É —Ñ–∞–π–ª—ñ, –Ω–µ —á–µ–∫–∞—é—á–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –≤—Å—ñ—î—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó. –í–∏–∫–ª–∏–∫ `flush()` –ø—ñ—Å–ª—è –∑–∞–ø–∏—Å—É –∫–æ–∂–Ω–æ–≥–æ –≤–∞–∂–ª–∏–≤–æ–≥–æ –±–ª–æ–∫—É –¥–∞–Ω–∏—Ö —Ä–æ–±–∏—Ç—å —ó—Ö –≤–∏–¥–∏–º–∏–º–∏.
>
> 2. **–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –ø—Ä–æ—Ç–æ–∫–æ–ª–∏:** –ü—Ä–∏ –æ–±–º—ñ–Ω—ñ –¥–∞–Ω–∏–º–∏ –ø–æ –º–µ—Ä–µ–∂—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É —á–∞—Ç—ñ) –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–µ–≥–∞–π–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Å–ø—ñ–≤—Ä–æ–∑–º–æ–≤–Ω–∏–∫—É –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –π–æ–≥–æ –≤–≤—ñ–≤, –∞ –Ω–µ —á–µ–∫–∞—Ç–∏ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –±—É—Ñ–µ—Ä–∞. `flush()` –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –¥–∞–Ω—ñ –Ω–µ–≥–∞–π–Ω–æ.
>
> 3. **–í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∑–±–æ—ó–≤:** –£ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö `flush()` –º–æ–∂–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏—Å—è –ø—ñ—Å–ª—è –∑–∞–ø–∏—Å—É –∫–æ–∂–Ω–æ—ó —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó, —â–æ–± –º—ñ–Ω—ñ–º—ñ–∑—É–≤–∞—Ç–∏ –≤—Ç—Ä–∞—Ç—É –¥–∞–Ω–∏—Ö —É —Ä–∞–∑—ñ —Ä–∞–ø—Ç–æ–≤–æ–≥–æ –∑–±–æ—é –ø—Ä–æ–≥—Ä–∞–º–∏.
>
> –Ø–∫—â–æ —Ç–∞–∫–∏—Ö –≤–∏–º–æ–≥ –Ω–µ–º–∞—î —ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø–∏—Å–∞—Ç–∏ —Ñ–∞–π–ª –≤—ñ–¥ –ø–æ—á–∞—Ç–∫—É –¥–æ –∫—ñ–Ω—Ü—è, —Ä—É—á–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É `flush()` –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ ‚Äî `close()` –∑—Ä–æ–±–∏—Ç—å —É—Å–µ –≤ –∫—ñ–Ω—Ü—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è `flush()` —Ç–∞ –≤–º—ñ–Ω–Ω—è –≤–∏–∑–Ω–∞—á–∞—Ç–∏ —Å—Ü–µ–Ω–∞—Ä—ñ—ó, –¥–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–π –ø—Ä–æ–º—ñ–∂–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∑–∞–ø–∏—Å–æ–º –¥–∞–Ω–∏—Ö.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–π —Å—É—á–∞—Å–Ω–∏–π —Ç–∞ –ª–∞–∫–æ–Ω—ñ—á–Ω–∏–π —Å–ø–æ—Å—ñ–± –¥–æ–∑–∞–ø–∏—Å–∞—Ç–∏ —Ä—è–¥–æ–∫ —É —Ñ–∞–π–ª, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `java.nio` API? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–π–±—ñ–ª—å—à —Å—É—á–∞—Å–Ω–∏–º —ñ –ª–∞–∫–æ–Ω—ñ—á–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º —î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º–µ—Ç–æ–¥—É `Files.writeString()` (–∑ Java 11) –∞–±–æ `Files.write()` (–∑ Java 7), –ø–µ—Ä–µ–¥–∞—é—á–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ `StandardOpenOption`.
>
> * **`StandardOpenOption.APPEND`**: –í–∫–∞–∑—É—î, —â–æ –¥–∞–Ω—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–∑–∞–ø–∏—Å–∞—Ç–∏ –≤ –∫—ñ–Ω–µ—Ü—å —Ñ–∞–π–ª—É.
> * **`StandardOpenOption.CREATE`**: –í–∫–∞–∑—É—î, —â–æ —Ñ–∞–π–ª –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏, —è–∫—â–æ –≤—ñ–Ω –Ω–µ —ñ—Å–Ω—É—î.
>
> –¶—ñ –æ–ø—Ü—ñ—ó –º–æ–∂–Ω–∞ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ (–¥–ª—è Java 11+):**

```java
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.StandardOpenOption;

public class NioAppendExample {
    public static void main(String[] args) {
        Path path = Path.of("app.log");
        String logEntry = "User logged in at " + java.time.LocalDateTime.now() + "\n";
        try {
            Files.writeString(path, logEntry, StandardOpenOption.CREATE, StandardOpenOption.APPEND);
            System.out.println("–ó–∞–ø–∏—Å —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ.");
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

–¶–µ–π –ø—ñ–¥—Ö—ñ–¥ —î –±—ñ–ª—å—à –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∏–º —ñ —á–∏—Ç–∞–±–µ–ª—å–Ω–∏–º –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑—ñ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º –æ–±'—î–∫—Ç—ñ–≤ `FileWriter` –∑ –ø—Ä–∞–ø–æ—Ä—Ü–µ–º `true`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–æ–≥–æ NIO.2 API —Ç–∞ –≤–º—ñ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø–æ—à–∏—Ä–µ–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π –±—ñ–ª—å—à –µ–ª–µ–≥–∞–Ω—Ç–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–í–∏ —á–∏—Ç–∞—î—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ñ–∞–π–ª –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `FileInputStream` —ñ –ø–æ—Ç—ñ–º –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç–µ –±–∞–π—Ç–∏ –≤ —Ä—è–¥–æ–∫ —á–µ—Ä–µ–∑ `new String(bytes)`. –Ø–∫—ñ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç—É—Ç –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –¥—É–∂–µ —Ä–∏–∑–∏–∫–æ–≤–∞–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –∑ –¥–≤–æ–º–∞ –æ—Å–Ω–æ–≤–Ω–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏:
>
> 1. **–ü—Ä–æ–±–ª–µ–º–∞ –∫–æ–¥—É–≤–∞–Ω–Ω—è:** –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `new String(byte[] bytes)` –±–µ–∑ –≤–∫–∞–∑–∞–Ω–Ω—è –∫–æ–¥—É–≤–∞–Ω–Ω—è **–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–æ–¥—É–≤–∞–Ω–Ω—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º**. –¶–µ —Ç–∞ —Å–∞–º–∞ –ø—Ä–æ–±–ª–µ–º–∞, —â–æ —ñ –∑ `FileWriter`. –Ø–∫—â–æ –∫–æ–¥—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ, –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ "–∫—Ä–∞–∫–æ–∑—è–±—Ä–∏".
>
> 2. **–ü—Ä–æ–±–ª–µ–º–∞ —Ä–æ–∑—Ä–∏–≤—É –±–∞–≥–∞—Ç–æ–±–∞–π—Ç–æ–≤–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤:** –ö–æ–ª–∏ –≤–∏ —á–∏—Ç–∞—î—Ç–µ –¥–∞–Ω—ñ –∑ `FileInputStream` —É –±—É—Ñ–µ—Ä (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–æ 1024 –±–∞–π—Ç–∏), –º–µ–∂–∞ –±—É—Ñ–µ—Ä–∞ –º–æ–∂–µ –ø—Ä–æ–π—Ç–∏ **–ø–æ—Å–µ—Ä–µ–¥–∏–Ω—ñ –±–∞–≥–∞—Ç–æ–±–∞–π—Ç–æ–≤–æ–≥–æ —Å–∏–º–≤–æ–ª—É** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–∏—Ä–∏–ª–∏—á–Ω–∞ –ª—ñ—Ç–µ—Ä–∞ –≤ UTF-8 –º–æ–∂–µ –∑–∞–π–º–∞—Ç–∏ 2 –±–∞–π—Ç–∏). –ö–æ–ª–∏ –≤–∏ —Å–ø—Ä–æ–±—É—î—Ç–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ —Ü–µ–π –Ω–µ–ø–æ–≤–Ω–∏–π –±—É—Ñ–µ—Ä —É —Ä—è–¥–æ–∫, –æ—Å—Ç–∞–Ω–Ω—ñ–π (–∞–±–æ –ø–µ—Ä—à–∏–π) —Å–∏–º–≤–æ–ª –±—É–¥–µ –ø–æ—à–∫–æ–¥–∂–µ–Ω–æ. –ü—Ä–∏ —á–∏—Ç–∞–Ω–Ω—ñ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å—Å—è.
>
> **–ü—Ä–∞–≤–∏–ª—å–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è:** –ù—ñ–∫–æ–ª–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `InputStream` –Ω–∞–ø—Ä—è–º—É –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É. –ó–∞–≤–∂–¥–∏ –æ–±–≥–æ—Ä—Ç–∞–π—Ç–µ –π–æ–≥–æ –≤ `InputStreamReader`, –≤–∫–∞–∑—É—é—á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–µ –∫–æ–¥—É–≤–∞–Ω–Ω—è. `InputStreamReader` –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª—è—î —Å–∏–º–≤–æ–ª–∏, —â–æ –æ–ø–∏–Ω–∏–ª–∏—Å—è –Ω–∞ –º–µ–∂—ñ –±—É—Ñ–µ—Ä—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –±–∞–π—Ç–æ–≤–∏–º–∏ —Ç–∞ —Å–∏–º–≤–æ–ª—å–Ω–∏–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ —Ç–∞ —É—Å–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–µ–±–µ–∑–ø–µ–∫–∏ –Ω–µ–≥—Ä–∞–º–æ—Ç–Ω–æ—ó –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó –º—ñ–∂ –Ω–∏–º–∏.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ —Ä–æ–±–∏—Ç—å `close()` —É `try-with-resources`, —ñ —á–∏ –º–æ–∂–µ –≤–∏–Ω—è—Ç–æ–∫, –∫–∏–Ω—É—Ç–∏–π —É –º–µ—Ç–æ–¥—ñ `close()`, "–∑–∞—Ç–µ—Ä—Ç–∏" –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –≤–∏–Ω—è—Ç–æ–∫ –∑ –±–ª–æ–∫—É `try`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `try-with-resources` –∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è –≤ –±–∞–π—Ç–∫–æ–¥, —è–∫–∏–π –≥–∞—Ä–∞–Ω—Ç—É—î –≤–∏–∫–ª–∏–∫ `close()` –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É –≤ –ø–æ—Ä—è–¥–∫—É, –∑–≤–æ—Ä–æ—Ç–Ω–æ–º—É –¥–æ —ó—Ö–Ω—å–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è.
>
> **–©–æ–¥–æ –≤–∏–Ω—è—Ç–∫—ñ–≤, —Ü–µ –∫–ª—é—á–æ–≤–∞ –ø–µ—Ä–µ–≤–∞–≥–∞ `try-with-resources` –Ω–∞–¥ —Ä—É—á–Ω–∏–º `try-finally`:**
>
> –Ø–∫—â–æ –≤–∏–Ω—è—Ç–æ–∫ `E1` –≤–∏–Ω–∏–∫–∞—î –≤ –±–ª–æ—Ü—ñ `try`, –∞ –ø–æ—Ç—ñ–º –ø—Ä–∏ –∑–∞–∫—Ä–∏—Ç—Ç—ñ —Ä–µ—Å—É—Ä—Å—É –≤ –±–ª–æ—Ü—ñ `finally` –≤–∏–Ω–∏–∫–∞—î —ñ–Ω—à–∏–π –≤–∏–Ω—è—Ç–æ–∫ `E2` (—É –º–µ—Ç–æ–¥—ñ `close()`), —Ç–æ:
>
> * **–£ —Å—Ç–∞—Ä–æ–º—É `try-finally`:** –≤–∏–Ω—è—Ç–æ–∫ `E2` "–∑–∞—Ç–∏—Ä–∞—î" `E1`, —ñ –Ω–∞–∑–æ–≤–Ω—ñ "–≤–∏–ª—ñ—Ç–∞—î" —Ç—ñ–ª—å–∫–∏ `E2`. –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø–æ—á–∞—Ç–∫–æ–≤—É –ø—Ä–æ–±–ª–µ–º—É `E1` –≤—Ç—Ä–∞—á–∞—î—Ç—å—Å—è.
> * **–£ `try-with-resources`:** `E1` –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è **–æ—Å–Ω–æ–≤–Ω–∏–º –≤–∏–Ω—è—Ç–∫–æ–º**, —è–∫–∏–π –±—É–¥–µ –∫–∏–Ω—É—Ç–æ –¥–∞–ª—ñ. –ê –≤–∏–Ω—è—Ç–æ–∫ `E2` –¥–æ–¥–∞—î—Ç—å—Å—è –¥–æ `E1` —è–∫ **–ø—Ä–∏–≥–Ω—ñ—á–µ–Ω–∏–π (suppressed) –≤–∏–Ω—è—Ç–æ–∫**.
>
> –û—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–∏–≥–Ω—ñ—á–µ–Ω—ñ –≤–∏–Ω—è—Ç–∫–∏ –º–æ–∂–Ω–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–µ—Ç–æ–¥—É `throwable.getSuppressed()`. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –Ω–µ –≤—Ç—Ä–∞—á–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –æ–±–∏–¥–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏, —â–æ —î –≤–µ–ª–∏—á–µ–∑–Ω–∏–º –ø–ª—é—Å–æ–º –ø—Ä–∏ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—ñ.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**</h4>

–¶–µ –æ–¥–Ω–∞ –∑ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏—Ö, –∞–ª–µ –Ω–∞–π–º–µ–Ω—à –≤—ñ–¥–æ–º–∏—Ö –ø–µ—Ä–µ–≤–∞–≥ `try-with-resources`. –í–æ–Ω–∞ —Ä–æ–±–∏—Ç—å –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫—É –ø–æ–º–∏–ª–æ–∫ –∑–Ω–∞—á–Ω–æ –ø—Ä–æ—Å—Ç—ñ—à–æ—é.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ `try-with-resources`, –º–µ—Ö–∞–Ω—ñ–∑–º—É –ø—Ä–∏–≥–Ω—ñ—á–µ–Ω–∏—Ö –≤–∏–Ω—è—Ç–∫—ñ–≤ (suppressed exceptions) —Ç–∞ –π–æ–≥–æ –ø–µ—Ä–µ–≤–∞–≥ –Ω–∞–¥ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–º `try-finally`.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, –≤–∏ –ø–∏—à–µ—Ç–µ —É —Ñ–∞–π–ª, —â–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ –ø–æ–≤—ñ–ª—å–Ω–æ–º—É –º–µ—Ä–µ–∂–µ–≤–æ–º—É –¥–∏—Å–∫—É (NAS). –í–∏–∫–ª–∏–∫ `flush()` –∑–∞–≤–µ—Ä—à–∏–≤—Å—è —É—Å–ø—ñ—à–Ω–æ. –ß–∏ –æ–∑–Ω–∞—á–∞—î —Ü–µ, —â–æ –¥–∞–Ω—ñ —Ñ—ñ–∑–∏—á–Ω–æ –∑–∞–ø–∏—Å–∞–Ω—ñ –Ω–∞ –¥–∏—Å–∫? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù—ñ, –Ω–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ. –£—Å–ø—ñ—à–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è `flush()` –≤ Java-–ø—Ä–æ–≥—Ä–∞–º—ñ –æ–∑–Ω–∞—á–∞—î –ª–∏—à–µ —Ç–µ, —â–æ –¥–∞–Ω—ñ –±—É–ª–∏ **–ø–µ—Ä–µ–¥–∞–Ω—ñ –∑ –±—É—Ñ–µ—Ä–∞ JVM –≤ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω—É —Å–∏—Å—Ç–µ–º—É**.
>
> –î–∞–ª—ñ –≤ –≥—Ä—É –≤—Å—Ç—É–ø–∞—é—Ç—å –∫—ñ–ª—å–∫–∞ —Ä—ñ–≤–Ω—ñ–≤ –∫–µ—à—É–≤–∞–Ω–Ω—è:
>
> 1. **–ö–µ—à —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏ –û–°:** –û–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ —Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ —É –≤–ª–∞—Å–Ω–æ–º—É –¥–∏—Å–∫–æ–≤–æ–º—É –∫–µ—à—ñ –≤ –ø–∞–º'—è—Ç—ñ —ñ –∑–∞–ø–∏—Å–∞—Ç–∏ —ó—Ö –Ω–∞ —Ñ—ñ–∑–∏—á–Ω–∏–π –¥–∏—Å–∫ –ø—ñ–∑–Ω—ñ—à–µ, –∫–æ–ª–∏ —ó–π –±—É–¥–µ –∑—Ä—É—á–Ω–æ.
> 2. **–ö–µ—à –∞–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞:** –°–∞–º –∂–æ—Ä—Å—Ç–∫–∏–π –¥–∏—Å–∫ –∞–±–æ RAID-–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –º–æ–∂–µ –º–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏–π –∫–µ—à.
> 3. **–ú–µ—Ä–µ–∂–µ–≤–∏–π –∫–µ—à:** –£ –≤–∏–ø–∞–¥–∫—É –∑ –º–µ—Ä–µ–∂–µ–≤–∏–º –¥–∏—Å–∫–æ–º, –¥–∞–Ω—ñ –º–æ–∂—É—Ç—å –∫–µ—à—É–≤–∞—Ç–∏—Å—è –Ω–∞ –ø—Ä–æ–º—ñ–∂–Ω–∏—Ö –≤—É–∑–ª–∞—Ö –∞–±–æ –Ω–∞ —Å–∞–º–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ NAS.
>
> –©–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–π–≤–∏—â–∏–π —Ä—ñ–≤–µ–Ω—å –≥–∞—Ä–∞–Ω—Ç—ñ—ó –∑–∞–ø–∏—Å—É –Ω–∞ —Ñ—ñ–∑–∏—á–Ω–∏–π –Ω–æ—Å—ñ–π, –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `FileChannel` —Ç–∞ –π–æ–≥–æ –º–µ—Ç–æ–¥ `force(boolean metaData)`. –í–∏–∫–ª–∏–∫ `channel.force(true)` —î —Å–ø—Ä–æ–±–æ—é –∑–º—É—Å–∏—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω—É —Å–∏—Å—Ç–µ–º—É —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ –Ω–µ —Ç—ñ–ª—å–∫–∏ –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—É, –∞ –π –π–æ–≥–æ –º–µ—Ç–∞–¥–∞–Ω—ñ (—Ä–æ–∑–º—ñ—Ä, —á–∞—Å –∑–º—ñ–Ω–∏) –∑ —Ñ—ñ–∑–∏—á–Ω–∏–º –¥–∏—Å–∫–æ–º. –ê–ª–µ –Ω–∞–≤—ñ—Ç—å —Ü–µ –Ω–µ –¥–∞—î 100% –≥–∞—Ä–∞–Ω—Ç—ñ—ó –Ω–∞ –≤—Å—ñ—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è—Ö.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ I/O –≤ —Å—É—á–∞—Å–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —Ç–∞ —É—Å–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ Java API —î –ª–∏—à–µ –æ–¥–Ω–∏–º –∑ —Ä—ñ–≤–Ω—ñ–≤ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó. –ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –º–∏—Å–ª–∏—Ç–∏ –Ω–µ —Ç—ñ–ª—å–∫–∏ –≤ —Ä–∞–º–∫–∞—Ö JVM, –∞ –π –Ω–∞ —Ä—ñ–≤–Ω—ñ –û–°.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –∫–ª–∞—Å `java.io.File` –Ω–µ —î —Ö–æ—Ä–æ—à–∏–º –≤–∏–±–æ—Ä–æ–º –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –º–µ—Ö–∞–Ω—ñ–∑–º—É –±–ª–æ–∫—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ (file locking) —ñ —è–∫–∞ —î –∫—Ä–∞—â–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `java.io.File` –≤–∑–∞–≥–∞–ª—ñ –Ω–µ –Ω–∞–¥–∞—î –∂–æ–¥–Ω–∏—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ –¥–ª—è –±–ª–æ–∫—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤. –°–ø—Ä–æ–±–∏ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `File`, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ñ–∞–π–ª—É-–º–∞—Ä–∫–µ—Ä–∞ (`.lock`), –º–∞—é—Ç—å —Å—É—Ç—Ç—î–≤—ñ –Ω–µ–¥–æ–ª—ñ–∫–∏:
>
> * **–ù–µ–∞—Ç–æ–º–∞—Ä–Ω—ñ—Å—Ç—å:** –û–ø–µ—Ä–∞—Ü—ñ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É —Ç–∞ –π–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è (`exists()` —ñ `createNewFile()`) –Ω–µ —î –∞—Ç–æ–º–∞—Ä–Ω–∏–º–∏. –ú—ñ–∂ —Ü–∏–º–∏ –¥–≤–æ–º–∞ –≤–∏–∫–ª–∏–∫–∞–º–∏ —ñ–Ω—à–∏–π –ø—Ä–æ—Ü–µ—Å –º–æ–∂–µ –≤—Å—Ç–∏–≥–Ω—É—Ç–∏ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–æ–π —Å–∞–º–∏–π —Ñ–∞–π–ª, —â–æ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ —Å—Ç–∞–Ω—É –≥–æ–Ω–∏—Ç–≤–∏ (race condition).
> * **–ü—Ä–æ–±–ª–µ–º–∞ "–º–µ—Ä—Ç–≤–∏—Ö" –±–ª–æ–∫—É–≤–∞–Ω—å:** –Ø–∫—â–æ –ø—Ä–æ—Ü–µ—Å, —â–æ —Å—Ç–≤–æ—Ä–∏–≤ `.lock` —Ñ–∞–π–ª, –∞–≤–∞—Ä—ñ–π–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è, —Ñ–∞–π–ª-–º–∞—Ä–∫–µ—Ä –∑–∞–ª–∏—à–∏—Ç—å—Å—è, —ñ —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∞ –Ω–∞–∑–∞–≤–∂–¥–∏, –≤–∏–º–∞–≥–∞—é—á–∏ —Ä—É—á–Ω–æ–≥–æ –≤—Ç—Ä—É—á–∞–Ω–Ω—è.
>
> **–ö—Ä–∞—â–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ‚Äî `java.nio.channels.FileLock`:**
>
> –¶–µ –Ω–∞—Ç–∏–≤–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º, —â–æ –Ω–∞–¥–∞—î—Ç—å—Å—è –ø–∞–∫–µ—Ç–æ–º `java.nio`. –í—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –Ω–∞ —Ä—ñ–≤–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏.
>
> * **–û—Ç—Ä–∏–º–∞–Ω–Ω—è –±–ª–æ–∫—É–≤–∞–Ω–Ω—è:** `FileLock lock = fileChannel.lock()` –∞–±–æ `fileChannel.tryLock()`.
> * **–ê—Ç–æ–º–∞—Ä–Ω—ñ—Å—Ç—å:** –ù–∞–¥–∞—î—Ç—å—Å—è –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—é —Å–∏—Å—Ç–µ–º–æ—é.
> * **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è:** –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–Ω—ñ–º–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ –∫–∞–Ω–∞–ª –∑–∞–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –∞–±–æ –ø—Ä–æ—Ü–µ—Å JVM –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è, —â–æ –≤–∏—Ä—ñ—à—É—î –ø—Ä–æ–±–ª–µ–º—É "–º–µ—Ä—Ç–≤–∏—Ö" –±–ª–æ–∫—É–≤–∞–Ω—å.
>
> `FileLock` ‚Äî —Ü–µ —î–¥–∏–Ω–∏–π –Ω–∞–¥—ñ–π–Ω–∏–π, –≤–±—É–¥–æ–≤–∞–Ω–∏–π —É Java —Å–ø–æ—Å—ñ–± —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ–≥–æ –∞–±–æ —Å–ø—ñ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ —Ñ–∞–π–ª—É –º—ñ–∂ —Ä—ñ–∑–Ω–∏–º–∏ –ø—Ä–æ—Ü–µ—Å–∞–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –ø—Ä–æ—Å—É–Ω—É—Ç–∏—Ö –∞—Å–ø–µ–∫—Ç—ñ–≤ —Ä–æ–±–æ—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏, –∑–æ–∫—Ä–µ–º–∞ –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –≤–∑–∞—î–º–Ω–æ–≥–æ –≤–∏–∫–ª—é—á–µ–Ω–Ω—è. –†–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É —Ç–∞ –≤–º—ñ–Ω–Ω—è –≤–∏–±–∏—Ä–∞—Ç–∏ –Ω–∞–¥—ñ–π–Ω—ñ, —Å–∏—Å—Ç–µ–º–Ω–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è.*
