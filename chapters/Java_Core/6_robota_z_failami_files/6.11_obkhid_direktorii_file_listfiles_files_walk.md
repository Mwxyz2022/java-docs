---
layout: default
title: "–û–±—Ö—ñ–¥ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π: File.listFiles(), Files.walk()"
parent: "–†–æ–±–æ—Ç–∞ –∑ —Ñ–∞–π–ª–∞–º–∏ (Files)"
grand_parent: "Java Core"
nav_order: 11
---

# –û–±—Ö—ñ–¥ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π: File.listFiles(), Files.walk()

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –ú–µ—Ç–æ–¥–∏ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –ø–∞–ø–æ–∫ —É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó. `File.listFiles()` –ø–æ–≤–µ—Ä—Ç–∞—î –µ–ª–µ–º–µ–Ω—Ç–∏ –ª–∏—à–µ –æ–¥–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è. `Files.walk()` (Java NIO) —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏—Ç—å —É—Å—ñ –≤–∫–ª–∞–¥–µ–Ω—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó, –ø–æ–≤–µ—Ä—Ç–∞—é—á–∏ `Stream<Path>`.

* –ø–æ–Ω—è—Ç—Ç—è: `File.listFiles()`, `Files.walk()`, —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –æ–±—Ö—ñ–¥, —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `folder.listFiles()` (–¥–ª—è –æ–¥–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è), `Files.walk(Paths.get("root")).filter(Files::isRegularFile)` (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –æ–±—Ö—ñ–¥ –∑ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é).

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: `File.listFiles()` ‚Äì –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –æ–±—Ö–æ–¥—É, `Files.walk()` ‚Äì –¥–ª—è –ø–æ—Ç—É–∂–Ω–∏—Ö —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π –∑—ñ —Å—Ç—Ä—ñ–º–∞–º–∏.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –†—ñ–∑–Ω–∏—Ü—è, –∫–æ–ª–∏ —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏, —è–∫ —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**  

–í Java –æ–±—Ö—ñ–¥ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π –º–æ–∂–Ω–∞ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥–∏ –∫–ª–∞—Å—ñ–≤ `File` (java.io) —Ç–∞ `Files` (java.nio.file). –í–æ–Ω–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å **–æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª—ñ–≤ —ñ –ø–∞–ø–æ–∫**, —É —Ç–æ–º—É —á–∏—Å–ª—ñ **—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ**, —Ç–æ–±—Ç–æ –≤ —É—Å—ñ—Ö –≤–∫–ª–∞–¥–µ–Ω–∏—Ö –ø–∞–ø–∫–∞—Ö.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**  

–¶–µ —è–∫ ¬´–ø–µ—Ä–µ–ª–æ–ø–∞—Ç–∏—Ç–∏¬ª –≤—Å—ñ —Ñ–∞–π–ª–∏ –≤ –ø–∞–ø—Ü—ñ ‚Äî –º–æ–∂–µ—à –ø–æ–¥–∏–≤–∏—Ç–∏—Å—å, —è–∫—ñ —Ç–∞–º —Ñ–∞–π–ª–∏, —á–∏ –∑–Ω–∞–π—Ç–∏ –ª–∏—à–µ `.txt`, –∞–±–æ –æ–±—ñ–π—Ç–∏ **–≤—Å—ñ –ø—ñ–¥–ø–∞–ø–∫–∏**.

---

## **–û—Å–Ω–æ–≤–Ω—ñ —Å–ø–æ—Å–æ–±–∏ –æ–±—Ö–æ–¥—É**

| –ú–µ—Ç–æ–¥ | –ó –∫–ª–∞—Å—É | –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è | –†–µ–∫—É—Ä—Å—ñ—è |
| ----- | ----- | ----- | ----- |
| **`File.listFiles()`** | **`java.io.File`** | –ü—Ä–æ—Å—Ç–∏–π –æ–±—Ö—ñ–¥ –∫–∞—Ç–∞–ª–æ–≥—É | ‚ùå (–Ω–µ–º–∞ —Ä–µ–∫—É—Ä—Å—ñ—ó) |
| **`Files.walk(Path)`** | **`java.nio.file.Files`** | –ü–æ—Ç—É–∂–Ω–∏–π —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –æ–±—Ö—ñ–¥ | ‚úÖ |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

#### **üî∏ File.listFiles()**

* –ü–æ–≤–µ—Ä—Ç–∞—î –º–∞—Å–∏–≤ `File[]` ‚Äî –≤—Å—ñ **—Ñ–∞–π–ª–∏ —Ç–∞ –ø–∞–ø–∫–∏** –≤ –ø–æ—Ç–æ—á–Ω–æ–º—É –∫–∞—Ç–∞–ª–æ–∑—ñ.

* –ù–µ –∑–∞–≥–ª—è–¥–∞—î –≤ –ø—ñ–¥–∫–∞—Ç–∞–ª–æ–≥–∏ (–Ω–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π).

* –ú–æ–∂–Ω–∞ —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ `FileFilter` –∞–±–æ `FilenameFilter`.

#### **üî∏ Files.walk(Path)**

* –û–±—Ö–æ–¥–∏—Ç—å **–≤—Å—ñ —Ä—ñ–≤–Ω—ñ –≤–∫–ª–∞–¥–µ–Ω–æ—Å—Ç—ñ** (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ).

* –ü–æ–≤–µ—Ä—Ç–∞—î `Stream<Path>` ‚Äî –º–æ–∂–Ω–∞ —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏, –º–∞–ø–∏—Ç–∏, –∑—Ä—É—á–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ –ª—è–º–±–¥–∏.

* –ú–æ–∂–Ω–∞ –æ–±–º–µ–∂–∏—Ç–∏ –≥–ª–∏–±–∏–Ω—É –æ–±—Ö–æ–¥—É.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **üîπ –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ —Ñ–∞–π–ª–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó (–±–µ–∑ —Ä–µ–∫—É—Ä—Å—ñ—ó):**

```java
File folder = new File("documents");
File[] files = folder.listFiles();

for (File file : files) {
    System.out.println(file.getName());
}
```

### **üîπ –û–±—ñ–π—Ç–∏ –≤—Å—ñ —Ñ–∞–π–ª–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ (–≤–∫–ª—é—á–∞—é—á–∏ –ø—ñ–¥–ø–∞–ø–∫–∏):**

```java
Path start = Paths.get("documents");

try (Stream<Path> paths = Files.walk(start)) {
    paths
        .filter(Files::isRegularFile)
        .forEach(System.out::println);
} catch (IOException e) {
    e.printStackTrace();
}
```

### **üîπ –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ `.txt` —Ñ–∞–π–ª–∏:**

```java
Files.walk(Paths.get("data"))
     .filter(p -> p.toString().endsWith(".txt"))
     .forEach(System.out::println);
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | `File.listFiles()` | `Files.walk(Path)` |
| ----- | ----- | ----- |
| –ü—Ä–æ—Å—Ç–æ—Ç–∞ | ‚úÖ –ü—Ä–æ—Å—Ç–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å | ‚ùå –ü–æ—Ç—Ä–µ–±—É—î try-with-resources |
| –†–µ–∫—É—Ä—Å—ñ—è | ‚ùå –ù–µ–º–∞—î | ‚úÖ –Ñ, –æ–±—Ö—ñ–¥ —É—Å—ñ—Ö –≤–∫–ª–∞–¥–µ–Ω—å |
| –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è | –û–±–º–µ–∂–µ–Ω–∞ (—á–µ—Ä–µ–∑ —Ñ—ñ–ª—å—Ç—Ä) | –ü–æ—Ç—É–∂–Ω–∞ (Stream API) |
| –¢–∏–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É | `File[]` | `Stream<Path>` |
| –ì–Ω—É—á–∫—ñ—Å—Ç—å | ‚ùå –û–±–º–µ–∂–µ–Ω–∞ | ‚úÖ –î—É–∂–µ –≥–Ω—É—á–∫–∞ |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

```java
File.listFiles()         -> –ø—Ä–æ—Å—Ç–∏–π —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª—ñ–≤ (1 —Ä—ñ–≤–µ–Ω—å)
Files.walk(Path)         -> —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –≤—Å—å–æ–≥–æ –¥–µ—Ä–µ–≤–∞
filter(...endsWith(".txt")) -> —Ñ—ñ–ª—å—Ç—Ä—É–π –ø–æ—Ç—Ä—ñ–±–Ω–µ
```

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

–î–ª—è **–ø—Ä–æ—Å—Ç–æ–≥–æ –æ–±—Ö–æ–¥—É –ø–∞–ø–∫–∏** –∑—Ä—É—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `File.listFiles()`. –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ **–∑–∞–≥–ª–∏–±–ª—é–≤–∞—Ç–∏—Å—å —É –≤–∫–ª–∞–¥–µ–Ω—ñ –ø–∞–ø–∫–∏, —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏, –æ–±—Ä–æ–±–ª—è—Ç–∏** ‚Äî –∫—Ä–∞—â–µ `Files.walk()` –∑ Java NIO. –¶–µ –¥—É–∂–µ –∑—Ä—É—á–Ω–æ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —Ñ–∞–π–ª–æ–≤–∏—Ö –¥–µ—Ä–µ–≤, —ñ–º–ø–æ—Ä—Ç—É, –ø–æ—à—É–∫—É –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –∞–±–æ –ª–æ–≥—ñ–≤.

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—ñ –æ—Å–Ω–æ–≤–Ω—ñ —Å–ø–æ—Å–æ–±–∏ –æ–±—Ö–æ–¥—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π —ñ—Å–Ω—É—é—Ç—å –≤ Java, —ñ –≤ —á–æ–º—É —ó—Ö–Ω—è –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤–∞ —Ä—ñ–∑–Ω–∏—Ü—è?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í Java —ñ—Å–Ω—É—î –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥–∏ –¥–æ –æ–±—Ö–æ–¥—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π, —â–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—å —Ä—ñ–∑–Ω—ñ –µ–ø–æ—Ö–∏ Java API:
>
> 1. **`File.listFiles()`** (–∑ `java.io`):
>     * –¶–µ —Å—Ç–∞—Ä—ñ—à–∏–π, "–∫–ª–∞—Å–∏—á–Ω–∏–π" –º–µ—Ç–æ–¥.
>     * –í—ñ–Ω –æ–±—Ö–æ–¥–∏—Ç—å **–ª–∏—à–µ –æ–¥–∏–Ω —Ä—ñ–≤–µ–Ω—å** –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó (–Ω–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π).
>     * –ü–æ–≤–µ—Ä—Ç–∞—î –º–∞—Å–∏–≤ `File[]`, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –≤—Å—ñ —Ñ–∞–π–ª–∏ —Ç–∞ –ø—ñ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è.
>
> 2. **`Files.walk(Path start)`** (–∑ `java.nio.file`):
>     * –¶–µ —Å—É—á–∞—Å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π —É Java 8.
>     * –í—ñ–Ω –≤–∏–∫–æ–Ω—É—î **—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –æ–±—Ö—ñ–¥** –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, –ø—Ä–æ—Ö–æ–¥—è—á–∏ –ø–æ –≤—Å—å–æ–º—É –¥–µ—Ä–µ–≤—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π, –ø–æ—á–∏–Ω–∞—é—á–∏ –∑—ñ —Å—Ç–∞—Ä—Ç–æ–≤–æ—ó.
>     * –ü–æ–≤–µ—Ä—Ç–∞—î `Stream<Path>`, —â–æ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤—Å—é –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å Stream API –¥–ª—è –ª—ñ–Ω–∏–≤–æ—ó (lazy) –æ–±—Ä–æ–±–∫–∏, —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ –º–∞–ø—ñ–Ω–≥—É.
>
> **–ü—Ä–∏–Ω—Ü–∏–ø–æ–≤–∞ —Ä—ñ–∑–Ω–∏—Ü—è** –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ `listFiles()` —î –ø—Ä–æ—Å—Ç–∏–º, –Ω–µ—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–º –º–µ—Ç–æ–¥–æ–º, —è–∫–∏–π –æ–¥—Ä–∞–∑—É –ø–æ–≤–µ—Ä—Ç–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É –≤–∏–≥–ª—è–¥—ñ –º–∞—Å–∏–≤—É, —Ç–æ–¥—ñ —è–∫ `Files.walk()` —î –ø–æ—Ç—É–∂–Ω–∏–º, —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º, —â–æ –ø—Ä–∞—Ü—é—î –∑ –ø–æ—Ç–æ–∫–∞–º–∏ –¥–∞–Ω–∏—Ö.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

* `File.listFiles()` ‚Äî —Ü–µ —è–∫ –ø–æ–¥–∏–≤–∏—Ç–∏—Å—è —Å–ø–∏—Å–æ–∫ –º–µ—à–∫–∞–Ω—Ü—ñ–≤ –æ–¥–Ω–æ–≥–æ –±—É–¥–∏–Ω–∫—É.
* `Files.walk()` ‚Äî —Ü–µ —è–∫ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –¥—Ä–æ–Ω–∞, —è–∫–∏–π –æ–±–ª–µ—Ç–∏—Ç—å –∫–æ–∂–µ–Ω –±—É–¥–∏–Ω–æ–∫ —É –≤—Å—å–æ–º—É —Ä–∞–π–æ–Ω—ñ, –Ω–∞–¥—Å–∏–ª–∞—é—á–∏ –≤–∞–º –¥–∞–Ω—ñ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –±–∞–∑–æ–≤–∏—Ö –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç–µ–π –º—ñ–∂ —Å—Ç–∞—Ä–∏–º (`java.io`) —Ç–∞ –Ω–æ–≤–∏–º (`java.nio`) –ø—ñ–¥—Ö–æ–¥–∞–º–∏ –¥–æ –æ–±—Ö–æ–¥—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Å–∞–º–µ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å –º–µ—Ç–æ–¥–∏ `File.listFiles()` —Ç–∞ `Files.walk()`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> * `File.listFiles()` –ø–æ–≤–µ—Ä—Ç–∞—î –º–∞—Å–∏–≤ –æ–±'—î–∫—Ç—ñ–≤ **`File[]`**. –Ø–∫—â–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –ø–æ—Ä–æ–∂–Ω—è, –≤—ñ–Ω –ø–æ–≤–µ—Ä–Ω–µ –ø–æ—Ä–æ–∂–Ω—ñ–π –º–∞—Å–∏–≤. **–í–∞–∂–ª–∏–≤–æ:** —è–∫—â–æ –æ–±'—î–∫—Ç `File` –Ω–µ —î –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—î—é –∞–±–æ —Å—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –≤–≤–æ–¥—É-–≤–∏–≤–æ–¥—É, –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä–Ω–µ **`null`**.
>
> * `Files.walk(Path start)` –ø–æ–≤–µ—Ä—Ç–∞—î **`Stream<Path>`**. –¶–µ –ø–æ—Ç—ñ–∫ (stream), —â–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î —à–ª—è—Ö–∏ –¥–æ —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π. –ü–æ—Ç—ñ–∫ —î –ª—ñ–Ω–∏–≤–∏–º, —Ç–æ–±—Ç–æ –æ–±—Ö—ñ–¥ –¥–µ—Ä–µ–≤–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø–æ –º—ñ—Ä—ñ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –ø–æ—Ç–æ–∫—É. –í–∞–∂–ª–∏–≤–æ, —â–æ —Ü–µ–π –ø–æ—Ç—ñ–∫ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–∫—Ä–∏–≤–∞—Ç–∏, –Ω–∞–π–∫—Ä–∞—â–µ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `try-with-resources`.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–ù–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–∞ `null` —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É `listFiles()` —î –ø–æ—à–∏—Ä–µ–Ω–∏–º –¥–∂–µ—Ä–µ–ª–æ–º –ø–æ–º–∏–ª–æ–∫ `NullPointerException`. –°—É—á–∞—Å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –∑ `Files.walk()`, —è–∫–∏–π –∫–∏–¥–∞—î `IOException`, —î –±—ñ–ª—å—à –ø—Ä–æ–∑–æ—Ä–∏–º —ñ –±–µ–∑–ø–µ—á–Ω–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ –¥–∞–Ω–∏—Ö, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è, —Ç–∞ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç–µ–π –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –º–µ—Ç–æ–¥—ñ–≤ (–∑–æ–∫—Ä–µ–º–∞, –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è `null` —É `listFiles`).*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏ –ø—Ä–∏ –æ–±—Ö–æ–¥—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `File.listFiles()`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ú–µ—Ç–æ–¥ `listFiles()` –º–∞—î –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ –≤–µ—Ä—Å—ñ—ó, —è–∫—ñ –ø—Ä–∏–π–º–∞—é—Ç—å –æ–±'—î–∫—Ç–∏-—Ñ—ñ–ª—å—Ç—Ä–∏:
>
> 1. **`FilenameFilter`**: –î–æ–∑–≤–æ–ª—è—î —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏ –∑–∞ —ó—Ö–Ω—ñ–º —ñ–º'—è–º.
> 2. **`FileFilter`**: –î–æ–∑–≤–æ–ª—è—î —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å–∞–º–æ–≥–æ –æ–±'—î–∫—Ç–∞ `File` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ —Ü–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è, —á–∏ —Ñ–∞–π–ª, —Ä–æ–∑–º—ñ—Ä, –¥–∞—Ç–∞ –∑–º—ñ–Ω–∏ —Ç–æ—â–æ).
>
> –û–±–∏–¥–≤–∞ —î —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–º–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏, —Ç–æ–º—É —ó—Ö –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ª—è–º–±–¥–∞-–≤–∏—Ä–∞–∑—ñ–≤.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

–ó–Ω–∞–π—Ç–∏ –≤—Å—ñ —Ñ–∞–π–ª–∏ –∑ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è–º `.txt` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ª—è–º–±–¥–∞-–≤–∏—Ä–∞–∑—É.

```java
import java.io.File;

public class ListFilesFilterExample {
    public static void main(String[] args) {
        File directory = new File("."); // –ü–æ—Ç–æ—á–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è

        // –§—ñ–ª—å—Ç—Ä—É—î–º–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é FilenameFilter
        File[] txtFiles = directory.listFiles((dir, name) -> name.endsWith(".txt"));

        if (txtFiles != null) {
            for (File file : txtFiles) {
                System.out.println("–ó–Ω–∞–π–¥–µ–Ω–æ .txt —Ñ–∞–π–ª: " + file.getName());
            }
        }
    }
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –∫–ª–∞—Å–∏—á–Ω–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –≤–º—ñ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏, —Ç–∞–∫—ñ —è–∫ `FileFilter` —Ç–∞ `FilenameFilter`.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –≤–∏–∫–æ–Ω–∞—Ç–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –æ–±—Ö—ñ–¥ —ñ –∑–Ω–∞–π—Ç–∏ –≤—Å—ñ —Ñ–∞–π–ª–∏ –∑ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è–º `.java` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Files.walk()`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è —Ü—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –º–µ—Ç–æ–¥ `Files.walk()`, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î `Stream<Path>`. –î–∞–ª—ñ –¥–æ —Ü—å–æ–≥–æ –ø–æ—Ç–æ–∫—É –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –æ–ø–µ—Ä–∞—Ü—ñ—ó —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –∑ Stream API.
>
> –ö—Ä–æ–∫–∏:
>
> 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ `Path` –¥–æ —Å—Ç–∞—Ä—Ç–æ–≤–æ—ó –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó.
> 2. –í–∏–∫–ª–∏–∫–∞—Ç–∏ `Files.walk()` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `try-with-resources` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–∞–∫—Ä–∏—Ç—Ç—è –ø–æ—Ç–æ–∫—É.
> 3. –í—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –ø–æ—Ç—ñ–∫, –∑–∞–ª–∏—à–∞—é—á–∏ –ª–∏—à–µ –∑–≤–∏—á–∞–π–Ω—ñ —Ñ–∞–π–ª–∏ (`Files::isRegularFile`).
> 4. –î–æ–¥–∞—Ç–∏ –¥—Ä—É–≥–∏–π —Ñ—ñ–ª—å—Ç—Ä, —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ñ–∞–π–ª—É (`p.toString().endsWith(".java")`).
> 5. –í–∏–∫–æ–Ω–∞—Ç–∏ —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `forEach`, –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.stream.Stream;

public class WalkExample {
    public static void main(String[] args) {
        Path startDir = Paths.get("."); // –ü–æ—á–∏–Ω–∞—î–º–æ –∑ –ø–æ—Ç–æ—á–Ω–æ—ó –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó

        try (Stream<Path> stream = Files.walk(startDir)) {
            stream.filter(Files::isRegularFile) // –ó–∞–ª–∏—à–∞—î–º–æ –ª–∏—à–µ —Ñ–∞–π–ª–∏
                  .filter(p -> p.toString().endsWith(".java")) // –§—ñ–ª—å—Ç—Ä—É—î–º–æ –∑–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è–º
                  .forEach(System.out::println);
        } catch (IOException e) {
            System.err.println("–ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥ —á–∞—Å –æ–±—Ö–æ–¥—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó: " + e.getMessage());
        }
    }
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–í–æ–ª–æ–¥—ñ–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏–º –ø—ñ–¥—Ö–æ–¥–æ–º –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º `Files.walk()` —Ç–∞ Stream API –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å –æ–±—Ö–æ–¥—É —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `Files.walk()` –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –±–ª–æ–∫—É `try-with-resources`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `Files.walk()` –ø–æ–≤–µ—Ä—Ç–∞—î `java.util.stream.Stream`, —è–∫–∏–π —î —Ä–µ—Å—É—Ä—Å–æ–º, —â–æ –ø–æ—Ç—Ä–µ–±—É—î –∑–∞–∫—Ä–∏—Ç—Ç—è. –ü–æ—Ç—ñ–∫ –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ –≤—ñ–¥–∫—Ä–∏—Ç–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π), —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è —ñ—Ç–µ—Ä–∞—Ü—ñ—ó –ø–æ —Ñ–∞–π–ª–æ–≤–æ–º—É –¥–µ—Ä–µ–≤—É.
>
> –Ø–∫—â–æ –ø–æ—Ç—ñ–∫ –Ω–µ –∑–∞–∫—Ä–∏—Ç–∏, —Ü—ñ —Ä–µ—Å—É—Ä—Å–∏ –º–æ–∂—É—Ç—å –∑–∞–ª–∏—à–∏—Ç–∏—Å—è –≤—ñ–¥–∫—Ä–∏—Ç–∏–º–∏, —â–æ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ **–≤–∏—Ç–æ–∫—É —Ä–µ—Å—É—Ä—Å—ñ–≤ (resource leak)**. –ó —á–∞—Å–æ–º —Ü–µ –º–æ–∂–µ —Å–ø—Ä–∏—á–∏–Ω–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏, —Ç–∞–∫—ñ —è–∫ "Too many open files".
>
> –ë–ª–æ–∫ `try-with-resources` –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –º–µ—Ç–æ–¥ `stream.close()` –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –∑ –ø–æ—Ç–æ–∫–æ–º, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –ø—ñ–¥ —á–∞—Å –æ–±—Ä–æ–±–∫–∏ –≤–∏–Ω–∏–∫–Ω–µ –≤–∏–Ω—è—Ç–æ–∫.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–¶–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∞ –¥–µ—Ç–∞–ª—å, —è–∫—É —á–∞—Å—Ç–æ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—å –Ω–æ–≤–∞—á–∫–∏. –ë—É–¥—å-—è–∫–∏–π –º–µ—Ç–æ–¥, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ç—ñ–∫, —è–∫–∏–π "–æ–±–≥–æ—Ä—Ç–∞—î" —Ä–µ—Å—É—Ä—Å –≤–≤–æ–¥—É-–≤–∏–≤–æ–¥—É (—è–∫ `Files.lines()`, `Files.walk()`), –ø–æ–≤–∏–Ω–µ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—å –∑ `try-with-resources`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ Java, –∑–æ–∫—Ä–µ–º–∞ –≤–∞–∂–ª–∏–≤—ñ—Å—Ç—å –∑–∞–∫—Ä–∏—Ç—Ç—è –ø–æ—Ç–æ–∫—ñ–≤ (`Stream`), –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ I/O –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–π –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä–Ω–µ `null`, —è–∫—â–æ –π–æ–º—É –ø–µ—Ä–µ–¥–∞—Ç–∏ —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É –∑–∞–º—ñ—Å—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó, —ñ —è–∫ —Ü—å–æ–≥–æ —É–Ω–∏–∫–Ω—É—Ç–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ú–µ—Ç–æ–¥ **`File.listFiles()`** –ø–æ–≤–µ—Ä–Ω–µ `null`, —è–∫—â–æ –æ–±'—î–∫—Ç `File`, –Ω–∞ —è–∫–æ–º—É –≤—ñ–Ω –≤–∏–∫–ª–∏–∫–∞–Ω–∏–π:
>
> * –ù–µ —î –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—î—é (—Ç–æ–±—Ç–æ —î —Ñ–∞–π–ª–æ–º).
> * –ù–µ —ñ—Å–Ω—É—î.
> * –í–∏–Ω–∏–∫–∞—î –ø–æ–º–∏–ª–∫–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó.
>
> –©–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ `NullPointerException`, –∑–∞–≤–∂–¥–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç `listFiles()` –Ω–∞ `null` –ø–µ—Ä–µ–¥ —Å–ø—Ä–æ–±–æ—é —ñ—Ç–µ—Ä–∞—Ü—ñ—ó –ø–æ –Ω—å–æ–º—É.
>
> ```java
> File maybeDirectory = new File("path/to/something");
> File[] files = maybeDirectory.listFiles();
>
> if (files != null) { // –û–±–æ–≤'—è–∑–∫–æ–≤–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞!
>     for (File file : files) {
>         System.out.println(file.getName());
>     }
> } else {
>     System.err.println("–ù–µ —î –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—î—é –∞–±–æ —Å—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞.");
> }
> ```
>
> –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ —Ü—å–æ–≥–æ, `Files.walk()` —É –ø–æ–¥—ñ–±–Ω—ñ–π —Å–∏—Ç—É–∞—Ü—ñ—ó –ø—Ä–æ—Å—Ç–æ –ø–æ–≤–µ—Ä–Ω–µ –ø–æ—Ç—ñ–∫ –∑ –æ–¥–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ (—Å–∞–º —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É), —è–∫—â–æ —Ñ–∞–π–ª —ñ—Å–Ω—É—î, –∞–±–æ –∫–∏–Ω–µ `IOException` (—Ç–æ—á–Ω—ñ—à–µ, `NoSuchFileException`), —è–∫—â–æ –Ω–µ —ñ—Å–Ω—É—î, —â–æ —î –±—ñ–ª—å—à –ø—Ä–æ–∑–æ—Ä–æ—é –ø–æ–≤–µ–¥—ñ–Ω–∫–æ—é.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–¶—è –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ `listFiles()` —î –æ–¥–Ω—ñ—î—é –∑ –ø—Ä–∏—á–∏–Ω, —á–æ–º—É API `java.io.File` –≤–≤–∞–∂–∞—î—Ç—å—Å—è –º–µ–Ω—à –∑—Ä—É—á–Ω–∏–º —Ç–∞ –±–µ–∑–ø–µ—á–Ω–∏–º –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ `java.nio`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è "–ø—ñ–¥–≤–æ–¥–Ω–∏—Ö –∫–∞–º–µ–Ω—ñ–≤" —Å—Ç–∞—Ä–æ–≥–æ API —Ç–∞ –≤–º—ñ–Ω–Ω—è –ø–∏—Å–∞—Ç–∏ –Ω–∞–¥—ñ–π–Ω–∏–π –∫–æ–¥, —â–æ –≤—Ä–∞—Ö–æ–≤—É—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è `null`.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –æ–±–º–µ–∂–∏—Ç–∏ –≥–ª–∏–±–∏–Ω—É —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –æ–±—Ö–æ–¥—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Files.walk()`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è —Ü—å–æ–≥–æ —ñ—Å–Ω—É—î –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞ –≤–µ—Ä—Å—ñ—è –º–µ—Ç–æ–¥—É `Files.walk(Path start, int maxDepth)`.
>
> * **`maxDepth`** ‚Äî —Ü–µ —Ü—ñ–ª–µ —á–∏—Å–ª–æ, —â–æ –≤–∫–∞–∑—É—î –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –≥–ª–∏–±–∏–Ω—É –æ–±—Ö–æ–¥—É –≤—ñ–¥–Ω–æ—Å–Ω–æ —Å—Ç–∞—Ä—Ç–æ–≤–æ—ó –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó.
> * –ì–ª–∏–±–∏–Ω–∞ `0` –æ–∑–Ω–∞—á–∞—î, —â–æ –ø–æ—Ç—ñ–∫ –±—É–¥–µ –º—ñ—Å—Ç–∏—Ç–∏ –ª–∏—à–µ —Å—Ç–∞—Ä—Ç–æ–≤–∏–π —à–ª—è—Ö.
> * –ì–ª–∏–±–∏–Ω–∞ `1` –æ–∑–Ω–∞—á–∞—î, —â–æ –ø–æ—Ç—ñ–∫ –±—É–¥–µ –º—ñ—Å—Ç–∏—Ç–∏ —Å—Ç–∞—Ä—Ç–æ–≤–∏–π —à–ª—è—Ö —Ç–∞ –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ –ø–µ—Ä—à–æ–º—É —Ä—ñ–≤–Ω—ñ –≤–∫–ª–∞–¥–µ–Ω–æ—Å—Ç—ñ (–∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ –¥–æ `listFiles()`).
>
> –¶–µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –∫–æ—Ä–∏—Å–Ω–∏–π –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó, –∫–æ–ª–∏ –≤–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ–±—Ö–æ–¥–∏—Ç–∏ –≤—Å–µ —Ñ–∞–π–ª–æ–≤–µ –¥–µ—Ä–µ–≤–æ, –∞ –ª–∏—à–µ –π–æ–≥–æ —á–∞—Å—Ç–∏–Ω—É.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

–û—Ç—Ä–∏–º–∞—Ç–∏ —Ñ–∞–π–ª–∏ —Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –ª–∏—à–µ –Ω–∞ –ø–µ—Ä—à–æ–º—É —Ä—ñ–≤–Ω—ñ –≤–∫–ª–∞–¥–µ–Ω–æ—Å—Ç—ñ (—Å—Ç–∞—Ä—Ç–æ–≤–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è + —ó—ó –ø—Ä—è–º—ñ –Ω–∞—â–∞–¥–∫–∏).

```java
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;

public class WalkDepthExample {
    public static void main(String[] args) {
        Path startDir = Paths.get(".");
        int maxDepth = 1;

        try (var paths = Files.walk(startDir, maxDepth)) {
            paths.forEach(path -> System.out.println(path.getFileName()));
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–í–æ–ª–æ–¥—ñ–Ω–Ω—è –ø–æ–≤–Ω–∏–º API `Files.walk()` —Ç–∞ –≤–º—ñ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –æ–±—Ö–æ–¥—É —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –±—ñ–ª—å—à –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ –¥–ª—è –¥—É–∂–µ –≤–µ–ª–∏–∫–æ—ó –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –∑ –º—ñ–ª—å–π–æ–Ω–∞–º–∏ —Ñ–∞–π–ª—ñ–≤: `listFiles()` —á–∏ `walk()`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è –¥—É–∂–µ –≤–µ–ª–∏–∫–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π `Files.walk()` –∑–∞–∑–≤–∏—á–∞–π —î –±—ñ–ª—å—à –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–º —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ.
>
> * **`File.listFiles()`**: –¶–µ–π –º–µ—Ç–æ–¥ –∑—á–∏—Ç—É—î –≤–µ—Å—å –≤–º—ñ—Å—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó —Ç–∞ —Å—Ç–≤–æ—Ä—é—î –≤ –ø–∞–º'—è—Ç—ñ –º–∞—Å–∏–≤ `File[]` –¥–ª—è –≤—Å—ñ—Ö —ó—ó –µ–ª–µ–º–µ–Ω—Ç—ñ–≤. –Ø–∫—â–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –º—ñ–ª—å–π–æ–Ω–∏ —Ñ–∞–π–ª—ñ–≤, —Ü–µ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –≤–µ–ª–∏—á–µ–∑–Ω–æ–≥–æ –º–∞—Å–∏–≤—É, —â–æ –º–æ–∂–µ —Å–ø—Ä–∏—á–∏–Ω–∏—Ç–∏ –∑–Ω–∞—á–Ω–µ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ —ñ, –≤ –∫—Ä–∞–π–Ω—å–æ–º—É –≤–∏–ø–∞–¥–∫—É, `OutOfMemoryError`.
>
> * **`Files.walk()`**: –¶–µ–π –º–µ—Ç–æ–¥ —î **–ª—ñ–Ω–∏–≤–∏–º (lazy)**. –í—ñ–Ω –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –≤—Å–µ –¥–µ—Ä–µ–≤–æ —Ñ–∞–π–ª—ñ–≤ —É –ø–∞–º'—è—Ç—å –æ–¥—Ä–∞–∑—É. –ó–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ –≤—ñ–Ω –ø–æ–≤–µ—Ä—Ç–∞—î `Stream`, —è–∫–∏–π "–≤–∏–¥–∞—î" —à–ª—è—Ö–∏ –ø–æ –æ–¥–Ω–æ–º—É, –ø–æ –º—ñ—Ä—ñ —ó—Ö –æ–±—Ä–æ–±–∫–∏. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –≤ –ø–∞–º'—è—Ç—ñ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ª–∏—à–µ –Ω–µ–≤–µ–ª–∏–∫–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω –æ–±—Ö–æ–¥—É, —â–æ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ —ñ–¥–µ–∞–ª—å–Ω–∏–º –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –≤–µ–ª–∏–∫–∏–º–∏ —Ñ–∞–π–ª–æ–≤–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.
>
> **–ê–ª–µ —î –Ω—é–∞–Ω—Å:** —è–∫—â–æ –≤–∏ –∑–∞—Å—Ç–æ—Å—É—î—Ç–µ –¥–æ `Files.walk()` —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é, —è–∫–∞ –∑–±–∏—Ä–∞—î –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –≤ –∫–æ–ª–µ–∫—Ü—ñ—é (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `collect(Collectors.toList())`), –≤–∏ –≤—Ç—Ä–∞—Ç–∏—Ç–µ –ø–µ—Ä–µ–≤–∞–≥—É –ª—ñ–Ω–∏–≤–æ—Å—Ç—ñ, —ñ —Ü–µ –±—É–¥–µ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—é –≤—Å—å–æ–≥–æ –≤ –ø–∞–º'—è—Ç—å, —è–∫ —ñ `listFiles()`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ "–∂–∞–¥—ñ–±–Ω–∏–º" (eager) —Ç–∞ "–ª—ñ–Ω–∏–≤–∏–º" (lazy) –ø—ñ–¥—Ö–æ–¥–∞–º–∏ –¥–æ –æ–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö, –∞ —Ç–∞–∫–æ–∂ —ó—Ö–Ω—ñ–π –≤–ø–ª–∏–≤ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ç–∞ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `Files.walk()` –æ–±—Ä–æ–±–ª—è—î –ø–æ–º–∏–ª–∫–∏ –≤–≤–æ–¥—É-–≤–∏–≤–æ–¥—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É –¥–æ –ø—ñ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫—â–æ –ø—ñ–¥ —á–∞—Å –æ–±—Ö–æ–¥—É, —ñ–Ω—ñ—Ü—ñ–π–æ–≤–∞–Ω–æ–≥–æ `Files.walk()`, –≤–∏–Ω–∏–∫–∞—î `IOException` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó, –Ω–∞ —è–∫—É –Ω–µ–º–∞—î –ø—Ä–∞–≤ —á–∏—Ç–∞–Ω–Ω—è), –æ–±—Ö—ñ–¥ –Ω–µ–≥–∞–π–Ω–æ –ø—Ä–∏–ø–∏–Ω—è—î—Ç—å—Å—è, —ñ –ø–æ—Ç—ñ–∫ –∫–∏–¥–∞—î –≤–∏–Ω—è—Ç–æ–∫.
>
> –¶–µ–π –≤–∏–Ω—è—Ç–æ–∫ —î `UncheckedIOException`. –¶–µ `RuntimeException`, —è–∫–∏–π –æ–±–≥–æ—Ä—Ç–∞—î –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π `IOException`.
>
> **–ß–æ–º—É `UncheckedIOException`?**
> Stream API —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–º–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏, —è–∫—ñ –∑–∞–∑–≤–∏—á–∞–π –Ω–µ –æ–≥–æ–ª–æ—à—É—é—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º—ñ –≤–∏–Ω—è—Ç–∫–∏ (checked exceptions) —è–∫ `IOException`. –©–æ–± –æ–±—ñ–π—Ç–∏ —Ü–µ –æ–±–º–µ–∂–µ–Ω–Ω—è, `IOException` "–∑–∞–≥–æ—Ä—Ç–∞—î—Ç—å—Å—è" –≤ –Ω–µ–ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–∏–π –≤–∏–Ω—è—Ç–æ–∫. –¶–µ–π –≤–∏–Ω—è—Ç–æ–∫ –±—É–¥–µ –∫–∏–Ω—É—Ç–∏–π –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó –ø–æ—Ç–æ–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `forEach` –∞–±–æ `collect`).
>
> –©–æ–± –π–æ–≥–æ –æ–±—Ä–æ–±–∏—Ç–∏, –ø–æ—Ç—Ä—ñ–±–Ω–æ –∞–±–æ –æ–±–µ—Ä–Ω—É—Ç–∏ –≤—Å—é —Ä–æ–±–æ—Ç—É –∑ –ø–æ—Ç–æ–∫–æ–º —É `try-catch` –±–ª–æ–∫, —è–∫–∏–π –ª–æ–≤–∏—Ç—å `UncheckedIOException`, –∞–±–æ –∑–ª–æ–≤–∏—Ç–∏ `IOException` —É –±–ª–æ—Ü—ñ `try-catch`, —â–æ –æ–±–≥–æ—Ä—Ç–∞—î `try-with-resources`.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ –æ–±—Ä–æ–±–∫–∏:**

```java
// ...
try (Stream<Path> stream = Files.walk(startDir)) {
    stream.forEach(System.out::println); // UncheckedIOException –º–æ–∂–µ –±—É—Ç–∏ –∫–∏–Ω—É—Ç–∏–π —Ç—É—Ç
} catch (UncheckedIOException e) {
    System.err.println("–ü–æ–º–∏–ª–∫–∞ –¥–æ—Å—Ç—É–ø—É: " + e.getCause());
} catch (IOException e) {
    // –¶–µ–π –±–ª–æ–∫ –∑–ª–æ–≤–∏—Ç—å –ø–æ–º–∏–ª–∫—É, —è–∫—â–æ –≤–æ–Ω–∞ –≤–∏–Ω–∏–∫–Ω–µ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –ø–æ—Ç–æ–∫—É
    System.err.println("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –æ–±—Ö–æ–¥—É: " + e.getMessage());
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫ —É Stream API –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ I/O –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏ —Ç–∞ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ `UncheckedIOException`.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –≤–∫–ª—é—á–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç `Files.walk(path)` —Å–∞–º—É —Å—Ç–∞—Ä—Ç–æ–≤—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é `path`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, –≤–∫–ª—é—á–∞—î. –ü–µ—Ä—à–∏–º –µ–ª–µ–º–µ–Ω—Ç–æ–º —É –ø–æ—Ç–æ—Ü—ñ, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î `Files.walk()`, **–∑–∞–≤–∂–¥–∏** —î —Å–∞–º–∞ —Å—Ç–∞—Ä—Ç–æ–≤–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è, –ø–µ—Ä–µ–¥–∞–Ω–∞ —è–∫ –∞—Ä–≥—É–º–µ–Ω—Ç.
>
> –¶–µ –≤–∞–∂–ª–∏–≤–∞ –¥–µ—Ç–∞–ª—å, —è–∫—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –ø—Ä–∏ –æ–±—Ä–æ–±—Ü—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –æ–±—Ä–æ–±–∏—Ç–∏ –ª–∏—à–µ –Ω–∞—â–∞–¥–∫—ñ–≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó, –∞–ª–µ –Ω–µ —ó—ó —Å–∞–º—É, –≤–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–µ—Ç–æ–¥—É `skip(1)`.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

–û–±—Ä–æ–±–∏—Ç–∏ –≤—Å—ñ —Ñ–∞–π–ª–∏ —Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó, –∫—Ä—ñ–º —Å—Ç–∞—Ä—Ç–æ–≤–æ—ó.

```java
// ...
try (Stream<Path> stream = Files.walk(startDir)) {
    stream.skip(1) // –ü—Ä–æ–ø—É—Å–∫–∞—î–º–æ —Å–∞–º—É —Å—Ç–∞—Ä—Ç–æ–≤—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é
          .forEach(path -> System.out.println("–û–±—Ä–æ–±–ª—è—î–º–æ: " + path.getFileName()));
} catch (IOException e) {
    e.printStackTrace();
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–£–≤–∞–∂–Ω—ñ—Å—Ç—å –¥–æ –¥–µ—Ç–∞–ª–µ–π —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó API. –ó–Ω–∞–Ω–Ω—è –ø—Ä–æ —Ç–µ, —â–æ —Å—Ç–∞—Ä—Ç–æ–≤–∏–π —à–ª—è—Ö —î —á–∞—Å—Ç–∏–Ω–æ—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É, –≤–∞–∂–ª–∏–≤–µ –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –ª–æ–≥—ñ—á–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –±–∏ –≤–∏ —Ä–µ–∞–ª—ñ–∑—É–≤–∞–ª–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –æ–±—Ö—ñ–¥ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `File.listFiles()`, —è–∫—â–æ `Files.walk()` –±—É–≤ –±–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–∞ —Å—Ç–∞—Ä—ñ–π –≤–µ—Ä—Å—ñ—ó Java)? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è —Ü—å–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –± –Ω–∞–ø–∏—Å–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏–π —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –º–µ—Ç–æ–¥.
>
> 1. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –º–µ—Ç–æ–¥, —è–∫–∏–π –ø—Ä–∏–π–º–∞—î `File` (–¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –¥–ª—è –æ–±—Ö–æ–¥—É).
> 2. –í—Å–µ—Ä–µ–¥–∏–Ω—ñ –º–µ—Ç–æ–¥—É –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `listFiles()`, —ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –Ω–∞ `null`.
> 3. –ó–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —Ü–∏–∫–ª –ø–æ –º–∞—Å–∏–≤—É `File[]`, —â–æ –ø–æ–≤–µ—Ä–Ω—É–≤—Å—è.
> 4. –£ —Ü–∏–∫–ª—ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç: —è–∫—â–æ —Ü–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è, –º–µ—Ç–æ–¥ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤–∏–∫–ª–∏–∫–∞—î —Å–∞–º —Å–µ–±–µ –¥–ª—è —Ü—ñ—î—ó –ø—ñ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó. –Ø–∫—â–æ —Ü–µ —Ñ–∞–π–ª ‚Äî –≤—ñ–Ω –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
import java.io.File;

public class ManualRecursiveWalk {
    public static void walkDirectory(File directory) {
        File[] files = directory.listFiles();
        if (files == null) {
            return; // –ù–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –∞–±–æ –ø–æ–º–∏–ª–∫–∞ –¥–æ—Å—Ç—É–ø—É
        }

        for (File file : files) {
            if (file.isDirectory()) {
                System.out.println("–ó–∞—Ö–æ–¥–∏–º–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é: " + file.getName());
                walkDirectory(file); // –†–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –≤–∏–∫–ª–∏–∫
            } else {
                System.out.println("  –ó–Ω–∞–π–¥–µ–Ω–æ —Ñ–∞–π–ª: " + file.getName());
            }
        }
    }

    public static void main(String[] args) {
        walkDirectory(new File("."));
    }
}
```

–¶–µ–π –ø—Ä–∏–∫–ª–∞–¥ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –∫–ª–∞—Å–∏—á–Ω–∏–π —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥, —è–∫–∏–π –±—É–≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–æ –ø–æ—è–≤–∏ Java 8 —Ç–∞ `Files.walk()`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ä–µ–∫—É—Ä—Å—ñ—ó —Ç–∞ –≤–º—ñ–Ω–Ω—è —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ –∫–ª–∞—Å–∏—á–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏. –¶–µ –ø–æ–∫–∞–∑—É—î —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `Files.walk()` –æ–±—Ä–æ–±–ª—è—î —Å–∏–º–≤–æ–ª—ñ—á–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è (symbolic links)? –ß–∏ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ —Ü—é –ø–æ–≤–µ–¥—ñ–Ω–∫—É? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, `Files.walk()` **–Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å** –∑–∞ —Å–∏–º–≤–æ–ª—ñ—á–Ω–∏–º–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó. –í—ñ–Ω —Ä–æ–∑–≥–ª—è–¥–∞—î —Å–∏–º–≤–æ–ª—ñ—á–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —è–∫ –∑–≤–∏—á–∞–π–Ω–∏–π —Ñ–∞–π–ª (–∞–±–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π —Ç–∏–ø —Ñ–∞–π–ª—É), –∞–ª–µ –Ω–µ –æ–±—Ö–æ–¥–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é, –Ω–∞ —è–∫—É –≤–æ–Ω–æ –≤–∫–∞–∑—É—î. –¶–µ –∑—Ä–æ–±–ª–µ–Ω–æ –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–º —Ü–∏–∫–ª–∞–º, —è–∫—â–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —É—Ç–≤–æ—Ä—é—é—Ç—å –ø–µ—Ç–ª—é.
>
> –¶—é –ø–æ–≤–µ–¥—ñ–Ω–∫—É –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏, –ø–µ—Ä–µ–¥–∞–≤—à–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç `FileVisitOption.FOLLOW_LINKS` —É –º–µ—Ç–æ–¥ `walk()`.
>
> `Files.walk(startPath, FileVisitOption.FOLLOW_LINKS)`
>
> –ö–æ–ª–∏ —Ü—è –æ–ø—Ü—ñ—è —É–≤—ñ–º–∫–Ω–µ–Ω–∞, `Files.walk()` –±—É–¥–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏—Ç–∏ —ñ —Ç—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó, –Ω–∞ —è–∫—ñ –≤–∫–∞–∑—É—é—Ç—å —Å–∏–º–≤–æ–ª—ñ—á–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è. –û–¥–Ω–∞–∫, —è–∫—â–æ –≤ –ø—Ä–æ—Ü–µ—Å—ñ –æ–±—Ö–æ–¥—É –≤–∏—è–≤–∏—Ç—å—Å—è —Ü–∏–∫–ª, –±—É–¥–µ –∫–∏–Ω—É—Ç–æ `FileSystemLoopException`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ä–æ–∑—à–∏—Ä–µ–Ω–∏—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π NIO.2, –∑–æ–∫—Ä–µ–º–∞ —Ä–æ–±–æ—Ç–∏ –∑ —Å–∏–º–≤–æ–ª—ñ—á–Ω–∏–º–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏, —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ –æ–±–µ—Ä–µ–∂–Ω–æ–≥–æ –ø–æ–≤–æ–¥–∂–µ–Ω–Ω—è –∑ –Ω–∏–º–∏.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–í —á–æ–º—É —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ `Files.walk()` —Ç–∞ `Files.find()`? –ö–æ–ª–∏ –∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `find()`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û–±–∏–¥–≤–∞ –º–µ—Ç–æ–¥–∏ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å `Stream<Path>`, –∞–ª–µ –º–∞—é—Ç—å —Ä—ñ–∑–Ω–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∞ –ª–æ–≥—ñ–∫—É:
>
> * `Files.walk(Path start, int maxDepth)`: –ü—Ä–æ—Å—Ç–æ **–æ–±—Ö–æ–¥–∏—å —Ñ–∞–π–ª–æ–≤–µ –¥–µ—Ä–µ–≤–æ** –¥–æ –≤–∫–∞–∑–∞–Ω–æ—ó –≥–ª–∏–±–∏–Ω–∏ —Ç–∞ –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ç—ñ–∫ –≤—Å—ñ—Ö –∑–Ω–∞–π–¥–µ–Ω–∏—Ö —à–ª—è—Ö—ñ–≤. –ü–æ–¥–∞–ª—å—à–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤–∂–µ –∑–∞—Å–æ–±–∞–º–∏ Stream API (`.filter()`, `.map()`, —Ç–æ—â–æ).
>
> * `Files.find(Path start, int maxDepth, BiPredicate<Path, BasicFileAttributes> matcher)`: –†–æ–±–∏—Ç—å —Ç–µ –∂ —Å–∞–º–µ, –∞–ª–µ **–≤—ñ–¥—Ä–∞–∑—É –∑–∞—Å—Ç–æ—Å–æ–≤—É—î –≤–±—É–¥–æ–≤–∞–Ω–∏–π —Ñ—ñ–ª—å—Ç—Ä (–º–∞—Ç—á–µ—Ä)**. `BiPredicate` –ø—Ä–∏–π–º–∞—î `Path` —Ç–∞ –π–æ–≥–æ `BasicFileAttributes`, —â–æ –¥–æ–∑–≤–æ–ª—è—î —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –Ω–µ —Ç—ñ–ª—å–∫–∏ –∑–∞ —à–ª—è—Ö–æ–º, –∞–ª–µ –π –∑–∞ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ —Ñ–∞–π–ª—É (—Ä–æ–∑–º—ñ—Ä, —á–∞—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —á–∏ —î –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—î—é —Ç–æ—â–æ) –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –∑–≤–µ—Ä–Ω–µ–Ω—å –¥–æ —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏.
>
> **–ö–æ–ª–∏ –∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `find()`?**
>
> `Files.find()` –º–æ–∂–µ –±—É—Ç–∏ **–±—ñ–ª—å—à –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–º**, –∫–æ–ª–∏ –∫—Ä–∏—Ç–µ—Ä—ñ—ó —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ —Ñ–∞–π–ª—É. –û—Å–∫—ñ–ª—å–∫–∏ –∞—Ç—Ä–∏–±—É—Ç–∏ –æ—Ç—Ä–∏–º—É—é—Ç—å—Å—è —Ä–∞–∑–æ–º –∑—ñ —à–ª—è—Ö–æ–º –ø—ñ–¥ —á–∞—Å –æ–±—Ö–æ–¥—É, —Ü–µ –¥–æ–∑–≤–æ–ª—è—î —É–Ω–∏–∫–Ω—É—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö I/O –æ–ø–µ—Ä–∞—Ü—ñ–π, —è–∫—ñ –±—É–ª–∏ –± –ø–æ—Ç—Ä—ñ–±–Ω—ñ –ø—Ä–∏ –≤–∏–∫–ª–∏–∫—É `Files.size(path)` –∞–±–æ `Files.isDirectory(path)` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `filter()` –¥–ª—è –ø–æ—Ç–æ–∫—É –∑ `Files.walk()`.
>
> **–ü—Ä–∏–∫–ª–∞–¥:** –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ —Ñ–∞–π–ª–∏ —Ä–æ–∑–º—ñ—Ä–æ–º –±—ñ–ª—å—à–µ 1 –ú–ë.
>
> ```java
> // –ó Files.find() - –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–µ
> Files.find(startDir, Integer.MAX_VALUE, (path, attrs) -> attrs.isRegularFile() && attrs.size() > 1024 * 1024);
>
> // –ó Files.walk() - –º–µ–Ω—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –±–æ Files.size() –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ñ–∞–π–ª—É
> Files.walk(startDir).filter(Files::isRegularFile).filter(path -> {
>     try { return Files.size(path) > 1024 * 1024; } catch (IOException e) { return false; }
> });
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ –∑–Ω–∞–Ω–Ω—è API `java.nio.file.Files`, —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–Ω–∫–æ—â—ñ–≤ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ç–∞ –≤–º—ñ–Ω–Ω—è –æ–±–∏—Ä–∞—Ç–∏ –Ω–∞–π–±—ñ–ª—å—à –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –∑–∞–¥–∞—á—ñ.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—Ç—ñ–∫ –∑ `Files.walk()` —î –ª—ñ–Ω–∏–≤–∏–º. –ê–ª–µ –≤ –∫–æ–¥—ñ `Files.walk(path).count()` –ø—Ä–æ–≥—Ä–∞–º–∞ "–∑–∞–≤–∏—Å–∞—î" –Ω–∞ –∫—ñ–ª—å–∫–∞ —Ö–≤–∏–ª–∏–Ω –ø—Ä–∏ –æ–±—Ö–æ–¥—ñ –≤–µ–ª–∏–∫–æ—ó –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó. –ß–æ–º—É, –∞–¥–∂–µ `count()` - —Ü–µ –ø—Ä–æ—Å—Ç–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> "–ó–∞–≤–∏—Å–∞–Ω–Ω—è" –ø—Ä–æ–≥—Ä–∞–º–∏ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Ç–æ–º—É, —â–æ `count()` —î **—Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é**, —è–∫–∞ –∑–º—É—à—É—î –ø–æ—Ç—ñ–∫ –æ–±—Ä–æ–±–∏—Ç–∏ **–≤—Å—ñ** –π–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∏, —â–æ–± –ø—ñ–¥—Ä–∞—Ö—É–≤–∞—Ç–∏ —ó—Ö–Ω—é –∫—ñ–ª—å–∫—ñ—Å—Ç—å.
>
> –õ—ñ–Ω–∏–≤—ñ—Å—Ç—å (laziness) `Stream` –æ–∑–Ω–∞—á–∞—î, —â–æ –µ–ª–µ–º–µ–Ω—Ç–∏ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –ø–æ –æ–¥–Ω–æ–º—É —ñ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ø–∞–º'—è—Ç—ñ –≤—Å—ñ —Ä–∞–∑–æ–º. –û–¥–Ω–∞–∫, —â–æ–± –ø–æ—Ä–∞—Ö—É–≤–∞—Ç–∏ –∑–∞–≥–∞–ª—å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –ø–æ—Ç—ñ–∫ –ø–æ–≤–∏–Ω–µ–Ω –ø—Ä–æ–π—Ç–∏ –≤—ñ–¥ –ø–æ—á–∞—Ç–∫—É –¥–æ –∫—ñ–Ω—Ü—è —ñ –≤—ñ–¥–≤—ñ–¥–∞—Ç–∏ –∫–æ–∂–µ–Ω —Ñ–∞–π–ª —ñ –∫–æ–∂–Ω—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é —É –≤—Å—å–æ–º—É –¥–µ—Ä–µ–≤—ñ.
>
> –û—Ç–∂–µ, —Ö–æ—á–∞ `count()` –Ω–µ –Ω–∞–∫–æ–ø–∏—á—É—î –µ–ª–µ–º–µ–Ω—Ç–∏ –≤ –ø–∞–º'—è—Ç—ñ (—è–∫ `collect(toList())`), –≤—ñ–Ω –≤—Å–µ –æ–¥–Ω–æ —ñ–Ω—ñ—Ü—ñ—é—î **–ø–æ–≤–Ω–∏–π –æ–±—Ö—ñ–¥ —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏**, —è–∫–∏–π —î —Ç—Ä–∏–≤–∞–ª–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é –≤–≤–æ–¥—É-–≤–∏–≤–æ–¥—É –¥–ª—è –≤–µ–ª–∏–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ñ–∞–π–ª—ñ–≤. "–ó–∞–≤–∏—Å–∞–Ω–Ω—è" ‚Äî —Ü–µ –Ω–µ –∑–±—ñ–π, –∞ –Ω–æ—Ä–º–∞–ª—å–Ω–∏–π –ø—Ä–æ—Ü–µ—Å —Ä–æ–±–æ—Ç–∏, –∫–æ–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–∞ —á–µ–∫–∞—î –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è I/O –æ–ø–µ—Ä–∞—Ü—ñ—ó.
>
> –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≤–∞–∂–ª–∏–≤–∏–π –Ω—é–∞–Ω—Å: –ª—ñ–Ω–∏–≤—ñ—Å—Ç—å —Å—Ç–æ—Å—É—î—Ç—å—Å—è —Ç–æ–≥–æ, *–∫–æ–ª–∏* –µ–ª–µ–º–µ–Ω—Ç–∏ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è, –∞ –Ω–µ —Ç–æ–≥–æ, *—Å–∫—ñ–ª—å–∫–∏* —ó—Ö –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ–±—Ä–æ–±–∏—Ç–∏ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫—ñ–Ω—Ü–µ–≤–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–õ—ñ–Ω–∏–≤—ñ—Å—Ç—å –ø–æ—Ç–æ–∫—É –Ω–µ —Ä–æ–±–∏—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ—ó –≤–≤–æ–¥—É-–≤–∏–≤–æ–¥—É –º–∏—Ç—Ç—î–≤–∏–º–∏. –Ø–∫—â–æ —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è –≤–∏–º–∞–≥–∞—î –ø–æ–≤–Ω–æ–≥–æ –æ–±—Ö–æ–¥—É, –¥–æ–≤–µ–¥–µ—Ç—å—Å—è —á–µ–∫–∞—Ç–∏, –¥–æ–∫–∏ –≤—ñ–Ω –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó –ª—ñ–Ω–∏–≤–æ—Å—Ç—ñ –ø–æ—Ç–æ–∫—ñ–≤, —ó—ó –ø–µ—Ä–µ–≤–∞–≥ —Ç–∞ –æ–±–º–µ–∂–µ–Ω—å. –ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –≤—ñ–¥—Ä—ñ–∑–Ω–∏—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó, —è–∫—ñ –º–æ–∂—É—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ (—è–∫ `findFirst`), –≤—ñ–¥ —Ç–∏—Ö, —â–æ –≤–∏–º–∞–≥–∞—é—Ç—å –ø–æ–≤–Ω–æ–≥–æ –æ–±—Ö–æ–¥—É (`count`, `collect`).*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, `Files.walk()` –æ–±—Ö–æ–¥–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é, —ñ –≤ —Ü–µ–π –∂–µ —á–∞—Å —ñ–Ω—à–∏–π –ø–æ—Ç—ñ–∫ –≤–∏–¥–∞–ª—è—î –æ–¥–Ω—É –∑ –ø—ñ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π. –©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `Files.walk()` **–Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î** —É–∑–≥–æ–¥–∂–µ–Ω–æ–≥–æ –∑–Ω—ñ–º–∫–∞ (consistent snapshot) —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏. –ô–æ–≥–æ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –≤ —É–º–æ–≤–∞—Ö –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏—Ö –∑–º—ñ–Ω —î –∑–∞–ª–µ–∂–Ω–æ—é –≤—ñ–¥ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏.
>
> –ù–∞–π–±—ñ–ª—å—à —ñ–º–æ–≤—ñ—Ä–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π —Ç–∞–∫–∏–π:
>
> 1. –Ü—Ç–µ—Ä–∞—Ç–æ—Ä `Files.walk()` –∑—á–∏—Ç—É—î —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª—ñ–≤ –∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `D1`. –£ —Ü—å–æ–º—É —Å–ø–∏—Å–∫—É —î –ø—ñ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è `D2`.
> 2. –Ü–Ω—à–∏–π –ø–æ—Ç—ñ–∫ –≤–∏–¥–∞–ª—è—î –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é `D2`.
> 3. –ö–æ–ª–∏ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä `Files.walk()` –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è —É–≤—ñ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é `D2` (—è–∫–∞ —â–æ–π–Ω–æ –±—É–ª–∞ –≤–∏–¥–∞–ª–µ–Ω–∞), –≤—ñ–Ω –æ—Ç—Ä–∏–º–∞—î –ø–æ–º–∏–ª–∫—É.
>
> –£ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ `Files.walk()` –∫–∏–Ω–µ `IOException`, —è–∫–∏–π –±—É–¥–µ –∑–∞–≥–æ—Ä–Ω—É—Ç–∏–π –≤ `UncheckedIOException`. –¶–µ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –∞–≤–∞—Ä—ñ–π–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –ø–æ—Ç–æ–∫—É.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** `Files.walk()` –Ω–µ —î –∞—Ç–æ–º–∞—Ä–Ω–∏–º –≤—ñ–¥–Ω–æ—Å–Ω–æ –∑–º—ñ–Ω —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏ —ñ –Ω–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞—Ö, –¥–µ —Ñ–∞–π–ª–æ–≤–µ –¥–µ—Ä–µ–≤–æ –∞–∫—Ç–∏–≤–Ω–æ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å –æ–±—Ö–æ–¥—É, –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó. –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Ç–∞–∫–∞ —É–∑–≥–æ–¥–∂–µ–Ω—ñ—Å—Ç—å, –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–¶–µ –∫–ª–∞—Å–∏—á–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ —Ä–µ—Å—É—Ä—Å—ñ–≤. –í–æ–Ω–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —â–æ –±–∞–≥–∞—Ç–æ –º–µ—Ç–æ–¥—ñ–≤ API –Ω–µ —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º–∏ –ø–æ –≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—é –¥–æ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –∑–º—ñ–Ω.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏–º –¥–æ—Å—Ç—É–ø–æ–º –¥–æ —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏. –ó–Ω–∞–Ω–Ω—è —Ç–æ–≥–æ, —â–æ `Files.walk()` –Ω–µ –∑–∞–±–µ–∑–ø–µ—á—É—î "–∑–Ω—ñ–º–æ–∫ —Å—Ç–∞–Ω—É" (snapshot isolation) —ñ —î –≤—Ä–∞–∑–ª–∏–≤–∏–º –¥–æ –∑–º—ñ–Ω –ø—ñ–¥ —á–∞—Å —ñ—Ç–µ—Ä–∞—Ü—ñ—ó.*
