---
layout: default
title: "Object, instanceof, –∫–∞—Å—Ç–∏–Ω–≥ ‚Äî –¢–∏–ø–∏, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞, –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±‚Äô—î–∫—Ç—ñ–≤"
parent: "–û–±'—î–∫—Ç–Ω–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è (–û–û–ü)"
grand_parent: "Java Core"
nav_order: 18
---

# Object, instanceof, –∫–∞—Å—Ç–∏–Ω–≥ ‚Äî –¢–∏–ø–∏, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞, –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±‚Äô—î–∫—Ç—ñ–≤

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –ü–æ—è—Å–Ω–µ–Ω–Ω—è —Ä–æ–ª—ñ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—É `Object`, –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `instanceof` –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø—É, —Ç–∞ –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ –∫–∞—Å—Ç–∏–Ω–≥—É (–ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤) —É Java.

* –ø–æ–Ω—è—Ç—Ç—è: `Object`, `instanceof`, –ö–∞—Å—Ç–∏–Ω–≥, Upcasting, Downcasting, `ClassCastException`.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `Object obj = "hello";`, `if (obj instanceof String)`, `String s = (String) obj;`, `Animal a = new Dog();`.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: `Object` ‚Äì –∫–æ—Ä—ñ–Ω—å —ñ—î—Ä–∞—Ä—Ö—ñ—ó. `instanceof` ‚Äì –±–µ–∑–ø–µ—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–µ—Ä–µ–¥ downcasting'–æ–º. `ClassCastException` ‚Äì —Ä–∏–∑–∏–∫ downcasting'—É.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –†–æ–ª—å `Object`, `instanceof` —Ç–∞ –ø—Ä–∞–≤–∏–ª–∞ –∫–∞—Å—Ç–∏–Ω–≥—É, —É–Ω–∏–∫–Ω–µ–Ω–Ω—è `ClassCastException`.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

* **Object** ‚Äî –∫–æ—Ä–µ–Ω–µ–≤–∏–π –∫–ª–∞—Å —É—Å—ñ—Ö –∫–ª–∞—Å—ñ–≤ —É Java (java.lang.Object).
* **instanceof** ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä, —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î –æ–± º—î–∫—Ç –µ–∫–∑–µ–º–ø–ª—è—Ä–æ–º –≤–∫–∞–∑–∞–Ω–æ–≥–æ –∫–ª–∞—Å—É –∞–±–æ –π–æ–≥–æ –ø—ñ–¥–∫–ª–∞—Å—É.
* **–ö–∞—Å—Ç–∏–Ω–≥ (casting)** ‚Äî –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∏–ø—É –æ–± º—î–∫—Ç–∞ –≤ –º–µ–∂–∞—Ö —ñ—î—Ä–∞—Ä—Ö—ñ—ó –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

* **Object** ‚Äî —Ü–µ —è–∫ "–∫–æ—Ä–æ–±–∫–∞ –∑\-–ø—ñ–¥ –≤–∑—É—Ç—Ç—è": —Ç—É–¥–∏ –º–æ–∂–Ω–∞ –ø–æ–∫–ª–∞—Å—Ç–∏ –≤—Å–µ.
* **instanceof** ‚Äî –∑–∞–ø–∏—Ç–∞–Ω–Ω—è "–¢–∏ —Ç–æ—á–Ω–æ –∫–æ—Ç–∏–∫?"
* **–ö–∞—Å—Ç–∏–Ω–≥** ‚Äî "–Ø –≤—ñ–¥–∫—Ä–∏—é –∫–æ—Ä–æ–±–∫—É —ñ –∑–≤–µ—Ä—Ç–∞—Ç–∏–º—É—Å—å –¥–æ —Ç–µ–±–µ —è–∫ –¥–æ Dog".

---

## **üìä –ö–ª—é—á–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó:**

| –û–ø–µ—Ä–∞—Ü—ñ—è | –©–æ —Ä–æ–±–∏—Ç—å | –ü—Ä–∏–∫–ª–∞–¥ |
| :---: | :---: | :---: |
| **Object** | –ë–∞–∑–æ–≤–∏–π —Ç–∏–ø –¥–ª—è –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤ | **`Object o = new String("hi");`** |
| **instanceof** | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—É –ø–µ—Ä–µ–¥ –∫–∞—Å—Ç–∏–Ω–≥–æ–º | **`if (o instanceof String)`** |
| **Downcasting** | –ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ –¥–æ –ø—ñ–¥–∫–ª–∞—Å—É | **`String s = (String) o;`** |
| **Upcasting** | –ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—è –¥–æ —Å—É–ø–µ—Ä–∫–ª–∞—Å—É (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ) | **`Animal a = new Dog();`** |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

* –£ Java **–≤—Å–µ —î Object**.
* –ê–ª–µ –∫–æ–ª–∏ —Ç–∏ —Ö–æ—á–µ—à –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –º–µ—Ç–æ–¥–∏ ‚Äî —Ç—Ä–µ–±–∞ –∑–Ω–∞—Ç–∏ —Ç–æ—á–Ω–∏–π —Ç–∏–ø.
* **Upcasting** ‚Äî –±–µ–∑–ø–µ—á–Ω–µ "—Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è" –¥–æ–≥–∞ –¥–æ —Ç–≤–∞—Ä–∏–Ω–∏.
* **Downcasting** ‚Äî "–∑–≤—É–∂–µ–Ω–Ω—è" ‚Äî –≤–∏–º–∞–≥–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ (–º–æ–∂–µ –≤–∏–±—É—Ö–Ω—É—Ç–∏\!).

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **üîπ Object ‚Äî —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**

```java
Object obj = "Hello";
System.out.println(obj.toString()); // –í–∏–∫–ª–∏–∫–∞—î –º–µ—Ç–æ–¥ Object
```

### **üîπ instanceof \+ –∫–∞—Å—Ç–∏–Ω–≥:**

```java
Object obj = "Java";
if (obj instanceof String) {
    String s = (String) obj;
    System.out.println(s.toUpperCase());
}
```

### **üîπ Upcasting / Downcasting:**

```java
class Animal {
    void sound() { System.out.println("Some sound"); }
}
class Dog extends Animal {
    void bark() { System.out.println("Bark!"); }
}

Animal a = new Dog(); // ‚úÖ Upcasting
a.sound();

// a.bark(); ‚ùå –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ, –±–æ —Ç–∏–ø -- Animal

if (a instanceof Dog) {
    Dog d = (Dog) a; // ‚úÖ Downcasting
    d.bark();
}
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –û–ø–µ—Ä–∞—Ü—ñ—è | –ù–∞–ø—Ä—è–º–æ–∫ | –ë–µ–∑–ø–µ—á–Ω–æ? | –ö–∞—Å—Ç–∏–Ω–≥ –ø–æ—Ç—Ä—ñ–±–µ–Ω? |
| :---: | :---: | :---: | :---: |
| **Upcasting** | –ü—ñ–¥–∫–ª–∞—Å -> –°—É–ø–µ—Ä–∫–ª–∞—Å | ‚úÖ –¢–∞–∫ | ‚ùå –ù—ñ |
| **Downcasting** | –°—É–ø–µ—Ä–∫–ª–∞—Å -> –ü—ñ–¥–∫–ª–∞—Å | ‚ö†Ô∏è –ù—ñ (–ø–æ—Ç—Ä–µ–±—É—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏) | ‚úÖ –¢–∞–∫ |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

* **`instanceof`** \= **"–¢–∏ —Ç–æ—á–Ω–æ X?"**
* **`(Type)`** \= **"–Ø –∑–Ω–∞—é, —â–æ —Ç–∏ X ‚Äî –¥–æ–≤—ñ—Ä—è–π –º–µ–Ω—ñ"**
* **`Object`** \= **"—É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ –∫–æ—Ä–æ–±–∫–∞" –¥–ª—è –±—É–¥—å-—á–æ–≥–æ**

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* **Object** ‚Äî —Ü–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç Java-–æ–± º—î–∫—Ç—ñ–≤.
* **instanceof** ‚Äî —Ç–≤—ñ–π —Å—Ç—Ä–∞—Ö–æ–≤–∏–π –ø–æ–ª—ñ—Å –ø–µ—Ä–µ–¥ risky-–∫–∞—Å—Ç–∏–Ω–≥–æ–º.
* **Upcasting** ‚Äî –±–µ–∑–ø–µ—á–Ω–∏–π —ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π.
* **Downcasting** ‚Äî –ø–æ—Ç—Ä–µ–±—É—î –æ–±–µ—Ä–µ–∂–Ω–æ—Å—Ç—ñ —ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏.  
  –¶–µ –±–∞–∑–∏—Å –¥–ª—è **–ø–æ–ª—ñ–º–æ—Ä—Ñ—ñ–∑–º—É** —ñ **–¥–∏–Ω–∞–º—ñ—á–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –º–µ—Ç–æ–¥—ñ–≤**.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Oracle Docs ‚Äî Object**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html)
* [**Java instanceof Operator**](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –∫–ª–∞—Å `Object` —ñ —è–∫–∞ –π–æ–≥–æ —Ä–æ–ª—å —É Java?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ö–ª–∞—Å `java.lang.Object` ‚Äî —Ü–µ **–∫–æ—Ä–µ–Ω–µ–≤–∏–π –∫–ª–∞—Å** —É—Å—ñ—î—ó —ñ—î—Ä–∞—Ä—Ö—ñ—ó –∫–ª–∞—Å—ñ–≤ —É Java.
>
> **–ô–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–∞ —Ä–æ–ª—å:**
>
> 1. **–°–ø—ñ–ª—å–Ω–∏–π –ø—Ä–µ–¥–æ–∫:** –ö–æ–∂–µ–Ω –∫–ª–∞—Å —É Java, —è–∫–∏–π –Ω–µ –º–∞—î —è–≤–Ω–æ–≥–æ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –∫–ª–∞—Å—É (—á–µ—Ä–µ–∑ `extends`), **–Ω–µ—è–≤–Ω–æ —É—Å–ø–∞–¥–∫–æ–≤—É—î** –∫–ª–∞—Å `Object`. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –≤—Å—ñ –æ–±'—î–∫—Ç–∏ –≤ Java –º–∞—é—Ç—å —Å–ø—ñ–ª—å–Ω–∏–π –±–∞–∑–æ–≤–∏–π —Ç–∏–ø.
>
> 2. **–ë–∞–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:** –í—ñ–Ω –Ω–∞–¥–∞—î –Ω–∞–±—ñ—Ä —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤, —è–∫—ñ —É—Å–ø–∞–¥–∫–æ–≤—É—é—Ç—å—Å—è —É—Å—ñ–º–∞ –æ–±'—î–∫—Ç–∞–º–∏. –ù–∞–π–≤–∞–∂–ª–∏–≤—ñ—à—ñ –∑ –Ω–∏—Ö:
>     * `equals(Object obj)`: –¥–ª—è –ª–æ–≥—ñ—á–Ω–æ–≥–æ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤.
>     * `hashCode()`: –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ —É —Ö–µ—à-–∫–æ–ª–µ–∫—Ü—ñ—è—Ö.
>     * `toString()`: –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä—è–¥–∫–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞.
>     * `getClass()`: –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –º–µ—Ç–∞—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–ª–∞—Å –æ–±'—î–∫—Ç–∞ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.
>     * –ú–µ—Ç–æ–¥–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ø–æ—Ç–æ–∫–∞–º–∏ (`wait`, `notify`, `notifyAll`).
>
> 3. **–ü–æ–ª—ñ–º–æ—Ä—Ñ–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è:** –ó–∞–≤–¥—è–∫–∏ —Ç–æ–º—É, —â–æ –≤—Å–µ —î `Object`, –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è `Object obj`, —è–∫–µ –º–æ–∂–µ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –Ω–∞ –µ–∫–∑–µ–º–ø–ª—è—Ä –±—É–¥—å-—è–∫–æ–≥–æ –∫–ª–∞—Å—É, —â–æ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —É–∑–∞–≥–∞–ª—å–Ω–µ–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–ö–ª–∞—Å `Object` ‚Äî —Ü–µ —è–∫ –ø–æ–Ω—è—Ç—Ç—è "–†—ñ—á". –ë—É–¥—å-—â–æ –≤ –∫—ñ–º–Ω–∞—Ç—ñ ‚Äî —Å—Ç—ñ–ª–µ—Ü—å, —Å—Ç—ñ–ª, –∫–æ–º–ø'—é—Ç–µ—Ä ‚Äî —Ü–µ —Ä—ñ—á. –£ –≤—Å—ñ—Ö —Ä–µ—á–µ–π —î –±–∞–∑–æ–≤—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∞–≥–∞, –º–∞—Ç–µ—Ä—ñ–∞–ª), –∞–ª–µ –∫–æ–∂–µ–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –ø—Ä–µ–¥–º–µ—Ç –º–∞—î —ñ —Å–≤–æ—ó —É–Ω—ñ–∫–∞–ª—å–Ω—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ—ó —Ä–æ–ª—ñ `Object` —è–∫ –∫–æ—Ä–µ–Ω—è —ñ—î—Ä–∞—Ä—Ö—ñ—ó —Ç–∞ –¥–∂–µ—Ä–µ–ª–∞ –±–∞–∑–æ–≤–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –¥–ª—è –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä `instanceof` —ñ –¥–ª—è —á–æ–≥–æ –≤—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û–ø–µ—Ä–∞—Ç–æ—Ä `instanceof` ‚Äî —Ü–µ –±—ñ–Ω–∞—Ä–Ω–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä, —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î –æ–±'—î–∫—Ç (–ª—ñ–≤–∏–π –æ–ø–µ—Ä–∞–Ω–¥) –µ–∫–∑–µ–º–ø–ª—è—Ä–æ–º –ø–µ–≤–Ω–æ–≥–æ –∫–ª–∞—Å—É, –π–æ–≥–æ –ø—ñ–¥–∫–ª–∞—Å—É, –∞–±–æ —á–∏ —Ä–µ–∞–ª—ñ–∑—É—î –≤—ñ–Ω –ø–µ–≤–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ø—Ä–∞–≤–∏–π –æ–ø–µ—Ä–∞–Ω–¥). –í—ñ–Ω –ø–æ–≤–µ—Ä—Ç–∞—î `boolean` —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
>
> `(–æ–±'—î–∫—Ç) instanceof (–¢–∏–ø)`
>
> **–û—Å–Ω–æ–≤–Ω–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**
>
> **–ë–µ–∑–ø–µ—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—É –ø–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º –Ω–∏–∑—Ö—ñ–¥–Ω–æ–≥–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è (downcasting).** –¶–µ –¥–æ–∑–≤–æ–ª—è—î —É–Ω–∏–∫–Ω—É—Ç–∏ `ClassCastException`.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public void processObject(Object obj) {
>     // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î obj —Ä—è–¥–∫–æ–º, –ø–µ—Ä–µ–¥ —Ç–∏–º —è–∫ –ø—Ä–∏–≤–æ–¥–∏—Ç–∏ –π–æ–≥–æ –¥–æ String
>     if (obj instanceof String) {
>         String s = (String) obj; // –ë–µ–∑–ø–µ—á–Ω–∏–π –∫–∞—Å—Ç–∏–Ω–≥
>         System.out.println("–î–æ–≤–∂–∏–Ω–∞ —Ä—è–¥–∫–∞: " + s.length());
>     } else {
>         System.out.println("–û–±'—î–∫—Ç –Ω–µ —î —Ä—è–¥–∫–æ–º.");
>     }
> }
> ```
>
> **–í–∞–∂–ª–∏–≤–∏–π –Ω—é–∞–Ω—Å:** `(null instanceof Type)` –∑–∞–≤–∂–¥–∏ –ø–æ–≤–µ—Ä—Ç–∞—î `false`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø—É –æ–±'—î–∫—Ç–∞ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤ (–∫–∞—Å—Ç–∏–Ω–≥)? –ü–æ—è—Å–Ω—ñ—Ç—å —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ Upcasting —Ç–∞ Downcasting.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤ (Type Casting)** ‚Äî —Ü–µ –ø—Ä–æ—Ü–µ—Å –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç –∑ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø—É –Ω–∞ —ñ–Ω—à–∏–π —É –º–µ–∂–∞—Ö –æ–¥–Ω—ñ—î—ó —ñ—î—Ä–∞—Ä—Ö–∞—Ç—ñ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è.
>
> **Upcasting (–í–∏—Å—Ö—ñ–¥–Ω–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è):**
>
> * **–©–æ —Ü–µ:** –¶–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑ —Ç–∏–ø—É **–¥–æ—á—ñ—Ä–Ω—å–æ–≥–æ –∫–ª–∞—Å—É** –Ω–∞ —Ç–∏–ø **–±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –∫–ª–∞—Å—É** (–∞–±–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É).
> * **–ü—Ä–∏–∫–ª–∞–¥:** `Animal animal = new Dog();`
> * **–ë–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å:** –¶–µ **–∑–∞–≤–∂–¥–∏ –±–µ–∑–ø–µ—á–Ω–∞** –æ–ø–µ—Ä–∞—Ü—ñ—è. –û—Å–∫—ñ–ª—å–∫–∏ `Dog` "—î —Ä—ñ–∑–Ω–æ–≤–∏–¥–æ–º" `Animal` (IS-A), –≤—ñ–Ω –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –º–∞—î –≤—Å—ñ –º–µ—Ç–æ–¥–∏ —Ç–∞ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ, —â–æ –π `Animal`.
> * **–Ø–≤–Ω—ñ—Å—Ç—å:** Upcasting —î **–Ω–µ—è–≤–Ω–∏–º**, –π–æ–≥–æ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–∞–∑—É–≤–∞—Ç–∏.
>
> **Downcasting (–ù–∏–∑—Ö—ñ–¥–Ω–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è):**
>
> * **–©–æ —Ü–µ:** –¶–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑ —Ç–∏–ø—É **–±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –∫–ª–∞—Å—É** –Ω–∞ —Ç–∏–ø **–¥–æ—á—ñ—Ä–Ω—å–æ–≥–æ –∫–ª–∞—Å—É**.
> * **–ü—Ä–∏–∫–ª–∞–¥:** `Dog dog = (Dog) animal;`
> * **–ë–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å:** –¶–µ **–Ω–µ–±–µ–∑–ø–µ—á–Ω–∞** –æ–ø–µ—Ä–∞—Ü—ñ—è. –ù–µ–º–∞—î –≥–∞—Ä–∞–Ω—Ç—ñ—ó, —â–æ –æ–±'—î–∫—Ç, –Ω–∞ —è–∫–∏–π –≤–∫–∞–∑—É—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è `animal`, –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ —î `Dog` (–≤—ñ–Ω –º–æ–∂–µ –±—É—Ç–∏ `Cat`).
> * **–Ø–≤–Ω—ñ—Å—Ç—å:** Downcasting –∑–∞–≤–∂–¥–∏ **—è–≤–Ω–∏–π**. –ü–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–∞–∑—É–≤–∞—Ç–∏ —Ç–∏–ø —É –¥—É–∂–∫–∞—Ö. –Ø–∫—â–æ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ñ–∞–∫—Ç–∏—á–Ω–∏–π —Ç–∏–ø –æ–±'—î–∫—Ç–∞ –Ω–µ —î —Å—É–º—ñ—Å–Ω–∏–º, –±—É–¥–µ –≤–∏–∫–∏–Ω—É—Ç–æ **`ClassCastException`**.

#### **üìù –ú–Ω–µ–º–æ–Ω—ñ–∫–∞:**

* **Up**casting (–≤–≥–æ—Ä—É –ø–æ —ñ—î—Ä–∞—Ä—Ö–∞—Ç—ñ) ‚Äî —Ä–æ–∑—à–∏—Ä—é—î–º–æ –ø–æ–≥–ª—è–¥, –±–µ–∑–ø–µ—á–Ω–æ.
* **Down**casting (–≤–Ω–∏–∑ –ø–æ —ñ—î—Ä–∞—Ä—Ö–∞—Ç—ñ) ‚Äî –∑–≤—É–∂—É—î–º–æ –ø–æ–≥–ª—è–¥, —Ä–∏–∑–∏–∫–æ–≤–∞–Ω–æ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ß—ñ—Ç–∫–µ —Ä–æ–∑–º–µ–∂—É–≤–∞–Ω–Ω—è –¥–≤–æ—Ö —Ç–∏–ø—ñ–≤ –∫–∞—Å—Ç–∏–Ω–≥—É —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è, —è–∫–∏–π –∑ –Ω–∏—Ö –±–µ–∑–ø–µ—á–Ω–∏–π, –∞ —è–∫–∏–π ‚Äî –Ω—ñ.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ö–æ–ª–∏ –≤–∏–Ω–∏–∫–∞—î `ClassCastException` —ñ —è–∫ –π–æ–≥–æ —É–Ω–∏–∫–Ω—É—Ç–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`ClassCastException`** ‚Äî —Ü–µ –Ω–µ–ø–µ—Ä–µ–≤—ñ—Ä—é–≤–∞–Ω–∏–π –≤–∏–Ω—è—Ç–æ–∫ (`RuntimeException`), —è–∫–∏–π –≤–∏–Ω–∏–∫–∞—î –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏ –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –≤–∏–∫–æ–Ω–∞—Ç–∏ **–Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–µ –Ω–∏–∑—Ö—ñ–¥–Ω–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤ (downcasting)**.
>
> –í—ñ–Ω –≤–∏–Ω–∏–∫–∞—î —Ç–æ–¥—ñ, –∫–æ–ª–∏ –≤–∏ –Ω–∞–º–∞–≥–∞—î—Ç–µ—Å—è –ø—Ä–∏–≤–µ—Å—Ç–∏ –æ–±'—î–∫—Ç –¥–æ —Ç–∏–ø—É, —è–∫–∏–º –≤—ñ–Ω –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ **–Ω–µ —î**.
>
> **–ü—Ä–∏–∫–ª–∞–¥, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –≤–∏–Ω—è—Ç–∫—É:**
>
> ```java
> class Animal {}
> class Dog extends Animal {}
> class Cat extends Animal {}
>
> public class Main {
>     public static void main(String[] args) {
>         Animal animal = new Cat(); // animal –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ –æ–±'—î–∫—Ç Cat
>
>         // –°–ø—Ä–æ–±–∞ –ø—Ä–∏–≤–µ—Å—Ç–∏ Cat –¥–æ Dog —î –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ—é
>         Dog dog = (Dog) animal; // –¢—É—Ç –±—É–¥–µ –≤–∏–∫–∏–Ω—É—Ç–æ ClassCastException
>     }
> }
> ```
>
> **–Ø–∫ —É–Ω–∏–∫–Ω—É—Ç–∏:**
>
> **–ó–∞–≤–∂–¥–∏** –ø–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º downcasting'—É —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä **`instanceof`**, —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ —î –æ–±'—î–∫—Ç —Å—É–º—ñ—Å–Ω–∏–º –∑ —Ü—ñ–ª—å–æ–≤–∏–º —Ç–∏–ø–æ–º.
>
> **–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π, –±–µ–∑–ø–µ—á–Ω–∏–π –∫–æ–¥:**
>
> ```java
> Animal animal = new Cat();
> if (animal instanceof Dog) {
>     Dog dog = (Dog) animal;
>     // ... —Ä–æ–±–∏—Ç–∏ —â–æ—Å—å –∑ dog
> }
> ```
>
> –°—É—á–∞—Å–Ω–∞ Java (–∑ –≤–µ—Ä—Å—ñ—ó 16) –Ω–∞–¥–∞—î **`pattern matching for instanceof`**, —â–æ —Ä–æ–±–∏—Ç—å —Ü–µ–π –∫–æ–¥ —â–µ –ø—Ä–æ—Å—Ç—ñ—à–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –∑ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏—Ö runtime-–≤–∏–Ω—è—Ç–∫—ñ–≤ —Ç–∞ –≤–º—ñ–Ω–Ω—è –ø–∏—Å–∞—Ç–∏ –∫–æ–¥, —â–æ –∑–∞—Ö–∏—â–µ–Ω–∏–π –≤—ñ–¥ –Ω—å–æ–≥–æ.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–≤–µ—Ä–Ω–µ `someObject instanceof Object`? –ê `null instanceof Object`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **1. `someObject instanceof Object`:**
>
> * –Ø–∫—â–æ `someObject` —î –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ **–±—É–¥—å-—è–∫–∏–π –æ–±'—î–∫—Ç (–Ω–µ `null`)**, —Ü–µ–π –≤–∏—Ä–∞–∑ **–∑–∞–≤–∂–¥–∏** –ø–æ–≤–µ—Ä–Ω–µ **`true`**.
> * **–ü—Ä–∏—á–∏–Ω–∞:** –í Java –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤—Å—ñ –∫–ª–∞—Å–∏ –Ω–µ—è–≤–Ω–æ —É—Å–ø–∞–¥–∫–æ–≤—É—é—Ç—å `java.lang.Object`, —Ç–æ–º—É –±—É–¥—å-—è–∫–∏–π –æ–±'—î–∫—Ç —î –µ–∫–∑–µ–º–ø–ª—è—Ä–æ–º `Object`.
>
> **2. `null instanceof Object`:**
>
> * –¶–µ–π –≤–∏—Ä–∞–∑ **–∑–∞–≤–∂–¥–∏** –ø–æ–≤–µ—Ä–Ω–µ **`false`**.
> * **–ü—Ä–∏—á–∏–Ω–∞:** `null` ‚Äî —Ü–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –ª—ñ—Ç–µ—Ä–∞–ª, —è–∫–∏–π –Ω–µ —î –µ–∫–∑–µ–º–ø–ª—è—Ä–æ–º –∂–æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—É. `instanceof` —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ —Å–ø—Ä–æ–µ–∫—Ç–æ–≤–∞–Ω–∏–π —Ç–∞–∫, —â–æ–± –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ `false` –¥–ª—è `null` –æ–ø–µ—Ä–∞–Ω–¥–∞, —â–æ —Ä–æ–±–∏—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –±–µ–∑–ø–µ—á–Ω–∏–º–∏ (–Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∫–æ–≤–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –Ω–∞ `null` –ø–µ—Ä–µ–¥ `instanceof`).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ `instanceof` –∑ –∫–æ—Ä–µ–Ω–µ–≤–∏–º –∫–ª–∞—Å–æ–º `Object` —Ç–∞ `null`.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –Ω–∞–¥–º—ñ—Ä–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `instanceof` –≤–≤–∞–∂–∞—î—Ç—å—Å—è –∞–Ω—Ç–∏–ø–∞—Ç–µ—Ä–Ω–æ–º —ñ –æ–∑–Ω–∞–∫–æ—é –ø–æ–≥–∞–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω—É?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–¥–º—ñ—Ä–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `instanceof`, –∑–∞ —è–∫–∏–º —Å–ª—ñ–¥—É—î –±–ª–æ–∫ `if-else-if`, —î –æ–∑–Ω–∞–∫–æ—é **–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–≥–æ —Å—Ç–∏–ª—é** –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è —ñ **—Ä—É–π–Ω—É—î –ø–µ—Ä–µ–≤–∞–≥–∏ –ø–æ–ª—ñ–º–æ—Ä—Ñ—ñ–∑–º—É**.
>
> **–ü—Ä–æ–±–ª–µ–º–∏ —Ç–∞–∫–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É:**
>
> 1. **–ü–æ—Ä—É—à–µ–Ω–Ω—è –ø—Ä–∏–Ω—Ü–∏–ø—É –≤—ñ–¥–∫—Ä–∏—Ç–æ—Å—Ç—ñ/–∑–∞–∫—Ä–∏—Ç–æ—Å—Ç—ñ (Open/Closed Principle):** –ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ –≤–∏ –¥–æ–¥–∞—î—Ç–µ –Ω–æ–≤–∏–π –ø—ñ–¥–∫–ª–∞—Å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Bird` –≤ —ñ—î—Ä–∞—Ä—Ö—ñ—é `Animal`), –≤–∏ –∑–º—É—à–µ–Ω—ñ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ —ñ **–º–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏** –≤—Å—ñ `if-else` –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó, —â–æ–± –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π `else if (animal instanceof Bird)`. –°–∏—Å—Ç–µ–º–∞ –Ω–µ —î —Ä–æ–∑—à–∏—Ä—é–≤–∞–Ω–æ—é.
>
> 2. **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—è –ª–æ–≥—ñ–∫–∏:** –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –ª–æ–≥—ñ–∫–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –±—É–ª–∞ —ñ–Ω–∫–∞–ø—Å—É–ª—å–æ–≤–∞–Ω–∞ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Å–∞–º–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ (`Dog` –∑–Ω–∞—î, —è–∫ –≥–∞–≤–∫–∞—Ç–∏, `Cat` ‚Äî —è–∫ –Ω—è–≤—á–∞—Ç–∏), –≤–æ–Ω–∞ —Ä–æ–∑–º–∞–∑—É—î—Ç—å—Å—è –ø–æ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –º–µ—Ç–æ–¥–∞—Ö-–ø–µ—Ä–µ–≤—ñ—Ä–Ω–∏–∫–∞—Ö.
>
> 3. **–ü–æ–≥–∞–Ω–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞:** –¢–∞–∫—ñ "–ª–∞–Ω—Ü—é–∂–∫–∏" `if-else` —Å—Ç–∞—é—Ç—å –≥—Ä–æ–º—ñ–∑–¥–∫–∏–º–∏, —Å–∫–ª–∞–¥–Ω–∏–º–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è —Ç–∞ —Å—Ö–∏–ª—å–Ω–∏–º–∏ –¥–æ –ø–æ–º–∏–ª–æ–∫.
>
> **–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ–ª—ñ–º–æ—Ä—Ñ–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥:**
>
> –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –ø–∏—Ç–∞—Ç–∏ –æ–±'—î–∫—Ç "–•—Ç–æ —Ç–∏?" (`instanceof`), —Å–ª—ñ–¥ –ø—Ä–æ—Å—Ç–æ "–Ω–∞–∫–∞–∑–∞—Ç–∏" –π–æ–º—É –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥—ñ—é, –∞ –æ–±'—î–∫—Ç —Å–∞–º –∑–Ω–∞—î, —è–∫ —Ü–µ –∑—Ä–æ–±–∏—Ç–∏.
>
> ```java
> // –ü–æ–≥–∞–Ω–æ
> void makeSound(Animal a) {
>     if (a instanceof Dog) ((Dog)a).bark();
>     else if (a instanceof Cat) ((Cat)a).purr();
> }
>
> // –î–æ–±—Ä–µ
> void makeSound(Animal a) {
>     a.makeSound(); // –î–µ makeSound - –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–∏–π –º–µ—Ç–æ–¥
> }
> ```
>
> **–ö–æ–ª–∏ `instanceof` —î –ø—Ä–∏–π–Ω—è—Ç–Ω–∏–º:** –í –æ—Å–Ω–æ–≤–Ω–æ–º—É, —É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó `equals()` —Ç–∞ –≤ –∫–æ–¥—ñ, –¥–µ –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ —ñ—î—Ä–∞—Ä—Ö—ñ—é –∫–ª–∞—Å—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑—ñ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ–º–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞–º–∏).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω —Ä–æ–∑—É–º—ñ—Ç–∏, –∫–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–µ–≤–Ω–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π –º–æ–≤–∏ —î "–∑–∞–ø–∞—Ö–æ–º –∫–æ–¥—É" (code smell).*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –ø—Ä–∏–≤–µ—Å—Ç–∏ –æ–±'—î–∫—Ç –¥–æ —Ç–∏–ø—É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É? –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, –∑–≤—ñ—Å–Ω–æ.** –û–±'—î–∫—Ç –º–æ–∂–Ω–∞ –ø—Ä–∏–≤–µ—Å—Ç–∏ –¥–æ —Ç–∏–ø—É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, **—è–∫—â–æ –π–æ–≥–æ –∫–ª–∞—Å —Ä–µ–∞–ª—ñ–∑—É—î —Ü–µ–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å**.
>
> –¶–µ –ø—Ä–∞—Ü—é—î –∑–∞ —Ç–∏–º–∏ –∂ –ø—Ä–∞–≤–∏–ª–∞–º–∏, —â–æ –π –∫–∞—Å—Ç–∏–Ω–≥ —É —ñ—î—Ä–∞—Ä—Ö–∞—Ç—ñ –∫–ª–∞—Å—ñ–≤.
>
> * **Upcasting (–Ω–µ—è–≤–Ω–∏–π):** –Ø–∫—â–æ –∫–ª–∞—Å —Ä–µ–∞–ª—ñ–∑—É—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –≤–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–∏—Å–≤–æ—ó—Ç–∏ –π–æ–≥–æ –æ–±'—î–∫—Ç –∑–º—ñ–Ω–Ω—ñ–π —Ç–∏–ø—É —Ü—å–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.
> * **Downcasting (—è–≤–Ω–∏–π):** –Ø–∫—â–æ —É –≤–∞—Å —î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π —Ç–∏–ø, –≤–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–∏–≤–µ—Å—Ç–∏ –π–æ–≥–æ –¥–æ —Ç–∏–ø—É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> interface Runnable {}
> interface Serializable {}
> class Task implements Runnable, Serializable { /* ... */ }
>
> Object obj = new Task(); // obj –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ –æ–±'—î–∫—Ç Task
>
> // Upcasting –¥–æ —Ç–∏–ø—É Object (–Ω–µ—è–≤–Ω–∏–π)
> // Upcasting –¥–æ —Ç–∏–ø—É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É —Ç–∞–∫–æ–∂ –Ω–µ—è–≤–Ω–∏–π:
> Runnable runnable = new Task();
>
> // Downcasting –∑ Object –¥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
> if (obj instanceof Serializable) {
>     Serializable s = (Serializable) obj; // –ë–µ–∑–ø–µ—á–Ω–∏–π –∫–∞—Å—Ç–∏–Ω–≥
> }
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ —î –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ —ñ –±–µ—Ä—É—Ç—å —É—á–∞—Å—Ç—å —É –ø–æ–ª—ñ–º–æ—Ä—Ñ—ñ–∑–º—ñ —Ç–∞ –∫–∞—Å—Ç–∏–Ω–≥—É.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ **Pattern Matching for `instanceof`**, –≤–≤–µ–¥–µ–Ω–∏–π —É Java 16, —ñ —è–∫—É –ø—Ä–æ–±–ª–µ–º—É –≤—ñ–Ω –≤–∏—Ä—ñ—à—É—î? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **Pattern Matching for `instanceof`** ‚Äî —Ü–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–µ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è, —è–∫–µ –∑–Ω–∞—á–Ω–æ **—Å–ø—Ä–æ—â—É—î —ñ —Ä–æ–±–∏—Ç—å –±–µ–∑–ø–µ—á–Ω—ñ—à–∏–º** –∫–æ–¥, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `instanceof` –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –∫–∞—Å—Ç–∏–Ω–≥–æ–º.
>
> **–ü—Ä–æ–±–ª–µ–º–∞, —è–∫—É –≤—ñ–Ω –≤–∏—Ä—ñ—à—É—î:**
>
> –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —ñ–¥—ñ–æ–º–∞ "–ø–µ—Ä–µ–≤—ñ—Ä, –ø–æ—Ç—ñ–º –ø—Ä–∏–≤–∏–¥–µ" —î –±–∞–≥–∞—Ç–æ—Å–ª—ñ–≤–Ω–æ—é —Ç–∞ —Ç—Ä–æ—Ö–∏ –Ω–∞–¥–ª–∏—à–∫–æ–≤–æ—é.
>
> ```java
> // –î–æ Java 16
> Object obj = "hello";
> if (obj instanceof String) {
>     String s = (String) obj; // 1. –ü–æ–≤—Ç–æ—Ä—é—î–º–æ —Ç–∏–ø
>     System.out.println(s.toUpperCase()); // 2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –Ω–æ–≤—É –∑–º—ñ–Ω–Ω—É
> }
> ```
>
> **–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î –∑ Java 16:**
>
> –ù–æ–≤–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–æ–∑–≤–æ–ª—è—î **–æ–≥–æ–ª–æ—Å–∏—Ç–∏ –∑–º—ñ–Ω–Ω—É –ø—Ä—è–º–æ –≤ —É–º–æ–≤—ñ `instanceof`**. –¶—è –∑–º—ñ–Ω–Ω–∞ –±—É–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–º –∑–Ω–∞—á–µ–Ω–Ω—è–º —ñ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `if`-–±–ª–æ–∫—É.
>
> ```java
> // –ó Java 16
> Object obj = "hello";
> if (obj instanceof String s) { // –û–≥–æ–ª–æ—à—É—î–º–æ 's' –ø—Ä—è–º–æ —Ç—É—Ç
>     // 's' –≤–∂–µ –º–∞—î —Ç–∏–ø String —ñ –¥–æ—Å—Ç—É–ø–Ω–∞
>     System.out.println(s.toUpperCase());
> }
> ```
>
> **–ü–µ—Ä–µ–≤–∞–≥–∏:**
>
> * **–ú–µ–Ω—à–µ –∫–æ–¥—É:** –£—Å—É–≤–∞—î—Ç—å—Å—è –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å —É —è–≤–Ω–æ–º—É –∫–∞—Å—Ç–∏–Ω–≥—É —Ç–∞ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—ñ –Ω–æ–≤–æ—ó –∑–º—ñ–Ω–Ω–æ—ó.
> * **–ü—ñ–¥–≤–∏—â–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏:** –ó–º–µ–Ω—à—É—î—Ç—å—Å—è —Ä–∏–∑–∏–∫ –ø–æ–º–∏–ª–∫–∏ –ø—Ä–∏ –∫–∞—Å—Ç–∏–Ω–≥—É.
> * **–ö—Ä–∞—â–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å:** –ö–æ–¥ —Å—Ç–∞—î –±—ñ–ª—å—à –ª–∞–∫–æ–Ω—ñ—á–Ω–∏–º —ñ –∑—Ä–æ–∑—É–º—ñ–ª–∏–º.
>
> –¶—è —Ñ—ñ—á–∞ —î —á–∞—Å—Ç–∏–Ω–æ—é —à–∏—Ä—à–æ—ó —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∏ –∑ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –∑—ñ—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –∑—Ä–∞–∑–∫—ñ–≤ (pattern matching) —É Java.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏—Ö —Ñ—ñ—á –º–æ–≤–∏ Java —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –≤–æ–Ω–∏ —Å–ø—Ä–æ—â—É—é—Ç—å –ø–æ—à–∏—Ä–µ–Ω—ñ –ø–∞—Ç–µ—Ä–Ω–∏ –∫–æ–¥—É–≤–∞–Ω–Ω—è.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –≤–∏–≤–µ–¥—É—Ç—å `this.getClass()` —Ç–∞ `super.getClass()` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –¥–æ—á—ñ—Ä–Ω—å–æ–≥–æ –∫–ª–∞—Å—É? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í–æ–Ω–∏ **–∑–∞–≤–∂–¥–∏ –≤–∏–≤–µ–¥—É—Ç—å –æ–¥–Ω–µ –π —Ç–µ —Å–∞–º–µ** ‚Äî –∫–ª–∞—Å **—Ñ–∞–∫—Ç–∏—á–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ —á–∞—Å—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**, –∞ –Ω–µ –∫–ª–∞—Å, –¥–µ –±—É–ª–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –∫–æ–¥.
>
> **–ü–æ—è—Å–Ω–µ–Ω–Ω—è (—Ü–µ –ø–∏—Ç–∞–Ω–Ω—è-–ø–∞—Å—Ç–∫–∞):**
>
> 1. –ú–µ—Ç–æ–¥ `getClass()` –æ–≥–æ–ª–æ—à–µ–Ω–∏–π —É –∫–ª–∞—Å—ñ `Object` —è–∫ **`public final`**.
> 2. –û—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω `final`, –π–æ–≥–æ **–Ω–µ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∏—Ç–∏**.
> 3. –¢–æ–º—É, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —è–∫ –≤–∏ –π–æ–≥–æ –≤–∏–∫–ª–∏–∫–∞—î—Ç–µ (`this.getClass()` —á–∏ `super.getClass()`), –∑–∞–≤–∂–¥–∏ –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–æ **—î–¥–∏–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é** —Ü—å–æ–≥–æ –º–µ—Ç–æ–¥—É –∑ –∫–ª–∞—Å—É `Object`.
> 4. –¶—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ–≤–µ—Ä—Ç–∞—î **runtime-—Ç–∏–ø –ø–æ—Ç–æ—á–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ (`this`)**.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> class Parent {
>     public void check() {
>         System.out.println("this.getClass(): " + this.getClass().getName());
>         System.out.println("super.getClass(): " + super.getClass().getName());
>     }
> }
> class Child extends Parent {}
>
> new Child().check();
> ```
>
> **–í–∏–≤—ñ–¥:**
>
> ```
>
> this.getClass(): Child
> super.getClass(): Child
> ```
>
> `super` –Ω–µ –∑–º—ñ–Ω—é—î –æ–±'—î–∫—Ç, –¥–ª—è —è–∫–æ–≥–æ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –º–µ—Ç–æ–¥, –∞ –ª–∏—à–µ –¥–æ–∑–≤–æ–ª—è—î –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –º–µ—Ç–æ–¥—É –∑ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –∫–ª–∞—Å—É (—è–∫—â–æ –≤—ñ–Ω –Ω–µ `final`). –ê–ª–µ –æ—Å–∫—ñ–ª—å–∫–∏ `getClass()` —î `final`, –≤–∏–∫–ª–∏–∫ `super.getClass()` —Ñ–∞–∫—Ç–∏—á–Ω–æ —ñ–¥–µ–Ω—Ç–∏—á–Ω–∏–π `this.getClass()`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ï–∫—Å–ø–µ—Ä—Ç–Ω–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ `final` –º–µ—Ç–æ–¥–∏ –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å –∑ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è–º —Ç–∞ –ø–æ–ª—ñ–º–æ—Ä—Ñ—ñ–∑–º–æ–º. –£–º—ñ–Ω–Ω—è —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è-–ø–∞—Å—Ç–∫–∏.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `Object` —Ç–∞ –∫–∞—Å—Ç–∏–Ω–≥ –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –Ω–µ-—Ç–∏–ø—ñ–∑–æ–≤–∞–Ω–∏–º–∏ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏—Å—è –¥–æ Java 5? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–æ –ø–æ—è–≤–∏ **–¥–∂–µ–Ω–µ—Ä–∏–∫—ñ–≤ (Generics)** —É Java 5, —É—Å—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó –ø—Ä–∞—Ü—é–≤–∞–ª–∏ –∑ —Ç–∏–ø–æ–º **`Object`**.
>
> `List list = new ArrayList();`
>
> **–Ø–∫ —Ü–µ –±—É–ª–æ –ø–æ–≤'—è–∑–∞–Ω–æ –∑ `Object` —Ç–∞ –∫–∞—Å—Ç–∏–Ω–≥–æ–º:**
>
> * **–î–æ–¥–∞–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤:** –û—Å–∫—ñ–ª—å–∫–∏ –±—É–¥—å-—è–∫–∏–π –æ–±'—î–∫—Ç —î `Object`, –≤–∏ –º–æ–≥–ª–∏ –¥–æ–¥–∞—Ç–∏ –≤ —Ç–∞–∫–∏–π —Å–ø–∏—Å–æ–∫ **–±—É–¥—å-—â–æ**: —Ä—è–¥–∫–∏, —á–∏—Å–ª–∞, –¥–∞—Ç–∏, –∫–∞—Å—Ç–æ–º–Ω—ñ –æ–±'—î–∫—Ç–∏. –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –Ω–µ –º—ñ–≥ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—é.
>
>     ```java
>     list.add("hello");
>     list.add(Integer.valueOf(10));
>     ```>
> * **–û—Ç—Ä–∏–º–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤:** –ú–µ—Ç–æ–¥ `list.get(index)` –ø–æ–≤–µ—Ä—Ç–∞–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∏–ø—É **`Object`**. –©–æ–± –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –Ω–∏–º —è–∫ –∑ –æ–±'—î–∫—Ç–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø—É, –±—É–ª–æ **–∑–∞–≤–∂–¥–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —è–≤–Ω–∏–π –Ω–∏–∑—Ö—ñ–¥–Ω–∏–π –∫–∞—Å—Ç–∏–Ω–≥**.
>
>     ```java
>     Object obj = list.get(0);
>     String s = (String) obj; // –ü–æ—Ç—Ä—ñ–±–µ–Ω –∫–∞—Å—Ç–∏–Ω–≥
>     ```>
>
> **–ü—Ä–æ–±–ª–µ–º–∏ —Ç–∞–∫–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É:**
>
> 1. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –±–µ–∑–ø–µ–∫–∏ —Ç–∏–ø—ñ–≤:** –í–∏ –º–æ–≥–ª–∏ –≤–∏–ø–∞–¥–∫–æ–≤–æ –ø–æ–∫–ª–∞—Å—Ç–∏ –≤ "—Å–ø–∏—Å–æ–∫ —Ä—è–¥–∫—ñ–≤" —á–∏—Å–ª–æ, —ñ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä —Ü—å–æ–≥–æ –± –Ω–µ –ø–æ–º—ñ—Ç–∏–≤.
> 2. **–†–∏–∑–∏–∫ `ClassCastException`:** –ü–æ–º–∏–ª–∫–∞ –ø—Ä–æ—è–≤–ª—è–ª–∞—Å—è –ª–∏—à–µ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, –∫–æ–ª–∏ –≤–∏ –Ω–∞–º–∞–≥–∞–ª–∏—Å—è –ø—Ä–∏–≤–µ—Å—Ç–∏ –æ–±'—î–∫—Ç –¥–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø—É.
> 3. **–ë–∞–≥–∞—Ç–æ—Å–ª—ñ–≤–Ω—ñ—Å—Ç—å:** –ö–æ–¥ –±—É–≤ –∑–∞—Å–º—ñ—á–µ–Ω–∏–π –ø–æ—Å—Ç—ñ–π–Ω–∏–º–∏ —è–≤–Ω–∏–º–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è–º–∏.
>
> –î–∂–µ–Ω–µ—Ä–∏–∫–∏ –≤–∏—Ä—ñ—à–∏–ª–∏ –≤—Å—ñ —Ü—ñ –ø—Ä–æ–±–ª–µ–º–∏, –ø–µ—Ä–µ–Ω—ñ—Å—à–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Ç–∏–ø—ñ–≤ –Ω–∞ –µ—Ç–∞–ø –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó –º–æ–≤–∏ —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫—ñ –ø—Ä–æ–±–ª–µ–º–∏ –≤–∏—Ä—ñ—à–∏–ª–∏ –¥–∂–µ–Ω–µ—Ä–∏–∫–∏.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —â–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è –≤ —Ü—å–æ–º—É –∫–æ–¥—ñ, —ñ —á–æ–º—É –æ–¥–∏–Ω –∫–∞—Å—Ç–∏–Ω–≥ –≤–∞–ª—ñ–¥–Ω–∏–π, –∞ —ñ–Ω—à–∏–π ‚Äî –Ω—ñ.

```java
Number n = 10;
Double d = (Double) n;
Integer i = (Integer) n;
```

‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ —Ç–µ, —è–∫ **–∞–≤—Ç–æ—É–ø–∞–∫–æ–≤–∫–∞ (autoboxing)** —Ç–∞ **–ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤** –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å.
>
> **–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∫—Ä–æ–∫ –∑–∞ –∫—Ä–æ–∫–æ–º:**
>
> 1. `Number n = 10;`
>     * `10` ‚Äî —Ü–µ `int`-–ª—ñ—Ç–µ—Ä–∞–ª.
>     * –ó–∞–≤–¥—è–∫–∏ **–∞–≤—Ç–æ—É–ø–∞–∫–æ–≤—Ü—ñ**, –≤—ñ–Ω –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ –æ–±'—î–∫—Ç **`Integer`**.
>     * –ü–æ—Ç—ñ–º, –∑–∞–≤–¥—è–∫–∏ **upcasting**, –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ü–µ–π `Integer` –ø—Ä–∏—Å–≤–æ—é—î—Ç—å—Å—è –∑–º—ñ–Ω–Ω—ñ–π `n` —Ç–∏–ø—É `Number` (–æ—Å–∫—ñ–ª—å–∫–∏ `Integer` —î –ø—ñ–¥–∫–ª–∞—Å–æ–º `Number`).
>     * –û—Ç–∂–µ, –∑–º—ñ–Ω–Ω–∞ `n` –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ –æ–±'—î–∫—Ç —Ç–∏–ø—É **`Integer`**.
>
> 2. `Double d = (Double) n;`
>     * –ú–∏ –Ω–∞–º–∞–≥–∞—î–º–æ—Å—è –ø—Ä–∏–≤–µ—Å—Ç–∏ –æ–±'—î–∫—Ç —Ç–∏–ø—É `Integer` –¥–æ —Ç–∏–ø—É `Double`.
>     * `Integer` —Ç–∞ `Double` —î "–±—Ä–∞—Ç–Ω—ñ–º–∏" –∫–ª–∞—Å–∞–º–∏ ‚Äî –≤–æ–Ω–∏ –æ–±–∏–¥–≤–∞ —É—Å–ø–∞–¥–∫–æ–≤—É—é—Ç—å `Number`, –∞–ª–µ **–Ω–µ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤ –æ–¥–Ω—ñ–π —ñ—î—Ä–∞—Ä—Ö–∞—Ç—ñ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è** –æ–¥–∏–Ω –∑ –æ–¥–Ω–æ–≥–æ.
>     * –¢–∞–∫–∏–π –∫–∞—Å—Ç–∏–Ω–≥ –Ω–µ–º–æ–∂–ª–∏–≤–∏–π. –ü—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –±—É–¥–µ –≤–∏–∫–∏–Ω—É—Ç–æ **`ClassCastException`**.
>
> 3. `Integer i = (Integer) n;`
>     * –ú–∏ –Ω–∞–º–∞–≥–∞—î–º–æ—Å—è –ø—Ä–∏–≤–µ—Å—Ç–∏ –æ–±'—î–∫—Ç –¥–æ –π–æ–≥–æ **—Ñ–∞–∫—Ç–∏—á–Ω–æ–≥–æ —Ç–∏–ø—É** (`Integer`).
>     * –¶–µ –≤–∞–ª—ñ–¥–Ω–∏–π downcasting, —è–∫–∏–π —É—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** –ö–∞—Å—Ç–∏–Ω–≥ –¥–æ–∑–≤–æ–ª–µ–Ω–∏–π –ª–∏—à–µ "–≤–≥–æ—Ä—É" –∞–±–æ "–≤–Ω–∏–∑" –ø–æ –æ–¥–Ω—ñ–π –≥—ñ–ª—Ü—ñ —ñ—î—Ä–∞—Ä—Ö—ñ—ó, –∞–ª–µ –Ω–µ "–≤–±—ñ–∫" –º—ñ–∂ —Ä—ñ–∑–Ω–∏–º–∏ –≥—ñ–ª–∫–∞–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ `autoboxing` —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤, —ñ —è–∫ —Ü–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –ø–æ–¥–∞–ª—å—à–∏–π –∫–∞—Å—Ç–∏–Ω–≥.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `instanceof` –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø—É –ø—Ä–∏–º—ñ—Ç–∏–≤–∞? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ù—ñ, –Ω–µ –º–æ–∂–Ω–∞.** –û–ø–µ—Ä–∞—Ç–æ—Ä `instanceof` –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Ä–æ–±–æ—Ç–∏ **–ª–∏—à–µ –∑ –æ–±'—î–∫—Ç–Ω–∏–º–∏ (–ø–æ—Å–∏–ª–∞–ª—å–Ω–∏–º–∏) —Ç–∏–ø–∞–º–∏**.
>
> **–ü—Ä–∏–º—ñ—Ç–∏–≤–Ω—ñ —Ç–∏–ø–∏** (`int`, `double`, `boolean` —Ç–æ—â–æ) –Ω–µ —î –æ–±'—î–∫—Ç–∞–º–∏, –≤–æ–Ω–∏ –Ω–µ –º–∞—é—Ç—å –∫–ª–∞—Å—É —ñ –Ω–µ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤ —ñ—î—Ä–∞—Ä—Ö–∞—Ç—ñ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è.
>
> –°–ø—Ä–æ–±–∞ –Ω–∞–ø–∏—Å–∞—Ç–∏ —Ç–∞–∫–∏–π –∫–æ–¥:
>
> ```java
> int i = 10;
> // if (i instanceof Integer) { ... } // –ü–û–ú–ò–õ–ö–ê –ö–û–ú–ü–Ü–õ–Ø–¶–Ü–á
> ```
>
> –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ **–ø–æ–º–∏–ª–∫–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó** `unexpected type; required: reference, found: int`.
>
> –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—É –¥–ª—è –ø—Ä–∏–º—ñ—Ç–∏–≤—ñ–≤ –Ω–µ –º–∞—î —Å–µ–Ω—Å—É, –æ—Å–∫—ñ–ª—å–∫–∏ —ó—Ö–Ω—ñ–π —Ç–∏–ø –∑–∞–≤–∂–¥–∏ –≤—ñ–¥–æ–º–∏–π –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó. –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –º–æ–∂–Ω–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ —è–∫–∏–π—Å—å –æ–±'—î–∫—Ç (`Object`) —è–∫ –ø–µ–≤–Ω–∏–π –ø—Ä–∏–º—ñ—Ç–∏–≤, –≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –π–æ–≥–æ –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å **–∫–ª–∞—Å—É-–æ–±–≥–æ—Ä—Ç—Ü—ñ**:
> `if (obj instanceof Integer) { ... }`

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ß—ñ—Ç–∫–µ —Ä–æ–∑–º–µ–∂—É–≤–∞–Ω–Ω—è –º—ñ–∂ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏–º–∏ —Ç–∞ –ø–æ—Å–∏–ª–∞–ª—å–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É —Ü–µ–π –∫–æ–¥ –Ω–µ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è? –Ø–∫ —Ü–µ –ø–æ–≤'—è–∑–∞–Ω–æ –∑ –∫–∞—Å—Ç–∏–Ω–≥–æ–º?
`String s = new Integer(1);`
‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ–π –∫–æ–¥ –Ω–µ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ **–Ω–µ–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å —Ç–∏–ø—ñ–≤**, —è–∫—É –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –º–æ–∂–µ –≤–∏—è–≤–∏—Ç–∏ –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó.
>
> **–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
>
> 1. `new Integer(1)` —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç —Ç–∏–ø—É `Integer`.
> 2. –í–∏ –Ω–∞–º–∞–≥–∞—î—Ç–µ—Å—è –ø—Ä–∏—Å–≤–æ—ó—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ü–µ–π –æ–±'—î–∫—Ç –∑–º—ñ–Ω–Ω—ñ–π —Ç–∏–ø—É `String`.
>
> –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –∞–Ω–∞–ª—ñ–∑—É—î —ñ—î—Ä–∞—Ä—Ö—ñ—é —Ç–∏–ø—ñ–≤:
>
> * –ö–ª–∞—Å `String` —î `final`, –≤—ñ–¥ –Ω—å–æ–≥–æ –Ω–µ –º–æ–∂–Ω–∞ —É—Å–ø–∞–¥–∫–æ–≤—É–≤–∞—Ç–∏.
> * –ö–ª–∞—Å `Integer` —Ç–∞–∫–æ–∂ —î `final`.
> * –ú—ñ–∂ `String` —Ç–∞ `Integer` **–Ω–µ–º–∞—î –∂–æ–¥–Ω–æ–≥–æ –∑–≤'—è–∑–∫—É –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è**.
>
> –û—Å–∫—ñ–ª—å–∫–∏ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –º–æ–∂–µ **–¥–æ—Å—Ç–µ–º–µ–Ω–Ω–æ –∑–Ω–∞—Ç–∏ –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó**, —â–æ –æ–±'—î–∫—Ç —Ç–∏–ø—É `Integer` **–Ω—ñ–∫–æ–ª–∏** –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–π –¥–æ —Ç–∏–ø—É `String`, –≤—ñ–Ω –æ–¥—Ä–∞–∑—É –∂ –≤–∏–¥–∞—î –ø–æ–º–∏–ª–∫—É `incompatible types`.
>
> **–Ø–∫–±–∏ —ñ—î—Ä–∞—Ä—Ö—ñ—è –±—É–ª–∞ –º–æ–∂–ª–∏–≤–æ—é:**
>
> –Ø–∫–±–∏ –º–∏ –Ω–∞–ø–∏—Å–∞–ª–∏:
> `Object obj = new Integer(1);`
> `String s = (String) obj;`
>
> –ü–µ—Ä—à–∏–π —Ä—è–¥–æ–∫ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è (upcasting). –î—Ä—É–≥–∏–π —Ç–∞–∫–æ–∂ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è, –±–æ –¥–ª—è –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞ `obj` –º–æ–∂–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–æ –ø–æ—Å–∏–ª–∞—Ç–∏—Å—è –Ω–∞ `String`. –ê–ª–µ —Ü–µ–π –∫–æ–¥ **–≤–ø–∞–¥–µ –≤ —Ä–∞–Ω—Ç–∞–π–º—ñ –∑ `ClassCastException`**.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ —Å—Ç–∞—Ç–∏—á–Ω–∞ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—è —Ç–∞ –∞–Ω–∞–ª—ñ–∑ —ñ—î—Ä–∞—Ä—Ö—ñ—ó –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä—É –∑–∞–ø–æ–±—ñ–≥–∞—Ç–∏ –¥–µ—è–∫–∏–º –ø–æ–º–∏–ª–∫–∞–º —â–µ –¥–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–≥—Ä–∞–º–∏.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –∑–º—ñ–Ω–∏–ª–æ—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `instanceof` –∑ –≤–≤–µ–¥–µ–Ω–Ω—è–º **Sealed Classes** (–∑–∞–ø–µ—á–∞—Ç–∞–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤) —É Java 17? ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **Sealed Classes (–∑–∞–ø–µ—á–∞—Ç–∞–Ω—ñ –∫–ª–∞—Å–∏)** ‚Äî —Ü–µ —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—É **–æ–±–º–µ–∂–∏—Ç–∏ —ñ—î—Ä–∞—Ä—Ö—ñ—é –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è**. –ö–ª–∞—Å, –æ–≥–æ–ª–æ—à–µ–Ω–∏–π —è–∫ `sealed`, –º–æ–∂–µ –±—É—Ç–∏ —É—Å–ø–∞–¥–∫–æ–≤–∞–Ω–∏–π –ª–∏—à–µ —Ç–∏–º–∏ –∫–ª–∞—Å–∞–º–∏, —è–∫—ñ —è–≤–Ω–æ –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤–∞–Ω—ñ –≤ –π–æ–≥–æ `permits` —Å–ø–∏—Å–∫—É.
>
> **–Ø–∫ —Ü–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ `instanceof`:**
>
> –û—Å–∫—ñ–ª—å–∫–∏ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä —Ç–µ–ø–µ—Ä **—Ç–æ—á–Ω–æ –∑–Ω–∞—î –ø–æ–≤–Ω–∏–π, –∑–∞–∫—Ä–∏—Ç–∏–π –Ω–∞–±—ñ—Ä —É—Å—ñ—Ö –º–æ–∂–ª–∏–≤–∏—Ö –ø—ñ–¥—Ç–∏–ø—ñ–≤**, –≤—ñ–Ω –º–æ–∂–µ –ø—Ä–æ–≤–æ–¥–∏—Ç–∏ –±—ñ–ª—å—à –≥–ª–∏–±–æ–∫–∏–π –∞–Ω–∞–ª—ñ–∑.
>
> –¶–µ —Ä–æ–±–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó `switch` –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º **Pattern Matching** –±—ñ–ª—å—à –ø–æ—Ç—É–∂–Ω–∏–º–∏ —Ç–∞ –±–µ–∑–ø–µ—á–Ω–∏–º–∏.
>
> **–ü—Ä–∏–∫–ª–∞–¥ –∑ `switch` (Java 21):**
>
> ```java
> sealed interface Shape permits Circle, Square {}
> final class Circle implements Shape {}
> final class Square implements Shape {}
>
> public void processShape(Shape shape) {
>     switch (shape) { // Pattern Matching —É switch
>         case Circle c -> System.out.println("It's a circle");
>         case Square s -> System.out.println("It's a square");
>         // `default` –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω!
>     }
> }
> ```
>
> –¢—É—Ç –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –∑–Ω–∞—î, —â–æ `Shape` –º–æ–∂–µ –±—É—Ç–∏ –ª–∏—à–µ `Circle` –∞–±–æ `Square`. –í—ñ–Ω –º–æ–∂–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –≤–∏ –æ–±—Ä–æ–±–∏–ª–∏ **–≤—Å—ñ –º–æ–∂–ª–∏–≤—ñ –≤–∏–ø–∞–¥–∫–∏**. –Ø–∫—â–æ –≤–∏ –Ω–µ –æ–±—Ä–æ–±–∏—Ç–µ –æ–¥–∏–Ω –∑ –Ω–∏—Ö, –≤—ñ–Ω –≤–∏–¥–∞—Å—Ç—å **–ø–æ–º–∏–ª–∫—É –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó**.
>
> –¶–µ –Ω–∞–±–∞–≥–∞—Ç–æ –∫—Ä–∞—â–µ, –Ω—ñ–∂ –ª–∞–Ω—Ü—é–∂–æ–∫ –∑ `instanceof`:
>
> * –í—ñ–Ω **–±–µ–∑–ø–µ—á–Ω—ñ—à–∏–π** (–≤–∏ –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ –Ω–æ–≤–∏–π —Ç–∏–ø).
> * –í—ñ–Ω **–±—ñ–ª—å—à —á–∏—Ç–∞–±–µ–ª—å–Ω–∏–π**.
>
> –û—Ç–∂–µ, `sealed` –∫–ª–∞—Å–∏ –≤ –ø–æ—î–¥–Ω–∞–Ω–Ω—ñ –∑ `pattern matching` —Ä–æ–±–ª—è—Ç—å `instanceof`-–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –±—ñ–ª—å—à —Å—Ç—Ä–æ–≥–∏–º–∏ —ñ –≤ –±–∞–≥–∞—Ç—å–æ—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –∑–∞–º—ñ–Ω—é—é—Ç—å —ó—Ö –Ω–∞ –±—ñ–ª—å—à –µ–ª–µ–≥–∞–Ω—Ç–Ω—É —Ç–∞ –±–µ–∑–ø–µ—á–Ω—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é `switch`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –Ω–æ–≤—ñ—Ç–Ω—ñ—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π –º–æ–≤–∏ Java. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω —Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫ —Å—É—á–∞—Å–Ω—ñ —Ñ—ñ—á—ñ –ø–æ–∫—Ä–∞—â—É—é—Ç—å –±–µ–∑–ø–µ–∫—É —Ç–∏–ø—ñ–≤ —Ç–∞ —Ä–æ–±–ª—è—Ç—å —Å—Ç–∞—Ä—ñ –ø–∞—Ç–µ—Ä–Ω–∏ (—è–∫-–æ—Ç `if-instanceof`) –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–º–∏.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£—è–≤—ñ—Ç—å, —â–æ –º–µ—Ç–æ–¥ `equals()` –Ω–µ –±—É–ª–æ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–æ —É –≤–∞—à–æ–º—É –∫–ª–∞—Å—ñ. –Ø–∫ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —Ü–µ–π –∫–æ–¥ —É `HashSet`?

```java
class Point {
    int x, y;
    Point(int x, int y) { this.x=x; this.y=y; }
}
//...
Set<Point> points = new HashSet<>();
points.add(new Point(1, 1));
points.add(new Point(1, 1));
System.out.println(points.size());
```

‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ö–æ–¥ –≤–∏–≤–µ–¥–µ –Ω–∞ –µ–∫—Ä–∞–Ω **`2`**.
>
> **–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
>
> 1. `HashSet` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –º–µ—Ç–æ–¥–∏ **`hashCode()`** —Ç–∞ **`equals()`** –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤.
>
> 2. –û—Å–∫—ñ–ª—å–∫–∏ –∫–ª–∞—Å `Point` **–Ω–µ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—î** —Ü—ñ –º–µ—Ç–æ–¥–∏, –≤—ñ–Ω —É—Å–ø–∞–¥–∫–æ–≤—É—î —ó—Ö–Ω—é **—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –∑ –∫–ª–∞—Å—É `Object`**.
>
> 3. **`Object.hashCode()`:** –ó–∞–∑–≤–∏—á–∞–π –ø–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è, —â–æ –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –∞–¥—Ä–µ—Å—ñ –æ–±'—î–∫—Ç–∞ –≤ –ø–∞–º'—è—Ç—ñ. –î–ª—è –¥–≤–æ—Ö —Ä—ñ–∑–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ (`new Point(1, 1)` —Ç–∞ `new Point(1, 1)`) —Ü—ñ —Ö–µ—à-–∫–æ–¥–∏ –±—É–¥—É—Ç—å **—Ä—ñ–∑–Ω–∏–º–∏**.
>
> 4. **`Object.equals(Object obj)`:** –ü—Ä–∞—Ü—é—î —Ç–∞–∫ —Å–∞–º–æ, —è–∫ `==`, —Ç–æ–±—Ç–æ –ø–æ—Ä—ñ–≤–Ω—é—î **–ø–æ—Å–∏–ª–∞–Ω–Ω—è**.
>
> **–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –≤ `HashSet`:**
>
> * **–ü–µ—Ä—à–∏–π `points.add(new Point(1, 1))`:**
>   * –û–±—á–∏—Å–ª—é—î—Ç—å—Å—è `hashCode()` –¥–ª—è –Ω–æ–≤–æ–≥–æ –æ–±'—î–∫—Ç–∞.
>   * –û—Å–∫—ñ–ª—å–∫–∏ –º–Ω–æ–∂–∏–Ω–∞ –ø–æ—Ä–æ–∂–Ω—è, –æ–±'—î–∫—Ç –ø—Ä–æ—Å—Ç–æ –¥–æ–¥–∞—î—Ç—å—Å—è —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π "–∫–æ—à–∏–∫" (bucket).
>
> * **–î—Ä—É–≥–∏–π `points.add(new Point(1, 1))`:**
>   * –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è **–Ω–æ–≤–∏–π, –¥—Ä—É–≥–∏–π –æ–±'—î–∫—Ç**.
>   * –û–±—á–∏—Å–ª—é—î—Ç—å—Å—è `hashCode()`. –û—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç, —Ö–µ—à-–∫–æ–¥ –±—É–¥–µ **—ñ–Ω—à–∏–º**.
>   * `HashSet` –∫–ª–∞–¥–µ –π–æ–≥–æ –≤ —ñ–Ω—à–∏–π –∫–æ—à–∏–∫ (–∞–±–æ –≤ —Ç–æ–π –∂–µ, —è–∫—â–æ —Å—Ç–∞–ª–∞—Å—è –∫–æ–ª—ñ–∑—ñ—è, –∞–ª–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —á–µ—Ä–µ–∑ `equals()` –≤—Å–µ –æ–¥–Ω–æ –ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è). `equals()` –ø–æ–≤–µ—Ä–Ω–µ `false`, –æ—Å–∫—ñ–ª—å–∫–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —Ä—ñ–∑–Ω—ñ.
>   * `HashSet` –≤–≤–∞–∂–∞—î —Ü–µ–π –æ–±'—î–∫—Ç —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º —ñ –¥–æ–¥–∞—î –π–æ–≥–æ.
>
> –¢–æ–º—É –≤ `HashSet` –±—É–¥–µ –¥–≤–∞ "–ª–æ–≥—ñ—á–Ω–æ –æ–¥–Ω–∞–∫–æ–≤–∏—Ö", –∞–ª–µ "—Ç–µ—Ö–Ω—ñ—á–Ω–æ —Ä—ñ–∑–Ω–∏—Ö" –æ–±'—î–∫—Ç–∏. –¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, –Ω–∞—Å–∫—ñ–ª—å–∫–∏ –≤–∞–∂–ª–∏–≤–æ –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è **–∫–æ–Ω—Ç—Ä–∞–∫—Ç—É `equals` —Ç–∞ `hashCode`** –¥–ª—è –≤–ª–∞—Å–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤, —è–∫—ñ –±—É–¥—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –≤ –∫–æ–ª–µ–∫—Ü—ñ—è—Ö.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ï–∫—Å–ø–µ—Ä—Ç–Ω–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –ø—Ä–∞—Ü—é—é—Ç—å —Ö–µ—à-–∫–æ–ª–µ–∫—Ü—ñ—ó, —Ç–∞ –∫—Ä–∏—Ç–∏—á–Ω–æ—ó –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è `equals()` —Ç–∞ `hashCode()`. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω —Ä–æ–∑—É–º—ñ—Ç–∏ –Ω–∞—Å–ª—ñ–¥–∫–∏ —ó—Ö –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ.*
