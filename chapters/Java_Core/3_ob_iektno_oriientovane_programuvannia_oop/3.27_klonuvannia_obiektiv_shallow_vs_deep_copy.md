---
layout: default
title: "–ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è –æ–±‚Äô—î–∫—Ç—ñ–≤: shallow vs deep copy"
parent: "–û–±'—î–∫—Ç–Ω–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è (–û–û–ü)"
grand_parent: "Java Core"
nav_order: 27
---

# –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è –æ–±‚Äô—î–∫—Ç—ñ–≤: shallow vs deep copy

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `Shallow copy` (–ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ) ‚Äì –∫–æ–ø—ñ—é—î –ø—Ä–∏–º—ñ—Ç–∏–≤–∏ –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º —Ç–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±'—î–∫—Ç–∏ (–≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±'—î–∫—Ç–∏ —Å–ø—ñ–ª—å–Ω—ñ). `Deep copy` (–≥–ª–∏–±–æ–∫–µ) ‚Äì —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∫–æ–ø—ñ—é—î –≤—Å—ñ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±'—î–∫—Ç–∏, —Å—Ç–≤–æ—Ä—é—é—á–∏ –ø–æ–≤–Ω—É –Ω–µ–∑–∞–ª–µ–∂–Ω—É –∫–æ–ø—ñ—é.

* –ø–æ–Ω—è—Ç—Ç—è: `clone()`, `Cloneable`, Shallow copy, Deep copy.

* –ø—Ä–∏–∫–ª–∞–¥–∏: –ó–º—ñ–Ω–∞ –≤–∫–ª–∞–¥–µ–Ω–æ–≥–æ `Address` —É `Person` –≤ `shallow copy` –≤–ø–ª–∏–≤–∞—î –Ω–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª, —Ç–æ–¥—ñ —è–∫ —É `deep copy` ‚Äì –Ω—ñ.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: `clone()` –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —Ä–æ–±–∏—Ç—å `shallow copy`. `Deep copy` –Ω–µ–æ–±—Ö—ñ–¥–Ω–∞, –∫–æ–ª–∏ –æ–±'—î–∫—Ç –º—ñ—Å—Ç–∏—Ç—å mutable –ø–æ–ª—è.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –†—ñ–∑–Ω–∏—Ü—è, —è–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ deep copy, –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ `clone()`.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

* **clone()** ‚Äî –º–µ—Ç–æ–¥ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É **`Cloneable`**, —â–æ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–ø—ñ—é –æ–±‚Äô—î–∫—Ç–∞.
* **Shallow copy (–ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è)** ‚Äî –∫–æ–ø—ñ—è –æ–±‚Äô—î–∫—Ç–∞, –≤ —è–∫—ñ–π –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω—ñ –ø–æ–ª—è –∫–æ–ø—ñ—é—é—Ç—å—Å—è, –∞ –æ–±‚Äô—î–∫—Ç–Ω—ñ –ø–æ–ª—è ‚Äî –∫–æ–ø—ñ—é—é—Ç—å—Å—è —è–∫ –ø–æ—Å–∏–ª–∞–Ω–Ω—è (—Å–ø—ñ–ª—å–Ω—ñ –æ–±‚Äô—î–∫—Ç–∏).
* **Deep copy (–≥–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è)** ‚Äî –ø–æ–≤–Ω–∞ –∫–æ–ø—ñ—è –æ–±‚Äô—î–∫—Ç–∞ —Ä–∞–∑–æ–º —ñ–∑ —É—Å—ñ–º–∞ –≤–∫–ª–∞–¥–µ–Ω–∏–º–∏ –æ–±‚Äô—î–∫—Ç–∞–º–∏ (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –Ω–æ–≤—ñ –æ–±‚Äô—î–∫—Ç–∏).

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

* **Shallow** ‚Äî —è–∫ —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ—Ä–æ–±–∫—É, –∞–ª–µ –∑–∞–ª–∏—à–∏—Ç–∏ —Ç—ñ —Å–∞–º—ñ —Ä–µ—á—ñ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ (–≤–æ–Ω–∏ —Å–ø—ñ–ª—å–Ω—ñ).
* **Deep** ‚Äî —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —ñ –∫–æ—Ä–æ–±–∫—É, —ñ –≤—Å–µ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –ø–æ–≤–Ω—ñ—Å—Ç—é, —â–æ–± –≤—Å–µ –±—É–ª–æ –æ–∫—Ä–µ–º–æ.

---

## **–û—Å–Ω–æ–≤–Ω—ñ –≤–∏–¥–∏ –∫–æ–ø—ñ–π**

üìä **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è:**

| –¢–∏–ø –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è | –©–æ –∫–æ–ø—ñ—é—î—Ç—å—Å—è | –ü—Ä–∏–∫–ª–∞–¥ –≤–ø–ª–∏–≤—É –∑–º—ñ–Ω |
| :---: | :---: | :---: |
| **Shallow copy** | –ü—Ä–∏–º—ñ—Ç–∏–≤–∏ ‚Äî –∫–æ–ø—ñ—é—é—Ç—å—Å—è, –æ–±‚Äô—î–∫—Ç–∏ ‚Äî –ø–æ—Å–∏–ª–∞–Ω–Ω—è | –í–∫–ª–∞–¥–µ–Ω—ñ –æ–±‚Äô—î–∫—Ç–∏ –∑–º—ñ–Ω—é—é—Ç—å—Å—è –≤ –æ–±–æ—Ö –∫–æ–ø—ñ—è—Ö |
| **Deep copy** | –ü—Ä–∏–º—ñ—Ç–∏–≤–∏ —ñ –æ–±‚Äô—î–∫—Ç–∏ ‚Äî –ø–æ–≤–Ω—ñ—Å—Ç—é –∫–æ–ø—ñ—é—é—Ç—å—Å—è | –ó–º—ñ–Ω–∏ –≤ –∫–æ–ø—ñ—ó –Ω–µ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

* –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º **`clone()`** —Ä–æ–±–∏—Ç—å shallow copy.
* –Ø–∫—â–æ –≤ –∫–ª–∞—Å—ñ —î –ø–æ–ª—è-–æ–±‚Äô—î–∫—Ç–∏ (—ñ–Ω—à—ñ –∫–ª–∞—Å–∏, —Å–ø–∏—Å–∫–∏), —Ç–æ shallow copy —Å–∫–æ–ø—ñ—é—î –ª–∏—à–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω–∏—Ö.
* –©–æ–± –º–∞—Ç–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–µ–∑–∞–ª–µ–∂–Ω—É –∫–æ–ø—ñ—é ‚Äî —Ç—Ä–µ–±–∞ –≤—Ä—É—á–Ω—É –∑—Ä–æ–±–∏—Ç–∏ deep copy, —Å—Ç–≤–æ—Ä–∏–≤—à–∏ –Ω–æ–≤—ñ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±‚Äô—î–∫—Ç–∏.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

üîπ **Shallow copy (–ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–∞ –∫–æ–ø—ñ—è):**

```java
class Address {
    String city;
    Address(String city) { this.city = city; }
}

class Person implements Cloneable {
    String name;
    Address address;

    Person(String name, Address address) {
        this.name = name;
        this.address = address;
    }

    @Override
    protected Object clone() throws CloneNotSupportedException {
        return super.clone(); // –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–∞ –∫–æ–ø—ñ—è
    }
}

Person p1 = new Person("Alice", new Address("Kyiv"));
Person p2 = (Person) p1.clone();

p2.address.city = "Lviv";

System.out.println(p1.address.city); // ‚ùó "Lviv" -- –∑–º—ñ–Ω–∏ –≤—ñ–¥–±–∏–ª–∏—Å—å —É –æ–±–æ—Ö, –±–æ —Å–ø—ñ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç Address
```

---

üîπ **Deep copy (–≥–ª–∏–±–æ–∫–∞ –∫–æ–ø—ñ—è):**

```java
class Person implements Cloneable {
    String name;
    Address address;

    Person(String name, Address address) {
        this.name = name;
        this.address = address;
    }

    @Override
    protected Object clone() throws CloneNotSupportedException {
        Person cloned = (Person) super.clone();
        cloned.address = new Address(this.address.city); // —Å—Ç–≤–æ—Ä—é—î–º–æ –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç –≤—Ä—É—á–Ω—É
        return cloned;
    }
}
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Shallow Copy | Deep Copy |
| :---: | :---: | :---: |
| **–ü—Ä–∏–º—ñ—Ç–∏–≤–∏** | –ö–æ–ø—ñ—é—é—Ç—å—Å—è | –ö–æ–ø—ñ—é—é—Ç—å—Å—è |
| **–í–∫–ª–∞–¥–µ–Ω—ñ –æ–±‚Äô—î–∫—Ç–∏** | –°–ø—ñ–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è | –ù–æ–≤—ñ, –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ –æ–±‚Äô—î–∫—Ç–∏ |
| **–ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å** | –ó–º—ñ–Ω–∏ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ –æ–±–∏–¥–≤—ñ –∫–æ–ø—ñ—ó | –ö–æ–ø—ñ—ó –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ |
| **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –∫–æ–¥—É** | –ü—Ä–æ—Å—Ç–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è | –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø–∏—Å–∞—Ç–∏ –≤—Ä—É—á–Ω—É/—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ |

---

## **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –ß–∏–º –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è shallow –≤—ñ–¥ deep copy?  

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

 –£ shallow –∫–æ–ø—ñ—é—é—Ç—å—Å—è –ª–∏—à–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±‚Äô—î–∫—Ç–∏, –∞ —É deep ‚Äî –∫–æ–ø—ñ—é—é—Ç—å—Å—è –≤—Å—ñ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±‚Äô—î–∫—Ç–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é.

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –ß–∏ **`clone()`** —Ä–æ–±–∏—Ç—å deep copy?  

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

 ‚ùå –ù—ñ, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º **`clone()`** —Ä–æ–±–∏—Ç—å shallow copy, —è–∫—â–æ –Ω–µ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ deep copy –≤—Ä—É—á–Ω—É.

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –Ø–∫ –∑—Ä–æ–±–∏—Ç–∏ deep copy –≤ Java?  

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

 –í—Ä—É—á–Ω—É ‚Äî —Å—Ç–≤–æ—Ä—é—é—á–∏ –Ω–æ–≤—ñ –æ–±‚Äô—î–∫—Ç–∏ –¥–ª—è –≤–∫–ª–∞–¥–µ–Ω–∏—Ö –ø–æ–ª—ñ–≤, –∞–±–æ —á–µ—Ä–µ–∑ —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é (**`ObjectOutputStream`** -> **`ObjectInputStream`**).

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

* **Shallow** \= *Same references* (–æ–¥–Ω—ñ –π —Ç—ñ —Å–∞–º—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è)
* **Deep** \= *Different everything* (—É—Å–µ –Ω–æ–≤–µ, –æ–∫—Ä–µ–º–µ)

"Shallow ‚Äî –∫–æ–ø—ñ—è –∑–≤–µ—Ä—Ö—É, Deep ‚Äî –∫–æ–ø—ñ—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ."

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

–ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è –≤ Java –±—É–≤–∞—î –¥–≤–æ—Ö –≤–∏–¥—ñ–≤: **–ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ (shallow)** —ñ **–≥–ª–∏–±–æ–∫–µ (deep)**.

* –ü–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ ‚Äî –ø—Ä–æ—Å—Ç–µ, –∞–ª–µ —Ä–æ–∑–¥—ñ–ª—è—î –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±‚Äô—î–∫—Ç–∏ –º—ñ–∂ –∫–æ–ø—ñ—è–º–∏, —â–æ –º–æ–∂–µ —Å–ø—Ä–∏—á–∏–Ω–∏—Ç–∏ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ –∑–º—ñ–Ω–∏.
* –ì–ª–∏–±–æ–∫–µ ‚Äî —Å—Ç–≤–æ—Ä—é—î –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–µ–∑–∞–ª–µ–∂–Ω—É –∫–æ–ø—ñ—é, –∞–ª–µ –ø–æ—Ç—Ä–µ–±—É—î –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó –ª–æ–≥—ñ–∫–∏ —ñ —á–∞—Å—Ç–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≤–∫–ª–∞–¥–µ–Ω–∏—Ö –æ–±‚Äô—î–∫—Ç—ñ–≤.

–¶–µ –æ—Å–æ–±–ª–∏–≤–æ –≤–∞–∂–ª–∏–≤–æ –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –º–æ–¥–µ–ª—è–º–∏, DTO, –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏, –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω—ñ—Å—Ç—é ‚Äî —â–æ–± –∑–º—ñ–Ω–∏ –≤ –æ–¥–Ω–æ–º—É –æ–±‚Äô—î–∫—Ç—ñ –Ω–µ –≤–ø–ª–∏–≤–∞–ª–∏ –Ω–∞ —ñ–Ω—à—ñ.
