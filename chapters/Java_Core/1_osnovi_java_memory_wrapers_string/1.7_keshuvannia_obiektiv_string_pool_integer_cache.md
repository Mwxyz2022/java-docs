---
layout: default
title: "–ö–µ—à—É–≤–∞–Ω–Ω—è –æ–± º—î–∫—Ç—ñ–≤ (String Pool / Integer Cache)"
parent: "–û—Å–Ω–æ–≤–∏ Java: Memory, Wrappers, String"
grand_parent: "Java Core"
nav_order: 7
---

# –ö–µ—à—É–≤–∞–Ω–Ω—è –æ–± º—î–∫—Ç—ñ–≤ (String Pool / Integer Cache)

*   –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –ú–µ—Ö–∞–Ω—ñ–∑–º–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è –¥–ª—è –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤: String Pool (–¥–ª—è —Ä—è–¥–∫–æ–≤–∏—Ö –ª—ñ—Ç–µ—Ä–∞–ª—ñ–≤) —Ç–∞ Integer Cache (–¥–ª—è `Integer` –≤—ñ–¥ -128 –¥–æ 127), —â–æ –æ–ø—Ç–∏–º—ñ–∑—É—î –ø–∞–º'—è—Ç—å.
*   –ø–æ–Ω—è—Ç—Ç—è: String Pool, Integer Cache, –∫–µ—à—É–≤–∞–Ω–Ω—è, `==` vs `equals()`.
*   –ø—Ä–∏–∫–ª–∞–¥–∏: `String s1 = "hi"; String s2 = "hi"; System.out.println(s1 == s2);` (true), `Integer i1 = 100; Integer i2 = 100; System.out.println(i1 == i2);` (true).
*   –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø–∞–º'—è—Ç—ñ, –≤–ø–ª–∏–≤ –Ω–∞ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —á–µ—Ä–µ–∑ `==`. –î–ª—è –æ–±'—î–∫—Ç—ñ–≤ –∑–∞–≤–∂–¥–∏ —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `equals()` –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–º—ñ—Å—Ç—É.
*   —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ß–æ–º—É `==` –¥–∞—î —Ä—ñ–∑–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –¥–ª—è `Integer` –∑–∞ –º–µ–∂–∞–º–∏ –∫–µ—à—É, —Ä—ñ–∑–Ω–∏—Ü—è `==` —ñ `equals()`.


#### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

* **String Pool** —ñ **Integer Pool** ‚Äî —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è —É Java, —â–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω—ñ –æ–±'—î–∫—Ç–∏ —É —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö –ø–∞–º º—è—Ç—ñ.
* –í–æ–Ω–∏ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å –∑–º–µ–Ω—à–∏—Ç–∏ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º º—è—Ç—ñ —Ç–∞ –ø—Ä–∏—à–≤–∏–¥—à–∏—Ç–∏ –¥–æ—Å—Ç—É–ø.

üîπ –£ **String Pool** –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è **—Ä—è–¥–∫–∏-–ª—ñ—Ç–µ—Ä–∞–ª–∏**.  
üîπ –£ **Integer Pool** ‚Äî —Ü—ñ–ª—ñ —á–∏—Å–ª–∞ –≤ **–¥—ñ–∞–ø–∞–∑–æ–Ω—ñ \[-128; 127\]**, —Å—Ç–≤–æ—Ä–µ–Ω—ñ —á–µ—Ä–µ–∑ **autoboxing** –∞–±–æ **`valueOf()`**.

#### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

Java –Ω–µ –ª—é–±–∏—Ç—å –∑–∞–π–≤—ñ –¥—É–±–ª—ñ–∫–∞—Ç–∏. –Ø–∫—â–æ –∑–Ω–∞—á–µ–Ω–Ω—è –≤–∂–µ —ñ—Å–Ω—É—î –≤ "–ø—É–ª—ñ" ‚Äî –≤–æ–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è. –ê–ª–µ —Ü–µ –ø—Ä–∞—Ü—é—î –ª–∏—à–µ **–∑–∞ –ø–µ–≤–Ω–∏—Ö —É–º–æ–≤**.
---

## **2Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω—ñ –≤–∏–¥–∏ / –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó / —Ç–∏–ø–∏**

| –¢–∏–ø | –©–æ –∫–µ—à—É—î—Ç—å—Å—è | –ü—Ä–∏–∫–ª–∞–¥ | –ü—Ä–∏–º—ñ—Ç–∫–∞ |
| :---: | :---: | :---: | :---: |
| **String Pool** | –†—è–¥–∫–∏-–ª—ñ—Ç–µ—Ä–∞–ª–∏ | **`"hello"`** | –ö–µ—à—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ |
| **Integer Pool** | –¶—ñ–ª—ñ —á–∏—Å–ª–∞ **`[-128; 127]`** | **`Integer x = 127;`** | –õ–∏—à–µ —á–µ—Ä–µ–∑ **autoboxing** –∞–±–æ **`valueOf()`** |

---

## **3Ô∏è‚É£ –ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

### **üî∏ String Pool**

```java
String a = "hello";
String b = "hello";
System.out.println(a == b); // true ‚úÖ

```

* –û–±–∏–¥–≤–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è ‚Äî –Ω–∞ **–æ–¥–∏–Ω –æ–±'—î–∫—Ç** –∑ –ø—É–ª—É.

```java
String c = new String("hello");
System.out.println(a == c); // false ‚ùå (—Ä—ñ–∑–Ω—ñ –æ–± º—î–∫—Ç–∏)
System.out.println(a.equals(c)); // true ‚úÖ
```

* `new` –∑–∞–≤–∂–¥–∏ —Å—Ç–≤–æ—Ä—é—î **–Ω–æ–≤–∏–π –æ–± º—î–∫—Ç —É heap**, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Ä—è–¥–æ–∫ –∑–±—ñ–≥–∞—î—Ç—å—Å—è –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º.

---

### **üî∏ Integer Pool**

```java
Integer a = 100;
Integer b = 100;
System.out.println(a == b); // true ‚úÖ
```

* –ó–Ω–∞—á–µ–Ω–Ω—è –≤ –º–µ–∂–∞—Ö –∫–µ—à—É ‚Üí –æ–¥–∏–Ω –æ–± º—î–∫—Ç.

```java
Integer x = 200;
Integer y = 200;
System.out.println(x == y); // false ‚ùå
System.out.println(x.equals(y)); // true ‚úÖ
```

* –ó–Ω–∞—á–µ–Ω–Ω—è **–ø–æ–∑–∞ –∫–µ—à–µ–º** ‚Üí —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –Ω–æ–≤—ñ –æ–± º—î–∫—Ç–∏.

---

## **4Ô∏è‚É£ –ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
// String Pool
String s1 = "Java";
String s2 = "Java";
System.out.println(s1 == s2); // true

String s3 = new String("Java");
System.out.println(s1 == s3); // false

// Integer Pool
Integer i1 = 127;
Integer i2 = 127;
System.out.println(i1 == i2); // true

Integer i3 = 128;
Integer i4 = 128;
System.out.println(i3 == i4); // false
```

---

## **5Ô∏è‚É£ FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **üîπ –ß–æ–º—É `==` —ñ–Ω–æ–¥—ñ –ø—Ä–∞—Ü—é—î –∑ `String` —ñ `Integer`, –∞ —ñ–Ω–æ–¥—ñ –Ω—ñ?**

üí¨ –ë–æ **–ª—ñ—Ç–µ—Ä–∞–ª–∏ —Ç–∞ –∫–µ—à–æ–≤–∞–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è** –±–µ—Ä—É—Ç—å—Å—è –∑ –ø—É–ª—É, –∞ **`new`** ‚Äî —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –æ–± º—î–∫—Ç.

---

### **üîπ –Ø–∫ –∑–º—É—Å–∏—Ç–∏ —Ä—è–¥–æ–∫ –ø–æ—Ç—Ä–∞–ø–∏—Ç–∏ –≤ String Pool?**

üí¨ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π **`intern()`**:

```java
String s = new String("Java").intern();
```

–¢–µ–ø–µ—Ä **`s`** –±—É–¥–µ –ø–æ—Å–∏–ª–∞—Ç–∏—Å—è –Ω–∞ –æ–± º—î–∫—Ç —É **`String Pool`**.

---

### **üîπ –©–æ –∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ ‚Äî `==` —á–∏ `equals()`?**

üí¨ –ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π **`equals()`** –¥–ª—è **–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑–Ω–∞—á–µ–Ω—å**.  
**`==`** –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –ª–∏—à–µ –¥–ª—è **–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏, —á–∏ —Ü–µ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –æ–± º—î–∫—Ç** (–ø–æ—Å–∏–ª–∞–Ω–Ω—è).

---

## **7Ô∏è‚É£ üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

```java
"Java" == "Java"        ‚Üí true ‚úÖ (–ª—ñ—Ç–µ—Ä–∞–ª–∏ -- –∑ –ø—É–ª—É)
new String("Java") == "Java" ‚Üí false ‚ùå (–Ω–æ–≤–∏–π –æ–± º—î–∫—Ç)

127 == 127   ‚Üí true ‚úÖ (–≤ –ø—É–ª—ñ)
128 == 128   ‚Üí false ‚ùå (–Ω–µ –∫–µ—à—É—î—Ç—å—Å—è!)
```

---

## **8Ô∏è‚É£ –ü—ñ–¥—Å—É–º–æ–∫ (üü©)**

Java **–∫–µ—à—É—î –æ–± º—î–∫—Ç–∏** –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:

* –†—è–¥–∫–∏-–ª—ñ—Ç–µ—Ä–∞–ª–∏ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å —É **String Pool**.
* –¶—ñ–ª—ñ —á–∏—Å–ª–∞ **`[-128; 127]`** ‚Äî –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å —É **Integer Pool**, **—è–∫—â–æ** —Å—Ç–≤–æ—Ä–µ–Ω—ñ —á–µ—Ä–µ–∑ **autoboxing –∞–±–æ `valueOf()`**.

üî∏ **`==`** –ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏, —è–∫—â–æ –æ–±–∏–¥–≤–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤–∫–∞–∑—É—é—Ç—å –Ω–∞ –æ–¥–∏–Ω –æ–± º—î–∫—Ç.  
üî∏ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π **`equals()`** –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ **–∑–Ω–∞—á–µ–Ω—å**.  
üî∏ –Ø–∫—â–æ —Ö–æ—á–µ—à –≤—Ä—É—á–Ω—É –∑–∞–≥–Ω–∞—Ç–∏ —Ä—è–¥–æ–∫ —É –ø—É–ª ‚Äî –≤–∏–∫–ª–∏–∫–∞–π **`.intern()`**.

---

**üîó –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:**

* [**Oracle Docs: Strings and the String Pool**](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#intern--)