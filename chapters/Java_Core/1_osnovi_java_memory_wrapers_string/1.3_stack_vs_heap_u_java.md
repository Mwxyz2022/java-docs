---
layout: default
title: "Stack vs Heap —É Java"
parent: "–û—Å–Ω–æ–≤–∏ Java: Memory, Wrappers, String"
grand_parent: "Java Core"
nav_order: 3
---

# Stack vs Heap —É Java

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: Stack ‚Äì –æ–±–ª–∞—Å—Ç—å –ø–∞–º'—è—Ç—ñ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö, –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —Ç–∞ –≤–∏–∫–ª–∏–∫—ñ–≤ –º–µ—Ç–æ–¥—ñ–≤; Heap ‚Äì –¥–ª—è –æ–±'—î–∫—Ç—ñ–≤ —Ç–∞ –º–∞—Å–∏–≤—ñ–≤, —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —á–µ—Ä–µ–∑ `new`.

* –ø–æ–Ω—è—Ç—Ç—è: Stack, Heap, –ø–∞–º'—è—Ç—å, –ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ, –æ–±'—î–∫—Ç–∏.

* –ø—Ä–∏–∫–ª–∞–¥–∏: –†–æ–∑–º—ñ—â–µ–Ω–Ω—è –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö (`int x = 5;`) —É Stack —Ç–∞ –æ–±'—î–∫—Ç—ñ–≤ (`String s = new String("hi");`) —É Heap.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: Stack ‚Äì —à–≤–∏–¥–∫–∏–π, LIFO, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—á–∏—â–∞—î—Ç—å—Å—è; Heap ‚Äì —É–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è Garbage Collector, –¥–ª—è –¥–æ–≤–≥–æ–∂–∏–≤—É—á–∏—Ö –æ–±'—î–∫—Ç—ñ–≤, –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ `OutOfMemoryError`.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –†—ñ–∑–Ω–∏—Ü—è, —Ç–∏–ø–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏ (`StackOverflowError`, `OutOfMemoryError`).

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

–£ Java **Stack** —ñ **Heap** ‚Äî —Ü–µ –¥–≤—ñ —Ä—ñ–∑–Ω—ñ –æ–±–ª–∞—Å—Ç—ñ –ø–∞–º º—è—Ç—ñ, —è–∫—ñ JVM –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏:

* **Stack** ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è *–≤–∏–∫–ª–∏–∫—ñ–≤ –º–µ—Ç–æ–¥—ñ–≤*, *–ª–æ–∫–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö* —Ç–∞ *–ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤*.
* **Heap** ‚Äî –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è *–æ–± º—î–∫—Ç—ñ–≤* —Ç–∞ *–º–∞—Å–∏–≤—ñ–≤*, —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —á–µ—Ä–µ–∑ **`new`**.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

* **`Stack`** ‚Äî —Ü–µ —è–∫ —Å—Ç–æ–ø–∫–∞ —Ç–∞—Ä—ñ–ª–æ–∫: –º–µ—Ç–æ–¥ –≤–∏–∫–ª–∏–∫–∞–Ω–æ ‚Äî –Ω–æ–≤–∞ —Ç–∞—Ä—ñ–ª–∫–∞ –∑–≤–µ—Ä—Ö—É.
* **`Heap`** ‚Äî —è–∫ —Å–∫–ª–∞–¥ —Ä–µ—á–µ–π: —Å—é–¥–∏ –∫–ª–∞–¥—É—Ç—å —É—Å–µ —Å—Ç–≤–æ—Ä–µ–Ω–µ, —â–æ –∂–∏–≤–µ –¥–æ–≤—à–µ –∑–∞ –æ–¥–∏–Ω –º–µ—Ç–æ–¥.

---

## üìä **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è Stack —ñ Heap:**

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Stack | Heap |
| :---: | :---: | :---: |
| **–©–æ –∑–±–µ—Ä—ñ–≥–∞—î** | –õ–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ | –û–± º—î–∫—Ç–∏, –º–∞—Å–∏–≤–∏ |
| **–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –∂–∏—Ç—Ç—è** | –ü–æ–∫–∏ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –º–µ—Ç–æ–¥ | –î–æ–∫–∏ –Ω–∞ –æ–± º—î–∫—Ç —î –ø–æ—Å–∏–ª–∞–Ω–Ω—è |
| **–ö–µ—Ä—É—î—Ç—å—Å—è** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ ( **`push`** / **`pop`** ) | Garbage Collector |
| **–®–≤–∏–¥–∫—ñ—Å—Ç—å –¥–æ—Å—Ç—É–ø—É** | –î—É–∂–µ –≤–∏—Å–æ–∫–∞ | –ù–∏–∂—á–∞ |
| **–ú—ñ—Å—Ü–µ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è** | Thread-specific | –°–ø—ñ–ª—å–Ω–µ –º—ñ–∂ –ø–æ—Ç–æ–∫–∞–º–∏ |
| **–¢–∏–ø–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏** | **`StackOverflowError`** | **`OutOfMemoryError`** |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

### **–î–ª—è —á–æ–≥–æ —Ü–µ?**

* **`Stack`** ‚Äî –¥–ª—è —Ç–∏–º—á–∞—Å–æ–≤–∏—Ö, "–ª–µ–≥–∫–∏—Ö" –¥–∞–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤.
* **`Heap`** ‚Äî –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–æ–≤–≥–æ–∂–∏–≤—É—á–∏—Ö –æ–± º—î–∫—Ç—ñ–≤.

### **–£ —á–æ–º—É –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å?**

* **`Stack`** –ø—Ä–∞—Ü—é—î –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º **LIFO** (–æ—Å—Ç–∞–Ω–Ω—ñ–π –ø—Ä–∏–π—à–æ–≤ ‚Äî –ø–µ—Ä—à–∏–π –ø—ñ—à–æ–≤).
* **`Heap`** –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—á–∏—â–∞—î—Ç—å—Å—è **Garbage Collector‚Äô–æ–º**.

### **–¢–∏–ø–æ–≤—ñ –≥—Ä–∞–±–ª—ñ:**

* –ó–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ —Ä–µ–∫—É—Ä—Å—ñ–π -> **`StackOverflowError`**.
* –ù–∞–¥–º—ñ—Ä–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–± º—î–∫—Ç—ñ–≤ –±–µ–∑ –æ—á–∏—â–µ–Ω–Ω—è -> **`OutOfMemoryError`**.

### **–ö–æ–ª–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏?**

* –ü—Ä–∏–º—ñ—Ç–∏–≤–∏ –∞–±–æ –∑–º—ñ–Ω–Ω—ñ –≤ –º–µ—Ç–æ–¥—ñ -> Stack.
* –û–± º—î–∫—Ç–∏ —á–µ—Ä–µ–∑ **`new`** -> Heap.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
public class MemoryExample {
    public static void main(String[] args) {
        int x = 5;                       // Stack
        String s = new String("hi");    // s -> Stack, "hi" -> Heap
        Person p = new Person();        // p -> Stack, –æ–± º—î–∫—Ç -> Heap
    }
}
```

üß© –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

**`x`** ‚Äî –ø—Ä–∏–º—ñ—Ç–∏–≤, –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É **`Stack`**.

**`s`** ‚Äî –ø–æ—Å–∏–ª–∞–Ω–Ω—è —É **`Stack`**, –∞–ª–µ –æ–± º—î–∫—Ç "hi" —É **`Heap`**.

**`p`** ‚Äî –ø–æ—Å–∏–ª–∞–Ω–Ω—è —É **`Stack`**, –∞–ª–µ —Å–∞–º **`Person`** –∂–∏–≤–µ —É **`Heap`**

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Stack | Heap |
| :---: | :---: | :---: |
| **–®–≤–∏–¥–∫—ñ—Å—Ç—å** | ‚ö° –î—É–∂–µ —à–≤–∏–¥–∫–∞ | üê¢ –ü–æ–≤—ñ–ª—å–Ω—ñ—à–∞ |
| **–ñ–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª** | –ü–æ–∫–∏ –º–µ—Ç–æ–¥ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è | –ü–æ–∫–∏ —ñ—Å–Ω—É—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∞–±–æ –¥–æ GC |
| **–ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å** | –¢–∞–∫ (–æ–∫—Ä–µ–º–∏–π –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É) | –ù—ñ (–ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è) |
| **–¢–∏–ø –¥–∞–Ω–∏—Ö** | –ü—Ä–∏–º—ñ—Ç–∏–≤–∏, –ø–æ—Å–∏–ª–∞–Ω–Ω—è | –û–± º—î–∫—Ç–∏, –º–∞—Å–∏–≤–∏ |

---

## **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –î–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –∑–º—ñ–Ω–Ω–∞ **`int a = 10;`**?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

 –£ **`Stack`**, —è–∫—â–æ —Ü–µ –ª–æ–∫–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –©–æ –±—É–¥–µ –ø—Ä–∏ –≥–ª–∏–±–æ–∫—ñ–π —Ä–µ–∫—É—Ä—Å—ñ—ó?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

 –û—Ç—Ä–∏–º–∞—î—à **`StackOverflowError`**

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –î–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –æ–± º—î–∫—Ç–∏ –∫–ª–∞—Å—ñ–≤?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

 –£ **`Heap`**. –ê –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω–∏—Ö ‚Äî —É **`Stack`**

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –•—Ç–æ –∑–≤—ñ–ª—å–Ω—è—î –ø–∞–º º—è—Ç—å —É **`Heap`**?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

 **`Garbage Collector`**

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

```jsunicoderegexp
Stack = Short-living, Small, Speedy  
Heap  = Heavy-living, Huge, Handle by GC
```

**üìå –§—Ä–∞–∑–∞:**

**`Stack`** ‚Äî —Ç–∏–º—á–∞—Å–æ–≤–æ —ñ —à–≤–∏–¥–∫–æ.

**`Heap`** ‚Äî –¥–æ–≤–≥–æ, –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ, –∞–ª–µ –ø–æ—Ç—É–∂–Ω–æ.

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* **Stack** ‚Äî –ø–∞–º º—è—Ç—å –¥–ª—è –∫–æ—Ä–æ—Ç–∫–æ—á–∞—Å–Ω–∏—Ö —Ä–µ—á–µ–π: –∑–º—ñ–Ω–Ω—ñ, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, –≤–∏–∫–ª–∏–∫–∏ –º–µ—Ç–æ–¥—ñ–≤.
* **Heap** ‚Äî —Å—Ö–æ–≤–∏—â–µ –¥–ª—è –¥–æ–≤–≥–æ–∂–∏–≤—É—á–∏—Ö –æ–± º—î–∫—Ç—ñ–≤ —Ç–∞ –º–∞—Å–∏–≤—ñ–≤.
* –í—ñ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ü–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü—ñ–π –∑–∞–ª–µ–∂–∏—Ç—å –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ä–æ–±–æ—Ç–∏ –∑ –ø–∞–º º—è—Ç—Ç—é –≤ Java.
* –£–Ω–∏–∫–∞–π **`StackOverflowError`** —ñ **`OutOfMemoryError`** ‚Äî —ñ –ø–∞–º º—è—Ç—å —Ç–µ–±–µ –Ω–µ –ø—ñ–¥–≤–µ–¥–µ.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Oracle Docs: Memory Management in Java**](https://docs.oracle.com/javase/specs/)
