---
layout: default
title: "Stack vs Heap —É Java"
parent: "–û—Å–Ω–æ–≤–∏ Java: Memory, Wrappers, String"
grand_parent: "Java Core"
nav_order: 3
---

# Stack vs Heap —É Java

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: Stack ‚Äì –æ–±–ª–∞—Å—Ç—å –ø–∞–º'—è—Ç—ñ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö, –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —Ç–∞ –≤–∏–∫–ª–∏–∫—ñ–≤ –º–µ—Ç–æ–¥—ñ–≤; Heap ‚Äì –¥–ª—è –æ–±'—î–∫—Ç—ñ–≤ —Ç–∞ –º–∞—Å–∏–≤—ñ–≤, —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —á–µ—Ä–µ–∑ `new`.

* –ø–æ–Ω—è—Ç—Ç—è: Stack, Heap, –ø–∞–º'—è—Ç—å, –ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ, –æ–±'—î–∫—Ç–∏.

* –ø—Ä–∏–∫–ª–∞–¥–∏: –†–æ–∑–º—ñ—â–µ–Ω–Ω—è –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö (`int x = 5;`) —É Stack —Ç–∞ –æ–±'—î–∫—Ç—ñ–≤ (`String s = new String("hi");`) —É Heap.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: Stack ‚Äì —à–≤–∏–¥–∫–∏–π, LIFO, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—á–∏—â–∞—î—Ç—å—Å—è; Heap ‚Äì —É–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è Garbage Collector, –¥–ª—è –¥–æ–≤–≥–æ–∂–∏–≤—É—á–∏—Ö –æ–±'—î–∫—Ç—ñ–≤, –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ `OutOfMemoryError`.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –†—ñ–∑–Ω–∏—Ü—è, —Ç–∏–ø–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏ (`StackOverflowError`, `OutOfMemoryError`).

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

–£ Java **Stack** —ñ **Heap** ‚Äî —Ü–µ –¥–≤—ñ —Ä—ñ–∑–Ω—ñ –æ–±–ª–∞—Å—Ç—ñ –ø–∞–º º—è—Ç—ñ, —è–∫—ñ JVM –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏:

* **Stack** ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è *–≤–∏–∫–ª–∏–∫—ñ–≤ –º–µ—Ç–æ–¥—ñ–≤*, *–ª–æ–∫–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö* —Ç–∞ *–ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤*.
* **Heap** ‚Äî –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è *–æ–± º—î–∫—Ç—ñ–≤* —Ç–∞ *–º–∞—Å–∏–≤—ñ–≤*, —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —á–µ—Ä–µ–∑ **`new`**.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

* **`Stack`** ‚Äî —Ü–µ —è–∫ —Å—Ç–æ–ø–∫–∞ —Ç–∞—Ä—ñ–ª–æ–∫: –º–µ—Ç–æ–¥ –≤–∏–∫–ª–∏–∫–∞–Ω–æ ‚Äî –Ω–æ–≤–∞ —Ç–∞—Ä—ñ–ª–∫–∞ –∑–≤–µ—Ä—Ö—É.
* **`Heap`** ‚Äî —è–∫ —Å–∫–ª–∞–¥ —Ä–µ—á–µ–π: —Å—é–¥–∏ –∫–ª–∞–¥—É—Ç—å —É—Å–µ —Å—Ç–≤–æ—Ä–µ–Ω–µ, —â–æ –∂–∏–≤–µ –¥–æ–≤—à–µ –∑–∞ –æ–¥–∏–Ω –º–µ—Ç–æ–¥.

---

## üìä **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è Stack —ñ Heap:**

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Stack | Heap |
| :---: | :---: | :---: |
| **–©–æ –∑–±–µ—Ä—ñ–≥–∞—î** | –õ–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ | –û–± º—î–∫—Ç–∏, –º–∞—Å–∏–≤–∏ |
| **–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –∂–∏—Ç—Ç—è** | –ü–æ–∫–∏ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –º–µ—Ç–æ–¥ | –î–æ–∫–∏ –Ω–∞ –æ–± º—î–∫—Ç —î –ø–æ—Å–∏–ª–∞–Ω–Ω—è |
| **–ö–µ—Ä—É—î—Ç—å—Å—è** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ ( **`push`** / **`pop`** ) | Garbage Collector |
| **–®–≤–∏–¥–∫—ñ—Å—Ç—å –¥–æ—Å—Ç—É–ø—É** | –î—É–∂–µ –≤–∏—Å–æ–∫–∞ | –ù–∏–∂—á–∞ |
| **–ú—ñ—Å—Ü–µ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è** | Thread-specific | –°–ø—ñ–ª—å–Ω–µ –º—ñ–∂ –ø–æ—Ç–æ–∫–∞–º–∏ |
| **–¢–∏–ø–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏** | **`StackOverflowError`** | **`OutOfMemoryError`** |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

### **–î–ª—è —á–æ–≥–æ —Ü–µ?**

* **`Stack`** ‚Äî –¥–ª—è —Ç–∏–º—á–∞—Å–æ–≤–∏—Ö, "–ª–µ–≥–∫–∏—Ö" –¥–∞–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤.
* **`Heap`** ‚Äî –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–æ–≤–≥–æ–∂–∏–≤—É—á–∏—Ö –æ–± º—î–∫—Ç—ñ–≤.

### **–£ —á–æ–º—É –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å?**

* **`Stack`** –ø—Ä–∞—Ü—é—î –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º **LIFO** (–æ—Å—Ç–∞–Ω–Ω—ñ–π –ø—Ä–∏–π—à–æ–≤ ‚Äî –ø–µ—Ä—à–∏–π –ø—ñ—à–æ–≤).
* **`Heap`** –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—á–∏—â–∞—î—Ç—å—Å—è **Garbage Collector‚Äô–æ–º**.

### **–¢–∏–ø–æ–≤—ñ –≥—Ä–∞–±–ª—ñ:**

* –ó–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ —Ä–µ–∫—É—Ä—Å—ñ–π -> **`StackOverflowError`**.
* –ù–∞–¥–º—ñ—Ä–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–± º—î–∫—Ç—ñ–≤ –±–µ–∑ –æ—á–∏—â–µ–Ω–Ω—è -> **`OutOfMemoryError`**.

### **–ö–æ–ª–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏?**

* –ü—Ä–∏–º—ñ—Ç–∏–≤–∏ –∞–±–æ –∑–º—ñ–Ω–Ω—ñ –≤ –º–µ—Ç–æ–¥—ñ -> Stack.
* –û–± º—î–∫—Ç–∏ —á–µ—Ä–µ–∑ **`new`** -> Heap.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
public class MemoryExample {
    public static void main(String[] args) {
        int x = 5;                       // Stack
        String s = new String("hi");    // s -> Stack, "hi" -> Heap
        Person p = new Person();        // p -> Stack, –æ–± º—î–∫—Ç -> Heap
    }
}
```

üß© –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

**`x`** ‚Äî –ø—Ä–∏–º—ñ—Ç–∏–≤, –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É **`Stack`**.

**`s`** ‚Äî –ø–æ—Å–∏–ª–∞–Ω–Ω—è —É **`Stack`**, –∞–ª–µ –æ–± º—î–∫—Ç "hi" —É **`Heap`**.

**`p`** ‚Äî –ø–æ—Å–∏–ª–∞–Ω–Ω—è —É **`Stack`**, –∞–ª–µ —Å–∞–º **`Person`** –∂–∏–≤–µ —É **`Heap`**

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Stack | Heap |
| :---: | :---: | :---: |
| **–®–≤–∏–¥–∫—ñ—Å—Ç—å** | ‚ö° –î—É–∂–µ —à–≤–∏–¥–∫–∞ | üê¢ –ü–æ–≤—ñ–ª—å–Ω—ñ—à–∞ |
| **–ñ–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª** | –ü–æ–∫–∏ –º–µ—Ç–æ–¥ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è | –ü–æ–∫–∏ —ñ—Å–Ω—É—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∞–±–æ –¥–æ GC |
| **–ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å** | –¢–∞–∫ (–æ–∫—Ä–µ–º–∏–π –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É) | –ù—ñ (–ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è) |
| **–¢–∏–ø –¥–∞–Ω–∏—Ö** | –ü—Ä–∏–º—ñ—Ç–∏–≤–∏, –ø–æ—Å–∏–ª–∞–Ω–Ω—è | –û–± º—î–∫—Ç–∏, –º–∞—Å–∏–≤–∏ |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

```jsunicoderegexp
Stack = Short-living, Small, Speedy  
Heap  = Heavy-living, Huge, Handle by GC
```

**üìå –§—Ä–∞–∑–∞:**

**`Stack`** ‚Äî —Ç–∏–º—á–∞—Å–æ–≤–æ —ñ —à–≤–∏–¥–∫–æ.

**`Heap`** ‚Äî –¥–æ–≤–≥–æ, –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ, –∞–ª–µ –ø–æ—Ç—É–∂–Ω–æ.

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* **Stack** ‚Äî –ø–∞–º º—è—Ç—å –¥–ª—è –∫–æ—Ä–æ—Ç–∫–æ—á–∞—Å–Ω–∏—Ö —Ä–µ—á–µ–π: –∑–º—ñ–Ω–Ω—ñ, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, –≤–∏–∫–ª–∏–∫–∏ –º–µ—Ç–æ–¥—ñ–≤.
* **Heap** ‚Äî —Å—Ö–æ–≤–∏—â–µ –¥–ª—è –¥–æ–≤–≥–æ–∂–∏–≤—É—á–∏—Ö –æ–± º—î–∫—Ç—ñ–≤ —Ç–∞ –º–∞—Å–∏–≤—ñ–≤.
* –í—ñ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ü–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü—ñ–π –∑–∞–ª–µ–∂–∏—Ç—å –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ä–æ–±–æ—Ç–∏ –∑ –ø–∞–º º—è—Ç—Ç—é –≤ Java.
* –£–Ω–∏–∫–∞–π **`StackOverflowError`** —ñ **`OutOfMemoryError`** ‚Äî —ñ –ø–∞–º º—è—Ç—å —Ç–µ–±–µ –Ω–µ –ø—ñ–¥–≤–µ–¥–µ.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Oracle Docs: Memory Management in Java**](https://docs.oracle.com/javase/specs/)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —á–æ–º—É –æ—Å–Ω–æ–≤–Ω–∞ —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ –ø–∞–º'—è—Ç—Ç—é Stack —ñ Heap –≤ Java?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û—Å–Ω–æ–≤–Ω–∞ —Ä—ñ–∑–Ω–∏—Ü—è –ø–æ–ª—è–≥–∞—î –≤ **–ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—ñ** —Ç–∞ **–∂–∏—Ç—Ç—î–≤–æ–º—É —Ü–∏–∫–ª—ñ** –¥–∞–Ω–∏—Ö, —è–∫—ñ —Ç–∞–º –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è.
>
> * **Stack (–°—Ç–µ–∫):** –¶–µ –æ–±–ª–∞—Å—Ç—å –ø–∞–º'—è—Ç—ñ, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö —ñ–∑ –∫–æ—Ä–æ—Ç–∫–∏–º –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º. –í–æ–Ω–∞ –ø—Ä–∞—Ü—é—î –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º **LIFO (Last-In, First-Out)**. –¢—É—Ç –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è:
>   * **–í–∏–∫–ª–∏–∫–∏ –º–µ—Ç–æ–¥—ñ–≤ (—Ñ—Ä–µ–π–º–∏ —Å—Ç–µ–∫–∞):** –ö–æ–∂–µ–Ω —Ä–∞–∑, –∫–æ–ª–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –º–µ—Ç–æ–¥, –¥–ª—è –Ω—å–æ–≥–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–æ–≤–∏–π —Ñ—Ä–µ–π–º.
>   * **–õ–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤:** `int`, `double`, `boolean` —ñ —Ç.–¥.
>   * **–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç–∏:** –ó–º—ñ–Ω–Ω—ñ, —è–∫—ñ –≤–∫–∞–∑—É—é—Ç—å –Ω–∞ –æ–±'—î–∫—Ç–∏, —â–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ Heap.
>     –ü–∞–º'—è—Ç—å —É —Å—Ç–µ–∫—É –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –∫–æ–ª–∏ –º–µ—Ç–æ–¥ –∑–∞–≤–µ—Ä—à—É—î —Å–≤–æ—é —Ä–æ–±–æ—Ç—É.
>
> * **Heap (–ö—É–ø–∞):** –¶–µ –≤–µ–ª–∏–∫–∞, —Å–ø—ñ–ª—å–Ω–∞ –¥–ª—è –≤—Å—ñ—Ö –ø–æ—Ç–æ–∫—ñ–≤ –æ–±–ª–∞—Å—Ç—å –ø–∞–º'—è—Ç—ñ, –¥–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤—Å—ñ **–æ–±'—î–∫—Ç–∏** —Ç–∞ **–º–∞—Å–∏–≤–∏**, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –≤ –ø—Ä–æ–≥—Ä–∞–º—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `new`. –ü–∞–º'—è—Ç—å —É –∫—É–ø—ñ —É–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è **Garbage Collector (GC)**, —è–∫–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—î –æ–±'—î–∫—Ç–∏, –Ω–∞ —è–∫—ñ –±—ñ–ª—å—à–µ –Ω–µ —ñ—Å–Ω—É—î –ø–æ—Å–∏–ª–∞–Ω—å.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

* **Stack** ‚Äî —Ü–µ –≤–∞—à —Ä–æ–±–æ—á–∏–π —Å—Ç—ñ–ª. –ö–æ–ª–∏ –≤–∏ –ø–æ—á–∏–Ω–∞—î—Ç–µ –Ω–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è (–≤–∏–∫–ª–∏–∫–∞—î—Ç–µ –º–µ—Ç–æ–¥), –≤–∏ –∫–ª–∞–¥–µ—Ç–µ –Ω–∞ —Å—Ç—ñ–ª –ø–æ—Ç—Ä—ñ–±–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ (–ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ). –ö–æ–ª–∏ –∑–∞–≤–¥–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ, –≤–∏ –ø—Ä–∏–±–∏—Ä–∞—î—Ç–µ –≤—Å–µ –∑—ñ —Å—Ç–æ–ª—É.
* **Heap** ‚Äî —Ü–µ —Å–∫–ª–∞–¥ –∞–±–æ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞. –í–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ —â–æ—Å—å –≤–µ–ª–∏–∫–µ —ñ –¥–æ–≤–≥–æ–≤—ñ—á–Ω–µ (–æ–±'—î–∫—Ç) —ñ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç–µ –π–æ–≥–æ –Ω–∞ —Å–∫–ª–∞–¥. –£ –≤–∞—Å –Ω–∞ —Å—Ç–æ–ª—ñ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –ª–∏—à–µ –∫–∞—Ä—Ç–∫–∞ –∑ –Ω–æ–º–µ—Ä–æ–º –ø–æ–ª–∏—Ü—ñ (–ø–æ—Å–∏–ª–∞–Ω–Ω—è), –¥–µ —Ü–µ –ª–µ–∂–∏—Ç—å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ë–∞–∑–æ–≤–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –¥–≤–æ—Ö –∫–ª—é—á–æ–≤–∏—Ö –æ–±–ª–∞—Å—Ç–µ–π –ø–∞–º'—è—Ç—ñ JVM —Ç–∞ —ó—Ö–Ω—å–æ–≥–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ `StackOverflowError` —Ç–∞ `OutOfMemoryError`, —ñ —á–∏–º –≤–æ–Ω–∏ —Å–ø—Ä–∏—á–∏–Ω–µ–Ω—ñ?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –¥–≤—ñ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à—ñ –ø–æ–º–∏–ª–∫–∏, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –ø–∞–º'—è—Ç—Ç—é, –∞–ª–µ –≤–æ–Ω–∏ –≤–∏–Ω–∏–∫–∞—é—Ç—å —É —Ä—ñ–∑–Ω–∏—Ö —ó—ó –æ–±–ª–∞—Å—Ç—è—Ö.
>
> * **`StackOverflowError`**:
>   * **–ü—Ä–∏—á–∏–Ω–∞:** –¶—è –ø–æ–º–∏–ª–∫–∞ –≤–∏–Ω–∏–∫–∞—î, –∫–æ–ª–∏ **—Å—Ç–µ–∫ (Stack)** –ø–µ—Ä–µ–ø–æ–≤–Ω—é—î—Ç—å—Å—è. –ö–æ–∂–µ–Ω –≤–∏–∫–ª–∏–∫ –º–µ—Ç–æ–¥—É —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π —Ñ—Ä–µ–π–º —É —Å—Ç–µ–∫—É. –Ø–∫—â–æ –≤–∏–∫–ª–∏–∫—ñ–≤ —Å—Ç–∞—î –∑–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ, —ñ –≤–æ–Ω–∏ –Ω–µ –∑–∞–≤–µ—Ä—à—É—é—Ç—å—Å—è, —Å—Ç–µ–∫ –≤–∏—á–µ—Ä–ø—É—î —Å–≤—ñ–π (–∑–∞–∑–≤–∏—á–∞–π —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–π) –æ–±'—î–º –ø–∞–º'—è—Ç—ñ.
>   * **–¢–∏–ø–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥:** –ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∞ –∞–±–æ –¥—É–∂–µ –≥–ª–∏–±–æ–∫–∞ —Ä–µ–∫—É—Ä—Å—ñ—è, –¥–µ –º–µ—Ç–æ–¥ –≤–∏–∫–ª–∏–∫–∞—î —Å–∞–º —Å–µ–±–µ –±–µ–∑ —É–º–æ–≤–∏ –≤–∏—Ö–æ–¥—É.
>
> * **`OutOfMemoryError`**:
>   * **–ü—Ä–∏—á–∏–Ω–∞:** –¶—è –ø–æ–º–∏–ª–∫–∞ –≤–∏–Ω–∏–∫–∞—î, –∫–æ–ª–∏ –≤ **–∫—É–ø—ñ (Heap)** –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è –≤—ñ–ª—å–Ω–µ –º—ñ—Å—Ü–µ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤, —ñ **Garbage Collector** –Ω–µ –º–æ–∂–µ –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø—Ä–æ—Å—Ç–æ—Ä—É.
>   * **–¢–∏–ø–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥:** –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–µ–ª–∏—á–µ–∑–Ω–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –æ–±'—î–∫—Ç—ñ–≤ —É —Ü–∏–∫–ª—ñ, —è–∫—ñ –ø—Ä–æ–¥–æ–≤–∂—É—é—Ç—å –±—É—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω–∏–º–∏ (–Ω–∞ –Ω–∏—Ö —ñ—Å–Ω—É—é—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è), —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –≤–∏—Ç–æ–∫—É –ø–∞–º'—è—Ç—ñ (memory leak).

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–í–∞–∂–ª–∏–≤–æ —Ä–æ–∑—É–º—ñ—Ç–∏, —â–æ `StackOverflowError` ‚Äî —Ü–µ –ø—Ä–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–∫–ª–∏–∫—ñ–≤, –∞ `OutOfMemoryError` ‚Äî –ø—Ä–æ –æ–±—Å—è–≥ –¥–∞–Ω–∏—Ö. –ú–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ `StackOverflowError` –Ω–µ —Å—Ç–≤–æ—Ä–∏–≤—à–∏ –∂–æ–¥–Ω–æ–≥–æ –≤–µ–ª–∏–∫–æ–≥–æ –æ–±'—î–∫—Ç–∞, —ñ –Ω–∞–≤–ø–∞–∫–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏—Ö –ø—Ä–æ–±–ª–µ–º –∑ –ø–∞–º'—è—Ç—Ç—é, —ó—Ö –ø—Ä–∏—á–∏–Ω —Ç–∞ –ø—Ä–∏–Ω–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –¥–æ Stack –∞–±–æ Heap.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –∫–∞–∂—É—Ç—å, —â–æ Stack —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º (thread-safe), –∞ Heap ‚Äî –Ω—ñ?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –ø–æ–≤'—è–∑–∞–Ω–æ –∑ —Ç–∏–º, —è–∫ –ø–æ—Ç–æ–∫–∏ –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å –∑ —Ü–∏–º–∏ –æ–±–ª–∞—Å—Ç—è–º–∏ –ø–∞–º'—è—Ç—ñ.
>
> * **Stack:** –ö–æ–∂–µ–Ω –ø–æ—Ç—ñ–∫ (`Thread`) —É Java-–ø—Ä–æ–≥—Ä–∞–º—ñ –º–∞—î **—Å–≤—ñ–π –≤–ª–∞—Å–Ω–∏–π, –æ–∫—Ä–µ–º–∏–π —Å—Ç–µ–∫**. –û–¥–∏–Ω –ø–æ—Ç—ñ–∫ –Ω–µ –º–æ–∂–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Å—Ç–µ–∫–∞ —ñ–Ω—à–æ–≥–æ –ø–æ—Ç–æ–∫—É. –û—Å–∫—ñ–ª—å–∫–∏ –ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Ç–∞ –≤–∏–∫–ª–∏–∫–∏ –º–µ—Ç–æ–¥—ñ–≤ –æ–¥–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–∑–æ–ª—å–æ–≤–∞–Ω—ñ –≤—ñ–¥ —ñ–Ω—à–∏—Ö, –Ω—ñ—è–∫–∏—Ö –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ –¥–æ—Å—Ç—É–ø—É –Ω–µ –≤–∏–Ω–∏–∫–∞—î. –¢–æ–º—É Stack –∑–∞ —Å–≤–æ—î—é –ø—Ä–∏—Ä–æ–¥–æ—é —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º.
>
> * **Heap:** –ö—É–ø–∞ —î **—Å–ø—ñ–ª—å–Ω–æ—é –æ–±–ª–∞—Å—Ç—é –ø–∞–º'—è—Ç—ñ –¥–ª—è –≤—Å—ñ—Ö –ø–æ—Ç–æ–∫—ñ–≤** –ø—Ä–æ–≥—Ä–∞–º–∏. –Ø–∫—â–æ –∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –Ω–∞–º–∞–≥–∞—é—Ç—å—Å—è –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ —Ç–∞ –∑–º—ñ–Ω–∏—Ç–∏ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –æ–±'—î–∫—Ç —É –∫—É–ø—ñ, –º–æ–∂–µ –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ —Å—Ç–∞–Ω –≥–æ–Ω–∏—Ç–≤–∏ (`race condition`) —Ç–∞ –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö. –¢–æ–º—É –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –æ–±'—î–∫—Ç–∞–º–∏ –≤ –∫—É–ø—ñ –∑ –∫—ñ–ª—å–∫–æ—Ö –ø–æ—Ç–æ–∫—ñ–≤ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ –ø–æ–≤–∏–Ω–µ–Ω —Å–∞–º –ø–æ–¥–±–∞—Ç–∏ –ø—Ä–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `synchronized`, `locks`, –∞—Ç–æ–º–∞—Ä–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Ç–æ—â–æ).

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–¶–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—è –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ –≤ Java. –ü—Ä–æ–±–ª–µ–º–∞ —Å–ø—ñ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É —Å—Ç–æ—Å—É—î—Ç—å—Å—è –¥–∞–Ω–∏—Ö –≤ Heap, –∞ –Ω–µ —Å–∞–º–æ–≥–æ Heap.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –ø–∞–º'—è—Ç—ñ JVM —É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ —Ç–∞ —É—Å–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–æ–≥–æ, —á–æ–º—É —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–∞ –¥–ª—è –¥–∞–Ω–∏—Ö —É –∫—É–ø—ñ.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å –Ω–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ –∫–æ–¥—É, —â–æ –ø–æ—Ç—Ä–∞–ø–∏—Ç—å —É Stack, –∞ —â–æ –≤ Heap.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –†–æ–∑–≥–ª—è–Ω–µ–º–æ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥:
>
> ```java
> public class Main {
>     public void processData() {
>         int count = 10;
>         String name = "Java";
>         Person person = new Person("Alex", 30);
>     }
> }
> 
> class Person {
>     String name;
>     int age;
>     public Person(String name, int age) {
>         this.name = name;
>         this.age = age;
>     }
> }
> ```
>
> –ö–æ–ª–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –º–µ—Ç–æ–¥ `processData()`, —É –ø–∞–º'—è—Ç—ñ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –Ω–∞—Å—Ç—É–ø–Ω–µ:
>
> **–£ Stack (—É —Ñ—Ä–µ–π–º—ñ –º–µ—Ç–æ–¥—É `processData`):**
>
> * –õ–æ–∫–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞ `count` –∑—ñ –∑–Ω–∞—á–µ–Ω–Ω—è–º `10` (–æ—Å–∫—ñ–ª—å–∫–∏ `int` - –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏–π —Ç–∏–ø).
> * –õ–æ–∫–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞-–ø–æ—Å–∏–ª–∞–Ω–Ω—è `name`, —è–∫–∞ –≤–∫–∞–∑—É—î –Ω–∞ –æ–±'—î–∫—Ç "Java" –≤ Heap (–∞–±–æ –≤ String Pool).
> * –õ–æ–∫–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞-–ø–æ—Å–∏–ª–∞–Ω–Ω—è `person`, —è–∫–∞ –≤–∫–∞–∑—É—î –Ω–∞ —â–æ–π–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –æ–±'—î–∫—Ç –∫–ª–∞—Å—É `Person` –≤ Heap.
>
> **–£ Heap:**
>
> * –û–±'—î–∫—Ç `String` –∑—ñ –∑–Ω–∞—á–µ–Ω–Ω—è–º "Java".
> * –û–±'—î–∫—Ç `Person`, —â–æ –º—ñ—Å—Ç–∏—Ç—å —Å–≤–æ—ó –ø–æ–ª—è: –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ `String` "Alex" —Ç–∞ –ø—Ä–∏–º—ñ—Ç–∏–≤ `int` –∑—ñ –∑–Ω–∞—á–µ–Ω–Ω—è–º `30`.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–ö–ª—é—á–æ–≤–∏–π –º–æ–º–µ–Ω—Ç: —É —Å—Ç–µ–∫—É –Ω—ñ–∫–æ–ª–∏ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —Å–∞–º—ñ –æ–±'—î–∫—Ç–∏. –¢–∞–º –º–æ–∂—É—Ç—å –±—É—Ç–∏ –∞–±–æ –ø—Ä–∏–º—ñ—Ç–∏–≤–∏, –∞–±–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è (–∞–¥—Ä–µ—Å–∏), —è–∫—ñ –≤–∫–∞–∑—É—é—Ç—å –Ω–∞ –æ–±'—î–∫—Ç–∏ –≤ –∫—É–ø—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–æ—Å—Ç–∏–π –∫–æ–¥ —Ç–∞ —Ç–æ—á–Ω–æ —Ä–æ–∑–∫–ª–∞—Å—Ç–∏ –π–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –ø–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö –ø–∞–º'—è—Ç—ñ.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —É–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –ø–∞–º'—è—Ç—å —É Stack —ñ Heap —ñ —Ö—Ç–æ –∑–∞ —Ü–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ú–µ—Ö–∞–Ω—ñ–∑–º–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é –¥–ª—è Stack —ñ Heap –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è.
>
> * **Stack:**
>   * **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è:** –ü–æ–≤–Ω—ñ—Å—Ç—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —ñ –¥—É–∂–µ –ø—Ä–æ—Å—Ç–µ, —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–µ —Å–∞–º–æ—é **JVM**.
>   * **–ü—Ä–æ—Ü–µ—Å:** –ö–æ–ª–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –º–µ—Ç–æ–¥, JVM "–Ω–∞—à—Ç–æ–≤—Ö—É—î" (`push`) –Ω–æ–≤–∏–π —Ñ—Ä–µ–π–º –Ω–∞ –≤–µ—Ä—à–∏–Ω—É —Å—Ç–µ–∫–∞. –ö–æ–ª–∏ –º–µ—Ç–æ–¥ –∑–∞–≤–µ—Ä—à—É—î —Å–≤–æ—é —Ä–æ–±–æ—Ç—É (—á–µ—Ä–µ–∑ `return` –∞–±–æ –≤–∏–Ω—è—Ç–æ–∫), –π–æ–≥–æ —Ñ—Ä–µ–π–º –ø—Ä–æ—Å—Ç–æ "–∑–Ω—ñ–º–∞—î—Ç—å—Å—è" (`pop`) –∑—ñ —Å—Ç–µ–∫–∞. –¶–µ–π –ø—Ä–æ—Ü–µ—Å –¥—É–∂–µ —à–≤–∏–¥–∫–∏–π —ñ –¥–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–∏–π.
>   * **–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å:** –ü–æ–≤–Ω—ñ—Å—Ç—é –Ω–∞ JVM, —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ –Ω–µ –º–æ–∂–µ —Ü–∏–º –∫–µ—Ä—É–≤–∞—Ç–∏.
>
> * **Heap:**
>   * **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è:** –î–∏–Ω–∞–º—ñ—á–Ω–µ, –∫–µ—Ä—É—î—Ç—å—Å—è **Garbage Collector (GC)**.
>   * **–ü—Ä–æ—Ü–µ—Å:** –†–æ–∑—Ä–æ–±–Ω–∏–∫ —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `new`, —ñ JVM –≤–∏–¥—ñ–ª—è—î –¥–ª—è –Ω–∏—Ö –º—ñ—Å—Ü–µ –≤ –∫—É–ø—ñ. –ó–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ —î –Ω–µ–¥–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–∏–º. GC –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ, –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –æ–±'—î–∫—Ç–∏, –Ω–∞ —è–∫—ñ –±—ñ–ª—å—à–µ –Ω–µ–º–∞—î –ø–æ—Å–∏–ª–∞–Ω—å (—Ç–∞–∫ –∑–≤–∞–Ω–µ "—Å–º—ñ—Ç—Ç—è"), —ñ –≤–∏–¥–∞–ª—è—î —ó—Ö, –∑–≤—ñ–ª—å–Ω—è—é—á–∏ –º—ñ—Å—Ü–µ.
>   * **–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å:** –†–æ–∑—Ä–æ–±–Ω–∏–∫ —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç–∏, GC —ó—Ö –≤–∏–¥–∞–ª—è—î.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–ß–µ—Ä–µ–∑ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —ñ –Ω–µ–¥–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω—ñ—Å—Ç—å —Ä–æ–±–æ—Ç–∏ GC, Heap —î –¥–∂–µ—Ä–µ–ª–æ–º –±—ñ–ª—å—à–æ—Å—Ç—ñ –ø—Ä–æ–±–ª–µ–º –∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é —Ç–∞ –ø–∞–º'—è—Ç—Ç—é –≤ Java-–¥–æ–¥–∞—Ç–∫–∞—Ö.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –¥–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–∏–º LIFO-–º–µ—Ö–∞–Ω—ñ–∑–º–æ–º —Å—Ç–µ–∫–∞ —Ç–∞ —Å–∫–ª–∞–¥–Ω–∏–º, –Ω–µ–¥–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–∏–º –ø—Ä–æ—Ü–µ—Å–æ–º –∑–±–∏—Ä–∞–Ω–Ω—è —Å–º—ñ—Ç—Ç—è —É –∫—É–ø—ñ.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –¥–æ—Å—Ç—É–ø –¥–æ –ø–∞–º'—è—Ç—ñ Stack –∑–Ω–∞—á–Ω–æ —à–≤–∏–¥—à–∏–π, –Ω—ñ–∂ –¥–æ Heap?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ü—Å–Ω—É—î –∫—ñ–ª—å–∫–∞ –ø—Ä–∏—á–∏–Ω –¥–ª—è —Ü—å–æ–≥–æ:
>
> * **–ü—Ä–æ—Å—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö:** –°—Ç–µ–∫ ‚Äî —Ü–µ –ø—Ä–æ—Å—Ç–∞ LIFO —Å—Ç—Ä—É–∫—Ç—É—Ä–∞. JVM –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–º—ñ—â—É—î –æ–¥–∏–Ω –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ (stack pointer) –≤–≥–æ—Ä—É –∞–±–æ –≤–Ω–∏–∑ –¥–ª—è –≤–∏–¥—ñ–ª–µ–Ω–Ω—è —Ç–∞ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ. –¶–µ –¥—É–∂–µ —à–≤–∏–¥–∫–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è, —è–∫–∞ –∑–∞–π–º–∞—î –ª—ñ—á–µ–Ω—ñ —Ü–∏–∫–ª–∏ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞.
>
> * **–õ–æ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö (Data Locality):** –î–∞–Ω—ñ –≤ —Å—Ç–µ–∫—É –¥—É–∂–µ –∫–æ–º–ø–∞–∫—Ç–Ω–æ —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω—ñ. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–æ–Ω–∏ –∑ –≤–µ–ª–∏–∫–æ—é –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—é –ø–æ—Ç—Ä–∞–ø–ª—è—Ç—å —É —à–≤–∏–¥–∫–∏–π –∫–µ—à –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞ (L1/L2 cache), —â–æ —Ä–æ–±–∏—Ç—å –¥–æ—Å—Ç—É–ø –¥–æ –Ω–∏—Ö –º–∞–π–∂–µ –º–∏—Ç—Ç—î–≤–∏–º.
>
> * **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è Heap:** –î–æ—Å—Ç—É–ø –¥–æ Heap –ø–æ–≤—ñ–ª—å–Ω—ñ—à–∏–π, –æ—Å–∫—ñ–ª—å–∫–∏:
>   * –í–∏–¥—ñ–ª–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ –≤–∏–º–∞–≥–∞—î –ø–æ—à—É–∫—É –≤—ñ–ª—å–Ω–æ–≥–æ –±–ª–æ–∫—É –ø–æ—Ç—Ä—ñ–±–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É.
>   * –ü–∞–º'—è—Ç—å –º–æ–∂–µ –±—É—Ç–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤–∞–Ω–æ—é, —â–æ —É—Å–∫–ª–∞–¥–Ω—é—î –ø–æ—à—É–∫.
>   * –†–æ–±–æ—Ç–∞ –∑–±–∏—Ä–∞—á–∞ —Å–º—ñ—Ç—Ç—è –¥–æ–¥–∞—î –Ω–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ (overhead), –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ "–∑–∞–º–æ—Ä–æ–∂—É—é—á–∏" –ø—Ä–æ–≥—Ä–∞–º—É.
>   * –û–±'—î–∫—Ç–∏ –≤ –∫—É–ø—ñ —Ä–æ–∑–∫–∏–¥–∞–Ω—ñ, —â–æ –∑–Ω–∏–∂—É—î –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å –∫–µ—à-–ø–æ–ø–∞–¥–∞–Ω—å.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–°–∞–º–µ —Ç–æ–º—É –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó JVM, —Ç–∞–∫—ñ —è–∫ Escape Analysis, –Ω–∞–º–∞–≥–∞—é—Ç—å—Å—è —Ä–æ–∑–º—ñ—â—É–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏ –≤ —Å—Ç–µ–∫—É, —è–∫—â–æ —Ü–µ –º–æ–∂–ª–∏–≤–æ, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –¥–æ—Ä–æ–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π –∑ –∫—É–ø–æ—é.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –Ω–µ —Ç—ñ–ª—å–∫–∏ "—â–æ", –∞–ª–µ —ñ "—á–æ–º—É". –ö–∞–Ω–¥–∏–¥–∞—Ç –º–∞—î –ø–æ—è—Å–Ω–∏—Ç–∏ –ø—Ä–∏—á–∏–Ω–∏ —Ä—ñ–∑–Ω–∏—Ü—ñ —É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –Ω–∞ —Ä—ñ–≤–Ω—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –ø–∞–º'—è—Ç—ñ —Ç–∞ —Ä–æ–±–æ—Ç–∏ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ –æ–±'—î–∫—Ç —Ç–∞ —Å–∞–º–∏–º –æ–±'—î–∫—Ç–æ–º, –∫–æ–ª–∏ –º–µ—Ç–æ–¥ –∑–∞–≤–µ—Ä—à—É—î —Å–≤–æ—é —Ä–æ–±–æ—Ç—É?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –†–æ–∑–≥–ª—è–Ω–µ–º–æ —Ç–∞–∫–∏–π –º–µ—Ç–æ–¥:
>
> ```java
> public void createObject() {
>     Person p = new Person(); // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞
>     // ... —è–∫–∞—Å—å —Ä–æ–±–æ—Ç–∞ –∑ p ...
> } // –∫—ñ–Ω–µ—Ü—å –º–µ—Ç–æ–¥—É
> ```
>
> –ö–æ–ª–∏ –º–µ—Ç–æ–¥ `createObject` –∑–∞–≤–µ—Ä—à—É—î —Ä–æ–±–æ—Ç—É:
>
> 1. **–ü–æ —Ñ—Ä–µ–π–º—É –º–µ—Ç–æ–¥—É:** –í–µ—Å—å —Ñ—Ä–µ–π–º —Å—Ç–µ–∫–∞, —â–æ –Ω–∞–ª–µ–∂–∞–≤ –º–µ—Ç–æ–¥—É `createObject`, –∑–Ω–∏—â—É—î—Ç—å—Å—è.
> 2. **–ü–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—é:** –õ–æ–∫–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞ `p`, —è–∫–∞ –±—É–ª–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º —ñ –∑–±–µ—Ä—ñ–≥–∞–ª–∞—Å—è –≤ —Ü—å–æ–º—É —Ñ—Ä–µ–π–º—ñ, **–Ω–µ–≥–∞–π–Ω–æ –∑–Ω–∏–∫–∞—î**.
> 3. **–ü–æ –æ–±'—î–∫—Ç—É:** –°–∞–º –æ–±'—î–∫—Ç `Person`, —è–∫–∏–π –±—É–≤ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —ñ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ **Heap**, **–Ω–µ –∑–Ω–∏–∫–∞—î –º–∏—Ç—Ç—î–≤–æ**. –í—ñ–Ω –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤ –∫—É–ø—ñ, –∞–ª–µ —Ç–µ–ø–µ—Ä –Ω–∞ –Ω—å–æ–≥–æ –Ω–µ–º–∞—î –∂–æ–¥–Ω–∏—Ö –ø–æ—Å–∏–ª–∞–Ω—å (–≤—ñ–Ω —Å—Ç–∞–≤ "—Å–∏—Ä–æ—Ç–æ—é").
> 4. **–ü–æ Garbage Collector:** –ü—ñ–¥ —á–∞—Å –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ü–∏–∫–ª—É —Ä–æ–±–æ—Ç–∏ **Garbage Collector (GC)** –∑–Ω–∞–π–¥–µ —Ü–µ–π –æ–±'—î–∫—Ç `Person` –±–µ–∑ –ø–æ—Å–∏–ª–∞–Ω—å —ñ –≤–∏–¥–∞–ª–∏—Ç—å –π–æ–≥–æ, –∑–≤—ñ–ª—å–Ω–∏–≤—à–∏ –ø–∞–º'—è—Ç—å —É –∫—É–ø—ñ.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–¶–µ –∫–ª—é—á–æ–≤–∏–π –º–æ–º–µ–Ω—Ç —É —Ä–æ–∑—É–º—ñ–Ω–Ω—ñ –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É –æ–±'—î–∫—Ç—ñ–≤. –ó–Ω–∏–∫–Ω–µ–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑—ñ —Å—Ç–µ–∫–∞ –Ω–µ –æ–∑–Ω–∞—á–∞—î –º–∏—Ç—Ç—î–≤–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ –∑ –∫—É–ø–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ß—ñ—Ç–∫–µ —Ä–æ–∑–º–µ–∂—É–≤–∞–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–∏—Ö —Ü–∏–∫–ª—ñ–≤ –ø–æ—Å–∏–ª–∞–Ω–Ω—è (–≤ Stack) —Ç–∞ –æ–±'—î–∫—Ç–∞ (–≤ Heap).*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—â–æ –ø—Ä–∏–º—ñ—Ç–∏–≤–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ Stack, —Ç–æ –¥–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏–º–µ—Ç—å—Å—è –ø–æ–ª–µ `int age` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –æ–±'—î–∫—Ç–∞ `Person`, —è–∫–∏–π –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ Heap? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ü–æ–ª–µ `int age` –±—É–¥–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è **–≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –æ–±'—î–∫—Ç–∞ `Person` —É –∫—É–ø—ñ (Heap)**.
>
> –í–∞–∂–ª–∏–≤–æ —Ä–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏ **–ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ** —Ç–∞ **–ø–æ–ª—è –∫–ª–∞—Å—É (instance variables)**.
>
> * **–õ–æ–∫–∞–ª—å–Ω—ñ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω—ñ –∑–º—ñ–Ω–Ω—ñ** (–æ–≥–æ–ª–æ—à–µ–Ω—ñ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –º–µ—Ç–æ–¥—É) –¥—ñ–π—Å–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ —Å—Ç–µ–∫—É.
>
> * **–ü–æ–ª—è –∫–ª–∞—Å—É (—á–ª–µ–Ω–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞)** —î —á–∞—Å—Ç–∏–Ω–æ—é —Å–∞–º–æ–≥–æ –æ–±'—î–∫—Ç–∞. –û—Å–∫—ñ–ª—å–∫–∏ –≤–µ—Å—å –æ–±'—î–∫—Ç `Person` —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —ñ –∂–∏–≤–µ –≤ –∫—É–ø—ñ, –≤—Å—ñ –π–æ–≥–æ –ø–æ–ª—è, –≤–∫–ª—é—á–Ω–æ –∑ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏–º–∏ (`int age`), —Ç–∞–∫–æ–∂ —Ä–æ–∑–º—ñ—â—É—é—Ç—å—Å—è –≤ –∫—É–ø—ñ —è–∫ —Å–∫–ª–∞–¥–æ–≤–∞ —á–∞—Å—Ç–∏–Ω–∞ —Ü—å–æ–≥–æ –æ–±'—î–∫—Ç–∞.
>
> –£ —Å—Ç–µ–∫—É –±—É–¥–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏—Å—è –ª–∏—à–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç `Person`, –∞–ª–µ –Ω–µ —Å–∞–º –æ–±'—î–∫—Ç —á–∏ –π–æ–≥–æ –ø–æ–ª—è.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
class Person {
    int age; // –¶–µ –ø–æ–ª–µ –±—É–¥–µ –≤ Heap, —Ä–∞–∑–æ–º –∑ –æ–±'—î–∫—Ç–æ–º Person
}

public void myMethod() {
    int localAge = 25;   // –¶—è –∑–º—ñ–Ω–Ω–∞ - –≤ Stack
    Person p = new Person(); // –ü–æ—Å–∏–ª–∞–Ω–Ω—è 'p' - –≤ Stack, –æ–±'—î–∫—Ç Person - –≤ Heap
    p.age = localAge;    // –ó–Ω–∞—á–µ–Ω–Ω—è 25 –∫–æ–ø—ñ—é—î—Ç—å—Å—è –∑ Stack —É –ø–æ–ª–µ 'age' –≤ Heap
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, –¥–µ —Å–∞–º–µ –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è "—é—Ä–∏—Å–¥–∏–∫—Ü—ñ—è" —Å—Ç–µ–∫–∞. –¶–µ –ø–∏—Ç–∞–Ω–Ω—è-–ø–∞—Å—Ç–∫–∞ –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ –∑–∞–ø–∞–º'—è—Ç–∞–≤ –ø—Ä–æ—Å—Ç–µ –ø—Ä–∞–≤–∏–ª–æ "–ø—Ä–∏–º—ñ—Ç–∏–≤–∏ –≤ —Å—Ç–µ–∫—É, –æ–±'—î–∫—Ç–∏ –≤ –∫—É–ø—ñ" –±–µ–∑ –Ω—é–∞–Ω—Å—ñ–≤.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –ø–æ–≤'—è–∑–∞–Ω—ñ Heap —Ç–∞ String Pool? –î–µ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —Ä—è–¥–æ–∫: `String s1 = "hello";` —ñ `String s2 = new String("hello");`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **String Pool (–ø—É–ª —Ä—è–¥–∫—ñ–≤)** ‚Äî —Ü–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∞ –æ–±–ª–∞—Å—Ç—å –ø–∞–º'—è—Ç—ñ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ **Heap**, –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä—è–¥–∫–æ–≤–∏—Ö –ª—ñ—Ç–µ—Ä–∞–ª—ñ–≤.
>
> –†—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ –¥–≤–æ–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä—è–¥–∫—ñ–≤ —î —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ—é:
>
> 1. `String s1 = "hello";`
>     * –ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ —Ä—è–¥–∫–æ–≤–æ–≥–æ –ª—ñ—Ç–µ—Ä–∞–ª—É JVM —Å–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î —Ä—è–¥–æ–∫ "hello" —É String Pool.
>     * –Ø–∫—â–æ —Ç–∞–∫, –≤–æ–Ω–∞ –ø—Ä–æ—Å—Ç–æ –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —ñ—Å–Ω—É—é—á–∏–π –æ–±'—î–∫—Ç —É –ø—É–ª—ñ.
>     * –Ø–∫—â–æ –Ω—ñ, –≤–æ–Ω–∞ —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç `String` "hello" —É String Pool, –∞ –ø–æ—Ç—ñ–º –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω—å–æ–≥–æ.
>     * **–†–µ–∑—É–ª—å—Ç–∞—Ç:** `s1` –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ –æ–±'—î–∫—Ç —É String Pool.
>
> 2. `String s2 = new String("hello");`
>     * –û–ø–µ—Ä–∞—Ç–æ—Ä `new` **–∑–∞–≤–∂–¥–∏** —Å—Ç–≤–æ—Ä—é—î **–Ω–æ–≤–∏–π –æ–±'—î–∫—Ç `String` –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ –∫—É–ø—ñ (Heap)**, –ø–æ–∑–∞ –ø—É–ª–æ–º —Ä—è–¥–∫—ñ–≤.
>     * –ù–∞–≤—ñ—Ç—å —è–∫—â–æ —Ä—è–¥–æ–∫ "hello" –≤–∂–µ —î —É String Pool, –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ –¥—É–±–ª—ñ–∫–∞—Ç –≤ –æ—Å–Ω–æ–≤–Ω—ñ–π —á–∞—Å—Ç–∏–Ω—ñ –∫—É–ø–∏.
>     * **–†–µ–∑—É–ª—å—Ç–∞—Ç:** `s2` –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç —É Heap, —è–∫–∏–π –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —É String Pool.
>
> –ß–µ—Ä–µ–∑ —Ü–µ, `s1 == s2` –ø–æ–≤–µ—Ä–Ω–µ `false`, —Ç–æ–º—É —â–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤–∫–∞–∑—É—é—Ç—å –Ω–∞ —Ä—ñ–∑–Ω—ñ –æ–±'—î–∫—Ç–∏ –≤ –ø–∞–º'—è—Ç—ñ.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

String Pool —î —á—É–¥–æ–≤–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ –≤ –∫—É–ø—ñ –¥–ª—è —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤. –ó–∞–≤–∂–¥–∏ –≤—ñ–¥–¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–≤–∞–≥—É `String s = "value";` –Ω–∞–¥ `new String("value");`, —è–∫—â–æ —Ç—ñ–ª—å–∫–∏ –≤–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –æ—Å–æ–±–ª–∏–≤–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ —Ä—è–¥–∫—ñ–≤ —É Java —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –ª—ñ—Ç–µ—Ä–∞–ª—å–Ω–∏–º —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º —Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –¶–µ –¥—É–∂–µ –ø–æ—à–∏—Ä–µ–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∞—Ö.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑ –æ–±'—î–∫—Ç–æ–º, —Å—Ç–≤–æ—Ä–µ–Ω–∏–º —É –º–µ—Ç–æ–¥—ñ, —è–∫—â–æ —Ü–µ–π –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω—å–æ–≥–æ? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫—â–æ –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —É –Ω—å–æ–º—É –æ–±'—î–∫—Ç, —Ü–µ–π –æ–±'—î–∫—Ç **–ø—Ä–æ–¥–æ–≤–∂–∏—Ç—å —ñ—Å–Ω—É–≤–∞—Ç–∏ –≤ Heap** –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –º–µ—Ç–æ–¥—É.
>
> –†–æ–∑–≥–ª—è–Ω–µ–º–æ –∫–æ–¥:
>
> ```java
> public Person createPerson() {
>     Person localPerson = new Person();
>     return localPerson;
> }
>
> public void process() {
>     Person mainPerson = createPerson();
> }
> ```
>
> 1. –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `createPerson`. –£ —Å—Ç–µ–∫—É —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —Ñ—Ä–µ–π–º. –£ –∫—É–ø—ñ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –æ–±'—î–∫—Ç `Person`, –∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω—å–æ–≥–æ `localPerson` –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ —Ü—å–æ–º—É —Ñ—Ä–µ–π–º—ñ.
> 2. `createPerson` –ø–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è `localPerson`.
> 3. –ú–µ—Ç–æ–¥ `createPerson` –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è, –π–æ–≥–æ —Ñ—Ä–µ–π–º —Å—Ç–µ–∫–∞ —Ä–∞–∑–æ–º —ñ–∑ –∑–º—ñ–Ω–Ω–æ—é `localPerson` –∑–Ω–∏—â—É—î—Ç—å—Å—è.
> 4. –ê–ª–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∫–æ–ø—ñ—é—î—Ç—å—Å—è —É –∑–º—ñ–Ω–Ω—É `mainPerson`, —è–∫–∞ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —É —Ñ—Ä–µ–π–º—ñ –º–µ—Ç–æ–¥—É `process`.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, –Ω–∞ –æ–±'—î–∫—Ç `Person` —É –∫—É–ø—ñ —Ç–µ–ø–µ—Ä –≤–∫–∞–∑—É—î –Ω–æ–≤–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è `mainPerson`. –û–±'—î–∫—Ç –Ω–µ —Å—Ç–∞–≤ "—Å–º—ñ—Ç—Ç—è–º" —ñ **–Ω–µ –±—É–¥–µ –≤–∏–¥–∞–ª–µ–Ω–∏–π** Garbage Collector'–æ–º, –ø–æ–∫–∏ –Ω–∞ –Ω—å–æ–≥–æ —ñ—Å–Ω—É—î —Ö–æ—á–∞ –± –æ–¥–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –º–µ—Ö–∞–Ω—ñ–∑–º—É –ø–µ—Ä–µ–¥–∞—á—ñ –ø–æ—Å–∏–ª–∞–Ω—å —Ç–∞ –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É –æ–±'—î–∫—Ç—ñ–≤, —è–∫–∏–π –Ω–µ –ø—Ä–∏–≤'—è–∑–∞–Ω–∏–π –¥–æ –æ–±–ª–∞—Å—Ç—ñ –≤–∏–¥–∏–º–æ—Å—Ç—ñ, –¥–µ –æ–±'—î–∫—Ç –±—É–≤ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –∑–∞–≤–∂–¥–∏ –æ–±'—î–∫—Ç–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –≤ Heap? –©–æ —Ç–∞–∫–µ Escape Analysis? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ù–µ –∑–∞–≤–∂–¥–∏.** –°—É—á–∞—Å–Ω—ñ JVM (–∑–æ–∫—Ä–µ–º–∞, HotSpot) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –ø–æ—Ç—É–∂–Ω—É –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é –ø—ñ–¥ –Ω–∞–∑–≤–æ—é **Escape Analysis (–ê–Ω–∞–ª—ñ–∑ "–≤—Ç–µ—á—ñ")**.
>
> **Escape Analysis** ‚Äî —Ü–µ –ø—Ä–æ—Ü–µ—Å, –ø—ñ–¥ —á–∞—Å —è–∫–æ–≥–æ JIT-–∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –∞–Ω–∞–ª—ñ–∑—É—î –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—ñ –æ–±'—î–∫—Ç–∞. –Ø–∫—â–æ –≤—ñ–Ω –º–æ–∂–µ –¥–æ–≤–µ—Å—Ç–∏, —â–æ –æ–±'—î–∫—Ç **–Ω–µ "–≤—Ç—ñ–∫–∞—î"** –∑–∞ –º–µ–∂—ñ –º–µ—Ç–æ–¥—É, –≤ —è–∫–æ–º—É –≤—ñ–Ω —Å—Ç–≤–æ—Ä–µ–Ω–∏–π (—Ç–æ–±—Ç–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω—å–æ–≥–æ –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –∑ –º–µ—Ç–æ–¥—É, –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ —Å—Ç–∞—Ç–∏—á–Ω–æ–º—É –ø–æ–ª—ñ —Ç–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ —ñ–Ω—à–∏–π –ø–æ—Ç—ñ–∫), —Ç–æ JVM –º–æ–∂–µ –ø—ñ—Ç–∏ –Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é.
>
> –û—Å–Ω–æ–≤–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **Scalar Replacement**. JVM –º–æ–∂–µ –Ω–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –æ–±'—î–∫—Ç —è–∫ —î–¥–∏–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ –∫—É–ø—ñ, –∞ —Ä–æ–∑–∫–ª–∞—Å—Ç–∏ –π–æ–≥–æ –Ω–∞ —Å–∫–ª–∞–¥–æ–≤—ñ –ø–æ–ª—è (—Å–∫–∞–ª—è—Ä–∏) —ñ —Ä–æ–∑–º—ñ—Å—Ç–∏—Ç–∏ —Ü—ñ –ø–æ–ª—è **–±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ —É —Å—Ç–µ–∫—É (–∞–±–æ –≤ —Ä–µ–≥—ñ—Å—Ç—Ä–∞—Ö –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞)**.
>
> **–ü–µ—Ä–µ–≤–∞–≥–∏:**
>
> * –ó–Ω–∞—á–Ω–æ –∑–º–µ–Ω—à—É—î—Ç—å—Å—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ Heap.
> * –ù–µ–º–∞—î –ø–æ—Ç—Ä–µ–±–∏ –≤ —Ä–æ–±–æ—Ç—ñ Garbage Collector –¥–ª—è —Ç–∞–∫–∏—Ö –æ–±'—î–∫—Ç—ñ–≤.
> * –¶–µ –¥—É–∂–µ —Å–∏–ª—å–Ω–æ –ø—ñ–¥–≤–∏—â—É—î –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å, –æ—Å–∫—ñ–ª—å–∫–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Å—Ç–µ–∫–∞ –Ω–∞–±–∞–≥–∞—Ç–æ —à–≤–∏–¥—à–∏–π.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, –≤—Å—É–ø–µ—Ä–µ—á –ø—Ä–æ—Å—Ç–æ–º—É –ø—Ä–∞–≤–∏–ª—É "–æ–±'—î–∫—Ç–∏ –∑–∞–≤–∂–¥–∏ –≤ Heap", —É —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞–≤–¥—è–∫–∏ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è–º –≤–æ–Ω–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Ä–æ–∑–º—ñ—â–µ–Ω—ñ –π —É —Å—Ç–µ–∫—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –ø—Ä–æ—Å—É–Ω—É—Ç–∏—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó JVM. –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –ø–æ–∫–∞–∑—É—î, —â–æ –∫–∞–Ω–¥–∏–¥–∞—Ç –Ω–µ –∑—É–ø–∏–Ω–∏–≤—Å—è –Ω–∞ –±–∞–∑–æ–≤–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü—ñ—è—Ö, –∞ —Ü—ñ–∫–∞–≤–∏—Ç—å—Å—è, —è–∫ Java –¥–æ—Å—è–≥–∞—î –≤–∏—Å–æ–∫–æ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ "–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º".*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ `stack frame` (—Ñ—Ä–µ–π–º —Å—Ç–µ–∫–∞) —ñ —â–æ –≤—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–§—Ä–µ–π–º —Å—Ç–µ–∫–∞ (Stack Frame)** ‚Äî —Ü–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö, —è–∫–∞ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –≤ —Å—Ç–µ–∫—É –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –º–µ—Ç–æ–¥—É. –ö–æ–ª–∏ –æ–¥–∏–Ω –º–µ—Ç–æ–¥ –≤–∏–∫–ª–∏–∫–∞—î —ñ–Ω—à–∏–π, –Ω–∞ –≤–µ—Ä—à–∏–Ω—É —Å—Ç–µ–∫–∞ "–Ω–∞—à—Ç–æ–≤—Ö—É—î—Ç—å—Å—è" –Ω–æ–≤–∏–π —Ñ—Ä–µ–π–º. –í—ñ–Ω —ñ—Å–Ω—É—î, –¥–æ–∫–∏ –º–µ—Ç–æ–¥ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è, —ñ –∑–Ω–∏—â—É—î—Ç—å—Å—è, –∫–æ–ª–∏ –º–µ—Ç–æ–¥ –∑–∞–≤–µ—Ä—à—É—î —Ä–æ–±–æ—Ç—É.
>
> –ö–æ–∂–µ–Ω —Ñ—Ä–µ–π–º —Å—Ç–µ–∫–∞ –º—ñ—Å—Ç–∏—Ç—å —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:
>
> 1. **–ú–∞—Å–∏–≤ –ª–æ–∫–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö (Local Variable Array):**
>     * –ú–∞—Å–∏–≤, –¥–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤—Å—ñ –ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –º–µ—Ç–æ–¥—É.
>     * –î–æ—Å—Ç—É–ø –¥–æ –Ω–∏—Ö –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑–∞ —ñ–Ω–¥–µ–∫—Å–æ–º. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –Ω–µ—Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ —ñ–Ω–¥–µ–∫—Å 0 –∑–∞–∑–≤–∏—á–∞–π –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è `this`.
>
> 2. **–°—Ç–µ–∫ –æ–ø–µ—Ä–∞–Ω–¥—ñ–≤ (Operand Stack):**
>     * –ü–æ—Ä–æ–∂–Ω—è LIFO-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —è–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —è–∫ —Ä–æ–±–æ—á–∞ –æ–±–ª–∞—Å—Ç—å –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –±–∞–π—Ç–∫–æ–¥-—ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π.
>     * –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –±–µ—Ä—É—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –∑ —Ü—å–æ–≥–æ —Å—Ç–µ–∫–∞, –≤–∏–∫–æ–Ω—É—é—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ—é, —ñ –∫–ª–∞–¥—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞–∑–∞–¥. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, `iadd` –≤—ñ–∑—å–º–µ –¥–≤–∞ `int` –∑—ñ —Å—Ç–µ–∫–∞ –æ–ø–µ—Ä–∞–Ω–¥—ñ–≤, –¥–æ–¥–∞—Å—Ç—å —ó—Ö —ñ –ø–æ–∫–ª–∞–¥–µ —Å—É–º—É –Ω–∞–∑–∞–¥.
>
> 3. **–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø—É–ª –∫–æ–Ω—Å—Ç–∞–Ω—Ç —á–∞—Å—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (Reference to Runtime Constant Pool):**
>     * –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –¥–∞–Ω—ñ –∫–ª–∞—Å—É (–∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ Method Area), –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–ª—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ–≥–æ –∑–≤'—è–∑—É–≤–∞–Ω–Ω—è. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –≤–∏–∫–ª–∏–∫—É —ñ–Ω—à–æ–≥–æ –º–µ—Ç–æ–¥—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ë—ñ–ª—å—à –¥–µ—Ç–∞–ª—å–Ω—ñ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ –º–µ—Ö–∞–Ω—ñ–∫—É —Ä–æ–±–æ—Ç–∏ —Å—Ç–µ–∫–∞ —Ç–∞ –∂–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –≤–∏–∫–ª–∏–∫—É –º–µ—Ç–æ–¥—É. –¶–µ –æ—Å–Ω–æ–≤–∞ –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –±–∞–π—Ç–∫–æ–¥—É —Ç–∞ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å –ø–æ–Ω—è—Ç—Ç—è shallow copy —Ç–∞ deep copy (–ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ —Ç–∞ –≥–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è) —É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –ø–∞–º'—è—Ç—ñ Stack —Ç–∞ Heap. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶—ñ –ø–æ–Ω—è—Ç—Ç—è —Å—Ç–æ—Å—É—é—Ç—å—Å—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤, —â–æ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤ **Heap**, —ñ –Ω–∞–ø—Ä—è–º—É –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ —Ç–∏–º, —è–∫ –∫–æ–ø—ñ—é—é—Ç—å—Å—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è.
>
> –£—è–≤—ñ–º–æ –æ–±'—î–∫—Ç `User`, —è–∫–∏–π –º–∞—î –ø–æ–ª–µ `Address` (—è–∫–µ —Ç–µ–∂ —î –æ–±'—î–∫—Ç–æ–º).
>
> ```java
> class Address { String city; }
> class User { String name; Address address; }
> ```
>
> * **Shallow Copy (–ü–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è):**
>   * –¶–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –æ–±'—î–∫—Ç–∞ —Ç–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≤ –Ω—å–æ–≥–æ –∑–Ω–∞—á–µ–Ω—å –ø–æ–ª—ñ–≤ –∑ –æ—Ä–∏–≥—ñ–Ω–∞–ª—É.
>   * –Ø–∫—â–æ –ø–æ–ª–µ —î **–ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏–º —Ç–∏–ø–æ–º**, –π–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ–ø—ñ—é—î—Ç—å—Å—è.
>   * –Ø–∫—â–æ –ø–æ–ª–µ —î **–ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ —ñ–Ω—à–∏–π –æ–±'—î–∫—Ç** (—è–∫ `address`), —Ç–æ –∫–æ–ø—ñ—é—î—Ç—å—Å—è **—Ç—ñ–ª—å–∫–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è (–∞–¥—Ä–µ—Å–∞)**, –∞ –Ω–µ —Å–∞–º –æ–±'—î–∫—Ç `Address`.
>   * **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í Heap —É –Ω–∞—Å –±—É–¥–µ –¥–≤–∞ –æ–±'—î–∫—Ç–∏ `User`, –∞–ª–µ **–æ–±–∏–¥–≤–∞ –≤–æ–Ω–∏ –±—É–¥—É—Ç—å –ø–æ—Å–∏–ª–∞—Ç–∏—Å—è –Ω–∞ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –æ–±'—î–∫—Ç `Address`**. –ó–º—ñ–Ω–∞ –º—ñ—Å—Ç–∞ –≤ `address` –æ–¥–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –π–æ–≥–æ –∑–º—ñ–Ω–∏ —ñ –≤ —ñ–Ω—à–æ–≥–æ. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –º–µ—Ç–æ–¥ `clone()` –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —Ä–æ–±–∏—Ç—å shallow copy.
>
> * **Deep Copy (–ì–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è):**
>   * –¶–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –æ–±'—î–∫—Ç–∞ —Ç–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è **–≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤**, –Ω–∞ —è–∫—ñ –≤—ñ–Ω –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è.
>   * –ü—Ä–∏ –≥–ª–∏–±–æ–∫–æ–º—É –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—ñ `User` —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–µ —Ç—ñ–ª—å–∫–∏ –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç `User`, –∞ –π **–Ω–æ–≤–∏–π –æ–±'—î–∫—Ç `Address`**.
>   * **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í Heap –º–∏ –º–∞—î–º–æ –¥–≤–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–µ–∑–∞–ª–µ–∂–Ω–∏—Ö –æ–±'—î–∫—Ç–∏ `User`, –∫–æ–∂–µ–Ω –∑—ñ —Å–≤–æ—ó–º –≤–ª–∞—Å–Ω–∏–º –æ–±'—î–∫—Ç–æ–º `Address`. –ó–º—ñ–Ω–∞ –æ–¥–Ω–æ–≥–æ –Ω–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —ñ–Ω—à–∏–π.
>
> **–£ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ Stack —ñ Heap:**
> –û–±–∏–¥–≤–∞ –≤–∏–¥–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Å—Ç–≤–æ—Ä—é—é—Ç—å –Ω–æ–≤—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤ Stack (—è–∫—â–æ –º–∏ –ø—Ä–∏—Å–≤–æ—é—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ª–æ–∫–∞–ª—å–Ω—ñ–π –∑–º—ñ–Ω–Ω—ñ–π), –∞–ª–µ shallow copy –¥—É–±–ª—é—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±'—î–∫—Ç–∏ –≤ Heap, –∞ deep copy –¥—É–±–ª—é—î —Å–∞–º—ñ –æ–±'—î–∫—Ç–∏ –≤ Heap.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ –ø–∞–º'—è—Ç—å –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—ó –ø—Ä–æ–±–ª–µ–º–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ç–∞–Ω–æ–º –æ–±'—î–∫—Ç—ñ–≤. –¶–µ –ø–æ–∫–∞–∑—É—î –¥–æ—Å–≤—ñ–¥ —É –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—ñ –Ω–∞–¥—ñ–π–Ω–∏—Ö —Å–∏—Å—Ç–µ–º.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—É —Ä–æ–ª—å –≤—ñ–¥—ñ–≥—Ä–∞—î Stack –¥–ª—è —Ä–æ–±–æ—Ç–∏ Garbage Collector'a (GC)? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **Stack –≤—ñ–¥—ñ–≥—Ä–∞—î –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤—É —Ä–æ–ª—å ‚Äî –≤—ñ–Ω —î –æ–¥–Ω–∏–º –∑ –æ—Å–Ω–æ–≤–Ω–∏—Ö –¥–∂–µ—Ä–µ–ª "–∫–æ—Ä–µ–Ω—ñ–≤ –∑–±–∏—Ä–∞–Ω–Ω—è —Å–º—ñ—Ç—Ç—è" (GC Roots).**
>
> **GC Roots** ‚Äî —Ü–µ –Ω–∞–±—ñ—Ä –ø–æ—Å–∏–ª–∞–Ω—å, –∑ —è–∫–∏—Ö Garbage Collector –ø–æ—á–∏–Ω–∞—î –æ–±—Ö—ñ–¥ –≥—Ä–∞—Ñ–∞ –æ–±'—î–∫—Ç—ñ–≤ —É Heap, —â–æ–± –≤–∏–∑–Ω–∞—á–∏—Ç–∏, —è–∫—ñ –∑ –Ω–∏—Ö —î "–∂–∏–≤–∏–º–∏" (–¥–æ—Å—è–∂–Ω–∏–º–∏), –∞ —è–∫—ñ "–º–µ—Ä—Ç–≤–∏–º–∏" (–Ω–µ–¥–æ—Å—è–∂–Ω–∏–º–∏ —ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω—ñ).
>
> –ü—Ä–æ—Ü–µ—Å –ø—Ä–∞—Ü—é—î —Ç–∞–∫:
>
> 1. **–ü–æ—à—É–∫ –∫–æ—Ä–µ–Ω—ñ–≤:** GC –ø–æ—á–∏–Ω–∞—î –∑ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –≤—Å—ñ—Ö GC Roots. –õ–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –º–µ—Ç–æ–¥—ñ–≤, —â–æ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è —É **—Ñ—Ä–µ–π–º–∞—Ö –≤—Å—ñ—Ö –∞–∫—Ç–∏–≤–Ω–∏—Ö —Å—Ç–µ–∫—ñ–≤ –ø–æ—Ç–æ–∫—ñ–≤** —î –æ–¥–Ω–∏–º –∑ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏—Ö —Ç–∏–ø—ñ–≤ GC Roots. –Ü–Ω—à—ñ —Ç–∏–ø–∏ –∫–æ—Ä–µ–Ω—ñ–≤ ‚Äî —Ü–µ —Å—Ç–∞—Ç–∏—á–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –∫–ª–∞—Å—ñ–≤, –æ–±'—î–∫—Ç–∏, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤ JNI, —Ç–æ—â–æ.
>
> 2. **–§–∞–∑–∞ –º–∞—Ä–∫—É–≤–∞–Ω–Ω—è (Mark):** GC —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–æ –≤—Å—ñ—Ö –æ–±'—î–∫—Ç–∞—Ö —É Heap, –Ω–∞ —è–∫—ñ —î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑ GC Roots, —ñ –º–∞—Ä–∫—É—î —ó—Ö —è–∫ "–∂–∏–≤—ñ". –ü–æ—Ç—ñ–º –≤—ñ–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è—Ö –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ü–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ —ñ –º–∞—Ä–∫—É—î –Ω–∞—Å—Ç—É–ø–Ω—ñ, —ñ —Ç–∞–∫ –¥–∞–ª—ñ, –¥–æ–∫–∏ –Ω–µ –æ–±—ñ–π–¥–µ –≤–µ—Å—å –≥—Ä–∞—Ñ –¥–æ—Å—è–∂–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤.
>
> 3. **–§–∞–∑–∞ –æ—á–∏—â–µ–Ω–Ω—è (Sweep/Compact):** –£—Å—ñ –æ–±'—î–∫—Ç–∏ –≤ Heap, —è–∫—ñ –Ω–µ –±—É–ª–∏ –ø–æ–º—ñ—á–µ–Ω—ñ —è–∫ "–∂–∏–≤—ñ", –≤–≤–∞–∂–∞—é—Ç—å—Å—è —Å–º—ñ—Ç—Ç—è–º —ñ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, —è–∫—â–æ –Ω–∞ –æ–±'—î–∫—Ç —î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑—ñ —Å—Ç–µ–∫–∞ (–Ω–∞–ø—Ä—è–º—É —á–∏ –æ–ø–æ—Å–µ—Ä–µ–¥–∫–æ–≤–∞–Ω–æ), –≤—ñ–Ω –≤–≤–∞–∂–∞—î—Ç—å—Å—è –¥–æ—Å—è–∂–Ω–∏–º —ñ –Ω–µ –±—É–¥–µ –≤–∏–¥–∞–ª–µ–Ω–∏–π. –Ø–∫ —Ç—ñ–ª—å–∫–∏ –≤—Å—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç –∑—ñ —Å—Ç–µ–∫—ñ–≤ (—Ç–∞ —ñ–Ω—à–∏—Ö GC Roots) –∑–Ω–∏–∫–∞—é—Ç—å, –≤—ñ–Ω —Å—Ç–∞—î –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–º –Ω–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–∏–Ω—Ü–∏–ø—É —Ä–æ–±–æ—Ç–∏ Garbage Collector. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω –∑–Ω–∞—Ç–∏, —â–æ Stack —ñ Heap –Ω–µ –ø—Ä–æ—Å—Ç–æ —ñ—Å–Ω—É—é—Ç—å –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ, –∞ —Ç—ñ—Å–Ω–æ –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å —É –ø—Ä–æ—Ü–µ—Å—ñ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£—è–≤—ñ—Ç—å —Å–æ–±—ñ –º–µ—Ç–æ–¥, —â–æ –≤–∏–∫–ª–∏–∫–∞—î —Å–∞–º —Å–µ–±–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ. –£ –∫–æ–∂–Ω–æ–º—É –≤–∏–∫–ª–∏–∫—É —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–µ–≤–µ–ª–∏–∫–∏–π –æ–±'—î–∫—Ç. –Ø–∫–∞ –ø–æ–º–∏–ª–∫–∞ –≤–∏–Ω–∏–∫–Ω–µ –ø–µ—Ä—à–æ—é: `StackOverflowError` —á–∏ `OutOfMemoryError`? –í—ñ–¥–ø–æ–≤—ñ–¥—å –æ–±“ë—Ä—É–Ω—Ç—É–π—Ç–µ. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ —Å–∫–ª–∞–¥–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è, —ñ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ "–∑–∞–≤–∂–¥–∏ –±—É–¥–µ –•" –Ω–µ–º–∞—î. –ù–∞–π—ñ–º–æ–≤—ñ—Ä–Ω—ñ—à–µ, –ø–µ—Ä—à–æ—é –≤–∏–Ω–∏–∫–Ω–µ **`StackOverflowError`**.
>
> **–û–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è:**
>
> 1. **–û–±'—î–º –ø–∞–º'—è—Ç—ñ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:** –ó–∞–∑–≤–∏—á–∞–π, –ø–∞–º'—è—Ç—å, —â–æ –≤–∏–¥—ñ–ª—è—î—Ç—å—Å—è –¥–ª—è —Å—Ç–µ–∫–∞ –æ–¥–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É, —î –≤—ñ–¥–Ω–æ—Å–Ω–æ –Ω–µ–≤–µ–ª–∏–∫–æ—é (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ–¥ 256KB –¥–æ 1MB –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –û–° —Ç–∞ –≤–µ—Ä—Å—ñ—ó JVM). –ü–∞–º'—è—Ç—å –¥–ª—è –∫—É–ø–∏, –Ω–∞–≤–ø–∞–∫–∏, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –Ω–∞–±–∞–≥–∞—Ç–æ –±—ñ–ª—å—à–∞ (–º–æ–∂–µ –±—É—Ç–∏ —á–≤–µ—Ä—Ç—é –≤—ñ–¥ –¥–æ—Å—Ç—É–ø–Ω–æ—ó RAM, —Å–æ—Ç–Ω—ñ –º–µ–≥–∞–±–∞–π—Ç –∞–±–æ –≥—ñ–≥–∞–±–∞–π—Ç–∏).
>
> 2. **–í–∞—Ä—Ç—ñ—Å—Ç—å –æ–¥–Ω–æ–≥–æ –∫—Ä–æ–∫—É —Ä–µ–∫—É—Ä—Å—ñ—ó:**
>     * **–î–ª—è Stack:** –ö–æ–∂–µ–Ω —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –≤–∏–∫–ª–∏–∫ —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π `stack frame`. –ô–æ–≥–æ —Ä–æ–∑–º—ñ—Ä —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–π –¥–ª—è –¥–∞–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É —ñ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ª–æ–∫–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö —Ç–∞ –æ–ø–µ—Ä–∞–Ω–¥—ñ–≤. –¶–µ–π –ø—Ä–æ—Å—Ç—ñ—Ä **–∑–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –Ω–∞ –∫–æ–∂–Ω–æ–º—É –∫—Ä–æ—Ü—ñ**.
>     * **–î–ª—è Heap:** –ù–∞ –∫–æ–∂–Ω–æ–º—É –∫—Ä–æ—Ü—ñ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è "–Ω–µ–≤–µ–ª–∏–∫–∏–π –æ–±'—î–∫—Ç". –ù–∞–ø—Ä–∏–∫–ª–∞–¥, 16-32 –±–∞–π—Ç–∏.
>
> **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è:**
> –©–æ–± –∑–∞–ø–æ–≤–Ω–∏—Ç–∏ 1MB —Å—Ç–µ–∫–∞, –ø–æ—Ç—Ä—ñ–±–Ω–æ, —Å–∫–∞–∂—ñ–º–æ, –∫—ñ–ª—å–∫–∞ —Ç–∏—Å—è—á —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏—Ö –≤–∏–∫–ª–∏–∫—ñ–≤. –ó–∞ —Ü—ñ –∫—ñ–ª—å–∫–∞ —Ç–∏—Å—è—á –≤–∏–∫–ª–∏–∫—ñ–≤ —É –∫—É–ø—ñ –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ `–∫—ñ–ª—å–∫–∞_—Ç–∏—Å—è—á * 32 –±–∞–π—Ç–∏` –æ–±'—î–∫—Ç—ñ–≤, —â–æ —î –≤—ñ–¥–Ω–æ—Å–Ω–æ –Ω–µ–≤–µ–ª–∏–∫–∏–º –æ–±'—î–º–æ–º (–∫—ñ–ª—å–∫–∞ –¥–µ—Å—è—Ç–∫—ñ–≤ –∞–±–æ —Å–æ—Ç–µ–Ω—å –∫—ñ–ª–æ–±–∞–π—Ç). –ù–∞–±–∞–≥–∞—Ç–æ –π–º–æ–≤—ñ—Ä–Ω—ñ—à–µ, —â–æ –≤–∏—á–µ—Ä–ø–∞—î—Ç—å—Å—è –ª—ñ–º—ñ—Ç —Å—Ç–µ–∫–∞, –ø–µ—Ä—à –Ω—ñ–∂ –≤–∏—á–µ—Ä–ø–∞—î—Ç—å—Å—è –ª—ñ–º—ñ—Ç –∫—É–ø–∏.
>
> **–û–¥–Ω–∞–∫ `OutOfMemoryError` –º–æ–∂–µ –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ –ø–µ—Ä—à–∏–º —É —Ç–∞–∫–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö:**
>
> * –Ø–∫—â–æ —Ä–æ–∑–º—ñ—Ä –æ–±'—î–∫—Ç–∞, —â–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ –∫–æ–∂–Ω—ñ–π —ñ—Ç–µ—Ä–∞—Ü—ñ—ó, —î **–¥—É–∂–µ –≤–µ–ª–∏–∫–∏–º** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `new byte[1_000_000]`).
> * –Ø–∫—â–æ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Ä–æ–∑–º—ñ—Ä –∫—É–ø–∏ (`-Xms`) —Ç–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä (`-Xmx`) –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –Ω–∞ **–¥—É–∂–µ –º–∞–ª—ñ –∑–Ω–∞—á–µ–Ω–Ω—è**, –∞ —Ä–æ–∑–º—ñ—Ä —Å—Ç–µ–∫–∞ (`-Xss`) ‚Äî –Ω–∞ –¥—É–∂–µ –≤–µ–ª–∏–∫–µ.
> * –Ø–∫—â–æ –ø—Ä–æ–≥—Ä–∞–º–∞ –≤–∂–µ –º–∞–π–∂–µ –≤–∏—á–µ—Ä–ø–∞–ª–∞ –ø–∞–º'—è—Ç—å –∫—É–ø–∏ –¥–æ –ø–æ—á–∞—Ç–∫—É —Ä–µ–∫—É—Ä—Å—ñ—ó.
>
> –¢–æ–º—É –ø—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å ‚Äî "–ó–∞–∑–≤–∏—á–∞–π, —Ü–µ –±—É–¥–µ `StackOverflowError`, –∞–ª–µ —Ü–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Å–ø—ñ–≤–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É —Å—Ç–µ–∫–∞, —Ä–æ–∑–º—ñ—Ä—É –∫—É–ø–∏ —Ç–∞ —Ä–æ–∑–º—ñ—Ä—É –æ–±'—î–∫—Ç–∞, —â–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ –∫–æ–∂–Ω—ñ–π —ñ—Ç–µ—Ä–∞—Ü—ñ—ó".

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ö—Ä–∏—Ç–∏—á–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –∫—ñ–ª—å–∫–æ—Ö —Ñ–∞–∫—Ç–æ—Ä—ñ–≤ (–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è JVM, —Ä–æ–∑–º—ñ—Ä –æ–±'—î–∫—Ç—ñ–≤). –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –ø–æ–∫–∞–∑—É—î, —â–æ –∫–∞–Ω–¥–∏–¥–∞—Ç –Ω–µ –ø–æ–∫–ª–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ –¥–æ–≥–º–∏, –∞ –≤–º—ñ—î –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–æ–º–ø—Ä–æ–º—ñ—Å–∏ —Ç–∞ –≥—Ä–∞–Ω–∏—á–Ω—ñ —É–º–æ–≤–∏.*
