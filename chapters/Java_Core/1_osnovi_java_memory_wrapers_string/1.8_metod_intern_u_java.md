---
layout: default
title: "–ú–µ—Ç–æ–¥ intern() —É Java"
parent: "–û—Å–Ω–æ–≤–∏ Java: Memory, Wrappers, String"
grand_parent: "Java Core"
nav_order: 8
---

# –ú–µ—Ç–æ–¥ intern() —É Java

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –ú–µ—Ç–æ–¥ `intern()` –∫–ª–∞—Å—É `String`, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î –∫–∞–Ω–æ–Ω—ñ—á–Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è —Ä—è–¥–∫–∞ –∑ String Pool (—î–¥–∏–Ω—É –∫–æ–ø—ñ—é), –∞–±–æ –¥–æ–¥–∞—î —Ç—É–¥–∏ –Ω–æ–≤–∏–π, —è–∫—â–æ —Ç–∞–∫–æ–≥–æ —â–µ –Ω–µ–º–∞.

* –ø–æ–Ω—è—Ç—Ç—è: `intern()`, String Pool, –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø–∞–º'—è—Ç—ñ.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `String s = new String("tag").intern();` –¥–æ–∑–≤–æ–ª—è—î –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ `s` –∑ –ª—ñ—Ç–µ—Ä–∞–ª–æ–º `==`.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ö–æ—Ä–∏—Å–Ω–æ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø–∞–º'—è—Ç—ñ —É –≤–∏–ø–∞–¥–∫—É –≤–µ–ª–∏–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –¥—É–±–ª—é—é—á–∏—Ö —Ä—è–¥–∫—ñ–≤. –î–æ–∑–≤–æ–ª—è—î –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ —Ä—è–¥–∫–∏ —á–µ—Ä–µ–∑ `==` –∑–∞–º—ñ—Å—Ç—å `equals()`.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è `intern()`, –π–æ–≥–æ –≤–ø–ª–∏–≤ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —ñ –ø–∞–º'—è—Ç—å.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

–ú–µ—Ç–æ–¥ **`intern()`** ‚Äî —Ü–µ –º–µ—Ç–æ–¥ –∫–ª–∞—Å—É **`String`**, —è–∫–∏–π:

* –ø–æ–≤–µ—Ä—Ç–∞—î **–∫–∞–Ω–æ–Ω—ñ—á–Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è —Ä—è–¥–∫–∞** –∑ **String Pool**,
* –∞–±–æ –¥–æ–¥–∞—î —Ç—É–¥–∏ –Ω–æ–≤–∏–π —Ä—è–¥–æ–∫, —è–∫—â–æ —Ç–∞–∫–æ–≥–æ —â–µ –Ω–µ–º–∞.

```java
public native String intern();
```

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¶–µ —è–∫ —Å–∫–∞–∑–∞—Ç–∏ JVM:

üó£Ô∏è ¬´–ì–µ–π, —è –Ω–µ —Ö–æ—á—É –ø–ª–æ–¥–∏—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤—ñ —Ä—è–¥–∫–∏ ‚Äî –∑–∞–ø–∏—à–∏ —Ü–µ–π —É —Ç–≤—ñ–π *—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫* —ñ –¥–∞–≤–∞–π –º–µ–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–∂–µ –Ω–∞—è–≤–Ω–∏–π, —è–∫—â–æ —Ç–∞–∫–∏–π —î¬ª.

---

## **–û—Å–Ω–æ–≤–Ω–µ**

| –û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å | –û–ø–∏—Å |
| :---: | :---: |
| **–ö–ª–∞—Å** | **`java.lang.String`** |
| **–¢–∏–ø –º–µ—Ç–æ–¥—É** | **`public native String intern()`** |
| **–ü–∞–º º—è—Ç—å** | **String Pool** (—á–∞—Å—Ç–∏–Ω–∞ Heap, –∑ Java 8\) |
| **–ú–µ—Ç–∞** | –ï–∫–æ–Ω–æ–º—ñ—è –ø–∞–º º—è—Ç—ñ —Ç–∞ –ø—Ä–∏—à–≤–∏–¥—à–µ–Ω–Ω—è –ø–æ—Ä—ñ–≤–Ω—è–Ω—å |
| **–î–µ –∫–æ—Ä–∏—Å–Ω–æ** | CMS, HTML/XML/JSON-–ø–∞—Ä—Å–µ—Ä–∏, –∫–µ—à—É–≤–∞–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö |

üìå **–î–æ Java 7** String Pool –±—É–≤ —É **PermGen** -> –º–∞–≤ –æ–±–º–µ–∂–µ–Ω–Ω—è.  
üìå **–ü–æ—á–∏–Ω–∞—é—á–∏ –∑ Java 8** ‚Äî –≤—ñ–Ω —É **Heap** -> –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—à–µ —ñ –Ω–∞–¥—ñ–π–Ω—ñ—à–µ.

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

### **–î–ª—è —á–æ–≥–æ —Ü–µ?**

–ö–æ–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—ñ —Å–æ—Ç–Ω—ñ —Ç–∏—Å—è—á –æ–¥–Ω–∞–∫–æ–≤–∏—Ö —Ä—è–¥–∫—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, **`"div", "user", "admin"`**), –∫—Ä–∞—â–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ **–æ–¥–Ω—É –∫–æ–ø—ñ—é** —ñ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ **—á–µ—Ä–µ–∑ `==,`** –∞ –Ω–µ —á–µ—Ä–µ–∑ **`.equals()`**.

### **üî∏ –©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º?**

```java
String a = "admin";
String b = new String("admin");

System.out.println(a == b); // false ‚ùå
System.out.println(a == b.intern()); // true ‚úÖ
```

* **`.intern()`** –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î –≤–∂–µ —Ç–∞–∫–∏–π —Ä—è–¥–æ–∫ —É –ø—É–ª—ñ -> —è–∫—â–æ —Ç–∞–∫, –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω—å–æ–≥–æ.

### **üî∏ –£ —á–æ–º—É –ø—ñ–¥—Å—Ç—É–ø?**

* –Ø–∫—â–æ –≤—Å—ñ —Ä—è–¥–∫–∏ **—É–Ω—ñ–∫–∞–ª—å–Ω—ñ**, **`intern()`** —Ç—ñ–ª—å–∫–∏ **–∑–∞—Å–º—ñ—á—É—î String Pool**.
* –£ **–≤–µ–ª–∏–∫–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö** —Ç—Ä–µ–±–∞ –ø–∞–º º—è—Ç–∞—Ç–∏ –ø—Ä–æ –º–æ–∂–ª–∏–≤–µ **—Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º º—è—Ç—ñ –ø—É–ª–æ–º**.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **üîπ –ë–∞–∑–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥:**

```java
String a = "tag";
String b = new String("tag");

System.out.println(a == b);           // false
System.out.println(a == b.intern());  // true ‚úÖ
```

---

### **üîπ –ü—Ä–∏–∫–ª–∞–¥ —ñ–∑ CMS/–ø–∞—Ä—Å–µ—Ä–∞–º–∏:**

```java
String tag = new String("article").intern();
if (tag == "article") {
    System.out.println("–¶–µ —Å—Ç–∞—Ç—Ç—è!");
}
```

---

### **üîπ –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –º–∞—Å–∏–≤—É —Ç–µ–≥—ñ–≤:**

```java
String[] tags = {"div", "span", "div", "p", "span"};
Set<String> unique = new HashSet<>();

for (String tag : tags) {
    unique.add(tag.intern());
}
System.out.println(unique);
```

‚úÖ –ü—ñ—Å–ª—è **`intern()`** –≤ –∫–æ–ª–µ–∫—Ü—ñ—ó ‚Äî **—É–Ω—ñ–∫–∞–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è**, —â–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å –ø–∞–º º—è—Ç—å —ñ —Å–ø—Ä–æ—â—É—é—Ç—å –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è.

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ü—ñ–¥—Ö—ñ–¥ | –ü–∞–º º—è—Ç—å | –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å | –ü—Ä–∏–º—ñ—Ç–∫–∞ |
| :---: | :---: | :---: | :---: |
| –ë–µ–∑ **`intern()`** | –ë–∞–≥–∞—Ç–æ –æ–± º—î–∫—Ç—ñ–≤ | –ü–æ–≤—ñ–ª—å–Ω—ñ—à–µ (**`equals()`**) | –î—É–±–ª—é–≤–∞–Ω–Ω—è –≤ –ø–∞–º º—è—Ç—ñ |
| –ó **`intern()`** | –û–¥–∏–Ω –æ–± º—î–∫—Ç | –®–≤–∏–¥—à–µ **`(==)`** | –ú–æ–∂–Ω–∞ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ **`==`** |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

* **intern() \= internal string \= —î–¥–∏–Ω–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä**
* **`==`** –ø—Ä–∞—Ü—é—î **—Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è intern()**
* **`"Java" == "Java"`** ‚Äî **—Ç–∞–∫**, –∞–ª–µ **`new String("Java") == "Java"`** ‚Äî **–Ω—ñ**, –ø–æ–∫–∏ –Ω–µ –∑—Ä–æ–±–∏—à **`.intern()`**\!

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

–ú–µ—Ç–æ–¥ **`intern()`**:

* –¥–æ–∑–≤–æ–ª—è—î **–æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º º—è—Ç—ñ** –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω–∏–º–∏ —Ä—è–¥–∫–∞–º–∏,
* –∑–∞–±–µ–∑–ø–µ—á—É—î **–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —á–µ—Ä–µ–∑ `==`** (—à–≤–∏–¥–∫–µ),
* —î must-have –¥–ª—è —Å–∏—Å—Ç–µ–º, –¥–µ —á–∞—Å—Ç–æ –∑—É—Å—Ç—Ä—ñ—á–∞—é—Ç—å—Å—è –æ–¥–Ω–∞–∫–æ–≤—ñ —Ç–µ–∫—Å—Ç–∏: CMS, JSON/XML –ø–∞—Ä—Å–µ—Ä–∏, –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–æ—â–æ.

‚ö†Ô∏è –ù–µ –∑–ª–æ–≤–∂–∏–≤–∞–π\! –Ø–∫—â–æ —Å—Ç—Ä–æ–∫–∏ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ ‚Äî —Ü–µ –º–∞—Ä–Ω–∞ —Ç—Ä–∞—Ç–∞ —Ä–µ—Å—É—Ä—Å—ñ–≤.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Oracle Docs: String\#intern()**](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#intern--)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –º–µ—Ç–æ–¥ `String.intern()` —ñ —è–∫–∞ –π–æ–≥–æ –≥–æ–ª–æ–≤–Ω–∞ –º–µ—Ç–∞?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`String.intern()`** ‚Äî —Ü–µ `native` –º–µ—Ç–æ–¥ –∫–ª–∞—Å—É `String`, –≥–æ–ª–æ–≤–Ω–∞ –º–µ—Ç–∞ —è–∫–æ–≥–æ ‚Äî **–æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ** —à–ª—è—Ö–æ–º –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –¥–ª—è –±—É–¥—å-—è–∫–æ–≥–æ —É–Ω—ñ–∫–∞–ª—å–Ω–æ–≥–æ —Ä—è–¥–∫–∞ —ñ—Å–Ω—É—î –ª–∏—à–µ –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä —É –ø–∞–º'—è—Ç—ñ.
>
> –ö–æ–ª–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –º–µ—Ç–æ–¥ `intern()` –¥–ª—è –æ–±'—î–∫—Ç–∞ —Ä—è–¥–∫–∞, –≤—ñ–Ω –≤–∏–∫–æ–Ω—É—î –Ω–∞—Å—Ç—É–ø–Ω–µ:
>
> 1. –ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —ñ—Å–Ω—É—î —Ä—è–¥–æ–∫ –∑ —Ç–∞–∫–∏–º –∂–µ –≤–º—ñ—Å—Ç–æ–º —É —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ–π –æ–±–ª–∞—Å—Ç—ñ, —è–∫–∞ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **String Pool**.
> 2. **–Ø–∫—â–æ —Ç–∞–∫**, –≤—ñ–Ω –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–∂–µ —ñ—Å–Ω—É—é—á–∏–π —Ä—è–¥–æ–∫ –∑ –ø—É–ª—É.
> 3. **–Ø–∫—â–æ –Ω—ñ**, –≤—ñ–Ω –¥–æ–¥–∞—î —Ü–µ–π —Ä—è–¥–æ–∫ –¥–æ String Pool —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω—å–æ–≥–æ.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `intern()` –¥–æ–∑–≤–æ–ª—è—î –∑–∞–º—ñ–Ω–∏—Ç–∏ –±–µ–∑–ª—ñ—á –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ —Ä—è–¥–∫—ñ–≤ —É –∫—É–ø—ñ –æ–¥–Ω–∏–º-—î–¥–∏–Ω–∏–º "–∫–∞–Ω–æ–Ω—ñ—á–Ω–∏–º" –µ–∫–∑–µ–º–ø–ª—è—Ä–æ–º –∑ –ø—É–ª—É.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–£—è–≤—ñ—Ç—å, —â–æ String Pool ‚Äî —Ü–µ –≥–∞—Ä–¥–µ—Ä–æ–± –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ –Ω–æ–º–µ—Ä–∫–∞–º–∏. –ö–æ–ª–∏ –≤–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç–µ –∑ –ø–∞–ª—å—Ç–æ–º (—Ä—è–¥–∫–æ–º), –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–∏–∫ –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î –≤–∂–µ —Ç–æ—á–Ω–æ —Ç–∞–∫–µ –∂ –ø–∞–ª—å—Ç–æ. –Ø–∫—â–æ —î, –≤—ñ–Ω –¥–∞—î –≤–∞–º –Ω–æ–º–µ—Ä–æ–∫ –≤—ñ–¥ –Ω—å–æ–≥–æ. –Ø–∫—â–æ –Ω—ñ, –≤—ñ–Ω –≤—ñ—à–∞—î –≤–∞—à–µ –ø–∞–ª—å—Ç–æ –Ω–∞ –Ω–æ–≤–∏–π –≥–∞—á–æ–∫ —ñ –¥–∞—î –≤–∞–º –Ω–æ–≤–∏–π —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –Ω–æ–º–µ—Ä–æ–∫. –ú–µ—Ç–æ–¥ `intern()` ‚Äî —Ü–µ —è–∫ –∑–∞–ø–∏—Ç–∞—Ç–∏ "–î–∞–π –º–µ–Ω—ñ –Ω–æ–º–µ—Ä–æ–∫ –¥–ª—è –º–æ–≥–æ –ø–∞–ª—å—Ç–∞ –∑ –≤–∞—à–æ–≥–æ –≥–∞—Ä–¥–µ—Ä–æ–±—É".

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ë–∞–∑–æ–≤–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–µ—Ç–æ–¥—É `intern()` —è–∫ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø–∞–º'—è—Ç—ñ —á–µ—Ä–µ–∑ —Ä–æ–±–æ—Ç—É –∑—ñ String Pool.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å –Ω–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ, —è–∫ `intern()` –≤–ø–ª–∏–≤–∞—î –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —á–µ—Ä–µ–∑ `==`.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ú–µ—Ç–æ–¥ `intern()` –¥–æ–∑–≤–æ–ª—è—î –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ —Ä—è–¥–∫–∏ –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º (`==`) –∑–∞–º—ñ—Å—Ç—å –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑–∞ –≤–º—ñ—Å—Ç–æ–º (`equals()`), —â–æ —î –∑–Ω–∞—á–Ω–æ —à–≤–∏–¥—à–∏–º.
>
> –û–ø–µ—Ä–∞—Ç–æ—Ä `==` –ø–æ—Ä—ñ–≤–Ω—é—î –∞–¥—Ä–µ—Å–∏ –æ–±'—î–∫—Ç—ñ–≤ —É –ø–∞–º'—è—Ç—ñ. –ö–æ–ª–∏ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ —Ä—è–¥–æ–∫ —á–µ—Ä–µ–∑ `new String()`, –º–∏ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –æ—Ç—Ä–∏–º—É—î–º–æ –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç —É –∫—É–ø—ñ, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Ç–∞–∫–∏–π —Å–∞–º–∏–π —Ä—è–¥–æ–∫ —É–∂–µ —î –≤ –ø—É–ª—ñ.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> String literal = "hello"; // –ü–æ—Ç—Ä–∞–ø–ª—è—î –≤ String Pool
> String fromConstructor = new String("hello"); // –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç –≤ Heap
>
> // 1. –ü–æ—Ä—ñ–≤–Ω—é—î–º–æ —Ä—ñ–∑–Ω—ñ –æ–±'—î–∫—Ç–∏
> System.out.println(literal == fromConstructor); // false
>
> // 2. –Ü–Ω—Ç–µ—Ä–Ω—É—î–º–æ —Ä—è–¥–æ–∫, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
> String internedString = fromConstructor.intern();
>
> // 3. –ü–æ—Ä—ñ–≤–Ω—é—î–º–æ –ª—ñ—Ç–µ—Ä–∞–ª –∑ —ñ–Ω—Ç–µ—Ä–Ω–æ–≤–∞–Ω–∏–º —Ä—è–¥–∫–æ–º
> System.out.println(literal == internedString); // true
> ```
>
> –ü—ñ—Å–ª—è –≤–∏–∫–ª–∏–∫—É `intern()` –Ω–∞ `fromConstructor`, –º–∏ –æ—Ç—Ä–∏–º—É—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è `internedString`, —è–∫–µ –≤–∫–∞–∑—É—î –Ω–∞ —Ç–æ–π —Å–∞–º–∏–π –æ–±'—î–∫—Ç `"hello"` —É String Pool, —â–æ –π `literal`.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–¶–µ –∫–ª—é—á–æ–≤–∞ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å `intern()`: –≤—ñ–Ω –ø–æ–≤–µ—Ä—Ç–∞—î —î–¥–∏–Ω–µ –∫–∞–Ω–æ–Ω—ñ—á–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —É–Ω—ñ–∫–∞–ª—å–Ω–æ–≥–æ —Ä—è–¥–∫–∞, —â–æ –¥–æ–∑–≤–æ–ª—è—î –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `==`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä—É–≤–∞—Ç–∏ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ, —è–∫ `intern()` –∑–º—ñ–Ω—é—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è, —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º —ñ –æ–±'—î–∫—Ç–æ–º.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –º–µ—Ç–æ–¥ `intern()` –æ–≥–æ–ª–æ—à–µ–Ω–æ —è–∫ `native`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ú–µ—Ç–æ–¥ `intern()` –æ–≥–æ–ª–æ—à–µ–Ω–æ —è–∫ **`native`**, —Ç–æ–º—É —â–æ –π–æ–≥–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤–∑–∞—î–º–æ–¥—ñ—î –∑ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–∏—Ö **JVM**, –Ω–∞–ø–∏—Å–∞–Ω–∏–º–∏ –Ω–∞ C/C++.
>
> –ö–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ `native` –≤ Java –æ–∑–Ω–∞—á–∞—î, —â–æ –º–µ—Ç–æ–¥ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –Ω–µ –Ω–∞ Java, –∞ –Ω–∞ —ñ–Ω—à—ñ–π –º–æ–≤—ñ (–∑–∞–∑–≤–∏—á–∞–π C –∞–±–æ C++) —ñ —î —á–∞—Å—Ç–∏–Ω–æ—é Java Native Interface (JNI).
>
> **–ü—Ä–∏—á–∏–Ω–∏ –¥–ª—è `native` —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó `intern()`:**
>
> * **–ü—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ JVM:** String Pool ‚Äî —Ü–µ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π, –≤–∏—Å–æ–∫–æ–æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º JVM. –î–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ –Ω–∏–º (–ø–æ—à—É–∫, –¥–æ–¥–∞–≤–∞–Ω–Ω—è) –ø–æ—Ç—Ä—ñ–±–µ–Ω –ø—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä, —â–æ –∑–Ω–∞—á–Ω–æ —à–≤–∏–¥—à–µ —Ä–æ–±–∏—Ç–∏ –Ω–∞—Ç–∏–≤–Ω–∏–º –∫–æ–¥–æ–º.
> * **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:** –ü–æ—à—É–∫ —É —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ñ, —è–∫–æ—é —î String Pool, —î –∫—Ä–∏—Ç–∏—á–Ω–æ—é –¥–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –æ–ø–µ—Ä–∞—Ü—ñ—î—é. –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –Ω–∞ –Ω–∏–∑—å–∫–æ–º—É —Ä—ñ–≤–Ω—ñ –¥–æ–∑–≤–æ–ª—è—î –¥–æ—Å—è–≥—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó —à–≤–∏–¥–∫–æ—Å—Ç—ñ.
>
> –ü–æ —Å—É—Ç—ñ, `native` –≤–∫–∞–∑—É—î –Ω–∞ —Ç–µ, —â–æ —Ü–µ–π –º–µ—Ç–æ–¥ —î "–º–æ—Å—Ç–æ–º" –º—ñ–∂ —Å–≤—ñ—Ç–æ–º Java —ñ –Ω–∏–∑—å–∫–æ—Ä—ñ–≤–Ω–µ–≤–∏–º —Å–≤—ñ—Ç–æ–º —Å–∞–º–æ—ó –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ—ó –º–∞—à–∏–Ω–∏.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–¶–µ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –Ω–µ —Ç—ñ–ª—å–∫–∏ `intern()`. –ë–∞–≥–∞—Ç–æ –º–µ—Ç–æ–¥—ñ–≤ —É Java, —â–æ —Ç—ñ—Å–Ω–æ –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ —Å–∏—Å—Ç–µ–º–Ω–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏, –ø–∞–º'—è—Ç—Ç—é –∞–±–æ –ø–æ—Ç–æ–∫–∞–º–∏ (`Object.hashCode()`, `System.arraycopy()`), —Ç–∞–∫–æ–∂ —î –Ω–∞—Ç–∏–≤–Ω–∏–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –∫–ª—é—á–æ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `native` —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —á–æ–º—É –¥–µ—è–∫—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –≤ Java –≤–∏–º–∞–≥–∞—é—Ç—å –ø—Ä—è–º–æ—ó –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ JVM.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –∑–∞–≤–∂–¥–∏ `s1.intern() == s1` –±—É–¥–µ `true`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ù–µ –∑–∞–≤–∂–¥–∏.** –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ç–æ–≥–æ, —è–∫ –±—É–ª–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ —Ä—è–¥–æ–∫ `s1`.
>
> 1. **–Ø–∫—â–æ `s1` —î —Ä—è–¥–∫–æ–≤–∏–º –ª—ñ—Ç–µ—Ä–∞–ª–æ–º:**
>
>     ```java
>     String s1 = "hello";
>     // System.out.println(s1.intern() == s1); -> true
>     ```
>
>     –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É `s1` –≤–∂–µ –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ –æ–±'—î–∫—Ç —É String Pool. –í–∏–∫–ª–∏–∫ `intern()` –ø—Ä–æ—Å—Ç–æ –∑–Ω–∞–π–¥–µ —Ü–µ–π —Å–∞–º–∏–π –æ–±'—î–∫—Ç —É –ø—É–ª—ñ —ñ –ø–æ–≤–µ—Ä–Ω–µ –Ω–∞ –Ω—å–æ–≥–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è. –¢–æ–º—É –ø–æ—Å–∏–ª–∞–Ω–Ω—è –±—É–¥—É—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏.
>
> 2. **–Ø–∫—â–æ `s1` —Å—Ç–≤–æ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ `new String()` —ñ —Ç–∞–∫–∏–π —Ä—è–¥–æ–∫ —É–∂–µ —î –≤ –ø—É–ª—ñ:**
>
>     ```java
>     String literal = "hello"; // –ü–æ–∫–ª–∞–ª–∏ "hello" —É –ø—É–ª
>     String s1 = new String("hello");
>     // System.out.println(s1.intern() == s1); -> false
>     ```
>
>     –¢—É—Ç `s1` –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç —É –∫—É–ø—ñ. –í–∏–∫–ª–∏–∫ `s1.intern()` –∑–Ω–∞–π–¥–µ `"hello"` –≤ –ø—É–ª—ñ —ñ –ø–æ–≤–µ—Ä–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ *—ñ–Ω—à–∏–π* –æ–±'—î–∫—Ç (—Ç–æ–π, –Ω–∞ —è–∫–∏–π –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è `literal`). –û—Ç–∂–µ, –ø–æ—Å–∏–ª–∞–Ω–Ω—è `s1` —Ç–∞ `s1.intern()` –±—É–¥—É—Ç—å —Ä—ñ–∑–Ω–∏–º–∏.

#### **üìù –í–∏—Å–Ω–æ–≤–æ–∫:**

`s1.intern() == s1` –±—É–¥–µ `true` —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ, –∫–æ–ª–∏ `s1` –≤–∂–µ –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ –∫–∞–Ω–æ–Ω—ñ—á–Ω–∏–π —Ä—è–¥–æ–∫ –∑ String Pool.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ `intern()` –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è *–∑ –ø—É–ª—É*, —è–∫–µ –Ω–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –∑–±—ñ–≥–∞—î—Ç—å—Å—è –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ –æ–±'—î–∫—Ç, –¥–ª—è —è–∫–æ–≥–æ –±—É–≤ –≤–∏–∫–ª–∏–∫–∞–Ω–∏–π –º–µ—Ç–æ–¥.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —è–∫–∏—Ö —Ä–µ–∞–ª—å–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º–µ—Ç–æ–¥—É `intern()` —î –≤–∏–ø—Ä–∞–≤–¥–∞–Ω–∏–º?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `intern()` –≤–∏–ø—Ä–∞–≤–¥–∞–Ω–µ –≤ —Å–∏—Ç—É–∞—Ü—ñ—è—Ö, –¥–µ –≤–∏ –º–∞—î—Ç–µ —Å–ø—Ä–∞–≤—É –∑ **–≤–µ–ª–∏–∫–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ —Ä—è–¥–∫—ñ–≤, —â–æ –Ω–∞–¥—Ö–æ–¥—è—Ç—å —ñ–∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –¥–∂–µ—Ä–µ–ª** –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏.
>
> **–¢–∏–ø–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:**
>
> * **–ü–∞—Ä—Å–∏–Ω–≥ XML/JSON/CSV —Ñ–∞–π–ª—ñ–≤:** –ü—Ä–∏ –æ–±—Ä–æ–±—Ü—ñ –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤ –Ω–∞–∑–≤–∏ —Ç–µ–≥—ñ–≤ –∞–±–æ –ø–æ–ª—ñ–≤ (`<user>`, `"status"`) –ø–æ–≤—Ç–æ—Ä—é—é—Ç—å—Å—è —Ç–∏—Å—è—á—ñ —Ä–∞–∑—ñ–≤. –Ü–Ω—Ç–µ—Ä–Ω—É–≤–∞–Ω–Ω—è —Ü–∏—Ö –∑–Ω–∞—á–µ–Ω—å –¥–æ–∑–≤–æ–ª—è—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤ –ø–∞–º'—è—Ç—ñ –ª–∏—à–µ –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–∂–Ω–æ–≥–æ —É–Ω—ñ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ–≥—É/–ø–æ–ª—è.
>
> * **–û–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö:** –Ø–∫—â–æ –≤ –∫–æ–ª–æ–Ω—Ü—ñ —Ç–∞–±–ª–∏—Ü—ñ —î –±–∞–≥–∞—Ç–æ –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—Ç–∞—Ç—É—Å–∏ "ACTIVE", "INACTIVE", –Ω–∞–∑–≤–∏ –º—ñ—Å—Ç, –∫–∞—Ç–µ–≥–æ—Ä—ñ–π —Ç–æ–≤–∞—Ä—ñ–≤), —ñ–Ω—Ç–µ—Ä–Ω—É–≤–∞–Ω–Ω—è —Ü–∏—Ö —Ä—è–¥–∫—ñ–≤ –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤ –¥–æ–¥–∞—Ç–æ–∫ —Å—É—Ç—Ç—î–≤–æ –∑–µ–∫–æ–Ω–æ–º–∏—Ç—å –ø–∞–º'—è—Ç—å.
>
> * **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–µ—à—É –∞–±–æ –≤–∏—Å–æ–∫–æ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏—Ö —Å–∏—Å—Ç–µ–º:** –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ —à–≤–∏–¥–∫–æ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –∫–ª—é—á—ñ, —è–∫—ñ —î —Ä—è–¥–∫–∞–º–∏. –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —á–µ—Ä–µ–∑ `==` –∑–Ω–∞—á–Ω–æ —à–≤–∏–¥—à–µ, –Ω—ñ–∂ —á–µ—Ä–µ–∑ `equals()`, —â–æ –º–æ–∂–µ –±—É—Ç–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏–º —É "–≥–∞—Ä—è—á–∏—Ö" —Ü–∏–∫–ª–∞—Ö.
>
> –ó–∞–≥–∞–ª—å–Ω–µ –ø—Ä–∞–≤–∏–ª–æ: `intern()` –∫–æ—Ä–∏—Å–Ω–∏–π –¥–ª—è —Ä—è–¥–∫—ñ–≤ –∑ –≤–∏—Å–æ–∫–æ—é —á–∞—Å—Ç–æ—Ç–æ—é –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è —Ç–∞ –Ω–∏–∑—å–∫–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–Ø–∫—â–æ —Ä—è–¥–∫–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —è–∫ –ª—ñ—Ç–µ—Ä–∞–ª–∏ –≤ –∫–æ–¥—ñ (`String s = "status";`), `intern()` –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω, –±–æ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä —É–∂–µ —Ä–æ–±–∏—Ç—å —Ü—é —Ä–æ–±–æ—Ç—É –∑–∞ –≤–∞—Å. –í—ñ–Ω –ø–æ—Ç—Ä—ñ–±–µ–Ω —Å–∞–º–µ –¥–ª—è –¥–∞–Ω–∏—Ö, —â–æ –ø—Ä–∏—Ö–æ–¥—è—Ç—å –≤ runtime.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –≤–∏–∑–Ω–∞—á–∏—Ç–∏, –¥–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ –∑–Ω–∞–Ω–Ω—è –º–æ–∂–Ω–∞ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—ñ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ñ –Ω–∞—Å–ª—ñ–¥–∫–∏ –º–æ–∂–µ –º–∞—Ç–∏ –Ω–∞–¥–º—ñ—Ä–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `intern()`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –•–æ—á–∞ `intern()` —î –ø–æ—Ç—É–∂–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º, –π–æ–≥–æ –±–µ–∑–¥—É–º–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ —Å–µ—Ä–π–æ–∑–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º:
>
> 1. **–ó–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è String Pool:** –Ø–∫—â–æ –≤–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç–µ `intern()` –Ω–∞ —Ä—è–¥–∫–∞—Ö, —è–∫—ñ —î –ø–µ—Ä–µ–≤–∞–∂–Ω–æ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, UUID, –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –ª–æ–≥—ñ–≤), –≤–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø–æ–≤–Ω—é—î—Ç–µ String Pool –≤–µ–ª–∏—á–µ–∑–Ω–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é "–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∏—Ö" —Ä—è–¥–∫—ñ–≤. –û—Å–∫—ñ–ª—å–∫–∏ —Ü—ñ —Ä—è–¥–∫–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –∫—É–ø—ñ (Heap), —Ü–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ:
>     * –ó–±—ñ–ª—å—à–µ–Ω–Ω—è —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ.
>     * –ß–∞—Å—Ç—ñ—à–∏—Ö –∑–∞–ø—É—Å–∫—ñ–≤ Garbage Collector.
>     * –ó—Ä–µ—à—Ç–æ—é, –¥–æ `OutOfMemoryError`.
>
> 2. **–î–µ–≥—Ä–∞–¥–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ:** `intern()` –Ω–µ —î –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é. –í–æ–Ω–∞ –≤–∏–º–∞–≥–∞—î –ø–æ—à—É–∫—É –≤ –≥–ª–æ–±–∞–ª—å–Ω—ñ–π —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ñ. –Ø–∫—â–æ String Pool —Å—Ç–∞—î –¥—É–∂–µ –≤–µ–ª–∏–∫–∏–º, —Ü–µ–π –ø–æ—à—É–∫ –º–æ–∂–µ —Å–ø–æ–≤—ñ–ª—å–Ω–∏—Ç–∏—Å—è —á–µ—Ä–µ–∑ –∫–æ–ª—ñ–∑—ñ—ó. –£ –≤–∏–ø–∞–¥–∫—É –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ —Ä—è–¥–∫–∞–º–∏ –≤–∏ –±—É–¥–µ—Ç–µ –ø–ª–∞—Ç–∏—Ç–∏ –∑–∞ –ø–æ—à—É–∫ –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –Ω–µ –æ—Ç—Ä–∏–º—É—é—á–∏ –Ω—ñ—è–∫–æ—ó –∫–æ—Ä–∏—Å—Ç—ñ.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** `intern()` —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –≤–∏ –æ—á—ñ–∫—É—î—Ç–µ –≤–µ–ª–∏–∫—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤. –í —ñ–Ω—à–æ–º—É –≤–∏–ø–∞–¥–∫—É —Ü–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ –∞–Ω—Ç–∏–ø–∞—Ç–µ—Ä–Ω.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–ü–µ—Ä—à –Ω—ñ–∂ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ `intern()`, –∑–∞–≤–∂–¥–∏ –≤–∞—Ä—Ç–æ –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ. –Ü–¥–µ–∞–ª—å–Ω–∏–π –∫–∞–Ω–¥–∏–¥–∞—Ç –¥–ª—è —ñ–Ω—Ç–µ—Ä–Ω—É–≤–∞–Ω–Ω—è ‚Äî –ø–æ–ª–µ –∑ –Ω–∏–∑—å–∫–æ—é –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω—ñ—Å—Ç—é (–º–∞–ª–æ —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è, —â–æ –±—É–¥—å-—è–∫–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–∞—î —Å–≤–æ—é —Ü—ñ–Ω—É —ñ –æ–±–ª–∞—Å—Ç—å –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è. –ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –æ—Ü—ñ–Ω–∏—Ç–∏ –∫–æ–º–ø—Ä–æ–º—ñ—Å–∏ (trade-offs) –º—ñ–∂ –µ–∫–æ–Ω–æ–º—ñ—î—é –ø–∞–º'—è—Ç—ñ —Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –∑–º—ñ–Ω–∏–ª–∞—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è String Pool, —ñ —è–∫ —Ü–µ –≤–ø–ª–∏–Ω—É–ª–æ –Ω–∞ `intern()`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –∫–ª—é—á–æ–≤–∞ –∑–º—ñ–Ω–∞ –≤ –µ–≤–æ–ª—é—Ü—ñ—ó JVM, —è–∫–∞ —Å—É—Ç—Ç—î–≤–æ –≤–ø–ª–∏–Ω—É–ª–∞ –Ω–∞ —Ä–æ–±–æ—Ç—É `intern()`.
>
> * **–î–æ Java 7 (–≤ Java 6 —Ç–∞ —Ä–∞–Ω—ñ—à–µ):**
>   * **–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** String Pool –∑–Ω–∞—Ö–æ–¥–∏–≤—Å—è –≤ **PermGen (Permanent Generation)** ‚Äî –æ–∫—Ä–µ–º—ñ–π –æ–±–ª–∞—Å—Ç—ñ –ø–∞–º'—è—Ç—ñ –∑ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–º —Ä–æ–∑–º—ñ—Ä–æ–º.
>   * **–ü—Ä–æ–±–ª–µ–º–∞:** –†–æ–∑–º—ñ—Ä PermGen –±—É–ª–æ –≤–∞–∂–∫–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏. –Ø–∫—â–æ –ø—Ä–æ–≥—Ä–∞–º–∞ —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∞ `intern()`, –≤–æ–Ω–∞ –º–æ–≥–ª–∞ —à–≤–∏–¥–∫–æ –≤–∏—á–µ—Ä–ø–∞—Ç–∏ —Ü–µ–π –ø—Ä–æ—Å—Ç—ñ—Ä, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏–ª–æ –¥–æ —Ñ–∞—Ç–∞–ª—å–Ω–æ—ó –ø–æ–º–∏–ª–∫–∏ `OutOfMemoryError: PermGen space`. –ö—Ä—ñ–º —Ç–æ–≥–æ, –∑–±–∏—Ä–∞–Ω–Ω—è —Å–º—ñ—Ç—Ç—è –≤ PermGen –≤—ñ–¥–±—É–≤–∞–ª–æ—Å—è —Ä—ñ–¥–∫–æ.
>
> * **–ü–æ—á–∏–Ω–∞—é—á–∏ –∑ Java 7:**
>   * **–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** String Pool –±—É–ª–æ **–ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ –¥–æ –æ—Å–Ω–æ–≤–Ω–æ—ó –∫—É–ø–∏ (Heap)**.
>   * **–ü–µ—Ä–µ–≤–∞–≥–∏:**
>         1. String Pool –±—ñ–ª—å—à–µ –Ω–µ –æ–±–º–µ–∂–µ–Ω–∏–π –º–∞–ª–µ–Ω—å–∫–æ—é —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ—é –æ–±–ª–∞—Å—Ç—é, –∞ –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤—Å—é –¥–æ—Å—Ç—É–ø–Ω—É –ø–∞–º'—è—Ç—å –∫—É–ø–∏.
>         2. –†—è–¥–∫–∏ –≤ –ø—É–ª—ñ —Å—Ç–∞–ª–∏ –∑–≤–∏—á–∞–π–Ω–∏–º–∏ –æ–±'—î–∫—Ç–∞–º–∏ –¥–ª—è Garbage Collector —ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω—ñ, —è–∫—â–æ –Ω–∞ –Ω–∏—Ö –Ω–µ –∑–∞–ª–∏—à–∏–ª–æ—Å—è –ø–æ—Å–∏–ª–∞–Ω—å. –¶–µ –≤–∏—Ä—ñ—à–∏–ª–æ –ø—Ä–æ–±–ª–µ–º—É –≤–∏—Ç–æ–∫—ñ–≤ –ø–∞–º'—è—Ç—ñ —á–µ—Ä–µ–∑ `intern()`.
>         3. –ó–Ω–∏–∫–ª–∞ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞ `OutOfMemoryError: PermGen space`.
>
> –¶—è –∑–º—ñ–Ω–∞ –∑—Ä–æ–±–∏–ª–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `intern()` –Ω–∞–±–∞–≥–∞—Ç–æ –±–µ–∑–ø–µ—á–Ω—ñ—à–∏–º —Ç–∞ –≥–Ω—É—á–∫—ñ—à–∏–º —É —Å—É—á–∞—Å–Ω–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö Java.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫—ñ –∑–Ω–∞–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ JVM —Ç–∞ —ó—ó –µ–≤–æ–ª—é—Ü—ñ—ó. –¶–µ –ø–∏—Ç–∞–Ω–Ω—è, —è–∫–µ —á–∞—Å—Ç–æ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î Senior-—Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ –≤—ñ–¥ Middle.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å –ø–æ–≤–µ–¥—ñ–Ω–∫—É —Ü—å–æ–≥–æ –∫–æ–¥—É:

```java
String s1 = new StringBuilder("Ja").append("va").toString();
String s2 = s1.intern();
System.out.println(s1 == s2);
```

‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –†–µ–∑—É–ª—å—Ç–∞—Ç —Ü—å–æ–≥–æ –∫–æ–¥—É –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ç–æ–≥–æ, —á–∏ –∑—É—Å—Ç—Ä—ñ—á–∞–≤—Å—è –ª—ñ—Ç–µ—Ä–∞–ª `"Java"` —É –∫–æ–¥—ñ —Ä–∞–Ω—ñ—à–µ. –ê–ª–µ –Ω–∞–π—ñ–º–æ–≤—ñ—Ä–Ω—ñ—à–µ –≤ –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ **`true`**.
>
> **–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
>
> 1. `String s1 = new StringBuilder("Ja").append("va").toString();`: –¶–µ–π –∫–æ–¥ —Å—Ç–≤–æ—Ä—é—î —Ä—è–¥–æ–∫ `"Java"` –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (runtime). –í–∞–∂–ª–∏–≤–æ, —â–æ –≤—ñ–Ω **–Ω–µ** —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —è–∫ –ª—ñ—Ç–µ—Ä–∞–ª, —Ç–æ–º—É –Ω–∞ –º–æ–º–µ–Ω—Ç —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è `s1` —Ä—è–¥–æ–∫ `"Java"` —â–µ –º–æ–∂–µ –±—É—Ç–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ–º —É String Pool.
> 2. `String s2 = s1.intern();`: –¢—É—Ç –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∫–ª—é—á–æ–≤–∞ –ø–æ–¥—ñ—è.
>     * –ú–µ—Ç–æ–¥ `intern()` –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î `"Java"` –≤ String Pool.
>     * –Ø–∫—â–æ **–Ω—ñ** (–∞ —Ü–µ –Ω–∞–π—ñ–º–æ–≤—ñ—Ä–Ω—ñ—à–µ, —è–∫—â–æ –ª—ñ—Ç–µ—Ä–∞–ª "Java" –Ω–µ –∑—É—Å—Ç—Ä—ñ—á–∞–≤—Å—è —Ä–∞–Ω—ñ—à–µ), —Ç–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç `s1` **–¥–æ–¥–∞—î—Ç—å—Å—è** –¥–æ String Pool.
>     * –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ `intern()` –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —â–æ–π–Ω–æ –¥–æ–¥–∞–Ω–∏–π –æ–±'—î–∫—Ç. –û—Å–∫—ñ–ª—å–∫–∏ –≤ –ø—É–ª –±—É–ª–æ –¥–æ–¥–∞–Ω–æ —Å–∞–º –æ–±'—î–∫—Ç `s1`, –º–µ—Ç–æ–¥ `intern()` –ø–æ–≤–µ—Ä–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ `s1`.
> 3. `System.out.println(s1 == s2);`: –û—Å–∫—ñ–ª—å–∫–∏ `s2` –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è, –ø–æ–≤–µ—Ä–Ω—É—Ç–µ `intern()`, —è–∫–µ —î –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ `s1`, –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–æ–≤–µ—Ä–Ω–µ `true`.
>
> **–í–∞–∂–ª–∏–≤–∏–π –Ω—é–∞–Ω—Å:**
> –Ø–∫–±–∏ –¥–æ —Ü—å–æ–≥–æ —Ä—è–¥–∫–∞ –∫–æ–¥—É –¥–µ—Å—å –∑—É—Å—Ç—Ä—ñ–≤—Å—è –ª—ñ—Ç–µ—Ä–∞–ª `String literal = "Java";`, —Ç–æ –ø—É–ª —É–∂–µ –± –º—ñ—Å—Ç–∏–≤ —ñ–Ω—à–∏–π –æ–±'—î–∫—Ç `"Java"`. –¢–æ–¥—ñ `s1.intern()` –ø–æ–≤–µ—Ä–Ω—É–≤ –±–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ `literal`, —ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç `s1 == s2` –±—É–≤ –±–∏ `false`.
> –ê–ª–µ –±–µ–∑ —Ç–∞–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É, –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –∑ Java 7 —ñ –≤–∏—â–µ –±—É–¥–µ, —è–∫ –æ–ø–∏—Å–∞–Ω–æ, ‚Äî –ø–æ–≤–µ—Ä–Ω–µ—Ç—å—Å—è `true`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–Ω–∫–æ–≥–æ –Ω—é–∞–Ω—Å—É —Ä–æ–±–æ—Ç–∏ `intern()` –∑ Java 7+, –∞ —Å–∞–º–µ —Ç–µ, —â–æ –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –Ω–æ–≤–æ–≥–æ —Ä—è–¥–∫–∞ –≤ –ø—É–ª –¥–æ–¥–∞—î—Ç—å—Å—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —ñ—Å–Ω—É—é—á–∏–π –æ–±'—î–∫—Ç, –∞ –Ω–µ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –π–æ–≥–æ –∫–æ–ø—ñ—è.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—ñ —ñ—Å–Ω—É—é—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ `String.intern()` –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ —Ä—è–¥–∫—ñ–≤? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –•–æ—á–∞ `String.intern()` —î –≤–±—É–¥–æ–≤–∞–Ω–∏–º –º–µ—Ö–∞–Ω—ñ–∑–º–æ–º, –≤—ñ–Ω –º–∞—î –Ω–µ–¥–æ–ª—ñ–∫–∏ (–≥–ª–æ–±–∞–ª—å–Ω–∏–π –ø—É–ª, –ø—Ä–æ–±–ª–µ–º–∏ –∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é –ø—Ä–∏ –≤–µ–ª–∏–∫—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö —Ä—è–¥–∫—ñ–≤). –Ü—Å–Ω—É—é—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏:
>
> 1. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `Enum`:** –Ø–∫—â–æ –Ω–∞–±—ñ—Ä –º–æ–∂–ª–∏–≤–∏—Ö —Ä—è–¥–∫–æ–≤–∏—Ö –∑–Ω–∞—á–µ–Ω—å —î —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–º —ñ –≤—ñ–¥–æ–º–∏–º –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—Ç–∞—Ç—É—Å–∏, –¥–Ω—ñ —Ç–∏–∂–Ω—è, —Ç–∏–ø–∏), `Enum` —î –Ω–∞–π–∫—Ä–∞—â–æ—é –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ—é. –í—ñ–Ω —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω–∏–π, –±–µ–∑–ø–µ—á–Ω–∏–π, —à–≤–∏–¥–∫–∏–π —ñ –≥–∞—Ä–∞–Ω—Ç—É—î —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –ª–∏—à–µ –æ–¥–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è.
>
> 2. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–æ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–µ—à—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Map`):** –ú–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤–ª–∞—Å–Ω–∏–π –∫–µ—à, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `Map<String, String>` –∞–±–æ –±—ñ–ª—å—à –ø—Ä–æ—Å—É–Ω—É—Ç—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏, —è–∫ `WeakHashMap` —á–∏ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è (Guava Cache, Caffeine).
>     **–ü–µ—Ä–µ–≤–∞–≥–∏:**
>     * **–õ–æ–∫–∞–ª—å–Ω—ñ—Å—Ç—å:** –ö–µ—à –Ω–µ —î –≥–ª–æ–±–∞–ª—å–Ω–∏–º –¥–ª—è –≤—Å—ñ—î—ó JVM, –∞ –º–æ–∂–µ –±—É—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
>     * **–ì–Ω—É—á–∫—ñ—Å—Ç—å:** –ú–æ–∂–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ä–æ–∑–º—ñ—Ä –∫–µ—à—É, –ø–æ–ª—ñ—Ç–∏–∫—É –≤–∏—Ç—ñ—Å–Ω–µ–Ω–Ω—è (eviction policy), —á–∞—Å –∂–∏—Ç—Ç—è –∑–∞–ø–∏—Å—ñ–≤.
>
> 3. **–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –¥–ª—è –¥–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—ó:** –î–µ—è–∫—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –ø—Ä–æ–ø–æ–Ω—É—é—Ç—å –≥–æ—Ç–æ–≤—ñ —Ä—ñ—à–µ–Ω–Ω—è, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å –ø–æ–¥—ñ–±–Ω–æ –¥–æ `intern()`, –∞–ª–µ –∑ –±—ñ–ª—å—à–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º.
>
> –í–∏–±—ñ—Ä –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∑–∞–¥–∞—á—ñ: –¥–ª—è —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ–≥–æ –Ω–∞–±–æ—Ä—É –∑–Ω–∞—á–µ–Ω—å ‚Äî `Enum`, –¥–ª—è –¥–∏–Ω–∞–º—ñ—á–Ω–∏—Ö, –∞–ª–µ –æ–±–º–µ–∂–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö ‚Äî –≤–ª–∞—Å–Ω–∏–π –∫–µ—à, –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ—ó –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó —ñ—Å–Ω—É—é—á–∏—Ö –¥–∞–Ω–∏—Ö ‚Äî `intern()`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è —Ç–∞ –∑–Ω–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –ø–∞—Ç–µ—Ä–Ω—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω —Ä–æ–∑—É–º—ñ—Ç–∏, —â–æ –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –æ–¥–Ω—ñ—î—ó –ø—Ä–æ–±–ª–µ–º–∏ —á–∞—Å—Ç–æ —ñ—Å–Ω—É—î –∫—ñ–ª—å–∫–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –∫–æ–º–ø—Ä–æ–º—ñ—Å–∞–º–∏.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ `intern()` –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –Ω–∞ —Ä—è–¥–∫—É, —â–æ –º—ñ—Å—Ç–∏—Ç—å `null`-—Å–∏–º–≤–æ–ª–∏ (`\u0000`)? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ü–æ–≤–µ–¥—ñ–Ω–∫–∞ `String.intern()` –∑ `null`-—Å–∏–º–≤–æ–ª–∞–º–∏ –∑–º—ñ–Ω–∏–ª–∞—Å—è –∑ —á–∞—Å–æ–º —ñ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –≤–µ—Ä—Å—ñ—ó JDK, —â–æ —Ä–æ–±–∏—Ç—å —Ü–µ –ø–∏—Ç–∞–Ω–Ω—è –¥–æ—Å–∏—Ç—å –ø—ñ–¥—Å—Ç—É–ø–Ω–∏–º.
>
> * **–£ —Å—Ç–∞—Ä–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö JDK (–ø—Ä–∏–±–ª–∏–∑–Ω–æ –¥–æ Java 7u6):** –ú–µ—Ç–æ–¥ `intern()` –±—É–≤ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –Ω–∞ C++, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `\0` —è–∫ —Ç–µ—Ä–º—ñ–Ω–∞—Ç–æ—Ä —Ä—è–¥–∫–∞. –ß–µ—Ä–µ–∑ —Ü–µ, —è–∫—â–æ —Ä—è–¥–æ–∫ –º—ñ—Å—Ç–∏–≤ `\u0000`, `intern()` –æ–±—Ä—ñ–∑–∞–≤ –π–æ–≥–æ –¥–æ —Ü—å–æ–≥–æ —Å–∏–º–≤–æ–ª—É, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏–ª–æ –¥–æ –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–∏—Ö –∫–æ–ª—ñ–∑—ñ–π —ñ –ø–æ–º–∏–ª–æ–∫. –†—è–¥–∫–∏ "ab" —ñ "ab\0c" –º–æ–≥–ª–∏ –≤–≤–∞–∂–∞—Ç–∏—Å—è –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏.
>
> * **–£ —Å—É—á–∞—Å–Ω–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö JDK:** –¶—é –ø—Ä–æ–±–ª–µ–º—É –±—É–ª–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ. **–°—É—á–∞—Å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `intern()` –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª—è—î —Ä—è–¥–∫–∏, —â–æ –º—ñ—Å—Ç—è—Ç—å `null`-—Å–∏–º–≤–æ–ª–∏.** –†—è–¥–æ–∫ —Ä–æ–∑–≥–ª—è–¥–∞—î—Ç—å—Å—è —è–∫ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å `char`, —ñ `\u0000` –≤–≤–∞–∂–∞—î—Ç—å—Å—è –∑–≤–∏—á–∞–π–Ω–∏–º —Å–∏–º–≤–æ–ª–æ–º.
>
> –û—Ç–∂–µ, –≤ —Å—É—á–∞—Å–Ω—ñ–π Java `String a = "test\u0000";` —Ç–∞ `String b = "test";` –±—É–¥—É—Ç—å –¥–≤–æ–º–∞ —Ä—ñ–∑–Ω–∏–º–∏ —Ä—è–¥–∫–∞–º–∏ –≤ String Pool –ø—ñ—Å–ª—è —ñ–Ω—Ç–µ—Ä–Ω—É–≤–∞–Ω–Ω—è. –ü—Ä–æ–±–ª–µ–º –∑ "–æ–±—Ä—ñ–∑–∞–Ω–Ω—è–º" —Ä—è–¥–∫–∞ –±—ñ–ª—å—à–µ –Ω–µ–º–∞—î.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–¶–µ –ø–∏—Ç–∞–Ω–Ω—è –Ω–∞ –∑–Ω–∞–Ω–Ω—è "—Ç–µ–º–Ω–∏—Ö –∫—É—Ç–∫—ñ–≤" —Ç–∞ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö –±–∞–≥—ñ–≤ JDK. –í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –Ω—å–æ–≥–æ —Å–≤—ñ–¥—á–∏—Ç—å –ø—Ä–æ –≥–ª–∏–±–æ–∫–µ –∑–∞–Ω—É—Ä–µ–Ω–Ω—è –≤ —Ç–µ–º—É —ñ –¥–æ—Å–≤—ñ–¥.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫—ñ, –º–æ–∂–ª–∏–≤–æ –Ω–∞–≤—ñ—Ç—å —ñ—Å—Ç–æ—Ä–∏—á–Ω—ñ, –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é `String` —Ç–∞ —ó—ó –µ–≤–æ–ª—é—Ü—ñ—é.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å `String.equals()` —Ç–∞ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —á–µ—Ä–µ–∑ `==` –¥–ª—è —ñ–Ω—Ç–µ—Ä–Ω–æ–≤–∞–Ω–∏—Ö —Ä—è–¥–∫—ñ–≤. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —á–µ—Ä–µ–∑ `==` —î –∑–Ω–∞—á–Ω–æ —à–≤–∏–¥—à–∏–º.**
>
> * **`s1 == s2`:** –¶–µ –æ–¥–Ω–∞ –∑ –Ω–∞–π—à–≤–∏–¥—à–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π —É JVM. –í–æ–Ω–∞ –ø—Ä–æ—Å—Ç–æ –ø–æ—Ä—ñ–≤–Ω—é—î –¥–≤–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è (–∞–¥—Ä–µ—Å–∏ –≤ –ø–∞–º'—è—Ç—ñ), —â–æ –∑–∞–∑–≤–∏—á–∞–π –∑–∞–π–º–∞—î –æ–¥–∏–Ω-–¥–≤–∞ —Ü–∏–∫–ª–∏ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞. –¶–µ –æ–¥–Ω–∞ –∞—Ç–æ–º–∞—Ä–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è.
>
> * **`s1.equals(s2)`:** –¶–µ–π –º–µ—Ç–æ–¥ —î –Ω–∞–±–∞–≥–∞—Ç–æ —Å–∫–ª–∞–¥–Ω—ñ—à–∏–º —ñ "–¥–æ—Ä–æ–∂—á–∏–º":
>     1. –°–ø–æ—á–∞—Ç–∫—É –≤—ñ–Ω –ø–µ—Ä–µ–≤—ñ—Ä—è—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è —á–µ—Ä–µ–∑ `==` (–æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è –æ–¥–Ω–∞–∫–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤). –Ø–∫—â–æ –≤–æ–Ω–∏ —Ä—ñ–≤–Ω—ñ, –ø–æ–≤–µ—Ä—Ç–∞—î `true`.
>     2. –ü–æ—Ç—ñ–º –≤—ñ–Ω –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –Ω–µ —î –¥—Ä—É–≥–∏–π –æ–±'—î–∫—Ç `null` —ñ —á–∏ —î –≤—ñ–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä–æ–º `String`.
>     3. –Ø–∫—â–æ –≤—Å–µ –¥–æ–±—Ä–µ, –≤—ñ–Ω –ø–æ—á–∏–Ω–∞—î **–ø–æ—Å–∏–º–≤–æ–ª—å–Ω–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è** –≤–º—ñ—Å—Ç—É –¥–≤–æ—Ö —Ä—è–¥–∫—ñ–≤. –£ –Ω–∞–π–≥—ñ—Ä—à–æ–º—É –≤–∏–ø–∞–¥–∫—É (–¥–æ–≤–≥—ñ —Ä—è–¥–∫–∏, —â–æ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è –æ—Å—Ç–∞–Ω–Ω—ñ–º —Å–∏–º–≤–æ–ª–æ–º) –≤—ñ–Ω –ø—Ä–æ–π–¥–µ—Ç—å—Å—è –ø–æ –≤—Å—ñ–π –¥–æ–≤–∂–∏–Ω—ñ —Ä—è–¥–∫–∞.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:**
> –Ø–∫—â–æ –≤–∏ –º–æ–∂–µ—Ç–µ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏, —â–æ –≤—Å—ñ —Ä—è–¥–∫–∏, —è–∫—ñ –≤–∏ –ø–æ—Ä—ñ–≤–Ω—é—î—Ç–µ, –±—É–ª–∏ —ñ–Ω—Ç–µ—Ä–Ω–æ–≤–∞–Ω—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `==` –¥–∞—Å—Ç—å —Å—É—Ç—Ç—î–≤–∏–π –ø—Ä–∏—Ä—ñ—Å—Ç –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ, –æ—Å–æ–±–ª–∏–≤–æ —É "–≥–∞—Ä—è—á–∏—Ö" —Ü–∏–∫–ª–∞—Ö. –°–∞–º–µ –≤ —Ü—å–æ–º—É —ñ –ø–æ–ª—è–≥–∞—î –æ–¥–Ω–∞ –∑ –≥–æ–ª–æ–≤–Ω–∏—Ö –ø–µ—Ä–µ–≤–∞–≥ `intern()`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –º—ñ–∫—Ä–æ-–æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ–π —Ç–∞ —Ç–æ–≥–æ, —è–∫ —Ä—ñ–∑–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó —Ç—Ä–∞–Ω—Å–ª—é—é—Ç—å—Å—è –≤ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –Ω–∞ –Ω–∏–∑—å–∫–æ–º—É —Ä—ñ–≤–Ω—ñ.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –¥–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—è —Ä—è–¥–∫—ñ–≤ (String Deduplication) –≤ G1 Garbage Collector —ñ —è–∫ –≤–æ–Ω–∞ –ø–æ–≤'—è–∑–∞–Ω–∞ –∑ `intern()`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–î–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—è —Ä—è–¥–∫—ñ–≤** ‚Äî —Ü–µ —Ñ—É–Ω–∫—Ü—ñ—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –≤ –∑–±–∏—Ä–∞—á—ñ —Å–º—ñ—Ç—Ç—è G1 (G1GC), –¥–æ–¥–∞–Ω–∞ –≤ Java 8u20. –í–æ–Ω–∞ —Å–ø—Ä—è–º–æ–≤–∞–Ω–∞ –Ω–∞ –µ–∫–æ–Ω–æ–º—ñ—é –ø–∞–º'—è—Ç—ñ, —è–∫ —ñ `intern()`, –∞–ª–µ –ø—Ä–∞—Ü—é—î –∑–æ–≤—Å—ñ–º –ø–æ-—ñ–Ω—à–æ–º—É.
>
> **–Ø–∫ –ø—Ä–∞—Ü—é—î –¥–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—è:**
>
> * –í–æ–Ω–∞ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ** —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ –ø—ñ–¥ —á–∞—Å —Ä–æ–±–æ—Ç–∏ GC.
> * G1 –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —É –∫—É–ø—ñ –æ–±'—î–∫—Ç–∏-—Ä—è–¥–∫–∏, —â–æ **–º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π –≤–º—ñ—Å—Ç**, –∞–ª–µ —î —Ä—ñ–∑–Ω–∏–º–∏ –æ–±'—î–∫—Ç–∞–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—Ç–≤–æ—Ä–µ–Ω—ñ —á–µ—Ä–µ–∑ `new String()` –∞–±–æ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü—ñ—é).
> * –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –≤—ñ–Ω –∑–º—ñ–Ω—é—î –≤–Ω—É—Ç—Ä—ñ—à–Ω—î –ø–æ–ª–µ –æ–¥–Ω–æ–≥–æ –∑ —Ä—è–¥–∫—ñ–≤-–¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ (`char[] value`) —Ç–∞–∫, —â–æ–± –≤–æ–Ω–æ –ø–æ—Å–∏–ª–∞–ª–æ—Å—è –Ω–∞ –º–∞—Å–∏–≤ —Å–∏–º–≤–æ–ª—ñ–≤ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä—è–¥–∫–∞. –¢–∞–∫–∏–º —á–∏–Ω–æ–º, –∫—ñ–ª—å–∫–∞ –æ–±'—î–∫—Ç—ñ–≤ `String` –ø–æ—á–∏–Ω–∞—é—Ç—å —Å–ø—ñ–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–¥–∏–Ω —ñ —Ç–æ–π –∂–µ –º–∞—Å–∏–≤ —Å–∏–º–≤–æ–ª—ñ–≤, –∑–≤—ñ–ª—å–Ω—è—é—á–∏ –ø–∞–º'—è—Ç—å –≤—ñ–¥ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤.
>
> **–ó–≤'—è–∑–æ–∫ —ñ –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –≤—ñ–¥ `intern()`:**
>
| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | `String.intern()` | String Deduplication (G1) |
| :---: | :---: | :---: |
| **–ö–æ–ª–∏ –ø—Ä–∞—Ü—é—î** | –¢—ñ–ª—å–∫–∏ –ø—Ä–∏ —è–≤–Ω–æ–º—É –≤–∏–∫–ª–∏–∫—É. | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥ —á–∞—Å —Ü–∏–∫–ª—É GC. |
| **–©–æ —Ä–æ–±–∏—Ç—å** | –ó–∞–º—ñ–Ω—é—î –æ–±'—î–∫—Ç–∏ –æ–¥–Ω–∏–º –∫–∞–Ω–æ–Ω—ñ—á–Ω–∏–º –∑ –ø—É–ª—É. | –ó–º—É—à—É—î –æ–±'—î–∫—Ç–∏-–¥—É–±–ª—ñ–∫–∞—Ç–∏ —Å–ø—ñ–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –º–∞—Å–∏–≤ —Å–∏–º–≤–æ–ª—ñ–≤. |
| **–í–ø–ª–∏–≤ –Ω–∞ `==`** | –ü—ñ—Å–ª—è `intern()` –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è `==` –¥–∞—î `true`. | **–ù—ñ—è–∫ –Ω–µ –≤–ø–ª–∏–≤–∞—î.** –û–±'—î–∫—Ç–∏ `String` –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è —Ä—ñ–∑–Ω–∏–º–∏, —Ç–æ–º—É `==` –ø–æ–≤–µ—Ä–Ω–µ `false`. |
| **–ú–µ—Ç–∞** | –ï–∫–æ–Ω–æ–º—ñ—è –ø–∞–º'—è—Ç—ñ + –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è –ø–æ—Ä—ñ–≤–Ω—è–Ω—å. | **–¢—ñ–ª—å–∫–∏** –µ–∫–æ–Ω–æ–º—ñ—è –ø–∞–º'—è—Ç—ñ. |

–î–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—è —î –±—ñ–ª—å—à "–±–µ–∑–ø–µ—á–Ω–æ—é" —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—î—é, —è–∫–∞ –Ω–µ –∑–º—ñ–Ω—é—î –ª–æ–≥—ñ–∫—É –ø—Ä–æ–≥—Ä–∞–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó JVM —Ç–∞ Garbage Collector'—ñ–≤. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω —Ä–æ–∑—É–º—ñ—Ç–∏, —â–æ `intern()` –Ω–µ —î–¥–∏–Ω–∏–π —Å–ø–æ—Å—ñ–± –±–æ—Ä–æ—Ç—å–±–∏ –∑ –¥—É–±–ª—ñ–∫–∞—Ç–∞–º–∏ —Ä—è–¥–∫—ñ–≤.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—â–æ `String.intern()` –ø–æ–≤–µ—Ä—Ç–∞—î –∫–∞–Ω–æ–Ω—ñ—á–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è, —á–∏ –º–æ–∂–Ω–∞ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –Ω–∞–¥—ñ–π–Ω–æ–≥–æ `Singleton` –ø–∞—Ç–µ—Ä–Ω—É? –ß–æ–º—É —Ç–∞–∫ —á–∏ –Ω—ñ? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ù—ñ, —Ü–µ –¥—É–∂–µ –ø–æ–≥–∞–Ω–∞ —ñ–¥–µ—è**, —ñ –≤–æ–Ω–∞ –Ω–µ —Ä–µ–∞–ª—ñ–∑—É—î `Singleton` —É –∫–ª–∞—Å–∏—á–Ω–æ–º—É —Ä–æ–∑—É–º—ñ–Ω–Ω—ñ.
>
> `Singleton` –ø–∞—Ç–µ—Ä–Ω –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –¥–ª—è –ø–µ–≤–Ω–æ–≥–æ **–∫–ª–∞—Å—É** —ñ—Å–Ω—É—î –ª–∏—à–µ –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä. `String.intern()` –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –¥–ª—è –ø–µ–≤–Ω–æ–≥–æ **–∑–Ω–∞—á–µ–Ω–Ω—è —Ä—è–¥–∫–∞** —ñ—Å–Ω—É—î –ª–∏—à–µ –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä —É –ø—É–ª—ñ. –¶–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ —Ä—ñ–∑–Ω—ñ —Ä–µ—á—ñ.
>
> **–ß–æ–º—É —Ü–µ –ø–æ–≥–∞–Ω–∞ —ñ–¥–µ—è:**
>
> 1. **–ì–ª–æ–±–∞–ª—å–Ω–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä —ñ–º–µ–Ω:** String Pool —î –≥–ª–æ–±–∞–ª—å–Ω–∏–º –¥–ª—è –≤—Å—ñ—î—ó JVM. –Ø–∫—â–æ –≤–∏ —Å–ø—Ä–æ–±—É—î—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä—è–¥–æ–∫, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `"DatabaseConnection"`, —è–∫ –∫–ª—é—á –¥–ª—è –≤–∞—à–æ–≥–æ "—Å–∏–Ω–≥–ª—Ç–æ–Ω–∞", –±—É–¥—å-—è–∫–∞ —ñ–Ω—à–∞ —á–∞—Å—Ç–∏–Ω–∞ –∫–æ–¥—É (–≤–∫–ª—é—á–∞—é—á–∏ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏) –º–æ–∂–µ –≤–∏–ø–∞–¥–∫–æ–≤–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∞–∫–∏–π –∂–µ —Ä—è–¥–æ–∫ —ñ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–∞—à "—Å–∏–Ω–≥–ª—Ç–æ–Ω", –∞–±–æ, —â–æ –≥—ñ—Ä—à–µ, –∑–∞–±—Ä—É–¥–Ω–∏—Ç–∏ –ø—É–ª.
>
> 2. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—é –Ω–∞–¥ –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º:** –í–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏, –∫–æ–ª–∏ –æ–±'—î–∫—Ç —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–±–æ –∑–Ω–∏—â—É—î—Ç—å—Å—è. –ô–æ–≥–æ –∂–∏—Ç—Ç—è–º —É–ø—Ä–∞–≤–ª—è—î `intern()` —Ç–∞ Garbage Collector. –ö–ª–∞—Å–∏—á–Ω–∏–π `Singleton` –¥–æ–∑–≤–æ–ª—è—î —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ª—ñ–Ω–∏–≤—É —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é —Ç–∞ —ñ–Ω—à—ñ –ª–æ–≥—ñ–∫–∏.
>
> 3. **–ù–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Å—Ç–∞–Ω:** –í–∞—à "—Å–∏–Ω–≥–ª—Ç–æ–Ω" –±—É–≤ –±–∏ –æ–±'—î–∫—Ç–æ–º `String`, —è–∫–∏–π —î –Ω–µ–∑–º—ñ–Ω–Ω–∏–º. –í–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ –¥–æ –Ω—å–æ–≥–æ –ø–æ–ª—è —á–∏ –º–µ—Ç–æ–¥–∏, —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –¥–ª—è –≤–∞—à–æ–≥–æ —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** –•–æ—á–∞ —ñ `intern()`, —ñ `Singleton` –º–∞—é—Ç—å —Å–ø—Ä–∞–≤—É –∑ "—É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏", —ó—Ö–Ω—ñ —Ü—ñ–ª—ñ, –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–∞ —Ä—ñ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó –∞–±—Å–æ–ª—é—Ç–Ω–æ —Ä—ñ–∑–Ω—ñ. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `intern()` –¥–ª—è —Ü—ñ—î—ó –º–µ—Ç–∏ —î –≥—Ä—É–±–∏–º –ø–æ—Ä—É—à–µ–Ω–Ω—è–º –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è. –î–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó `Singleton` —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–ª–∞—Å–∏—á–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏ (—Å—Ç–∞—Ç–∏—á–Ω–µ –ø–æ–ª–µ, `Enum`).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –ø–∞—Ç–µ—Ä–Ω—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –±–∞—á–∏—Ç–∏ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ —Å—Ö–æ–∂–∏–º–∏ –∑–∞ —Ñ–æ—Ä–º–æ—é, –∞–ª–µ —Ä—ñ–∑–Ω–∏–º–∏ –∑–∞ —Å—É—Ç—Ç—é –∫–æ–Ω—Ü–µ–ø—Ü—ñ—è–º–∏. –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –∑–ª–æ–≤–∂–∏–≤–∞–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –Ω–µ –∑–∞ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è–º.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—ñ —Ä–∏–∑–∏–∫–∏ –Ω–µ—Å–µ `String.intern()` —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ? –ß–∏ –º–æ–∂–µ –≤—ñ–Ω —Å—Ç–∞—Ç–∏ –ø—Ä–∏—á–∏–Ω–æ—é –±–ª–æ–∫—É–≤–∞–Ω—å? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, `String.intern()` –º–æ–∂–µ —Å—Ç–∞—Ç–∏ **"–≤—É–∑—å–∫–∏–º –º—ñ—Å—Ü–µ–º" (bottleneck)** —É –≤–∏—Å–æ–∫–æ–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–º—É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.
>
> String Pool ‚Äî —Ü–µ –≥–ª–æ–±–∞–ª—å–Ω–∞, —Å–ø—ñ–ª—å–Ω–∞ –¥–ª—è –≤—Å—ñ—Ö –ø–æ—Ç–æ–∫—ñ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö (–ø–æ —Å—É—Ç—ñ, —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—è). –©–æ–± –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –Ω–æ–≤–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, JVM –ø–æ–≤–∏–Ω–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –º–µ—Ö–∞–Ω—ñ–∑–º **–±–ª–æ–∫—É–≤–∞–Ω–Ω—è (locking)** –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É —Ü—ñ—î—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏.
>
> **–†–∏–∑–∏–∫–∏ —Ç–∞ —Å—Ü–µ–Ω–∞—Ä—ñ–π –ø—Ä–æ–±–ª–µ–º–∏:**
>
> 1. –£—è–≤—ñ—Ç—å —Å–æ–±—ñ —Å–∏—Å—Ç–µ–º—É –∑ –¥–µ—Å—è—Ç–∫–∞–º–∏ –ø–æ—Ç–æ–∫—ñ–≤, –∫–æ–∂–µ–Ω –∑ —è–∫–∏—Ö –æ–±—Ä–æ–±–ª—è—î –¥–∞–Ω—ñ —ñ –≤–∏–∫–ª–∏–∫–∞—î `intern()` –¥–ª—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö —Ä—è–¥–∫—ñ–≤.
> 2. –ö–æ–ª–∏ –ø–æ—Ç—ñ–∫ –≤–∏–∫–ª–∏–∫–∞—î `intern()` –¥–ª—è —Ä—è–¥–∫–∞, —è–∫–æ–≥–æ —â–µ –Ω–µ–º–∞—î –≤ –ø—É–ª—ñ, –≤—ñ–Ω –ø–æ–≤–∏–Ω–µ–Ω –æ—Ç—Ä–∏–º–∞—Ç–∏ **–±–ª–æ–∫—É–≤–∞–Ω–Ω—è** –Ω–∞ —Ç–∞–±–ª–∏—Ü—ñ String Pool, —â–æ–± –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç.
> 3. –Ø–∫—â–æ –≤ —Ü–µ–π —Å–∞–º–∏–π –º–æ–º–µ–Ω—Ç —ñ–Ω—à—ñ –ø–æ—Ç–æ–∫–∏ —Ç–∞–∫–æ–∂ –Ω–∞–º–∞–≥–∞—é—Ç—å—Å—è –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ —Ä—è–¥–∫–∏, –≤–æ–Ω–∏ –±—É–¥—É—Ç—å **–∑–∞–±–ª–æ–∫–æ–≤–∞–Ω—ñ** —ñ –∑–º—É—à–µ–Ω—ñ —á–µ–∫–∞—Ç–∏, –¥–æ–∫–∏ –ø–µ—Ä—à–∏–π –ø–æ—Ç—ñ–∫ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–≤–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—é —ñ –∑–≤—ñ–ª—å–Ω–∏—Ç—å –±–ª–æ–∫—É–≤–∞–Ω–Ω—è.
> 4. –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ **–∫–æ–Ω–∫—É—Ä–µ–Ω—Ü—ñ—ó –∑–∞ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è (lock contention)**, —â–æ –º–æ–∂–µ —Å–µ—Ä–π–æ–∑–Ω–æ –∑–Ω–∏–∑–∏—Ç–∏ –∑–∞–≥–∞–ª—å–Ω—É –ø—Ä–æ–ø—É—Å–∫–Ω—É –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∏. –ó–∞–º—ñ—Å—Ç—å –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø–æ—Ç–æ–∫–∏ —Å—Ç–æ—è—Ç—å —É —á–µ—Ä–∑—ñ –æ–¥–∏–Ω –∑–∞ –æ–¥–Ω–∏–º.
>
> –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è String Pool –∑ —á–∞—Å–æ–º –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞–ª–∞—Å—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —à–ª—è—Ö–æ–º –ø–æ–¥—ñ–ª—É –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç–∏), —â–æ–± –∑–º–µ–Ω—à–∏—Ç–∏ —Ü—é –ø—Ä–æ–±–ª–µ–º—É, –∞–ª–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏–π —Ä–∏–∑–∏–∫ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü—ñ—ó –∑–∞ –≥–ª–æ–±–∞–ª—å–Ω–∏–π —Ä–µ—Å—É—Ä—Å –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è. –¢–æ–º—É –≤ —Å–∏—Å—Ç–µ–º–∞—Ö –∑ –≤–∏—Å–æ–∫–∏–º –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º —Å–ª—ñ–¥ —Ä–æ–∑–≥–ª—è–¥–∞—Ç–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–æ—Ç–æ–∫–æ-–ª–æ–∫–∞–ª—å–Ω—ñ –∫–µ—à—ñ –∞–±–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ñ –º–∞–ø–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ï–∫—Å–ø–µ—Ä—Ç–Ω–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ —Ç–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü—ñ—ó. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω –∑–Ω–∞—Ç–∏ –Ω–µ –ª–∏—à–µ –ø—Ä–æ –ª–æ–≥—ñ—á–Ω—É –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å `intern()`, –∞–ª–µ —ñ –ø—Ä–æ –π–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é –ø—ñ–¥ –≤–∏—Å–æ–∫–∏–º –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–°—Ç–≤–æ—Ä—ñ—Ç—å —Å–≤—ñ–¥–æ–º–∏–π "–≤–∏—Ç—ñ–∫ –ø–∞–º'—è—Ç—ñ" –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `String.intern()` —ñ `ArrayList`. –ü–æ—è—Å–Ω—ñ—Ç—å, —á–æ–º—É –ø–∞–º'—è—Ç—å –Ω–µ –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ú–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Å–∏—Ç—É–∞—Ü—ñ—é, –∫–æ–ª–∏ `String.intern()` –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –ª–æ–≥—ñ—á–Ω–æ–≥–æ –≤–∏—Ç–æ–∫—É –ø–∞–º'—è—Ç—ñ (—É—Ç—Ä–∏–º–∞–Ω–Ω—è –≤ –ø–∞–º'—è—Ç—ñ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤), –∑–∞–ø–æ–≤–Ω—é—é—á–∏ String Pool.
>
> **–ö–æ–¥ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó:**
>
> ```java
> public class InternMemoryLeak {
>     public static void main(String[] args) throws InterruptedException {
>         List<String> largeObjects = new ArrayList<>();
>         for (int i = 0; i < 1_000_000; i++) {
>             // –°—Ç–≤–æ—Ä—é—î–º–æ –≤–µ–ª–∏–∫–∏–π, —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —Ä—è–¥–æ–∫
>             String largeString = new String(new char[100]).replace('\0', (char)i) + "---" + i;
>             
>             // –Ü–Ω—Ç–µ—Ä–Ω—É—î–º–æ –π–æ–≥–æ. –¢–µ–ø–µ—Ä –≤—ñ–Ω –Ω–∞–∑–∞–≤–∂–¥–∏ –≤ String Pool.
>             largeString.intern();
>             
>             // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤ —Å–ø–∏—Å–∫—É, —â–æ–± GC —Ç–æ—á–Ω–æ –Ω–µ –≤–∏–¥–∞–ª–∏–≤ –æ–±'—î–∫—Ç
>             largeObjects.add(largeString);
>         }
>
>         // –£ —Ü–µ–π –º–æ–º–µ–Ω—Ç String Pool –º—ñ—Å—Ç–∏—Ç—å 1,000,000 —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö —Ä—è–¥–∫—ñ–≤.
>         System.out.println("Strings interned.");
>
>         // –¢–µ–ø–µ—Ä –æ—á–∏—â—É—î–º–æ —Å–ø–∏—Å–æ–∫.
>         largeObjects.clear();
>         largeObjects = null;
>         System.out.println("List cleared.");
>
>         // –ü—Ä–∏–º—É—Å–æ–≤–æ –≤–∏–∫–ª–∏–∫–∞—î–º–æ GC.
>         System.gc();
>         Thread.sleep(2000); // –î–∞—î–º–æ —á–∞—Å GC –ø–æ–ø—Ä–∞—Ü—é–≤–∞—Ç–∏.
>
>         // –ü—Ä–æ—Ñ–∞–π–ª–µ—Ä –ø–∞–º'—è—Ç—ñ –ø–æ–∫–∞–∂–µ, —â–æ Heap –≤—Å–µ —â–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–∏–π.
>         System.out.println("Check memory profile.");
>         Thread.sleep(Long.MAX_VALUE);
>     }
> }
> ```
>
> **–ü–æ—è—Å–Ω–µ–Ω–Ω—è, —á–æ–º—É –ø–∞–º'—è—Ç—å –Ω–µ –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è:**
>
> 1. –£ —Ü–∏–∫–ª—ñ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ –º—ñ–ª—å–π–æ–Ω **—É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö** —Ä—è–¥–∫—ñ–≤.
> 2. –ö–æ–∂–µ–Ω –∑ —Ü–∏—Ö —Ä—è–¥–∫—ñ–≤ –¥–æ–¥–∞—î—Ç—å—Å—è –¥–æ **String Pool** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `intern()`.
> 3. String Pool —É—Ç—Ä–∏–º—É—î **—Å–∏–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è (strong reference)** –Ω–∞ –∫–æ–∂–µ–Ω –¥–æ–¥–∞–Ω–∏–π –¥–æ –Ω—å–æ–≥–æ —Ä—è–¥–æ–∫.
> 4. –ü—ñ–∑–Ω—ñ—à–µ –º–∏ –æ—á–∏—â—É—î–º–æ `ArrayList` —ñ –≤–∏–¥–∞–ª—è—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω—å–æ–≥–æ (`largeObjects = null`). –ó–¥–∞–≤–∞–ª–æ—Å—è –±, –æ–±'—î–∫—Ç–∏ —Ç–µ–ø–µ—Ä –Ω–µ–¥–æ—Å—è–∂–Ω—ñ.
> 5. **–ê–ª–µ —Ü–µ –Ω–µ —Ç–∞–∫!** –•–æ—á–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑ `ArrayList` –∑–Ω–∏–∫–ª–∏, **—Å–∏–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑—ñ String Pool –∑–∞–ª–∏—à–∏–ª–∏—Å—è**.
> 6. –û—Å–∫—ñ–ª—å–∫–∏ String Pool —î "–∂–∏–≤–∏–º" (—Ü–µ —á–∞—Å—Ç–∏–Ω–∞ JVM), Garbage Collector –±–∞—á–∏—Ç—å, —â–æ –Ω–∞ —Ü—ñ –º—ñ–ª—å–π–æ–Ω —Ä—è–¥–∫—ñ–≤ —î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑ –ø—É–ª—É, –≤–≤–∞–∂–∞—î —ó—Ö –¥–æ—Å—è–∂–Ω–∏–º–∏ —ñ **–Ω–µ –≤–∏–¥–∞–ª—è—î —ó—Ö**.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, –º–∏ –Ω–∞–∑–∞–≤–∂–¥–∏ "–∑–∞—Å–º—ñ—Ç–∏–ª–∏" –∫—É–ø—É –æ–±'—î–∫—Ç–∞–º–∏, —è–∫—ñ –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ –Ω–∞–º –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ. –¶–µ –∫–ª–∞—Å–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ –≤–∏—Ç–æ–∫—É –ø–∞–º'—è—Ç—ñ —á–µ—Ä–µ–∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–µ—à—É–≤–∞–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ Garbage Collector, —Ç–∏–ø—ñ–≤ –ø–æ—Å–∏–ª–∞–Ω—å —Ç–∞ –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É –æ–±'—î–∫—Ç—ñ–≤. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω –≤–º—ñ—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É—é–≤–∞—Ç–∏ —Ç–∞ –ø–æ—è—Å–Ω—é–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –≤–∏—Ç–æ–∫—ñ–≤ –ø–∞–º'—è—Ç—ñ.*
