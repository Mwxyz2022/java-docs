---
layout: default
title: "–ú–µ—Ç–æ–¥ intern() —É Java"
parent: "–û—Å–Ω–æ–≤–∏ Java: Memory, Wrappers, String"
grand_parent: "Java Core"
nav_order: 8
---

# –ú–µ—Ç–æ–¥ intern() —É Java

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –ú–µ—Ç–æ–¥ `intern()` –∫–ª–∞—Å—É `String`, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î –∫–∞–Ω–æ–Ω—ñ—á–Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è —Ä—è–¥–∫–∞ –∑ String Pool (—î–¥–∏–Ω—É –∫–æ–ø—ñ—é), –∞–±–æ –¥–æ–¥–∞—î —Ç—É–¥–∏ –Ω–æ–≤–∏–π, —è–∫—â–æ —Ç–∞–∫–æ–≥–æ —â–µ –Ω–µ–º–∞.

* –ø–æ–Ω—è—Ç—Ç—è: `intern()`, String Pool, –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø–∞–º'—è—Ç—ñ.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `String s = new String("tag").intern();` –¥–æ–∑–≤–æ–ª—è—î –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ `s` –∑ –ª—ñ—Ç–µ—Ä–∞–ª–æ–º `==`.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ö–æ—Ä–∏—Å–Ω–æ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø–∞–º'—è—Ç—ñ —É –≤–∏–ø–∞–¥–∫—É –≤–µ–ª–∏–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –¥—É–±–ª—é—é—á–∏—Ö —Ä—è–¥–∫—ñ–≤. –î–æ–∑–≤–æ–ª—è—î –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ —Ä—è–¥–∫–∏ —á–µ—Ä–µ–∑ `==` –∑–∞–º—ñ—Å—Ç—å `equals()`.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è `intern()`, –π–æ–≥–æ –≤–ø–ª–∏–≤ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —ñ –ø–∞–º'—è—Ç—å.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

–ú–µ—Ç–æ–¥ **`intern()`** ‚Äî —Ü–µ –º–µ—Ç–æ–¥ –∫–ª–∞—Å—É **`String`**, —è–∫–∏–π:

* –ø–æ–≤–µ—Ä—Ç–∞—î **–∫–∞–Ω–æ–Ω—ñ—á–Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è —Ä—è–¥–∫–∞** –∑ **String Pool**,
* –∞–±–æ –¥–æ–¥–∞—î —Ç—É–¥–∏ –Ω–æ–≤–∏–π —Ä—è–¥–æ–∫, —è–∫—â–æ —Ç–∞–∫–æ–≥–æ —â–µ –Ω–µ–º–∞.

```java
public native String intern();
```

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¶–µ —è–∫ —Å–∫–∞–∑–∞—Ç–∏ JVM:

üó£Ô∏è ¬´–ì–µ–π, —è –Ω–µ —Ö–æ—á—É –ø–ª–æ–¥–∏—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤—ñ —Ä—è–¥–∫–∏ ‚Äî –∑–∞–ø–∏—à–∏ —Ü–µ–π —É —Ç–≤—ñ–π *—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫* —ñ –¥–∞–≤–∞–π –º–µ–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–∂–µ –Ω–∞—è–≤–Ω–∏–π, —è–∫—â–æ —Ç–∞–∫–∏–π —î¬ª.

---

## **–û—Å–Ω–æ–≤–Ω–µ**

| –û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å | –û–ø–∏—Å |
| :---: | :---: |
| **–ö–ª–∞—Å** | **`java.lang.String`** |
| **–¢–∏–ø –º–µ—Ç–æ–¥—É** | **`public native String intern()`** |
| **–ü–∞–º º—è—Ç—å** | **String Pool** (—á–∞—Å—Ç–∏–Ω–∞ Heap, –∑ Java 8\) |
| **–ú–µ—Ç–∞** | –ï–∫–æ–Ω–æ–º—ñ—è –ø–∞–º º—è—Ç—ñ —Ç–∞ –ø—Ä–∏—à–≤–∏–¥—à–µ–Ω–Ω—è –ø–æ—Ä—ñ–≤–Ω—è–Ω—å |
| **–î–µ –∫–æ—Ä–∏—Å–Ω–æ** | CMS, HTML/XML/JSON-–ø–∞—Ä—Å–µ—Ä–∏, –∫–µ—à—É–≤–∞–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö |

üìå **–î–æ Java 7** String Pool –±—É–≤ —É **PermGen** -> –º–∞–≤ –æ–±–º–µ–∂–µ–Ω–Ω—è.  
üìå **–ü–æ—á–∏–Ω–∞—é—á–∏ –∑ Java 8** ‚Äî –≤—ñ–Ω —É **Heap** -> –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—à–µ —ñ –Ω–∞–¥—ñ–π–Ω—ñ—à–µ.

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

### **–î–ª—è —á–æ–≥–æ —Ü–µ?**

–ö–æ–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—ñ —Å–æ—Ç–Ω—ñ —Ç–∏—Å—è—á –æ–¥–Ω–∞–∫–æ–≤–∏—Ö —Ä—è–¥–∫—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, **`"div", "user", "admin"`**), –∫—Ä–∞—â–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ **–æ–¥–Ω—É –∫–æ–ø—ñ—é** —ñ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ **—á–µ—Ä–µ–∑ `==,`** –∞ –Ω–µ —á–µ—Ä–µ–∑ **`.equals()`**.

### **üî∏ –©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º?**

```java
String a = "admin";
String b = new String("admin");

System.out.println(a == b); // false ‚ùå
System.out.println(a == b.intern()); // true ‚úÖ
```

* **`.intern()`** –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î –≤–∂–µ —Ç–∞–∫–∏–π —Ä—è–¥–æ–∫ —É –ø—É–ª—ñ -> —è–∫—â–æ —Ç–∞–∫, –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω—å–æ–≥–æ.

### **üî∏ –£ —á–æ–º—É –ø—ñ–¥—Å—Ç—É–ø?**

* –Ø–∫—â–æ –≤—Å—ñ —Ä—è–¥–∫–∏ **—É–Ω—ñ–∫–∞–ª—å–Ω—ñ**, **`intern()`** —Ç—ñ–ª—å–∫–∏ **–∑–∞—Å–º—ñ—á—É—î String Pool**.
* –£ **–≤–µ–ª–∏–∫–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö** —Ç—Ä–µ–±–∞ –ø–∞–º º—è—Ç–∞—Ç–∏ –ø—Ä–æ –º–æ–∂–ª–∏–≤–µ **—Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º º—è—Ç—ñ –ø—É–ª–æ–º**.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **üîπ –ë–∞–∑–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥:**

```java
String a = "tag";
String b = new String("tag");

System.out.println(a == b);           // false
System.out.println(a == b.intern());  // true ‚úÖ
```

---

### **üîπ –ü—Ä–∏–∫–ª–∞–¥ —ñ–∑ CMS/–ø–∞—Ä—Å–µ—Ä–∞–º–∏:**

```java
String tag = new String("article").intern();
if (tag == "article") {
    System.out.println("–¶–µ —Å—Ç–∞—Ç—Ç—è!");
}
```

---

### **üîπ –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –º–∞—Å–∏–≤—É —Ç–µ–≥—ñ–≤:**

```java
String[] tags = {"div", "span", "div", "p", "span"};
Set<String> unique = new HashSet<>();

for (String tag : tags) {
    unique.add(tag.intern());
}
System.out.println(unique);
```

‚úÖ –ü—ñ—Å–ª—è **`intern()`** –≤ –∫–æ–ª–µ–∫—Ü—ñ—ó ‚Äî **—É–Ω—ñ–∫–∞–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è**, —â–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å –ø–∞–º º—è—Ç—å —ñ —Å–ø—Ä–æ—â—É—é—Ç—å –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è.

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ü—ñ–¥—Ö—ñ–¥ | –ü–∞–º º—è—Ç—å | –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å | –ü—Ä–∏–º—ñ—Ç–∫–∞ |
| :---: | :---: | :---: | :---: |
| –ë–µ–∑ **`intern()`** | –ë–∞–≥–∞—Ç–æ –æ–± º—î–∫—Ç—ñ–≤ | –ü–æ–≤—ñ–ª—å–Ω—ñ—à–µ (**`equals()`**) | –î—É–±–ª—é–≤–∞–Ω–Ω—è –≤ –ø–∞–º º—è—Ç—ñ |
| –ó **`intern()`** | –û–¥–∏–Ω –æ–± º—î–∫—Ç | –®–≤–∏–¥—à–µ **`(==)`** | –ú–æ–∂–Ω–∞ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ **`==`** |

---

## **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –Ø–∫ `intern()` –µ–∫–æ–Ω–æ–º–∏—Ç—å –ø–∞–º º—è—Ç—å?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

 –ó–±–µ—Ä—ñ–≥–∞—î **—î–¥–∏–Ω–∏–π –æ–± º—î–∫—Ç** —É –ø—É–ª—ñ -> –≤—Å—ñ —ñ–Ω—à—ñ –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–∏–ª–∞—é—Ç—å—Å—è –Ω–∞ –Ω—å–æ–≥–æ.

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –©–æ –±—É–¥–µ, —è–∫—â–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `intern()`?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

 –ö–æ–∂–µ–Ω **`new String("...")`** —Å—Ç–≤–æ—Ä—é—î **–Ω–æ–≤–∏–π –æ–± º—î–∫—Ç**, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –∑–Ω–∞—á–µ–Ω–Ω—è —ñ–¥–µ–Ω—Ç–∏—á–Ω–µ.

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–í–∞—Ä—Ç–æ –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `intern()`?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

 –ù—ñ. –Ø–∫—â–æ —Å—Ç—Ä–æ–∫–∏ **–∑–∞–≤–∂–¥–∏ —Ä—ñ–∑–Ω—ñ** ‚Äî –∫–æ—Ä–∏—Å—Ç—ñ –Ω–µ–º–∞—î. –ê–ª–µ –¥–ª—è **–ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö** (—Ç–µ–≥–∏, —Å—Ç–∞—Ç—É—Å–∏, —Ä–æ–ª—ñ) ‚Äî **–¥—É–∂–µ –≤–∏–≥—ñ–¥–Ω–æ**.

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏–º –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è `equals()` –≤—ñ–¥ `==` –∑ intern()?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

`equals()`** –ø–µ—Ä–µ–≤—ñ—Ä—è—î **–≤–º—ñ—Å—Ç**, **`==`** ‚Äî **–ø–æ—Å–∏–ª–∞–Ω–Ω—è**. –ü—ñ—Å–ª—è **`.intern()`** –º–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **`==`**.

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

* **intern() \= internal string \= —î–¥–∏–Ω–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä**
* **`==`** –ø—Ä–∞—Ü—é—î **—Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è intern()**
* **`"Java" == "Java"`** ‚Äî **—Ç–∞–∫**, –∞–ª–µ **`new String("Java") == "Java"`** ‚Äî **–Ω—ñ**, –ø–æ–∫–∏ –Ω–µ –∑—Ä–æ–±–∏—à **`.intern()`**\!

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

–ú–µ—Ç–æ–¥ **`intern()`**:

* –¥–æ–∑–≤–æ–ª—è—î **–æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º º—è—Ç—ñ** –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω–∏–º–∏ —Ä—è–¥–∫–∞–º–∏,
* –∑–∞–±–µ–∑–ø–µ—á—É—î **–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —á–µ—Ä–µ–∑ `==`** (—à–≤–∏–¥–∫–µ),
* —î must-have –¥–ª—è —Å–∏—Å—Ç–µ–º, –¥–µ —á–∞—Å—Ç–æ –∑—É—Å—Ç—Ä—ñ—á–∞—é—Ç—å—Å—è –æ–¥–Ω–∞–∫–æ–≤—ñ —Ç–µ–∫—Å—Ç–∏: CMS, JSON/XML –ø–∞—Ä—Å–µ—Ä–∏, –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–æ—â–æ.

‚ö†Ô∏è –ù–µ –∑–ª–æ–≤–∂–∏–≤–∞–π\! –Ø–∫—â–æ —Å—Ç—Ä–æ–∫–∏ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ ‚Äî —Ü–µ –º–∞—Ä–Ω–∞ —Ç—Ä–∞—Ç–∞ —Ä–µ—Å—É—Ä—Å—ñ–≤.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Oracle Docs: String\#intern()**](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#intern--)
