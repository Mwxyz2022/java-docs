---
layout: default
title: "Garbage Collector"
parent: "–û—Å–Ω–æ–≤–∏ Java: Memory, Wrappers, String"
grand_parent: "Java Core"
nav_order: 4
---

# Garbage Collector

*   –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: GC ‚Äì —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º JVM, —â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—á–∏—â–∞—î Heap-–ø–∞–º'—è—Ç—å –≤—ñ–¥ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ –¥–ª—è –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤.
*   –ø–æ–Ω—è—Ç—Ç—è: GC, Heap, Mark-Sweep-Compact, Stop-the-World, —Ç–∏–ø–∏ GC (Serial, Parallel, CMS, G1, ZGC).
*   –ø—Ä–∏–∫–ª–∞–¥–∏: –ó–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ –ø—ñ—Å–ª—è –≤—Ç—Ä–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç, `System.gc()` —è–∫ –∑–∞–ø–∏—Ç.
*   –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é, –µ—Ç–∞–ø–∏ —Ä–æ–±–æ—Ç–∏ (mark ‚Üí sweep), –Ω–µ –∑–∞—á—ñ–ø–∞—î Stack. –ú–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –≤–∏—Ç–æ–∫—ñ–≤ –ø–∞–º'—è—Ç—ñ, —è–∫—â–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è.
*   —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –Ø–∫ –ø—Ä–∞—Ü—é—î GC, –Ω–∞–≤—ñ—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω, —á–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏—Ç–æ–∫–∏ –ø–∞–º'—è—Ç—ñ.


#### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**Garbage Collector (GC)** ‚Äî —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º JVM, —è–∫–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —ñ –≤–∏–¥–∞–ª—è—î –æ–± º—î–∫—Ç–∏ –∑ Heap-–ø–∞–º º—è—Ç—ñ, —è–∫—ñ –±—ñ–ª—å—à–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–æ—é, —â–æ–± –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏ –¥–ª—è –Ω–æ–≤–∏—Ö –æ–± º—î–∫—Ç—ñ–≤.

#### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¶–µ "–ø—Ä–∏–±–∏—Ä–∞–ª—å–Ω–∏–∫" —É –ø–∞–º º—è—Ç—ñ Java. –Ø–∫—â–æ –æ–± º—î–∫—Ç –±—ñ–ª—å—à–µ –Ω—ñ–∫–æ–º—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω ‚Äî GC –π–æ–≥–æ "–≤–∏–Ω–æ—Å–∏—Ç—å –Ω–∞ —Å–º—ñ—Ç–Ω–∏–∫".

–¢–æ–±—ñ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä—É—á–Ω—É –∑–≤—ñ–ª—å–Ω—è—Ç–∏ –ø–∞–º º—è—Ç—å ‚Äî Java —Å–∞–º–∞ —Å—Ç–µ–∂–∏—Ç—å, —â–æ –±—ñ–ª—å—à–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è.
---

## **2Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω—ñ –≤–∏–¥–∏ / –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó / —Ç–∏–ø–∏**

##### **üìä –¢–∏–ø–æ–≤–∏–π —Ü–∏–∫–ª GC (Simplified):**

| –ï—Ç–∞–ø | –û–ø–∏—Å |
| :---: | :---: |
| **Mark** | JVM "–≤—ñ–¥–º—ñ—á–∞—î" –≤—Å—ñ –æ–± º—î–∫—Ç–∏, –¥–æ —è–∫–∏—Ö —â–µ —î –¥–æ—Å—Ç—É–ø |
| **Sweep** | JVM –æ—á–∏—â–∞—î –≤—Å–µ, —â–æ –Ω–µ –±—É–ª–æ –≤—ñ–¥–º—ñ—á–µ–Ω–æ (–º–µ—Ä—Ç–≤—ñ –æ–± º—î–∫—Ç–∏) |
| **Compact** | –ü–µ—Ä–µ–º—ñ—â—É—î –æ–± º—î–∫—Ç–∏ –¥–ª—è –∑–º–µ–Ω—à–µ–Ω–Ω—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó –ø–∞–º º—è—Ç—ñ |

##### **üìä –¢–∏–ø–∏ GC —É JVM:**

| –ù–∞–∑–≤–∞ GC | –û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å |
| :---: | :---: |
| **Serial GC** | –ü—Ä–æ—Å—Ç–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è, –∑—É–ø–∏–Ω—è—î –≤—Å–µ –ø–æ—Ç–æ–∫–∏ (Stop-the-world) |
| **Parallel GC** | –ü–∞—Ä–∞–ª–µ–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞, –ø—ñ–¥–≤–∏—â–µ–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å |
| **CMS (Concurrent)** | –ó–º–µ–Ω—à—É—î –ø–∞—É–∑–∏, –ø—Ä–∞—Ü—é—î —Ñ–æ–Ω–æ–≤–æ, —Å–∫–ª–∞–¥–Ω—ñ—à–∏–π —É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—ñ |
| **G1 (Garbage First)** | –°—É—á–∞—Å–Ω–∏–π, –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–π, —Ä–æ–∑–¥—ñ–ª—è—î heap –Ω–∞ —Ä–µ–≥—ñ–æ–Ω–∏ |
| **ZGC / Shenandoah** | –î–ª—è –≤–µ–ª–∏–∫–æ—ó –ø–∞–º º—è—Ç—ñ, –ø—Ä–∞—Ü—é—î –º–∞–π–∂–µ –±–µ–∑ –ø–∞—É–∑ |

---

## **3Ô∏è‚É£ –ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

### **–î–ª—è —á–æ–≥–æ —Ü–µ?**

–©–æ–± –Ω–µ –±—É–ª–æ –≤–∏—Ç–æ–∫—ñ–≤ –ø–∞–º º—è—Ç—ñ. –ü—Ä–æ–≥—Ä–∞–º–∞ "—Å–∞–º–∞ –ø—Ä–∏–±–∏—Ä–∞—î" –∑–∞ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–∏–º–∏ –æ–± º—î–∫—Ç–∞–º–∏.

### **–£ —á–æ–º—É –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å?**

Java –∞–±—Å—Ç—Ä–∞–≥—É—î —Ä–æ–±–æ—Ç—É –∑ –ø–∞–º º—è—Ç—Ç—é ‚Äî –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä—É—á–Ω—É –∑–≤—ñ–ª—å–Ω—è—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏ (–Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ **`delete`** –≤ C++).

### **–¢–∏–ø–æ–≤—ñ –≥—Ä–∞–±–ª—ñ:**

* üî∏ **–í–∏—Ç–æ–∫–∏ –ø–∞–º º—è—Ç—ñ**: —è–∫—â–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–± º—î–∫—Ç–∏ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è —É **`List`**, **`Map`**, **`static`** –∑–º—ñ–Ω–Ω–∏—Ö.
* üî∏ **GC thrashing**: –∑–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ –æ–± º—î–∫—Ç—ñ–≤ ‚Üí —á–∞—Å—Ç—ñ –∑–∞–ø—É—Å–∫–∞–Ω–Ω—è GC ‚Üí –ø—Ä–æ—Å—ñ–¥–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.
* üî∏ **System.gc()** ‚Äî –ª–∏—à–µ *–∑–∞–ø–∏—Ç*, GC –Ω–µ –∑–æ–±–æ–≤ º—è–∑–∞–Ω–∏–π —Ä–µ–∞–≥—É–≤–∞—Ç–∏.

---

## **4Ô∏è‚É£ –ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
public class GcDemo {
    public static void main(String[] args) {
        String unused = new String("hello"); // –±—É–¥–µ –∑—ñ–±—Ä–∞–Ω–æ GC
        unused = null;  // –æ–± º—î–∫—Ç –±—ñ–ª—å—à–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π

        System.gc();    // –≤–∏–∫–ª–∏–∫–∞—î GC, –∞–ª–µ –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î –π–æ–≥–æ –∑–∞–ø—É—Å–∫
    }
}
```

üí¨ –ü—ñ—Å–ª—è **`unused = null`** –æ–± º—î–∫—Ç –±—ñ–ª—å—à–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π. GC –º–æ–∂–µ –π–æ–≥–æ –ø—Ä–∏–±—Ä–∞—Ç–∏ –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É –ø—Ä–æ—Ö–æ–¥—ñ.
---

## **5Ô∏è‚É£ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ú–æ–≤–∞ | –û—á–∏—â–µ–Ω–Ω—è –ø–∞–º º—è—Ç—ñ | –•—Ç–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π |
| :---: | :---: | :---: |
| **C/C++** | –†—É—á–Ω–µ (—á–µ—Ä–µ–∑ **`delete`**) | –ü—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç |
| **Java** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ (GC) | JVM |
| **Python** | Reference Counting \+ GC | –Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä |


---

## **6Ô∏è‚É£ FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

#### **üîπ –ü–∏—Ç–∞–Ω–Ω—è: –ß–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä—É—á–Ω—É –≤–∏–¥–∞–ª—è—Ç–∏ –æ–± º—î–∫—Ç–∏ –≤ Java?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–ù—ñ. JVM —Å–∞–º–∞ –æ—á–∏—â–∞—î –ø–∞–º º—è—Ç—å –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é GC.

#### 

#### **üîπ –ü–∏—Ç–∞–Ω–Ω—è: –ö–æ–ª–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è GC?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –∫–æ–ª–∏ **`JVM`** –≤–∏—Ä—ñ—à–∏—Ç—å, —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –ø–∞–º º—è—Ç—å. –ß–∞—Å –Ω–µ –ø–µ—Ä–µ–¥–±–∞—á–µ–Ω–∏–π.

#### 

#### **üîπ –ü–∏—Ç–∞–Ω–Ω—è: –©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è –ø—ñ—Å–ª—è `System.gc()`?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–¶–µ *–∑–∞–ø–∏—Ç* –Ω–∞ –∑–∞–ø—É—Å–∫ GC. JVM –º–æ–∂–µ –π–æ–≥–æ –ø—Ä–æ—ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏.

#### 

#### **üîπ –ü–∏—Ç–∞–Ω–Ω—è: –ß–∏ GC –æ—á–∏—â–∞—î Stack?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–ù—ñ. Stack –æ—á–∏—â–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ –º–µ—Ç–æ–¥—ñ–≤. GC –ø—Ä–∞—Ü—é—î –ª–∏—à–µ –∑ Heap.

---

## **7Ô∏è‚É£ üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**üßΩ GC \= Good Cleaner**  
**üßº –ê–ª–≥–æ—Ä–∏—Ç–º: Mark ‚Üí Sweep ‚Üí Compact**

**üìå –£—è–≤–∏:**  
"–Ø–∫—â–æ –æ–± º—î–∫—Ç –±—ñ–ª—å—à–µ –Ω—ñ–∫–æ–º—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω ‚Äî –≤—ñ–Ω –ø—ñ–¥–µ —É —Å–º—ñ—Ç–Ω–∏–∫ (Heap ‚Üí Cleaned by GC)"

---

## **8Ô∏è‚É£ –ü—ñ–¥—Å—É–º–æ–∫ (üü©)**

* **Garbage Collector** ‚Äî —Ü–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –æ—á–∏—â–µ–Ω–Ω—è –æ–± º—î–∫—Ç—ñ–≤ –∑ **Heap**\-–ø–∞–º º—è—Ç—ñ.
* –í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î Java —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º –Ω–µ –¥—É–º–∞—Ç–∏ –ø—Ä–æ —Ä—É—á–Ω–µ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø–∞–º º—è—Ç—ñ.
* –ü—Ä–∞—Ü—é—î –∑–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º **"mark ‚Üí sweep ‚Üí compact"**.
* **Stack –Ω–µ –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è GC** ‚Äî –≤—ñ–Ω –æ—á–∏—â–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ –º–µ—Ç–æ–¥—ñ–≤.
* –ê–ª–µ –±—É–¥—å –æ–±–µ—Ä–µ–∂–Ω–∏–π: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, **`static`** –ø–æ—Å–∏–ª–∞–Ω–Ω—è) ‚Üí **–≤–∏—Ç–æ–∫–∏ –ø–∞–º º—è—Ç—ñ**.

---

**üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Oracle GC Tuning Guide (–æ—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è)**](https://docs.oracle.com/en/java/javase/17/gctuning/)