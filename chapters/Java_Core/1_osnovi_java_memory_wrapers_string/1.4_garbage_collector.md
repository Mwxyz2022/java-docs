---
layout: default
title: "Garbage Collector"
parent: "–û—Å–Ω–æ–≤–∏ Java: Memory, Wrappers, String"
grand_parent: "Java Core"
nav_order: 4
---

# Garbage Collector

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: GC ‚Äì —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º JVM, —â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—á–∏—â–∞—î Heap-–ø–∞–º'—è—Ç—å –≤—ñ–¥ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ –¥–ª—è –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤.

* –ø–æ–Ω—è—Ç—Ç—è: GC, Heap, Mark-Sweep-Compact, Stop-the-World, —Ç–∏–ø–∏ GC (Serial, Parallel, CMS, G1, ZGC).

* –ø—Ä–∏–∫–ª–∞–¥–∏: –ó–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ –ø—ñ—Å–ª—è –≤—Ç—Ä–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç, `System.gc()` —è–∫ –∑–∞–ø–∏—Ç.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é, –µ—Ç–∞–ø–∏ —Ä–æ–±–æ—Ç–∏ (mark -> sweep), –Ω–µ –∑–∞—á—ñ–ø–∞—î Stack. –ú–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –≤–∏—Ç–æ–∫—ñ–≤ –ø–∞–º'—è—Ç—ñ, —è–∫—â–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –Ø–∫ –ø—Ä–∞—Ü—é—î GC, –Ω–∞–≤—ñ—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω, —á–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏—Ç–æ–∫–∏ –ø–∞–º'—è—Ç—ñ.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**Garbage Collector (GC)** ‚Äî —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º JVM, —è–∫–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —ñ –≤–∏–¥–∞–ª—è—î –æ–± º—î–∫—Ç–∏ –∑ Heap-–ø–∞–º º—è—Ç—ñ, —è–∫—ñ –±—ñ–ª—å—à–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–æ—é, —â–æ–± –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏ –¥–ª—è –Ω–æ–≤–∏—Ö –æ–± º—î–∫—Ç—ñ–≤.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¶–µ "–ø—Ä–∏–±–∏—Ä–∞–ª—å–Ω–∏–∫" —É –ø–∞–º º—è—Ç—ñ Java. –Ø–∫—â–æ –æ–± º—î–∫—Ç –±—ñ–ª—å—à–µ –Ω—ñ–∫–æ–º—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω ‚Äî GC –π–æ–≥–æ "–≤–∏–Ω–æ—Å–∏—Ç—å –Ω–∞ —Å–º—ñ—Ç–Ω–∏–∫".

–¢–æ–±—ñ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä—É—á–Ω—É –∑–≤—ñ–ª—å–Ω—è—Ç–∏ –ø–∞–º º—è—Ç—å ‚Äî Java —Å–∞–º–∞ —Å—Ç–µ–∂–∏—Ç—å, —â–æ –±—ñ–ª—å—à–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è

---

## **üìä –¢–∏–ø–æ–≤–∏–π —Ü–∏–∫–ª GC (Simplified):**

| –ï—Ç–∞–ø | –û–ø–∏—Å |
| :---: | :---: |
| **Mark** | JVM "–≤—ñ–¥–º—ñ—á–∞—î" –≤—Å—ñ –æ–± º—î–∫—Ç–∏, –¥–æ —è–∫–∏—Ö —â–µ —î –¥–æ—Å—Ç—É–ø |
| **Sweep** | JVM –æ—á–∏—â–∞—î –≤—Å–µ, —â–æ –Ω–µ –±—É–ª–æ –≤—ñ–¥–º—ñ—á–µ–Ω–æ (–º–µ—Ä—Ç–≤—ñ –æ–± º—î–∫—Ç–∏) |
| **Compact** | –ü–µ—Ä–µ–º—ñ—â—É—î –æ–± º—î–∫—Ç–∏ –¥–ª—è –∑–º–µ–Ω—à–µ–Ω–Ω—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó –ø–∞–º º—è—Ç—ñ |

## **üìä –¢–∏–ø–∏ GC —É JVM:**

| –ù–∞–∑–≤–∞ GC | –û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å |
| :---: | :---: |
| **Serial GC** | –ü—Ä–æ—Å—Ç–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è, –∑—É–ø–∏–Ω—è—î –≤—Å–µ –ø–æ—Ç–æ–∫–∏ (Stop-the-world) |
| **Parallel GC** | –ü–∞—Ä–∞–ª–µ–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞, –ø—ñ–¥–≤–∏—â–µ–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å |
| **CMS (Concurrent)** | –ó–º–µ–Ω—à—É—î –ø–∞—É–∑–∏, –ø—Ä–∞—Ü—é—î —Ñ–æ–Ω–æ–≤–æ, —Å–∫–ª–∞–¥–Ω—ñ—à–∏–π —É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—ñ |
| **G1 (Garbage First)** | –°—É—á–∞—Å–Ω–∏–π, –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–π, —Ä–æ–∑–¥—ñ–ª—è—î heap –Ω–∞ —Ä–µ–≥—ñ–æ–Ω–∏ |
| **ZGC / Shenandoah** | –î–ª—è –≤–µ–ª–∏–∫–æ—ó –ø–∞–º º—è—Ç—ñ, –ø—Ä–∞—Ü—é—î –º–∞–π–∂–µ –±–µ–∑ –ø–∞—É–∑ |

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

### **–î–ª—è —á–æ–≥–æ —Ü–µ?**

–©–æ–± –Ω–µ –±—É–ª–æ –≤–∏—Ç–æ–∫—ñ–≤ –ø–∞–º º—è—Ç—ñ. –ü—Ä–æ–≥—Ä–∞–º–∞ "—Å–∞–º–∞ –ø—Ä–∏–±–∏—Ä–∞—î" –∑–∞ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–∏–º–∏ –æ–± º—î–∫—Ç–∞–º–∏.

### **–£ —á–æ–º—É –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å?**

Java –∞–±—Å—Ç—Ä–∞–≥—É—î —Ä–æ–±–æ—Ç—É –∑ –ø–∞–º º—è—Ç—Ç—é ‚Äî –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä—É—á–Ω—É –∑–≤—ñ–ª—å–Ω—è—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏ (–Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ **`delete`** –≤ C++).

### **–¢–∏–ø–æ–≤—ñ –≥—Ä–∞–±–ª—ñ:**

* **–í–∏—Ç–æ–∫–∏ –ø–∞–º º—è—Ç—ñ**: —è–∫—â–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–± º—î–∫—Ç–∏ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è —É **`List`**, **`Map`**, **`static`** –∑–º—ñ–Ω–Ω–∏—Ö.
* **GC thrashing**: –∑–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ –æ–± º—î–∫—Ç—ñ–≤ -> —á–∞—Å—Ç—ñ –∑–∞–ø—É—Å–∫–∞–Ω–Ω—è GC -> –ø—Ä–æ—Å—ñ–¥–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.
* **System.gc()** ‚Äî –ª–∏—à–µ *–∑–∞–ø–∏—Ç*, GC –Ω–µ –∑–æ–±–æ–≤ º—è–∑–∞–Ω–∏–π —Ä–µ–∞–≥—É–≤–∞—Ç–∏.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
public class GcDemo {
    public static void main(String[] args) {
        String unused = new String("hello"); // –±—É–¥–µ –∑—ñ–±—Ä–∞–Ω–æ GC
        unused = null;  // –æ–± º—î–∫—Ç –±—ñ–ª—å—à–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π

        System.gc();    // –≤–∏–∫–ª–∏–∫–∞—î GC, –∞–ª–µ –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î –π–æ–≥–æ –∑–∞–ø—É—Å–∫
    }
}

```

 –ü—ñ—Å–ª—è **`unused = null`** –æ–± º—î–∫—Ç –±—ñ–ª—å—à–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π. GC –º–æ–∂–µ –π–æ–≥–æ –ø—Ä–∏–±—Ä–∞—Ç–∏ –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É –ø—Ä–æ—Ö–æ–¥—ñ

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ú–æ–≤–∞ | –û—á–∏—â–µ–Ω–Ω—è –ø–∞–º º—è—Ç—ñ | –•—Ç–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π |
| :---: | :---: | :---: |
| **C/C++** | –†—É—á–Ω–µ (—á–µ—Ä–µ–∑ **`delete`**) | –ü—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç |
| **Java** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ (GC) | JVM |
| **Python** | Reference Counting \+ GC | –Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**üßΩ GC \= Good Cleaner**  
**üßº –ê–ª–≥–æ—Ä–∏—Ç–º: Mark -> Sweep -> Compact**

**üìå –£—è–≤–∏:**  
"–Ø–∫—â–æ –æ–± º—î–∫—Ç –±—ñ–ª—å—à–µ –Ω—ñ–∫–æ–º—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω ‚Äî –≤—ñ–Ω –ø—ñ–¥–µ —É —Å–º—ñ—Ç–Ω–∏–∫ (Heap -> Cleaned by GC)"

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* **Garbage Collector** ‚Äî —Ü–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –æ—á–∏—â–µ–Ω–Ω—è –æ–± º—î–∫—Ç—ñ–≤ –∑ **Heap**\-–ø–∞–º º—è—Ç—ñ.
* –í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î Java —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º –Ω–µ –¥—É–º–∞—Ç–∏ –ø—Ä–æ —Ä—É—á–Ω–µ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø–∞–º º—è—Ç—ñ.
* –ü—Ä–∞—Ü—é—î –∑–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º **"mark -> sweep -> compact"**.
* **Stack –Ω–µ –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è GC** ‚Äî –≤—ñ–Ω –æ—á–∏—â–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ –º–µ—Ç–æ–¥—ñ–≤.
* –ê–ª–µ –±—É–¥—å –æ–±–µ—Ä–µ–∂–Ω–∏–π: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, **`static`** –ø–æ—Å–∏–ª–∞–Ω–Ω—è) -> **–≤–∏—Ç–æ–∫–∏ –ø–∞–º º—è—Ç—ñ**.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Oracle GC Tuning Guide (–æ—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è)**](https://docs.oracle.com/en/java/javase/17/gctuning/)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ Garbage Collector (GC) –≤ Java —ñ –¥–ª—è —á–æ–≥–æ –≤—ñ–Ω –ø–æ—Ç—Ä—ñ–±–µ–Ω?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **Garbage Collector (GC)** ‚Äî —Ü–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º **JVM (Java Virtual Machine)**, —è–∫–∏–π –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é, –∑–æ–∫—Ä–µ–º–∞ –∑–∞ **–∑–±–∏—Ä–∞–Ω–Ω—è —Å–º—ñ—Ç—Ç—è**. –í—ñ–Ω –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —Ç–∞ –≤–∏–¥–∞–ª—è—î –æ–±'—î–∫—Ç–∏ –∑ **Heap-–ø–∞–º'—è—Ç—ñ**, —è–∫—ñ –±—ñ–ª—å—à–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–æ—é (–Ω–∞ –Ω–∏—Ö –Ω–µ–º–∞—î –¥—ñ–π—Å–Ω–∏—Ö –ø–æ—Å–∏–ª–∞–Ω—å), —Ç–∏–º —Å–∞–º–∏–º –∑–≤—ñ–ª—å–Ω—è—é—á–∏ —Ä–µ—Å—É—Ä—Å–∏.
>
> **–ü–æ—Ç—Ä–µ–±–∞ GC:**
>
> * **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é:** –†–æ–∑—Ä–æ–±–Ω–∏–∫—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä—É—á–Ω—É –≤–∏–¥—ñ–ª—è—Ç–∏ –∞–±–æ –∑–≤—ñ–ª—å–Ω—è—Ç–∏ –ø–∞–º'—è—Ç—å, —â–æ –∑–º–µ–Ω—à—É—î –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å **–≤–∏—Ç–æ–∫—ñ–≤ –ø–∞–º'—è—Ç—ñ** —Ç–∞ —ñ–Ω—à–∏—Ö –ø–æ–º–∏–ª–æ–∫, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ —Ä—É—á–Ω–æ—é —Ä–æ–±–æ—Ç–æ—é –∑ –ø–∞–º'—è—Ç—Ç—é (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "–¥–≤—ñ–π—á–∞—Å—Ç—ñ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è" –∞–±–æ "–Ω–µ–¥—ñ–π—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è", —â–æ —á–∞—Å—Ç–æ –∑—É—Å—Ç—Ä—ñ—á–∞—é—Ç—å—Å—è –≤ C/C++).
>
> * **–ü—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ä–æ–∑—Ä–æ–±–∫–∏:** –ü—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç–∏ –º–æ–∂—É—Ç—å –∑–æ—Å–µ—Ä–µ–¥–∏—Ç–∏—Å—å –Ω–∞ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ—Ü—ñ, –∞ –Ω–µ –Ω–∞ –¥–µ—Ç–∞–ª—è—Ö —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é.
>
> * **–ü—ñ–¥–≤–∏—â–µ–Ω–Ω—è –Ω–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è –∑–º–µ–Ω—à—É—î –ª—é–¥—Å—å–∫–∏–π —Ñ–∞–∫—Ç–æ—Ä —É –ø—Ä–æ–±–ª–µ–º–∞—Ö –ø–∞–º'—è—Ç—ñ, —Ä–æ–±–ª—è—á–∏ –ø—Ä–æ–≥—Ä–∞–º–∏ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—à–∏–º–∏.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

GC ‚Äî —Ü–µ –≤–∞—à "–ø—Ä–∏–±–∏—Ä–∞–ª—å–Ω–∏–∫", —è–∫–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—î –∑ –ø–∞–º'—è—Ç—ñ –≤—Å–µ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–µ, —â–æ–± —É –ø—Ä–æ–≥—Ä–∞–º—ñ –±—É–ª–æ –±—ñ–ª—å—à–µ –≤—ñ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç–æ—Ä—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ë–∞–∑–æ–≤–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä–æ–ª—ñ GC —É JVM —Ç–∞ –æ—Å–Ω–æ–≤–Ω–æ—ó –ø—Ä–∏—á–∏–Ω–∏ –π–æ–≥–æ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è ‚Äì –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É Java –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é —á–µ—Ä–µ–∑ GC, –∞ –Ω–µ —Ä—É—á–Ω–µ, —è–∫ —É C++?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> Java –≤—ñ–¥—ñ–π—à–ª–∞ –≤—ñ–¥ —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é (–¥–µ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è —Ç–∞ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–æ–º–∞–Ω–¥ –Ω–∞ –∫—à—Ç–∞–ª—Ç malloc/free –∞–±–æ new/delete —è–∫ —É C++) –∑ –∫—ñ–ª—å–∫–æ—Ö –ø—Ä–∏—á–∏–Ω:
>
> * **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —Ç–∞ –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫:** –†—É—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é —î —Å–∫–ª–∞–¥–Ω–æ—é —Ç–∞ —Å—Ö–∏–ª—å–Ω–æ—é –¥–æ –ø–æ–º–∏–ª–æ–∫ –¥—ñ—è–ª—å–Ω—ñ—Å—Ç—é. –ó–∞–±—É—Ç—ñ delete –ø—Ä–∏–∑–≤–æ–¥—è—Ç—å –¥–æ **–≤–∏—Ç–æ–∫—ñ–≤ –ø–∞–º'—è—Ç—ñ**, –∞ –ø–æ–¥–≤—ñ–π–Ω—ñ delete –∞–±–æ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –≤–∂–µ –∑–≤—ñ–ª—å–Ω–µ–Ω–æ—ó –ø–∞–º'—è—Ç—ñ –ø—Ä–∏–∑–≤–æ–¥—è—Ç—å –¥–æ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ —Ç–∞ –∑–±–æ—ó–≤ –ø—Ä–æ–≥—Ä–∞–º–∏ (segmentation faults).
>
> * **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ä–æ–∑—Ä–æ–±–∫–∏:** –†–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º –¥–æ–≤–æ–¥–∏—Ç—å—Å—è –≤–∏—Ç—Ä–∞—á–∞—Ç–∏ –∑–Ω–∞—á–Ω–∏–π —á–∞—Å —ñ –∑—É—Å–∏–ª–ª—è –Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è –∫–æ–¥—É, –ø–æ–≤'—è–∑–∞–Ω–æ–≥–æ –∑ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è–º –ø–∞–º'—è—Ç—Ç—é. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ GC –¥–æ–∑–≤–æ–ª—è—î —ó–º –∑–æ—Å–µ—Ä–µ–¥–∏—Ç–∏—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ñ–π –ª–æ–≥—ñ—Ü—ñ –ø—Ä–æ–≥—Ä–∞–º–∏.
>
> * **–ë–µ–∑–ø–µ–∫–∞:** Java —Ä–æ–∑—Ä–æ–±–ª—è–ª–∞—Å—è –∑ –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –±–µ–∑–ø–µ–∫—É. –†—É—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é –º–æ–∂–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ, –∫–æ–ª–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—Ä–æ–≥—Ä–∞–º–∞ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∑–≤—ñ–ª—å–Ω–µ–Ω–æ—ó –ø–∞–º'—è—Ç—ñ. GC –∑–Ω–∞—á–Ω–æ –∑–º–µ–Ω—à—É—î —Ü—ñ —Ä–∏–∑–∏–∫–∏.
>
> * **–ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é —á–µ—Ä–µ–∑ JVM –¥–æ–ø–æ–º–∞–≥–∞—î Java –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—é "Write Once, Run Anywhere", –æ—Å–∫—ñ–ª—å–∫–∏ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é –∞–¥–∞–ø—Ç—É—î—Ç—å—Å—è –¥–æ —Ä—ñ–∑–Ω–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º, –Ω–µ –≤–∏–º–∞–≥–∞—é—á–∏ –∑–º—ñ–Ω —É –∫–æ–¥—ñ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–£—è–≤—ñ—Ç—å, —â–æ C++ ‚Äî —Ü–µ –∫—É—Ö–Ω—è, –¥–µ –≤–∏ —Å–∞–º—ñ –º–∏—î—Ç–µ –≤–µ—Å—å –ø–æ—Å—É–¥ (—Ä—É—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é). Java ‚Äî —Ü–µ –∫—É—Ö–Ω—è –∑ –ø–æ—Å—É–¥–æ–º–∏–π–Ω–æ—é –º–∞—à–∏–Ω–æ—é (GC), —è–∫–∞ —Ä–æ–±–∏—Ç—å —Ü—é —Ä–æ–±–æ—Ç—É –∑–∞ –≤–∞—Å. –•–æ—á–∞ –ø–æ—Å—É–¥–æ–º–∏–π–Ω–∞ –º–∞—à–∏–Ω–∞ –º–æ–∂–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–µ –º–∏—Ç—Ç—î–≤–æ, –≤–æ–Ω–∞ –∑–≤—ñ–ª—å–Ω—è—î –≤–∞—à —á–∞—Å —ñ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –≤–µ—Å—å –ø–æ—Å—É–¥ –±—É–¥–µ —á–∏—Å—Ç–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ñ—ñ–ª–æ—Å–æ—Ñ—ñ—ó Java —â–æ–¥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é, —ó—ó –ø–µ—Ä–µ–≤–∞–≥ –Ω–∞–¥ —Ä—É—á–Ω–∏–º –ø—ñ–¥—Ö–æ–¥–æ–º, –∞ —Ç–∞–∫–æ–∂ –∑–Ω–∞–Ω–Ω—è –ø–æ—à–∏—Ä–µ–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º, —è–∫—ñ GC –≤–∏—Ä—ñ—à—É—î.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–î–µ —Å–∞–º–µ –ø—Ä–∞—Ü—é—î Garbage Collector: —É Heap —á–∏ Stack –ø–∞–º'—è—Ç—ñ JVM? –ü–æ—è—Å–Ω—ñ—Ç—å —Ä—ñ–∑–Ω–∏—Ü—é.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **Garbage Collector –ø—Ä–∞—Ü—é—î –≤–∏–∫–ª—é—á–Ω–æ –∑ Heap-–ø–∞–º'—è—Ç—Ç—é.**
>
> **–†—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ Heap —ñ Stack –ø–∞–º'—è—Ç—Ç—é:**
>
> * **Heap (–ö—É–ø–∞):** –¶–µ –æ–±–ª–∞—Å—Ç—å –ø–∞–º'—è—Ç—ñ, –¥–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤—Å—ñ **–æ–±'—î–∫—Ç–∏** (–µ–∫–∑–µ–º–ø–ª—è—Ä–∏ –∫–ª–∞—Å—ñ–≤), –º–∞—Å–∏–≤–∏ —Ç–∞ —ó—Ö–Ω—ñ –ø–æ–ª—è. –ü–∞–º'—è—Ç—å –¥–ª—è –æ–±'—î–∫—Ç—ñ–≤ –≤–∏–¥—ñ–ª—è—î—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏. –ñ–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –æ–±'—î–∫—Ç—ñ–≤ —É Heap –∫–æ–Ω—Ç—Ä–æ–ª—é—î—Ç—å—Å—è GC. –û–±'—î–∫—Ç–∏ —É Heap –º–æ–∂—É—Ç—å –±—É—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω–∏–º–∏ –∑ —Ä—ñ–∑–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤. –¶–µ "–≥–ª–æ–±–∞–ª—å–Ω–µ" —Å—Ö–æ–≤–∏—â–µ –æ–±'—î–∫—Ç—ñ–≤.
>
> * **Stack (–°—Ç–µ–∫):** –¶–µ –æ–±–ª–∞—Å—Ç—å –ø–∞–º'—è—Ç—ñ, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è:
>
>   * –õ–æ–∫–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö (–ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤ —Ç–∞ –ø–æ—Å–∏–ª–∞–Ω—å –Ω–∞ –æ–±'—î–∫—Ç–∏, —â–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ Heap).
>
>   * –ü–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –º–µ—Ç–æ–¥—ñ–≤.
>
>   * –ê–¥—Ä–µ—Å –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑ –º–µ—Ç–æ–¥—ñ–≤.
>
>   * –¶—è –ø–∞–º'—è—Ç—å –≤–∏–¥—ñ–ª—è—î—Ç—å—Å—è —Ç–∞ –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º LIFO (Last-In, First-Out), –∫–æ–ª–∏ –º–µ—Ç–æ–¥ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —Ç–∞ –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è. **–û–±'—î–∫—Ç–∏ –∑—ñ Stack –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –º–µ—Ç–æ–¥—É**, —Ç–æ–º—É –≤–æ–Ω–∏ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –æ—á–∏—â–µ–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é GC.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–ü–∞–º'—è—Ç—å Stack ‚Äì —Ü–µ —è–∫ —Å—Ç–æ–ø–∫–∞ —Ç–∞—Ä—ñ–ª–æ–∫: –∫–æ–ª–∏ –≤–∏ –±–µ—Ä–µ—Ç–µ —Ç–∞—Ä—ñ–ª–∫—É, –≤–∏ –∑–Ω—ñ–º–∞—î—Ç–µ —ó—ó –∑ –≤–µ—Ä—Ö—ñ–≤–∫–∏. –ö–æ–ª–∏ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç–µ, –∫–ª–∞–¥–µ—Ç–µ –Ω–∞ –≤–µ—Ä—Ö—ñ–≤–∫—É. –í—Å–µ –¥—É–∂–µ –≤–ø–æ—Ä—è–¥–∫–æ–≤–∞–Ω–æ —ñ –ª–µ–≥–∫–æ "–ø—Ä–∏–±–∏—Ä–∞—î—Ç—å—Å—è". Heap ‚Äì —Ü–µ —è–∫ –∫—ñ–º–Ω–∞—Ç–∞ –∑ –º–µ–±–ª—è–º–∏, —è–∫—ñ —Ç—Ä–µ–±–∞ –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤—É–≤–∞—Ç–∏, –¥–µ—è–∫—ñ –≤–∏–∫–∏–¥–∞—Ç–∏, —è–∫—â–æ –≤–æ–Ω–∏ –±—ñ–ª—å—à–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –ø–∞–º'—è—Ç—ñ JVM (Heap —Ç–∞ Stack) —Ç–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º—ñ—Å—Ü—è —Ä–æ–±–æ—Ç–∏ GC.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–û–ø–∏—à—ñ—Ç—å –æ—Å–Ω–æ–≤–Ω—ñ —Ñ–∞–∑–∏ —Ç–∏–ø–æ–≤–æ–≥–æ —Ü–∏–∫–ª—É Garbage Collector: Mark —Ç–∞ Sweep.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∏–ø–æ–≤–∏–π —Ü–∏–∫–ª –±—ñ–ª—å—à–æ—Å—Ç—ñ GC-–∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ –≤–∫–ª—é—á–∞—î –¥–≤—ñ –æ—Å–Ω–æ–≤–Ω—ñ —Ñ–∞–∑–∏, –∞ —Ç–∞–∫–æ–∂ —Ç—Ä–µ—Ç—é, –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—É (Compact), —è–∫—É —Ä–æ–∑–±–µ—Ä–µ–º–æ –≤ —ñ–Ω—à–∏—Ö –ø–∏—Ç–∞–Ω–Ω—è—Ö:
>
> * **1\. Mark (–ü–æ–∑–Ω–∞—á–µ–Ω–Ω—è/–í—ñ–¥–º—ñ—Ç–∫–∞):**
>
>   * –ù–∞ —Ü—ñ–π —Ñ–∞–∑—ñ Garbage Collector —Å–∫–∞–Ω—É—î –≤—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ (–∂–∏–≤—ñ) –æ–±'—î–∫—Ç–∏, –ø–æ—á–∏–Ω–∞—é—á–∏ –≤—ñ–¥ **GC Roots**. GC Roots ‚Äî —Ü–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è, —è–∫—ñ –≤–≤–∞–∂–∞—é—Ç—å—Å—è "–∑–∞–≤–∂–¥–∏ –∂–∏–≤–∏–º–∏", –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: –ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –º–µ—Ç–æ–¥—ñ–≤ –Ω–∞ Stack, –∞–∫—Ç–∏–≤–Ω—ñ –ø–æ—Ç–æ–∫–∏, —Å—Ç–∞—Ç–∏—á–Ω—ñ –ø–æ–ª—è –∫–ª–∞—Å—É, JNI –ø–æ—Å–∏–ª–∞–Ω–Ω—è —Ç–æ—â–æ.
>
>   * –í—ñ–¥ —Ü–∏—Ö –∫–æ—Ä–µ–Ω—ñ–≤ GC —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ñ–¥—Å—Ç–µ–∂—É—î –≤—Å—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è, —è–∫—ñ –≤—ñ–Ω –º–æ–∂–µ –∑–Ω–∞–π—Ç–∏, —ñ **–ø–æ–∑–Ω–∞—á–∞—î –æ–±'—î–∫—Ç–∏ —è–∫ "–¥–æ—Å—Ç—É–ø–Ω—ñ" –∞–±–æ "–∂–∏–≤—ñ"**.
>
>   * **–ù–∞–≤—ñ—â–æ:** –¶–µ –¥–æ–∑–≤–æ–ª—è—î GC –≤—ñ–¥—Ä—ñ–∑–Ω–∏—Ç–∏ –æ–±'—î–∫—Ç–∏, —è–∫—ñ –≤—Å–µ —â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–æ—é, –≤—ñ–¥ —Ç–∏—Ö, —è–∫—ñ –≤–∂–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ.
>
>   * **Stop-the-World:** –ß–∞—Å—Ç–æ (–∞–ª–µ –Ω–µ –∑–∞–≤–∂–¥–∏, –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ç–∏–ø—É GC) —Ü—è —Ñ–∞–∑–∞ –≤–∏–º–∞–≥–∞—î –∑—É–ø–∏–Ω–∫–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ—Ç–æ–∫—ñ–≤ –¥–æ–¥–∞—Ç–∫–∞, —â–æ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è "Stop-the-World" –ø–∞—É–∑–æ—é, —â–æ–± –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –≥—Ä–∞—Ñ–∞ –æ–±'—î–∫—Ç—ñ–≤.
>
>
> * **2\. Sweep (–û—á–∏—â–µ–Ω–Ω—è):**
>
>   * –ü—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –≤—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –æ–±'—î–∫—Ç–∏ –±—É–ª–∏ –ø–æ–∑–Ω–∞—á–µ–Ω—ñ, –Ω–∞ —Ñ–∞–∑—ñ Sweep GC –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–æ Heap-–ø–∞–º'—è—Ç—ñ —Ç–∞ **–≤–∏–¥–∞–ª—è—î (–∑–≤—ñ–ª—å–Ω—è—î –ø–∞–º'—è—Ç—å) –¥–ª—è –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤, —è–∫—ñ –ù–ï –±—É–ª–∏ –ø–æ–∑–Ω–∞—á–µ–Ω—ñ —è–∫ "–∂–∏–≤—ñ"** (—Ç–æ–±—Ç–æ –≤–æ–Ω–∏ –≤–≤–∞–∂–∞—é—Ç—å—Å—è "–º–µ—Ä—Ç–≤–∏–º–∏" –∞–±–æ "—Å–º—ñ—Ç—Ç—è–º").
>
>   * **–ù–∞–≤—ñ—â–æ:** –ó–≤—ñ–ª—å–Ω–µ–Ω–∞ –ø–∞–º'—è—Ç—å —Å—Ç–∞—î –¥–æ—Å—Ç—É–ø–Ω–æ—é –¥–ª—è –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤.
>
>   * –¶—è —Ñ–∞–∑–∞ —Ç–∞–∫–æ–∂ –º–æ–∂–µ –≤–∏–º–∞–≥–∞—Ç–∏ STW-–ø–∞—É–∑.

#### **üìù –ú–Ω–µ–º–æ–Ω—ñ–∫–∞:**

* **Mark:** –ü–æ–∑–Ω–∞—á–∞—î–º–æ "–≥–∞—Ä–Ω–∏—Ö" (–∂–∏–≤–∏—Ö) —Ö–ª–æ–ø—Ü—ñ–≤.

* **Sweep:** –ü—Ä–∏–±–∏—Ä–∞—î–º–æ "–ø–æ–≥–∞–Ω–∏—Ö" (–º–µ—Ä—Ç–≤–∏—Ö) —Ö–ª–æ–ø—Ü—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –±–∞–∑–æ–≤–æ–≥–æ –ø—Ä–∏–Ω—Ü–∏–ø—É —Ä–æ–±–æ—Ç–∏ GC —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è, —è–∫ –≤—ñ–Ω –≤—ñ–¥—Ä—ñ–∑–Ω—è—î –∂–∏–≤—ñ –æ–±'—î–∫—Ç–∏ –≤—ñ–¥ –º–µ—Ä—Ç–≤–∏—Ö.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –≥–∞—Ä–∞–Ω—Ç—É—î –≤–∏–∫–ª–∏–∫ System.gc() –Ω–µ–≥–∞–π–Ω–∏–π –∑–∞–ø—É—Å–∫ Garbage Collector? –ü–æ—è—Å–Ω—ñ—Ç—å.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ù—ñ, –≤–∏–∫–ª–∏–∫ System.gc() –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î –Ω–µ–≥–∞–π–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É Garbage Collector.**
>
> * –ú–µ—Ç–æ–¥ System.gc() —î –ª–∏—à–µ **"–ø—ñ–¥–∫–∞–∑–∫–æ—é" –∞–±–æ "–∑–∞–ø–∏—Ç–æ–º" –¥–æ JVM**, —â–æ, –º–æ–∂–ª–∏–≤–æ, –∑–∞—Ä–∞–∑ –±—É–ª–æ –± –∑—Ä—É—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ GC.
>
> * **JVM (HotSpot VM) –≤–∏—Ä—ñ—à—É—î —Å–∞–º–∞, —á–∏ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Ü–µ–π –∑–∞–ø–∏—Ç —á–∏ —ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏ –π–æ–≥–æ.** –¶–µ –ø–æ–≤'—è–∑–∞–Ω–æ –∑ —Ç–∏–º, —â–æ GC-–∞–ª–≥–æ—Ä–∏—Ç–º–∏ –≤ —Å—É—á–∞—Å–Ω–∏—Ö JVM –¥—É–∂–µ —Å–∫–ª–∞–¥–Ω—ñ –π –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ, —ñ –ø—Ä–∏–º—É—Å–æ–≤–∏–π –∑–∞–ø—É—Å–∫ GC –º–æ–∂–µ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –ø–æ–≥—ñ—Ä—à–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–∏, –ø–æ—Ä—É—à–∏–≤—à–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫ —Ä–æ–±–æ—Ç–∏ GC.
>
> * –ù–∞–ø—Ä–∏–∫–ª–∞–¥, JVM –º–æ–∂–µ –≤—ñ–¥—Ö–∏–ª–∏—Ç–∏ –∑–∞–ø–∏—Ç, —è–∫—â–æ –≤–æ–Ω–∞ –≤–∏–∑–Ω–∞—á–∏—Ç—å, —â–æ –ø–∞–º'—è—Ç—ñ –∑–∞—Ä–∞–∑ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ, –∞–±–æ —â–æ –∑–∞–ø—É—Å–∫ GC –∑–∞—Ä–∞–∑ –Ω–µ —î –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–º –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.
>
> * –ù–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è System.gc() **–º–∞–π–∂–µ –∑–∞–≤–∂–¥–∏ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è** –≤ –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–º—É –∫–æ–¥—ñ, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –ø–µ—Ä–µ–¥–∞—î –∫–æ–Ω—Ç—Ä–æ–ª—å –≤—ñ–¥ –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ—ó JVM –Ω–∞–∑–∞–¥ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—É, —â–æ —á–∞—Å—Ç–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –Ω–µ–±–∞–∂–∞–Ω–∏—Ö "stop-the-world" –ø–∞—É–∑ –≤ –Ω–µ–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π –º–æ–º–µ–Ω—Ç. –¶–µ –º–æ–∂–µ –±—É—Ç–∏ –∫–æ—Ä–∏—Å–Ω–æ –ª–∏—à–µ –¥–ª—è –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è –∞–±–æ –ø–µ–≤–Ω–∏—Ö —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
public class GcRequestDemo {
    public static void main(String[] args) {
        String data = new String("–¢–µ–∫—Å—Ç, —è–∫–∏–π –º–æ–∂–µ –±—É—Ç–∏ –∑—ñ–±—Ä–∞–Ω–∏–π.");
        data = null; // –¢–µ–ø–µ—Ä –æ–±'—î–∫—Ç "–¢–µ–∫—Å—Ç..." —Å—Ç–∞—î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–º

        System.out.println("–ù–∞–º–∞–≥–∞—î–º–æ—Å—å –∑–∞–ø—Ä–æ—Å–∏—Ç–∏ GC...");
        System.gc(); // –ó–∞–ø–∏—Ç –¥–æ JVM
        System.out.println("–ó–∞–ø–∏—Ç –¥–æ GC –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ, –∞–ª–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î—Ç—å—Å—è.");

        // –£ —Ü—å–æ–º—É –º—ñ—Å—Ü—ñ –æ–±'—î–∫—Ç data –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–∏–±—Ä–∞–Ω–∏–π, –∞ –º–æ–∂–µ —ñ –Ω—ñ.
        // –¶–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó JVM.
    }
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è, —â–æ GC –ø—Ä–∞—Ü—é—î –∞–≤—Ç–æ–Ω–æ–º–Ω–æ —ñ —â–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ –Ω–µ –º–∞—î –ø—Ä—è–º–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é –Ω–∞–¥ –π–æ–≥–æ –∑–∞–ø—É—Å–∫–æ–º, –∞ –ª–∏—à–µ –º–æ–∂–µ –ø–æ–¥–∞—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—é.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ "Stop-the-World" (STW) –ø–∞—É–∑–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ —Ä–æ–±–æ—Ç–∏ Garbage Collector?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **"Stop-the-World" (STW)** –ø–∞—É–∑–∏ ‚Äî —Ü–µ –ø—Ä–æ–º—ñ–∂–∫–∏ —á–∞—Å—É, –ø—Ä–æ—Ç—è–≥–æ–º —è–∫–∏—Ö **–≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ—Ç–æ–∫—ñ–≤ –¥–æ–¥–∞—Ç–∫–∞ Java –ø–æ–≤–Ω—ñ—Å—Ç—é –∑—É–ø–∏–Ω—è—î—Ç—å—Å—è**, —â–æ–± Garbage Collector –º—ñ–≥ –≤–∏–∫–æ–Ω–∞—Ç–∏ —Å–≤–æ—é —Ä–æ–±–æ—Ç—É. –ü—Ä–æ–≥—Ä–∞–º–∞ "–∑–∞–≤–º–∏—Ä–∞—î", –ø–æ–∫–∏ GC –≤–∏–∫–æ–Ω—É—î –∑–∞–≤–¥–∞–Ω–Ω—è, —â–æ –≤–∏–º–∞–≥–∞—é—Ç—å –Ω–µ–ø–æ—Ä—É—à–Ω–æ—Å—Ç—ñ —Å—Ç–∞–Ω—É Heap-–ø–∞–º'—è—Ç—ñ.
>
> * **–ü—Ä–∏—á–∏–Ω–∞:** –û—Å–Ω–æ–≤–Ω–æ—é –ø—Ä–∏—á–∏–Ω–æ—é STW-–ø–∞—É–∑ —î –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è **—Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ —Ç–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ –≥—Ä–∞—Ñ–∞ –æ–±'—î–∫—Ç—ñ–≤**. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—ñ–¥ —á–∞—Å —Ñ–∞–∑–∏ "Mark" GC –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –æ–±'—î–∫—Ç–∏ –Ω–µ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è, –Ω–µ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è –∞–±–æ –Ω–µ –∑–º—ñ–Ω—é—é—Ç—å —Å–≤–æ—ó –ø–æ—Å–∏–ª–∞–Ω–Ω—è, —ñ–Ω–∞–∫—à–µ –≤—ñ–Ω –º–æ–∂–µ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –∂–∏–≤—ñ –æ–±'—î–∫—Ç–∏, –∞–±–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –º–µ—Ä—Ç–≤—ñ.
>
> * **–í–ø–ª–∏–≤ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:** STW-–ø–∞—É–∑–∏ —î –æ–¥–Ω—ñ—î—é –∑ –≥–æ–ª–æ–≤–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —É Java-–¥–æ–¥–∞—Ç–∫–∞—Ö, –æ—Å–æ–±–ª–∏–≤–æ –¥–ª—è —Å–∏—Å—Ç–µ–º, —è–∫—ñ –≤–∏–º–∞–≥–∞—é—Ç—å –Ω–∏–∑—å–∫–æ—ó –∑–∞—Ç—Ä–∏–º–∫–∏ (latency) –∞–±–æ –≤–∏—Å–æ–∫–æ—ó –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ. –ß–∏–º –¥–æ–≤—à–∞ –∞–±–æ —á–∞—Å—Ç—ñ—à–∞ –ø–∞—É–∑–∞, —Ç–∏–º –±—ñ–ª—å—à–µ –ø—Ä–æ–≥—Ä–∞–º–∞ "–≤—ñ–¥—Å—Ç–∞—î" —ñ —Ç–∏–º –≥—ñ—Ä—à–∏–º —î –¥–æ—Å–≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
>
> * **–ï–≤–æ–ª—é—Ü—ñ—è GC:** –°—É—á–∞—Å–Ω—ñ Garbage Collectors (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, CMS, G1, ZGC, Shenandoah) –±—É–ª–∏ —Ä–æ–∑—Ä–æ–±–ª–µ–Ω—ñ –¥–ª—è –º—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—ó —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ —Ç–∞/–∞–±–æ —á–∞—Å—Ç–æ—Ç–∏ STW-–ø–∞—É–∑ —à–ª—è—Ö–æ–º –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ–≥–æ –∞–±–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —á–∞—Å—Ç–∏–Ω–∏ —Ä–æ–±–æ—Ç–∏ –∑ –ø–æ—Ç–æ–∫–∞–º–∏ –¥–æ–¥–∞—Ç–∫–∞.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–£—è–≤—ñ—Ç—å —Ü–µ —è–∫ —Ä–µ–º–æ–Ω—Ç –Ω–∞ –¥–æ—Ä–æ–∑—ñ. –©–æ–± –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∏ –º–æ–≥–ª–∏ –±–µ–∑–ø–µ—á–Ω–æ —ñ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø–æ–∫–ª–∞—Å—Ç–∏ –Ω–æ–≤–∏–π –∞—Å—Ñ–∞–ª—å—Ç (GC –∑–±–∏—Ä–∞—î —Å–º—ñ—Ç—Ç—è –∞–±–æ –∫–æ–º–ø–∞–∫—Ç–Ω—É—î –ø–∞–º'—è—Ç—å), –≤–µ—Å—å —Ä—É—Ö –Ω–∞ —Ü—ñ–π –¥—ñ–ª—è–Ω—Ü—ñ (–ø–æ—Ç–æ–∫–∏ –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É) –º–∞—î –±—É—Ç–∏ –∑—É–ø–∏–Ω–µ–Ω–∏–π –Ω–∞ –¥–µ—è–∫–∏–π —á–∞—Å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó "Stop-the-World", —Ä–æ–∑—É–º—ñ–Ω–Ω—è —ó—ó –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ —Ç–∞ –≤–ø–ª–∏–≤—É –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å Java-–¥–æ–¥–∞—Ç–∫—ñ–≤.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—ñ –≥–æ–ª–æ–≤–Ω—ñ –ø–µ—Ä–µ–≤–∞–≥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Garbage Collector –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Garbage Collector –Ω–∞–¥–∞—î –∫—ñ–ª—å–∫–∞ –∫–ª—é—á–æ–≤–∏—Ö –ø–µ—Ä–µ–≤–∞–≥ –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ —Ç–∞ –ø—Ä–æ—Ü–µ—Å—É —Ä–æ–∑—Ä–æ–±–∫–∏:
>
> * **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é:** –ù–∞–π–≥–æ–ª–æ–≤–Ω—ñ—à–∞ –ø–µ—Ä–µ–≤–∞–≥–∞ –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä—É—á–Ω—É –≤–∏–¥—ñ–ª—è—Ç–∏ —Ç–∞ –∑–≤—ñ–ª—å–Ω—è—Ç–∏ –ø–∞–º'—è—Ç—å. –¶–µ –∑–Ω–∞—á–Ω–æ —Å–ø—Ä–æ—â—É—î —Ä–æ–∑—Ä–æ–±–∫—É, –æ—Å–æ–±–ª–∏–≤–æ –≤–µ–ª–∏–∫–∏—Ö —Ç–∞ —Å–∫–ª–∞–¥–Ω–∏—Ö —Å–∏—Å—Ç–µ–º.
>
> * **–ó–º–µ–Ω—à–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ –ø–∞–º'—è—Ç—Ç—é:**
>
>   * **–í–∏—Ç–æ–∫–∏ –ø–∞–º'—è—Ç—ñ (Memory Leaks):** GC –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–∏—Ä–∞—î –æ–±'—î–∫—Ç–∏, –Ω–∞ —è–∫—ñ –±—ñ–ª—å—à–µ –Ω–µ–º–∞—î –ø–æ—Å–∏–ª–∞–Ω—å, –∑–∞–ø–æ–±—ñ–≥–∞—é—á–∏ –±–∞–≥–∞—Ç—å–æ–º —Ç–∏–ø–∞–º –≤–∏—Ç–æ–∫—ñ–≤, —è–∫—ñ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø—Ä–∏ –∑–∞–±—É—Ç—Ç—ñ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ –≤—Ä—É—á–Ω—É.
>
>   * **–î–≤—ñ–π—á–∞—Å—Ç—ñ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è (Double-free errors):** –ù–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–≤—ñ—á—ñ –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –æ–¥–Ω—É –π —Ç—É —Å–∞–º—É –æ–±–ª–∞—Å—Ç—å –ø–∞–º'—è—Ç—ñ.
>
>   * **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–≤—ñ–ª—å–Ω–µ–Ω–æ—ó –ø–∞–º'—è—Ç—ñ (Use-after-free errors):** –ù–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–æ—Å—Ç—É–ø—É –¥–æ –≤–∂–µ –∑–≤—ñ–ª—å–Ω–µ–Ω–æ—ó –ø–∞–º'—è—Ç—ñ.
>
>
> * **–ó–±—ñ–ª—å—à–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ä–æ–∑—Ä–æ–±–∫–∏ (Productivity):** –û—Å–∫—ñ–ª—å–∫–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –Ω–µ –≤–∏—Ç—Ä–∞—á–∞—é—Ç—å —á–∞—Å –Ω–∞ –¥–µ—Ç–∞–ª—ñ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é, –≤–æ–Ω–∏ –º–æ–∂—É—Ç—å –∑–æ—Å–µ—Ä–µ–¥–∏—Ç–∏—Å—å –Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –ø—Ä–æ–≥—Ä–∞–º–∏.
>
> * **–ü–æ–∫—Ä–∞—â–µ–Ω–∞ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–∏:** –ó–∞–≤–¥—è–∫–∏ —É—Å—É–Ω–µ–Ω–Ω—é —Ç–∏–ø–æ–≤–∏—Ö –ø–æ–º–∏–ª–æ–∫ –ø–∞–º'—è—Ç—ñ, –ø—Ä–æ–≥—Ä–∞–º–∏ –Ω–∞ Java —î –±—ñ–ª—å—à —Å—Ç–∞–±—ñ–ª—å–Ω–∏–º–∏ —Ç–∞ –Ω–∞–¥—ñ–π–Ω–∏–º–∏.
>
> * **–ê–±—Å—Ç—Ä–∞–∫—Ü—ñ—è —Ç–∞ –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å:** Java –∑–∞–±–µ–∑–ø–µ—á—É—î –≤–∏—Å–æ–∫–∏–π —Ä—ñ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –ø—Ä–æ–≥—Ä–∞–º–∞–º –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö –±–µ–∑ –∑–º—ñ–Ω —É –∫–æ–¥—ñ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–î—É–º–∞–π—Ç–µ –ø—Ä–æ GC —è–∫ –ø—Ä–æ —Å–≤–æ–≥–æ –æ—Å–æ–±–∏—Å—Ç–æ–≥–æ –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞, —è–∫–∏–π –ø—Ä–∏–±–∏—Ä–∞—î –±–µ–∑–ª–∞–¥—ñ –∑–∞ –ª–∞—à—Ç—É–Ω–∫–∞–º–∏. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∞–º –∑–æ—Å–µ—Ä–µ–¥–∏—Ç–∏—Å—å –Ω–∞ —Ç–æ–º—É, —â–æ –¥—ñ–π—Å–Ω–æ –º–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è, –∞ –Ω–µ –Ω–∞ —Ä—É—Ç–∏–Ω—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–û–±—ñ–∑–Ω–∞–Ω—ñ—Å—Ç—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –ø—Ä–æ –≤–∏—Å–æ–∫–æ—Ä—ñ–≤–Ω–µ–≤—ñ –ø–µ—Ä–µ–≤–∞–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è, —è–∫ GC –ø–æ–ª–µ–≥—à—É—î –∂–∏—Ç—Ç—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –æ–ø–∏—à—ñ—Ç—å —Ç—Ä–µ—Ç—é —Ñ–∞–∑—É GC ‚Äì Compact, —Ç–∞ –ø–æ—è—Å–Ω—ñ—Ç—å, –Ω–∞–≤—ñ—â–æ –≤–æ–Ω–∞ –ø–æ—Ç—Ä—ñ–±–Ω–∞. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢—Ä–µ—Ç—è, –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞, –∞–ª–µ –¥—É–∂–µ –≤–∞–∂–ª–∏–≤–∞ —Ñ–∞–∑–∞ –±—ñ–ª—å—à–æ—Å—Ç—ñ —Å—É—á–∞—Å–Ω–∏—Ö GC-–∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤, —è–∫–∞ —Å–ª—ñ–¥—É—î –∑–∞ —Ñ–∞–∑–∞–º–∏ Mark —Ç–∞ Sweep, —î **Compact (–ö–æ–º–ø–∞–∫—Ü—ñ—è)**.
>
> * **–ú–µ—Ç–∞ —Ñ–∞–∑–∏ Compact:** –ü—ñ—Å–ª—è —Ñ–∞–∑–∏ "Sweep", –∫–æ–ª–∏ –º–µ—Ä—Ç–≤—ñ –æ–±'—î–∫—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω—ñ, —É Heap-–ø–∞–º'—è—Ç—ñ –º–æ–∂—É—Ç—å —É—Ç–≤–æ—Ä–∏—Ç–∏—Å—è –≤–µ–ª–∏–∫—ñ –ø—Ä–æ–º—ñ–∂–∫–∏ –Ω–µ—Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–æ—ó –ø–∞–º'—è—Ç—ñ. –¶—è –ø–∞–º'—è—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤–∞–Ω–∞ –Ω–∞ –±–µ–∑–ª—ñ—á –Ω–µ–≤–µ–ª–∏–∫–∏—Ö "–¥—ñ—Ä–æ–∫". –§–∞–∑–∞ Compact –∑–∞–π–º–∞—î—Ç—å—Å—è **–ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è–º –∂–∏–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ —É —Å—É–º—ñ–∂–Ω—ñ –æ–±–ª–∞—Å—Ç—ñ Heap**, –∑–±–∏—Ä–∞—é—á–∏ —ó—Ö —Ä–∞–∑–æ–º –Ω–∞ –æ–¥–Ω–æ–º—É –∫—ñ–Ω—Ü—ñ Heap —ñ —Ç–∏–º —Å–∞–º–∏–º **—É—Å—É–≤–∞—é—á–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—é**.
>
> * **–ù–∞–≤—ñ—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∫–æ–º–ø–∞–∫—Ü—ñ—è:**
>
>   * **–ó–º–µ–Ω—à–µ–Ω–Ω—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó –ø–∞–º'—è—Ç—ñ:** –Ø–∫—â–æ –ø–∞–º'—è—Ç—å —Å–∏–ª—å–Ω–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤–∞–Ω–∞, JVM –º–æ–∂–µ –Ω–µ –∑–Ω–∞–π—Ç–∏ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –≤–µ–ª–∏–∫–æ–≥–æ –±–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–æ–≥–æ –±–ª–æ–∫—É –ø–∞–º'—è—Ç—ñ –¥–ª—è –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ, –≤–µ–ª–∏–∫–æ–≥–æ –æ–±'—î–∫—Ç–∞, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Å—É–º–∞—Ä–Ω–æ –≤—ñ–ª—å–Ω–æ—ó –ø–∞–º'—è—Ç—ñ —î –¥–æ—Å—Ç–∞—Ç–Ω—å–æ. –¶–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ OutOfMemoryError —á–µ—Ä–µ–∑ **—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—é**, –∞ –Ω–µ —á–µ—Ä–µ–∑ —Ñ–∞–∫—Ç–∏—á–Ω—É –Ω–µ—Å—Ç–∞—á—É –≤—ñ–ª—å–Ω–æ—ó –ø–∞–º'—è—Ç—ñ.
>
>   * **–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ:** –ü—ñ—Å–ª—è –∫–æ–º–ø–∞–∫—Ü—ñ—ó JVM –º–æ–∂–µ –¥—É–∂–µ —à–≤–∏–¥–∫–æ –≤–∏–¥—ñ–ª—è—Ç–∏ –Ω–æ–≤—É –ø–∞–º'—è—Ç—å, –ø—Ä–æ—Å—Ç–æ –∑–º—ñ—â—É—é—á–∏ –ø–æ–∫–∞–∂—á–∏–∫, –æ—Å–∫—ñ–ª—å–∫–∏ –∑–∞–≤–∂–¥–∏ —î –≤–µ–ª–∏–∫–∏–π –±–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–∏–π –±–ª–æ–∫ –≤—ñ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç–æ—Ä—É. –¶–µ —Å—Ö–æ–∂–µ –Ω–∞ **"Bump-the-Pointer"** –≤–∏–¥—ñ–ª–µ–Ω–Ω—è.
>
>
> * **–í–ø–ª–∏–≤ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:** –§–∞–∑–∞ –∫–æ–º–ø–∞–∫—Ü—ñ—ó —á–∞—Å—Ç–æ —î **–¥–æ—Ä–æ–≥–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é**, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∞ –≤–∏–º–∞–≥–∞—î –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –≤–µ–ª–∏–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –æ–±'—î–∫—Ç—ñ–≤ —É –ø–∞–º'—è—Ç—ñ. –ó–∞–∑–≤–∏—á–∞–π –≤–æ–Ω–∞ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å **Stop-the-World (STW)** –ø–∞—É–∑, —â–æ —î –æ—Å–Ω–æ–≤–Ω–∏–º —Ñ–∞–∫—Ç–æ—Ä–æ–º —ó—Ö —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ. –î–µ—è–∫—ñ —Å—É—á–∞—Å–Ω—ñ GC (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, ZGC, Shenandoah) –Ω–∞–º–∞–≥–∞—é—Ç—å—Å—è –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∫–æ–º–ø–∞–∫—Ü—ñ—é –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ –∞–±–æ –º–∞–π–∂–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ, –º—ñ–Ω—ñ–º—ñ–∑—É—é—á–∏ STW-–ø–∞—É–∑–∏.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–£—è–≤—ñ—Ç—å —Å–≤–æ—é –∫–Ω–∏–∂–∫–æ–≤—É –ø–æ–ª–∏—Ü—é: –≤–∏ –≤–∏–∫–∏–Ω—É–ª–∏ –∫—ñ–ª—å–∫–∞ —Å—Ç–∞—Ä–∏—Ö –∫–Ω–∏–≥ (Sweep), —ñ —Ç–µ–ø–µ—Ä –Ω–∞ –ø–æ–ª–∏—Ü—ñ –±–∞–≥–∞—Ç–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö –ø–æ—Ä–æ–∂–Ω—ñ—Ö –ø—Ä–æ–º—ñ–∂–∫—ñ–≤. –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ—Å—Ç–∞–≤–∏—Ç–∏ –æ–¥–Ω—É –≤–µ–ª–∏–∫—É –Ω–æ–≤—É –∫–Ω–∏–≥—É, –º–æ–∂–ª–∏–≤–æ, –º—ñ—Å—Ü—è –Ω–µ–º–∞—î, —Ö–æ—á–∞ –ø–æ—Ä–æ–∂–Ω—ñ—Ö –¥—ñ—Ä–æ–∫ —Å—É–º–∞—Ä–Ω–æ –≤–∏—Å—Ç–∞—á–∏—Ç—å. –ö–æ–º–ø–∞–∫—Ü—ñ—è ‚Äî —Ü–µ –∫–æ–ª–∏ –≤–∏ –ø–µ—Ä–µ—Å—É–≤–∞—î—Ç–µ –≤—Å—ñ –∫–Ω–∏–≥–∏ –≤–ø—Ä–∏—Ç—É–ª –æ–¥–Ω—É –¥–æ –æ–¥–Ω–æ—ó, —â–æ–± –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –æ–¥–∏–Ω –≤–µ–ª–∏–∫–∏–π –±–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–∏–π –ø—Ä–æ–º—ñ–∂–æ–∫ –¥–ª—è –Ω–æ–≤–æ—ó –∫–Ω–∏–≥–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —Ç–∞–∫–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—è –ø–∞–º'—è—Ç—ñ, —á–æ–º—É –≤–æ–Ω–∞ –≤–∏–Ω–∏–∫–∞—î, —ñ —è–∫ GC —ó—ó –≤–∏—Ä—ñ—à—É—î, –∞ —Ç–∞–∫–æ–∂ —É—Å–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç –∫–æ–º–ø–∞–∫—Ü—ñ—ó.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–∑–≤—ñ—Ç—å –æ—Å–Ω–æ–≤–Ω—ñ —Ç–∏–ø–æ–≤—ñ Garbage Collectors —É JVM —Ç–∞ –∫–æ—Ä–æ—Ç–∫–æ –æ–ø–∏—à—ñ—Ç—å —ó—Ö –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ü—Å—Ç–æ—Ä–∏—á–Ω–æ —Ç–∞ –Ω–∞ –¥–∞–Ω–∏–π –º–æ–º–µ–Ω—Ç —É JVM (–ø–µ—Ä–µ–≤–∞–∂–Ω–æ HotSpot JVM) —ñ—Å–Ω—É—î –∫—ñ–ª—å–∫–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤ Garbage Collectors, –∫–æ–∂–µ–Ω –∑—ñ —Å–≤–æ—ó–º–∏ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—è–º–∏ —Ç–∞ —Å—Ü–µ–Ω–∞—Ä—ñ—è–º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
>
> * **1\. Serial GC:**
>
>   * **–û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å:** –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è, –ø—Ä–∞—Ü—é—î –≤ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫. –í—Å—ñ —Ñ–∞–∑–∏ (Mark, Sweep, Compact) –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å **Stop-the-World (STW)** –ø–∞—É–∑–∏.
>
>   * **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –î–ª—è –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤ –∞–±–æ –ø—Ä–æ–≥—Ä–∞–º –∑ –º–∞–ª–∏–º –æ–±—Å—è–≥–æ–º –ø–∞–º'—è—Ç—ñ (<100 –ú–ë) —Ç–∞ –æ–¥–Ω–∏–º CPU/—è–¥—Ä–æ–º.
>
>
> * **2\. Parallel GC (Throughput Collector):**
>
>   * **–û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å:** –ü—Ä–∞—Ü—é—î –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ –∑ –∫—ñ–ª—å–∫–æ–º–∞ –ø–æ—Ç–æ–∫–∞–º–∏ GC –ø—ñ–¥ —á–∞—Å —Ñ–∞–∑ Mark —Ç–∞ Sweep, —Å–∫–æ—Ä–æ—á—É—é—á–∏ –∑–∞–≥–∞–ª—å–Ω—É —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å STW-–ø–∞—É–∑–∏. –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è **–ø—Ä–æ–ø—É—Å–∫–Ω–æ—ó –∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ (throughput)** –¥–æ–¥–∞—Ç–∫–∞.
>
>   * **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –î–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö –ø—Ä–æ–≥—Ä–∞–º, –¥–µ –ø—Ä–æ–ø—É—Å–∫–Ω–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –≤–∞–∂–ª–∏–≤—ñ—à–∞ –∑–∞ –∑–∞—Ç—Ä–∏–º–∫—É (latency), —Ç–æ–±—Ç–æ –∫–æ–ª–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç—å—Å—è –¥–æ–≤—à—ñ –ø–∞—É–∑–∏, –∞–ª–µ –≤–æ–Ω–∏ —Ä—ñ–¥–∫—ñ—Å–Ω—ñ. GC Compact —Ñ–∞–∑–∞ —Ç–∞–∫–æ–∂ STW.
>
>
> * **3\. Concurrent Mark-Sweep (CMS) GC:**
>
>   * **–û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å:** –ü—Ä–∞–≥–Ω–µ –º—ñ–Ω—ñ–º—ñ–∑—É–≤–∞—Ç–∏ STW-–ø–∞—É–∑–∏, –≤–∏–∫–æ–Ω—É—é—á–∏ –±—ñ–ª—å—à—ñ—Å—Ç—å —Å–≤–æ—ó—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π (–ø–µ—Ä–µ–≤–∞–∂–Ω–æ Mark —Ç–∞ Sweep) **–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ** –∑ –ø–æ—Ç–æ–∫–∞–º–∏ –¥–æ–¥–∞—Ç–∫–∞. –¢–æ–±—Ç–æ, –¥–æ–¥–∞—Ç–æ–∫ –ø—Ä–æ–¥–æ–≤–∂—É—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏, –ø–æ–∫–∏ GC –∑–±–∏—Ä–∞—î —Å–º—ñ—Ç—Ç—è. –û–¥–Ω–∞–∫, CMS **–Ω–µ –≤–∏–∫–æ–Ω—É—î –∫–æ–º–ø–∞–∫—Ü—ñ—é** —ñ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó –ø–∞–º'—è—Ç—ñ.
>
>   * **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –î–ª—è –¥–æ–¥–∞—Ç–∫—ñ–≤, —è–∫—ñ –≤–∏–º–∞–≥–∞—é—Ç—å –Ω–∏–∑—å–∫–∏—Ö –∑–∞—Ç—Ä–∏–º–æ–∫ (low-latency) —Ç–∞ –≤—ñ–¥–Ω–æ—Å–Ω–æ –Ω–µ–≤–µ–ª–∏–∫–∏—Ö –æ–±'—î–∫—Ç—ñ–≤. **–ó–∞—Å—Ç–∞—Ä—ñ–≤ —É —Å—É—á–∞—Å–Ω–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö Java.**
>
>
> * **4\. G1 (Garbage-First) GC:**
>
>   * **–û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å:** –°—É—á–∞—Å–Ω–∏–π GC, —è–∫–∏–π —î —Ç–∏–ø–æ–≤–∏–º –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ Java 9+. –í—ñ–Ω —Ä–æ–∑–±–∏–≤–∞—î Heap –Ω–∞ —Ä–µ–≥—ñ–æ–Ω–∏. –ô–æ–≥–æ –º–µ—Ç–∞ ‚Äì –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ –∫–æ—Ä–æ—Ç–∫—ñ STW-–ø–∞—É–∑–∏ (—Ü—ñ–ª—å–æ–≤—ñ). –ú–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∫–æ–º–ø–∞–∫—Ü—ñ—é –ø–æ—Å—Ç—É–ø–æ–≤–æ, —Ç–∞–∫–æ–∂ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ä–µ–≥—ñ–æ–Ω–∏. –ù–∞–º–∞–≥–∞—î—Ç—å—Å—è –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ.
>
>   * **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –î–ª—è –≤–µ–ª–∏–∫–∏—Ö Heap (–∫—ñ–ª—å–∫–∞ GB) —Ç–∞ –¥–ª—è –¥–æ–¥–∞—Ç–∫—ñ–≤, —è–∫—ñ –≤–∏–º–∞–≥–∞—é—Ç—å –±–∞–ª–∞–Ω—Å—É –º—ñ–∂ –ø—Ä–æ–ø—É—Å–∫–Ω–æ—é –∑–¥–∞—Ç–Ω—ñ—Å—Ç—é —Ç–∞ –∑–∞—Ç—Ä–∏–º–∫–æ—é.
>
>
> * **5\. ZGC / Shenandoah GC:**
>
>   * **–û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å:** –î—É–∂–µ –Ω–∏–∑—å–∫–∞ –∑–∞—Ç—Ä–∏–º–∫–∞. –ü—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –¥—É–∂–µ –≤–µ–ª–∏–∫–∏—Ö Heap (–≤—ñ–¥ –¥–µ–∫—ñ–ª—å–∫–æ—Ö –¢–ë) –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏, **–Ω–µ–∑–∞–ª–µ–∂–Ω–∏–º–∏ –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É Heap** STW-–ø–∞—É–∑–∞–º–∏ (—á–∞—Å—Ç–æ –º–µ–Ω—à–µ 10 –º—Å). –ë—ñ–ª—å—à—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è **–æ–¥–Ω–æ—á–∞—Å–Ω–æ –∑ —Ä–æ–±–æ—Ç–æ—é –¥–æ–¥–∞—Ç–∫–∞**. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –∫–æ–ª—å–æ—Ä–æ–≤—ñ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∏ (colored pointers) —Ç–∞ –±–∞—Ä'—î—Ä–∏ (barriers).
>
>   * **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤, —â–æ –≤–∏–º–∞–≥–∞—é—Ç—å –¥—É–∂–µ –Ω–∏–∑—å–∫–æ—ó —Ç–∞ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ—ó –∑–∞—Ç—Ä–∏–º–∫–∏, –Ω–∞–≤—ñ—Ç—å –Ω–∞ –≤–µ–ª–∏—á–µ–∑–Ω–∏—Ö –æ–±—Å—è–≥–∞—Ö –ø–∞–º'—è—Ç—ñ. –î–æ—Å—Ç—É–ø–Ω—ñ –∑ Java 11/12+.

#### **üìù –ú–Ω–µ–º–æ–Ω—ñ–∫–∞:**

* **S**erial: **S**ingle thread, **S**imple, **S**top-the-world always.

* **P**arallel: **P**arallel processing, high **P**erformance (throughput).

* **C**MS: **C**oncurrent, tries to **M**inimize pauses, **S**ome fragmentation.

* **G**1: **G**arbage-first (prioritizes regions with most garbage), **G**reat balance.

* **ZGC/Shenandoah:** Z**Z**Z-zzz (almost no pause), very low latency.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤ GC, —ó—Ö–Ω—ñ—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏—Ö –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç–µ–π, –∫–æ–º–ø—Ä–æ–º—ñ—Å—ñ–≤ (throughput vs latency) —Ç–∞ —Ç–∏–ø–æ–≤–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂—É—Ç—å –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ –≤–∏—Ç–æ–∫–∏ –ø–∞–º'—è—Ç—ñ (memory leaks) –≤ Java, –Ω–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å Garbage Collector? –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥–∏ —Ç–∞–∫–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ–π. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, –≤–∏—Ç–æ–∫–∏ –ø–∞–º'—è—Ç—ñ –º–æ–∂—É—Ç—å –≤–∏–Ω–∏–∫–∞—Ç–∏ –≤ Java**, –Ω–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é —á–µ—Ä–µ–∑ Garbage Collector. GC –∑–≤—ñ–ª—å–Ω—è—î –æ–±'—î–∫—Ç–∏ –ª–∏—à–µ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –Ω–∞ –Ω–∏—Ö **–Ω–µ–º–∞—î –¥–æ—Å—Ç—É–ø–Ω–∏—Ö (reachable) –ø–æ—Å–∏–ª–∞–Ω—å**. –í–∏—Ç—ñ–∫ –ø–∞–º'—è—Ç—ñ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ –æ–±'—î–∫—Ç–∏, —è–∫—ñ —Ñ–∞–∫—Ç–∏—á–Ω–æ –±—ñ–ª—å—à–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–æ—é, **–≤—Å–µ —â–µ –º–∞—é—Ç—å –¥—ñ–π—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è**, —ñ —Ç–æ–º—É GC –≤–≤–∞–∂–∞—î —ó—Ö "–∂–∏–≤–∏–º–∏" —ñ –Ω–µ –≤–∏–¥–∞–ª—è—î —ó—Ö –∑ –ø–∞–º'—è—Ç—ñ.
>
> –ü—Ä–∏–∫–ª–∞–¥–∏ —Ç–∞–∫–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ–π:
>
> * **1\. –°—Ç–∞—Ç–∏—á–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó (Static Collections):**
>
>   * –Ø–∫—â–æ –≤–∏ –¥–æ–¥–∞—î—Ç–µ –æ–±'—î–∫—Ç–∏ –¥–æ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö List, Map, Set –∞–±–æ —ñ–Ω—à–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π, —ñ —Ü—ñ –æ–±'—î–∫—Ç–∏ –Ω–µ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è —è–≤–Ω–æ. –°—Ç–∞—Ç–∏—á–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —ñ—Å–Ω—É—é—Ç—å –ø—Ä–æ—Ç—è–≥–æ–º —É—Å—å–æ–≥–æ –∂–∏—Ç—Ç—è –¥–æ–¥–∞—Ç–∫–∞, —Ç–æ–º—É –æ–±'—î–∫—Ç–∏ –≤ —Ç–∞–∫–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ—è—Ö –Ω—ñ–∫–æ–ª–∏ –Ω–µ —Å—Ç–∞–Ω—É—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–º–∏ –¥–ª—è GC, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –ø—Ä–æ–≥—Ä–∞–º–∞ –±—ñ–ª—å—à–µ –Ω–∏–º–∏ –Ω–µ –∫–æ—Ä–∏—Å—Ç—É—î—Ç—å—Å—è.
>
>   * **–ü—Ä–∏–∫–ª–∞–¥:** –∫–µ—à –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, —è–∫—ñ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è, –∞–±–æ –ª–æ–≥—ñ –æ–±'—î–∫—Ç—ñ–≤, —è–∫—ñ –ø–æ—Å—Ç—ñ–π–Ω–æ –¥–æ–¥–∞—é—Ç—å—Å—è.
>
>
> * **2\. –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ –∫–ª–∞—Å–∏ (Inner/Nested Classes) –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏ –Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ:**
>
>   * –Ø–∫—â–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π (–Ω–µ —Å—Ç–∞—Ç–∏—á–Ω–∏–π) –∫–ª–∞—Å –º–∞—î –Ω–µ—è–≤–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–≤—ñ–π –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –µ–∫–∑–µ–º–ø–ª—è—Ä. –Ø–∫—â–æ –µ–∫–∑–µ–º–ø–ª—è—Ä –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –∫–ª–∞—Å—É –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –¥–æ–≤–≥–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É —á–µ—Ä–∑—ñ –ø–æ–¥—ñ–π –∞–±–æ —Å—Ç–∞—Ç–∏—á–Ω—ñ–π –∫–æ–ª–µ–∫—Ü—ñ—ó), —Ç–æ —ñ –π–æ–≥–æ –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –æ–±'—î–∫—Ç –Ω–µ –∑–º–æ–∂–µ –±—É—Ç–∏ –∑—ñ–±—Ä–∞–Ω–∏–π GC.
>
>
> * **3\. –†–µ—Å—É—Ä—Å–∏, —â–æ –Ω–µ –±—É–ª–∏ –∑–∞–∫—Ä–∏—Ç—ñ (Unclosed Resources):**
>
>   * –¢–∞–∫—ñ —Ä–µ—Å—É—Ä—Å–∏ —è–∫ –∑'—î–¥–Ω–∞–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, —Ñ–∞–π–ª–æ–≤—ñ –ø–æ—Ç–æ–∫–∏, –º–µ—Ä–µ–∂–µ–≤—ñ —Å–æ–∫–µ—Ç–∏ –∞–±–æ –æ–±'—î–∫—Ç–∏ AWT/Swing –º–æ–∂—É—Ç—å –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —ñ–Ω—à—ñ –æ–±'—î–∫—Ç–∏, —è–∫—â–æ —ó—Ö –Ω–µ –∑–∞–∫—Ä–∏—Ç–∏ –Ω–∞–ª–µ–∂–Ω–∏–º —á–∏–Ω–æ–º (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é finally –±–ª–æ–∫—ñ–≤ –∞–±–æ try-with-resources). –¶–µ –º–æ–∂–µ —É—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–∞–º'—è—Ç—å, —è–∫–∞ –º–æ–≥–ª–∞ –± –±—É—Ç–∏ –∑–≤—ñ–ª—å–Ω–µ–Ω–∞.
>
>
> * **4\. –ö–µ—à—å (Caching Mechanisms):**
>
>   * –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∫–µ—à—ñ –±–µ–∑ –æ–±–º–µ–∂–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É –∞–±–æ –ø–æ–ª—ñ—Ç–∏–∫–∏ –≤–∏—Ç—ñ—Å–Ω–µ–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, LRU, LFU) –º–æ–∂—É—Ç—å –ø—Ä–æ–¥–æ–≤–∂—É–≤–∞—Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å—Ç–∞—Ä—ñ –∞–±–æ —Ä—ñ–¥–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ –æ–±'—î–∫—Ç–∏, –ø–æ—Å—Ç—É–ø–æ–≤–æ –∑–∞–ø–æ–≤–Ω—é—é—á–∏ –ø–∞–º'—è—Ç—å. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è WeakHashMap –∞–±–æ SoftReference/WeakReference –º–æ–∂–µ –¥–æ–ø–æ–º–æ–≥—Ç–∏ –ø–æ–º'—è–∫—à–∏—Ç–∏ —Ü–µ.
>
>
> * **5\. –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞–±—É—Ç—Ç—è –æ–±'—î–∫—Ç—ñ–≤ –¥–æ listener-—ñ–≤/callback-—ñ–≤:**
>
>   * –Ø–∫—â–æ –≤–∏ —Ä–µ—î—Å—Ç—Ä—É—î—Ç–µ –æ–±'—î–∫—Ç —è–∫ listener –¥–ª—è –ø–æ–¥—ñ—ó, –∞–ª–µ –Ω–µ –∑–Ω—ñ–º–∞—î—Ç–µ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –æ–±'—î–∫—Ç –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω. Event-—Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–∞—à –æ–±'—î–∫—Ç, –Ω–µ –¥–æ–∑–≤–æ–ª—è—é—á–∏ GC –π–æ–≥–æ –∑—ñ–±—Ä–∞—Ç–∏.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
import java.util.ArrayList;
import java.util.List;

public class MemoryLeakExample {

    // –°—Ç–∞—Ç–∏—á–Ω–∏–π —Å–ø–∏—Å–æ–∫, —è–∫–∏–π –Ω—ñ–∫–æ–ª–∏ –Ω–µ –æ—á–∏—â–∞—î—Ç—å—Å—è
    private static final List<byte[]> dataStorage = new ArrayList<>();

    public void addData(int sizeInBytes) {
        dataStorage.add(new byte[sizeInBytes]);
        System.out.println("–î–æ–¥–∞–Ω–æ " + sizeInBytes + " –±–∞–π—Ç. –†–æ–∑–º—ñ—Ä —Å–ø–∏—Å–∫—É: " + dataStorage.size());
    }

    public static void main(String[] args) throws InterruptedException {
        MemoryLeakExample app = new MemoryLeakExample();
        for (int i = 0; i < 100; i++) {
            app.addData(1024 * 1024); // –î–æ–¥–∞—î–º–æ –ø–æ 1 –ú–ë
            Thread.sleep(100);
            // –¢—É—Ç –º–∏ –æ—á—ñ–∫—É—î–º–æ, —â–æ —è–∫—â–æ –æ–±'—î–∫—Ç `app` "–∑–Ω–∏–∫–Ω–µ",
            // —Ç–æ –π–æ–≥–æ –æ–±'—î–∫—Ç–∏ –≤ dataStorage —Ç–µ–∂ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ø—Ä–∏–±—Ä–∞–Ω—ñ,
            // –ê–õ–ï –æ—Å–∫—ñ–ª—å–∫–∏ dataStorage –°–¢–ê–¢–ò–ß–ù–ò–ô, –≤—ñ–Ω —Ç—Ä–∏–º–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è.
        }
        System.out.println("–ü—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–≤–µ—Ä—à—É—î —Ä–æ–±–æ—Ç—É. dataStorage –ø—Ä–æ–¥–æ–≤–∂—É—î —É—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–∞–º'—è—Ç—å.");
    }
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ GC –Ω–µ —î –ø–∞–Ω–∞—Ü–µ—î—é –≤—ñ–¥ —É—Å—ñ—Ö –ø—Ä–æ–±–ª–µ–º –ø–∞–º'—è—Ç—ñ, —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –≤–∏–∑–Ω–∞—á–∏—Ç–∏ —Ç–∏–ø–æ–≤—ñ –ø–∞—Ç–µ—Ä–Ω–∏ –∫–æ–¥—É, —è–∫—ñ –º–æ–∂—É—Ç—å –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –≤–∏—Ç–æ–∫—ñ–≤ –ø–∞–º'—è—Ç—ñ, –ø–æ–ø—Ä–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å GC.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ "GC thrashing" —ñ —è–∫ –≤–æ–Ω–æ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–∏? –Ø–∫ —Ü—å–æ–º—É –∑–∞–ø–æ–±—ñ–≥—Ç–∏? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **"GC thrashing"** (—Ç–∞–∫–æ–∂ –≤—ñ–¥–æ–º–∏–π —è–∫ "GC overhead limit exceeded") ‚Äî —Ü–µ —Å—Ç–∞–Ω, –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –≤–∏—Ç—Ä–∞—á–∞—î –Ω–µ–ø—Ä–æ–ø–æ—Ä—Ü—ñ–π–Ω–æ –≤–µ–ª–∏–∫—É —á–∞—Å—Ç–∏–Ω—É —Å–≤–æ–≥–æ —á–∞—Å—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–æ–Ω–∞–¥ 98% –∑–∞–≥–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É CPU) –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ–π Garbage Collector, –∞ –Ω–µ –Ω–∞ –∫–æ—Ä–∏—Å–Ω—É —Ä–æ–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–∏. –¶–µ –∑–∞–∑–≤–∏—á–∞–π –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –≤–∏–¥—ñ–ª—è—î –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –±–∞–≥–∞—Ç–æ –Ω–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ –¥—É–∂–µ —à–≤–∏–¥–∫–æ, –∞–±–æ –∫–æ–ª–∏ –ø–∞–º'—è—Ç—ñ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –ø–æ—Å—Ç—ñ–π–Ω–æ–≥–æ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.
>
> **–Ø–∫ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:**
>
> * **–ó–Ω–∞—á–Ω–µ —É–ø–æ–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏:** –ö–æ—Ä–∏—Å–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑—É–ø–∏–Ω—è—î—Ç—å—Å—è –Ω–∞ —Ç—Ä–∏–≤–∞–ª–∏–π —á–∞—Å, –æ—Å–∫—ñ–ª—å–∫–∏ GC –ø–æ—Å—Ç—ñ–π–Ω–æ –ø—Ä–∞—Ü—é—î.
>
> * **–¢—Ä–∏–≤–∞–ª—ñ "Stop-the-World" –ø–∞—É–∑–∏:** –ù–∞–≤—ñ—Ç—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ñ GC –Ω–µ –º–æ–∂—É—Ç—å –ø–æ–≤–Ω—ñ—Å—Ç—é —É—Å—É–Ω—É—Ç–∏ STW-–ø–∞—É–∑–∏. –ß–∞—Å—Ç—ñ –∞–±–æ —Ç—Ä–∏–≤–∞–ª—ñ STW-–ø–∞—É–∑–∏ –ø—Ä–∏–∑–≤–æ–¥—è—Ç—å –¥–æ –∑–Ω–∞—á–Ω–æ–≥–æ –ø–æ–≥—ñ—Ä—à–µ–Ω–Ω—è –¥–æ—Å–≤—ñ–¥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–≤—ñ–¥–≥—É–∫ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, —Ç–∞–π–º–∞—É—Ç–∏ –∑–∞–ø–∏—Ç—ñ–≤).
>
> * **–ó–±—ñ–ª—å—à–µ–Ω–µ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è CPU:** –ù–∞–≤—ñ—Ç—å "–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞" —á–∞—Å—Ç–∏–Ω–∞ GC —Å–ø–æ–∂–∏–≤–∞—î —Ä–µ—Å—É—Ä—Å–∏ CPU, —â–æ –≤—ñ–¥–±–∏—Ä–∞—î —ó—Ö –≤—ñ–¥ –æ—Å–Ω–æ–≤–Ω–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏.
>
> * **–ó–±—ñ–π OutOfMemoryError (—É –∫—ñ–Ω—Ü–µ–≤–æ–º—É –ø—ñ–¥—Å—É–º–∫—É):** –•–æ—á–∞ GC —ñ –ø—Ä–∞—Ü—é—î, —è–∫—â–æ –≤—ñ–Ω –Ω–µ –º–æ–∂–µ –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –º—ñ—Å—Ü—è –¥–ª—è –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è –ø–æ—Å—Ç—ñ–π–Ω–æ –∑—Ä–æ—Å—Ç–∞—é—á–∏—Ö –ø–æ—Ç—Ä–µ–± —É –ø–∞–º'—è—Ç—ñ, –¥–æ–¥–∞—Ç–æ–∫ –∑—Ä–µ—à—Ç–æ—é –≤—Å–µ –æ–¥–Ω–æ –∑–∞–∑–Ω–∞—î –∑–±–æ—é –∑ –ø–æ–º–∏–ª–∫–æ—é java.lang.OutOfMemoryError: GC overhead limit exceeded.
>
>
> **–Ø–∫ –∑–∞–ø–æ–±—ñ–≥—Ç–∏ GC thrashing:**
>
> * **1\. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤:**
>
>   * **–£–Ω–∏–∫–∞–π—Ç–µ –Ω–∞–¥–ª–∏—à–∫–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤:** –ú—ñ–Ω—ñ–º—ñ–∑—É–π—Ç–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ—Ä–æ—Ç–∫–æ–∂–∏–≤—É—á–∏—Ö, —Ç–∏–º—á–∞—Å–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ —É —Ü–∏–∫–ª–∞—Ö –∞–±–æ –º–µ—Ç–æ–¥–∞—Ö, —â–æ —á–∞—Å—Ç–æ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è.
>
>   * **–ü–æ–≤—Ç–æ—Ä–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø—É–ª–∏ –æ–±'—î–∫—Ç—ñ–≤ (object pools) –∞–±–æ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –∫–µ—à—É–≤–∞–Ω–Ω—è –¥–ª—è –æ–±'—î–∫—Ç—ñ–≤, —è–∫—ñ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —Ç–∞ –∑–Ω–∏—â—É—é—Ç—å—Å—è –¥—É–∂–µ —á–∞—Å—Ç–æ.
>
>   * **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω—ñ —Ç–∏–ø–∏/–º–∞—Å–∏–≤–∏ –∑–∞–º—ñ—Å—Ç—å –æ–±'—î–∫—Ç—ñ–≤:** –î–µ —Ü–µ –º–æ–∂–ª–∏–≤–æ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ int\[\] –∑–∞–º—ñ—Å—Ç—å Integer\[\].
>
>
> * **2\. –ü—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä Heap:**
>
>   * **–ó–±—ñ–ª—å—à–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É Heap:** –¶–µ –ø–µ—Ä—à–∏–π, –∞–ª–µ –Ω–µ –∑–∞–≤–∂–¥–∏ —î–¥–∏–Ω–∏–π –∫—Ä–æ–∫. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –æ–ø—Ü—ñ—ó JVM \-Xms (–ø–æ—á–∞—Ç–∫–æ–≤–∏–π) —Ç–∞ \-Xmx (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π) –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É –ø–∞–º'—è—Ç—ñ –¥–ª—è –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫–∞.
>
>   * **–ê–ª–µ –Ω–µ –∑–∞–Ω–∞–¥—Ç–æ –≤–µ–ª–∏–∫–∏–π Heap:** –ó–∞–Ω–∞–¥—Ç–æ –≤–µ–ª–∏–∫–∏–π Heap –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ —Ä—ñ–¥–∫—ñ—Å–Ω–∏—Ö, –∞–ª–µ –¥—É–∂–µ —Ç—Ä–∏–≤–∞–ª–∏—Ö STW-–ø–∞—É–∑.
>
>
> * **3\. –í–∏–±—ñ—Ä —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è GC:**
>
>   * –í–∏–±–µ—Ä—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π GC –¥–ª—è –≤–∞—à–æ–≥–æ –ø—Ä–æ—Ñ—ñ–ª—é –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, G1 –¥–ª—è –±—ñ–ª—å—à–∏—Ö Heap, ZGC/Shenandoah –¥–ª—è –Ω–∏–∑—å–∫–∏—Ö –∑–∞—Ç—Ä–∏–º–æ–∫).
>
>   * **GC Tuning:** –¢–æ–Ω–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è GC (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å–ø—ñ–≤–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è –º–æ–ª–æ–¥–∏—Ö/—Å—Ç–∞—Ä–∏—Ö –ø–æ–∫–æ–ª—ñ–Ω—å, —Ä–æ–∑–º—ñ—Ä Survivor space) –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é \-XX –æ–ø—Ü—ñ–π –º–æ–∂–µ –∑–Ω–∞—á–Ω–æ –ø–æ–∫—Ä–∞—â–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å GC.
>
>
> * **4\. –£—Å—É–Ω–µ–Ω–Ω—è –≤–∏—Ç–æ–∫—ñ–≤ –ø–∞–º'—è—Ç—ñ:** –ë—É–¥—å-—è–∫—ñ —Ñ–∞–∫—Ç–∏—á–Ω—ñ –≤–∏—Ç–æ–∫–∏ –ø–∞–º'—è—Ç—ñ –∑–º—É—Å—è—Ç—å GC –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –ø–æ—Å—Ç—ñ–π–Ω–æ, –Ω–∞–º–∞–≥–∞—é—á–∏—Å—å –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –º—ñ—Å—Ü–µ, —è–∫–æ–≥–æ –Ω–µ–º–∞—î.
>
> * **5\. –ü—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è (VisualVM, JProfiler, YourKit) –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ —Ç–∞ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó "–≥–∞—Ä—è—á–∏—Ö —Ç–æ—á–æ–∫" —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

GC thrashing ‚Äî —Ü–µ –∫–æ–ª–∏ –≤–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –ø–æ—á–∏–Ω–∞—î "–∑–∞–¥–∏—Ö–∞—Ç–∏—Å—è" —á–µ—Ä–µ–∑ –ø–æ—Å—Ç—ñ–π–Ω—ñ –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è, –≤–∏—Ç—Ä–∞—á–∞—é—á–∏ –≤—Å—é –µ–Ω–µ—Ä–≥—ñ—é –Ω–∞ "–≤–∏–∫–∏–¥–∞–Ω–Ω—è —Å–º—ñ—Ç—Ç—è", –∞ –Ω–µ –Ω–∞ –∫–æ—Ä–∏—Å–Ω—É —Ä–æ–±–æ—Ç—É. –¶–µ —Å–∏–≥–Ω–∞–ª, —â–æ –≤–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –∑–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤, –∞–±–æ –ø–∞–º'—è—Ç—ñ –∫—Ä–∏—Ç–∏—á–Ω–æ –±—Ä–∞–∫—É—î.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –¥—ñ–∞–≥–Ω–æ—Å—Ç—É–≤–∞—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É GC thrashing, —Ä–æ–∑—É–º—ñ–Ω–Ω—è —ó—ó –ø—Ä–∏—á–∏–Ω —Ç–∞ –∑–Ω–∞–Ω–Ω—è –ø—Ä–∞–∫—Ç–∏—á–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤ –¥–ª—è —ó—ó –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è —Ç–∞ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ Concurrent Mark-Sweep (CMS) GC —Ç–∞ G1 (Garbage-First) GC. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> CMS —ñ G1 GC –±—É–ª–∏ —Ä–æ–∑—Ä–æ–±–ª–µ–Ω—ñ –¥–ª—è –º—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—ó "Stop-the-World" –ø–∞—É–∑, –∞–ª–µ –≤–æ–Ω–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ä—ñ–∑–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏:
>
> **1\. Concurrent Mark-Sweep (CMS) GC:**
>
> * **–û—Å–Ω–æ–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥:** –°–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–æ–≤–∞–Ω–∏–π –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º—É —Å–∫–æ—Ä–æ—á–µ–Ω–Ω—ñ STW-–ø–∞—É–∑ —à–ª—è—Ö–æ–º –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –±—ñ–ª—å—à–æ—ó —á–∞—Å—Ç–∏–Ω–∏ —Ä–æ–±–æ—Ç–∏ (–æ—Å–æ–±–ª–∏–≤–æ —Ñ–∞–∑ Mark —Ç–∞ Sweep) **–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ** –∑ –ø–æ—Ç–æ–∫–∞–º–∏ –¥–æ–¥–∞—Ç–∫–∞.
>
> * **–ü–µ—Ä–µ–≤–∞–≥–∏:** –ó–∞–±–µ–∑–ø–µ—á—É—î –Ω–∏–∑—å–∫—ñ –∑–∞—Ç—Ä–∏–º–∫–∏ (–∫–æ—Ä–æ—Ç–∫—ñ –ø–∞—É–∑–∏). –î–æ–±—Ä–µ –ø—Ä–∞—Ü—é–≤–∞–≤ –¥–ª—è –ø–µ–≤–Ω–∏—Ö –≤–∏–¥—ñ–≤ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å.
>
> * **–ù–µ–¥–æ–ª—ñ–∫–∏:**
>
>   * **–ù–µ –≤–∏–∫–æ–Ω—É—î –∫–æ–º–ø–∞–∫—Ü—ñ—é:** –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ **—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó Heap-–ø–∞–º'—è—Ç—ñ**, —â–æ –∑ —á–∞—Å–æ–º –º–æ–∂–µ —Å–ø—Ä–∏—á–∏–Ω–∏—Ç–∏ Concurrent Mode Failure (–∫–æ–ª–∏ GC –Ω–µ –º–æ–∂–µ –∑–Ω–∞–π—Ç–∏ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø–∞–º'—è—Ç—ñ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ —ñ –∑–º—É—à–µ–Ω–∏–π –ø–µ—Ä–µ–π—Ç–∏ –¥–æ STW Full GC).
>
>   * **–°–ø–æ–∂–∏–≤–∞–Ω–Ω—è CPU:** –í–∏–º–∞–≥–∞—î –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö CPU-—Ä–µ—Å—É—Ä—Å—ñ–≤ –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—ó —Ä–æ–±–æ—Ç–∏.
>
>   * **–ï—Ñ–µ–∫—Ç "garbage floats":** –û–±'—î–∫—Ç–∏, —â–æ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—ó —Ñ–∞–∑–∏ Mark, –º–æ–∂—É—Ç—å –∑–∞–ª–∏—à–∞—Ç–∏—Å—è –≤ –ø–∞–º'—è—Ç—ñ –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ü–∏–∫–ª—É GC.
>
>   * **–ó–∞—Å—Ç–∞—Ä—ñ–ª–∏–π (Deprecated):** –ë—É–≤ –∑–∞–º—ñ–Ω–µ–Ω–∏–π –Ω–∞ G1 —è–∫ GC –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —É Java 9.
>
>
>
> **2\. G1 (Garbage-First) GC:**
>
> * **–û—Å–Ω–æ–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥:** –†–æ–∑–¥—ñ–ª—è—î Heap –Ω–∞ –±–∞–≥–∞—Ç–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö **—Ä–µ–≥—ñ–æ–Ω—ñ–≤**. –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –ø–æ–∫–æ–ª—ñ–Ω–Ω—î–≤–∏—Ö GC (—è–∫ CMS, —â–æ –ø—Ä–∞—Ü—é—é—Ç—å –∑ Eden, Survivor, Old Gen), G1 —î —Ä–µ–≥—ñ–æ–Ω–∞–ª—å–Ω–∏–º —ñ —Ü—ñ–ª–µ—Å–ø—Ä—è–º–æ–≤–∞–Ω–∏–º. –ô–æ–≥–æ –Ω–∞–∑–≤–∞ "Garbage-First" –æ–∑–Ω–∞—á–∞—î, —â–æ –≤—ñ–Ω **–≤ –ø–µ—Ä—à—É —á–µ—Ä–≥—É –∑–±–∏—Ä–∞—î —Å–º—ñ—Ç—Ç—è –≤ —Ç–∏—Ö —Ä–µ–≥—ñ–æ–Ω–∞—Ö, –¥–µ –π–æ–≥–æ –Ω–∞–π–±—ñ–ª—å—à–µ**, —â–æ–± –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –ø–∞–º'—è—Ç—å.
>
> * **–ü–µ—Ä–µ–≤–∞–≥–∏:**
>
>   * **–ü—Ä–æ–≥–Ω–æ–∑–æ–≤–∞–Ω—ñ –ø–∞—É–∑–∏:** –ù–∞–¥–∞—î —Ü—ñ–ª—å–æ–≤—ñ, –∫–æ—Ä–æ—Ç–∫—ñ "Stop-the-World" –ø–∞—É–∑–∏ (—á–µ—Ä–µ–∑ –æ–ø—Ü—ñ—é \-XX:MaxGCPauseMillis).
>
>   * **–ö–æ–º–ø–∞–∫—Ü—ñ—è:** –ó–¥—ñ–π—Å–Ω—é—î **—ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—É –∫–æ–º–ø–∞–∫—Ü—ñ—é** –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ —Ç–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ. –¶–µ –∑–º–µ–Ω—à—É—î —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—é –ø–∞–º'—è—Ç—ñ.
>
>   * **–î–æ–±—Ä–µ –º–∞—Å—à—Ç–∞–±—É—î—Ç—å—Å—è:** –ï—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∞—Ü—é—î –∑ –≤–µ–ª–∏–∫–∏–º–∏ Heap (–≤—ñ–¥ 4–ì–ë –¥–æ –¥–µ—Å—è—Ç–∫—ñ–≤ –ì–ë).
>
>   * **–ó–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–∏–π:** –ó–∞–±–µ–∑–ø–µ—á—É—î —Ö–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å –º—ñ–∂ –ø—Ä–æ–ø—É—Å–∫–Ω–æ—é –∑–¥–∞—Ç–Ω—ñ—Å—Ç—é (throughput) —Ç–∞ –∑–∞—Ç—Ä–∏–º–∫–æ—é (latency).
>
>
> * **–ù–µ–¥–æ–ª—ñ–∫–∏:**
>
>   * –î–µ—â–æ —Å–∫–ª–∞–¥–Ω—ñ—à–∏–π —É —Ä–æ–∑—É–º—ñ–Ω–Ω—ñ —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —á–µ—Ä–µ–∑ —Ä–µ–≥—ñ–æ–Ω–∞–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥.
>
>   * –ú–æ–∂–µ –º–∞—Ç–∏ —Ç—Ä–æ—Ö–∏ –±—ñ–ª—å—à—É –∑–∞–≥–∞–ª—å–Ω—É –ø—Ä–æ–ø—É—Å–∫–Ω—É –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å, –Ω—ñ–∂ Parallel GC —É –¥–µ—è–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö, –∞–ª–µ –≤–∏–≥—Ä–∞—î –∑–∞ —Ä–∞—Ö—É–Ω–æ–∫ –∑–º–µ–Ω—à–µ–Ω–Ω—è –ø–∞—É–∑.
>
>
>
> **–ö–ª—é—á–æ–≤—ñ –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ —É–∑–∞–≥–∞–ª—å–Ω–µ–Ω–æ:**
>
> –û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å
>
> CMS GC
>
> G1 GC
>
> **–ö–æ–º–ø–∞–∫—Ü—ñ—è**
>
> –ù–µ–º–∞—î (–ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó)
>
> –¢–∞–∫ (—ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞, –∑–º–µ–Ω—à—É—î —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—é)
>
> **–ú–æ–¥–µ–ª—å Heap**
>
> –ü–æ–∫–æ–ª—ñ–Ω–Ω—î–≤–∞ (Young/Old)
>
> –†–µ–≥—ñ–æ–Ω–∞–ª—å–Ω–∞
>
> **–ü–∞—É–∑–∏**
>
> –ú–µ–Ω—à –ø—Ä–æ–≥–Ω–æ–∑–æ–≤–∞–Ω—ñ (–∞–ª–µ –Ω–∏–∑—å–∫—ñ)
>
> –¶—ñ–ª—å–æ–≤—ñ, –ø—Ä–æ–≥–Ω–æ–∑–æ–≤–∞–Ω—ñ (–æ–ø—Ü—ñ—è MaxGCPauseMillis)
>
> **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó**
>
> –ó–∞—Å—Ç–∞—Ä—ñ–≤, –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è
>
> GC –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö Heap
>
> **–ü—Ä–∏—á–∏–Ω–∞ –∑–±–æ—é**
>
> Concurrent Mode Failure —á–µ—Ä–µ–∑ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—é
>
> –î–æ–≤—à—ñ Mixed –∞–±–æ Full GC –ø–∞—É–∑–∏, –∞–ª–µ —Ä—ñ–¥—à–µ OOM —á–µ—Ä–µ–∑ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—é

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

CMS ‚Äî —Ü–µ —è–∫ —Å—Ç–∞—Ä–∏–π —Ç–µ–ª–µ—Ñ–æ–Ω: –Ω–∞–¥—ñ–π–Ω–∏–π, –∞–ª–µ –±–µ–∑ —Å—É—á–∞—Å–Ω–æ—ó –∫–∞–º–µ—Ä–∏ —Ç–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π. G1 ‚Äî —Ü–µ —è–∫ —Å–º–∞—Ä—Ç—Ñ–æ–Ω: –ø—Ä–æ–ø–æ–Ω—É—î –Ω–∞–±–∞–≥–∞—Ç–æ –±—ñ–ª—å—à–µ —Ñ—É–Ω–∫—Ü—ñ–π, —Ä–æ–∑—É–º–Ω—ñ—à–∏–π —ñ –ø—ñ–¥–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è –ø—ñ–¥ –≤–∞—Å, —Ö–æ—á–∞ –≤–∏–º–∞–≥–∞—î —Ç—Ä–æ—Ö–∏ –±—ñ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î–µ—Ç–∞–ª—å–Ω–µ –∑–Ω–∞–Ω–Ω—è –¥–≤–æ—Ö –≤–∞–∂–ª–∏–≤–∏—Ö –ø–æ–∫–æ–ª—ñ–Ω—å GC –≤ Java, —ó—Ö–Ω—ñ—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏—Ö –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç–µ–π, —Å–∏–ª—å–Ω–∏—Ö —ñ —Å–ª–∞–±–∫–∏—Ö —Å—Ç–æ—Ä—ñ–Ω, –∞ —Ç–∞–∫–æ–∂ –∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ –ø–æ—è—Å–Ω–∏—Ç–∏, —á–æ–º—É G1 –≤–≤–∞–∂–∞—î—Ç—å—Å—è –ø—Ä–æ–≥—Ä–µ—Å–∏–≤–Ω—ñ—à–∏–º.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ G1 Garbage Collector —Å–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –∑ –ø—Ä–æ–±–ª–µ–º–æ—é "Stop-the-World" –ø–∞—É–∑ —Ç–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó –ø–∞–º'—è—Ç—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ä–µ–≥—ñ–æ–Ω–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> G1 GC –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —ñ–Ω–Ω–æ–≤–∞—Ü—ñ–π–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥, —Ä–æ–∑–¥—ñ–ª—è—é—á–∏ **Heap-–ø–∞–º'—è—Ç—å –Ω–∞ –±–µ–∑–ª—ñ—á —Ä—ñ–≤–Ω–∏—Ö –∑–∞ —Ä–æ–∑–º—ñ—Ä–æ–º —Ä–µ–≥—ñ–æ–Ω—ñ–≤** (–∑–∞–∑–≤–∏—á–∞–π –≤—ñ–¥ 1MB –¥–æ 32MB). –¶–µ –¥–æ–∑–≤–æ–ª—è—î –π–æ–º—É –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–µ –∫–µ—Ä—É–≤–∞—Ç–∏ –ø–∞–º'—è—Ç—Ç—é —Ç–∞ –º—ñ–Ω—ñ–º—ñ–∑—É–≤–∞—Ç–∏ STW-–ø–∞—É–∑–∏.
>
> **–í–∏—Ä—ñ—à–µ–Ω–Ω—è "Stop-the-World" (STW) –ø–∞—É–∑:**
>
> * **–ü—Ä–æ–≥–Ω–æ–∑–æ–≤–∞–Ω—ñ –ø–∞—É–∑–∏:** –ó–∞–º—ñ—Å—Ç—å –æ–¥–Ω—ñ—î—ó –¥–æ–≤–≥–æ—ó –ø–∞—É–∑–∏, G1 –¥–æ–∑–≤–æ–ª—è—î –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Ü—ñ–ª—å–æ–≤–∏–π —á–∞—Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó –ø–∞—É–∑–∏ (\-XX:MaxGCPauseMillis). G1 –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è —Ü—å–æ–≥–æ —Ü—ñ–ª—å–æ–≤–æ–≥–æ —á–∞—Å—É, –∑–±–∏—Ä–∞—é—á–∏ –ª–∏—à–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–º—ñ—Ç—Ç—è –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è —Ü—ñ–ª—ñ.
>
> * **–†–æ–∑—É–º–Ω–∏–π –≤–∏–±—ñ—Ä —Ä–µ–≥—ñ–æ–Ω—ñ–≤:** G1 –æ—Ü—ñ–Ω—é—î, —è–∫—ñ —Ä–µ–≥—ñ–æ–Ω–∏ –º—ñ—Å—Ç—è—Ç—å –Ω–∞–π–±—ñ–ª—å—à—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å "—Å–º—ñ—Ç—Ç—è" (–Ω–∞–π–º–µ–Ω—à—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∂–∏–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤), —ñ —Å–∞–º–µ —Ü—ñ **"—Å–º—ñ—Ç—Ç—î–≤—ñ—à—ñ" —Ä–µ–≥—ñ–æ–Ω–∏ (Garbage-First)** –≤—ñ–Ω –≤–∏–±–∏—Ä–∞—î –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è. –¢–∞–∫–∏–º —á–∏–Ω–æ–º, –≤—ñ–Ω —à–≤–∏–¥–∫–æ –∑–≤—ñ–ª—å–Ω—è—î –≤–µ–ª–∏–∫—ñ –æ–±—Å—è–≥–∏ –ø–∞–º'—è—Ç—ñ.
>
> * **–Ü–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞:** –ó–∞–º—ñ—Å—Ç—å –ø–æ–≤–Ω–æ–≥–æ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è –≤—Å—å–æ–≥–æ Heap –ø—ñ–¥ —á–∞—Å STW, G1 —Ä–æ–∑–±–∏–≤–∞—î —Ä–æ–±–æ—Ç—É –Ω–∞ –º–µ–Ω—à—ñ —á–∞—Å—Ç–∏–Ω–∏. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—ñ–¥ —á–∞—Å —Ñ–∞–∑–∏ "Remark" (—á–∞—Å—Ç–∫–∞ STW) –≤—ñ–Ω –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ –æ–±—Ä–æ–±–ª—è—î –∑–º—ñ–Ω–∏ –≤ —Ä–µ–≥—ñ–æ–Ω–∞—Ö. –§–∞–∑–∞ "Copying" (–ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –∂–∏–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤) —Ç–∞–∫–æ–∂ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –¥–æ –Ω–µ–≤–µ–ª–∏–∫–æ—ó –≥—Ä—É–ø–∏ —Ä–µ–≥—ñ–æ–Ω—ñ–≤ –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑, —â–æ —Ä–æ–±–∏—Ç—å —Ü—ñ –ø–∞—É–∑–∏ –¥—É–∂–µ –∫–æ—Ä–æ—Ç–∫–∏–º–∏ —Ç–∞ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–º–∏.
>
> * **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞ —Ñ–∞–∑–∞ Mark:** –Ø–∫ —ñ CMS, G1 –≤–∏–∫–æ–Ω—É—î –∑–Ω–∞—á–Ω—É —á–∞—Å—Ç–∏–Ω—É —Ñ–∞–∑–∏ Mark –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ –∑ –ø–æ—Ç–æ–∫–∞–º–∏ –¥–æ–¥–∞—Ç–∫–∞, —â–æ —Ç–∞–∫–æ–∂ –∑–º–µ–Ω—à—É—î —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å STW-—Ñ–∞–∑–∏.
>
>
> **–í–∏—Ä—ñ—à–µ–Ω–Ω—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó –ø–∞–º'—è—Ç—ñ:**
>
> * **–Ü–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞ –∫–æ–º–ø–∞–∫—Ü—ñ—è:** –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ CMS, G1 –∞–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ–Ω—É—î –∫–æ–º–ø–∞–∫—Ü—ñ—é. –ö–æ–ª–∏ G1 –≤–∏–±–∏—Ä–∞—î —Ä–µ–≥—ñ–æ–Ω–∏ –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è, –≤—ñ–Ω **–∫–æ–ø—ñ—é—î –≤—Å—ñ –∂–∏–≤—ñ –æ–±'—î–∫—Ç–∏ –∑ —Ü–∏—Ö —Ä–µ–≥—ñ–æ–Ω—ñ–≤ –¥–æ –Ω–æ–≤–∏—Ö, —Å–≤—ñ–∂–∏—Ö —Ä–µ–≥—ñ–æ–Ω—ñ–≤** —É —Å—É–º—ñ–∂–Ω–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä.
>
> * **–†–æ–∑–º—ñ—â–µ–Ω–Ω—è –≤–µ–ª–∏–∫–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ (Humongous Objects):** –î–ª—è –æ–±'—î–∫—Ç—ñ–≤, —Ä–æ–∑–º—ñ—Ä —è–∫–∏—Ö –ø–µ—Ä–µ–≤–∏—â—É—î –ø–æ–ª–æ–≤–∏–Ω—É —Ä–æ–∑–º—ñ—Ä—É —Ä–µ–≥—ñ–æ–Ω—É (Humongous Objects), G1 –≤–∏–¥—ñ–ª—è—î —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ "Humongous" —Ä–µ–≥—ñ–æ–Ω–∏, –∑–∞–ø–æ–±—ñ–≥–∞—é—á–∏ —ó—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö —Ä–µ–≥—ñ–æ–Ω–∞—Ö —ñ —Å–ø—Ä–æ—â—É—é—á–∏ —ó—Ö–Ω—î —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è.
>
> * **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∫–æ–º–ø–∞–∫—Ü—ñ—è:** G1 –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–Ω–∏–∫–∞—î —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó, –æ—Å–∫—ñ–ª—å–∫–∏ –≤ –∫–æ–∂–Ω–æ–º—É —Ü–∏–∫–ª—ñ –∑–±–æ—Ä—É —Å–º—ñ—Ç—Ç—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —ñ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –∂–∏–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤. –¶–µ —É—Å—É–≤–∞—î –ø—Ä–æ–±–ª–µ–º—É, —â–æ –±—É–ª–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–∞ –¥–ª—è CMS, –¥–µ Heap –º—ñ–≥ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—É–≤–∞—Ç–∏—Å—è, –≤–∏–∫–ª–∏–∫–∞—é—á–∏ Concurrent Mode Failure.
>
>
> –¶–µ–π —Ä–µ–≥—ñ–æ–Ω–∞–ª—å–Ω–∏–π —Ç–∞ —ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ–∑–≤–æ–ª—è—î G1 –±—É—Ç–∏ –¥—É–∂–µ –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–º —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º, –æ—Å–æ–±–ª–∏–≤–æ –¥–ª—è –¥–æ–¥–∞—Ç–∫—ñ–≤, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –≤–µ–ª–∏–∫–∏–º–∏ Heap-–ø–∞–º'—è—Ç—Ç—è–º–∏, –¥–µ —Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω—ñ GC –º–æ–∂—É—Ç—å –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –∑–∞–Ω–∞–¥—Ç–æ –¥–æ–≤–≥—ñ –ø–∞—É–∑–∏.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–£—è–≤—ñ—Ç—å —Å–æ–±—ñ G1 —è–∫ —Ä–æ–∑—É–º–Ω–∏–π —Å–º—ñ—Ç—Ç—î–≤–æ–∑, —â–æ –ø—Ä–∞—Ü—é—î –∑ –±–µ–∑–ª—ñ—á—á—é —Å–º—ñ—Ç—Ç—î–≤–∏—Ö –±–∞–∫—ñ–≤ (—Ä–µ–≥—ñ–æ–Ω—ñ–≤). –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± —á–µ–∫–∞—Ç–∏, –ø–æ–∫–∏ –≤—Å—è –≤—É–ª–∏—Ü—è –±—É–¥–µ –∑–∞–±–∏—Ç–∞ —Å–º—ñ—Ç—Ç—è–º (–≤–µ—Å—å Heap), —ñ –ø–æ—Ç—ñ–º –±–ª–æ–∫—É–≤–∞—Ç–∏ —Ä—É—Ö –Ω–∞ –∫—ñ–ª—å–∫–∞ –≥–æ–¥–∏–Ω (–¥–æ–≤–≥—ñ STW –ø–∞—É–∑–∏), –≤—ñ–Ω –ø—Ä–æ—Å—Ç–æ –≤–∏–±–∏—Ä–∞—î –Ω–∞–π–ø–æ–≤–Ω—ñ—à—ñ –±–∞–∫–∏ —ñ —à–≤–∏–¥–∫–æ —ó—Ö —Å–ø—É—Å—Ç–æ—à—É—î –æ–¥–∏–Ω –∑–∞ –æ–¥–Ω–∏–º. –í—ñ–Ω —Ç–∞–∫–æ–∂ –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤—É—î "–≤—ñ–¥—Ö–æ–¥–∏", —â–æ–± –ø–æ—Ç—ñ–º –±—É–ª–æ –ª–µ–≥—à–µ "—Å–æ—Ä—Ç—É–≤–∞—Ç–∏" –Ω–æ–≤—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏—Ö —Ä—ñ—à–µ–Ω—å G1, –∑–æ–∫—Ä–µ–º–∞ —Ä–µ–≥—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É, —Ç–∞ —Ç–æ–≥–æ, —è–∫ —Ü—ñ —Ä—ñ—à–µ–Ω–Ω—è –¥–æ–∑–≤–æ–ª—è—é—Ç—å –π–æ–º—É –¥–æ—Å—è–≥–∞—Ç–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤–∞–Ω–∏—Ö –∫–æ—Ä–æ—Ç–∫–∏—Ö –ø–∞—É–∑ —ñ –≤–∏—Ä—ñ—à—É–≤–∞—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó –ø–∞–º'—è—Ç—ñ.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–í —è–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è —Ä–æ–∑–≥–ª—è–¥–∞—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è ZGC –∞–±–æ Shenandoah GC, —ñ —è–∫—ñ —ó—Ö–Ω—ñ –∫–ª—é—á–æ–≤—ñ –ø–µ—Ä–µ–≤–∞–≥–∏ –ø–µ—Ä–µ–¥ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–º–∏ GC? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **ZGC —Ç–∞ Shenandoah GC** —î "–Ω–æ–≤–∏–º –ø–æ–∫–æ–ª—ñ–Ω–Ω—è–º" –Ω–∏–∑—å–∫–æ–ª–∞—Ç–µ–Ω—Ç–Ω–∏—Ö Garbage Collectors, —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏—Ö –¥–ª—è –º—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—ó –∞–±–æ –ø—Ä–∞–∫—Ç–∏—á–Ω–æ —É—Å—É–Ω–µ–Ω–Ω—è "Stop-the-World" (STW) –ø–∞—É–∑.
>
> **–°—Ü–µ–Ω–∞—Ä—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
>
> * **–ö—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–∏ –∑ –¥—É–∂–µ –Ω–∏–∑—å–∫–æ—é –∑–∞—Ç—Ä–∏–º–∫–æ—é (Ultra Low-Latency Applications):**
>
>   * –í–∏—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω–∏–π —Ç—Ä–µ–π–¥–∏–Ω–≥, –≥–µ–π–º—ñ–Ω–≥-—Å–µ—Ä–≤–µ—Ä–∏, —Ñ—ñ–Ω–∞–Ω—Å–æ–≤—ñ —Å–∏—Å—Ç–µ–º–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É, —Ä–µ–∫–ª–∞–º–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ (Ad-Tech).
>
>   * –°–∏—Å—Ç–µ–º–∏, –¥–µ –Ω–∞–≤—ñ—Ç—å –¥–µ—Å—è—Ç–∫–∏ –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥ –∑–∞—Ç—Ä–∏–º–∫–∏ –ø—ñ–¥ —á–∞—Å GC-–ø–∞—É–∑ —î –Ω–µ–ø—Ä–∏–π–Ω—è—Ç–Ω–∏–º–∏ –∞–±–æ –ø—Ä–∏–∑–≤–æ–¥—è—Ç—å –¥–æ –∑–Ω–∞—á–Ω–∏—Ö –≤—Ç—Ä–∞—Ç/–ø—Ä–æ–±–ª–µ–º.
>
>
> * **–î–æ–¥–∞—Ç–∫–∏ –∑ –¥—É–∂–µ –≤–µ–ª–∏–∫–∏–º–∏ Heap (Multi-Terabyte Heap Sizes):**
>
>   * –í–µ–ª–∏–∫—ñ In-memory Databases, –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏, big data –¥–æ–¥–∞—Ç–∫–∏.
>
>   * –¢—Ä–∞–¥–∏—Ü—ñ–π–Ω—ñ GC (–Ω–∞–≤—ñ—Ç—å G1) –º–æ–∂—É—Ç—å –≤—ñ–¥—á—É–≤–∞—Ç–∏ –¥—É–∂–µ —Ç—Ä–∏–≤–∞–ª—ñ –ø–∞—É–∑–∏ (—Å–æ—Ç–Ω—ñ –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥ –∞–±–æ –Ω–∞–≤—ñ—Ç—å —Å–µ–∫—É–Ω–¥–∏) –Ω–∞ —Ç–∞–∫–∏—Ö –º–∞—Å—à—Ç–∞–±–∞—Ö Heap.
>
>
> * **–°–µ—Ä–≤–µ—Ä–∏, —â–æ –æ–±—Å–ª—É–≥–æ–≤—É—é—Ç—å —Å–æ—Ç–Ω—ñ —Ç–∏—Å—è—á –∞–±–æ –º—ñ–ª—å–π–æ–Ω–∏ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤/–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.**
>
>
> **–ö–ª—é—á–æ–≤—ñ –ø–µ—Ä–µ–≤–∞–≥–∏ –ø–µ—Ä–µ–¥ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–º–∏ GC (G1, Parallel, CMS):**
>
> * **–ü—Ä–∞–∫—Ç–∏—á–Ω–æ –Ω—É–ª—å–æ–≤—ñ STW-–ø–∞—É–∑–∏:** –¶–µ —ó—Ö–Ω—è –≥–æ–ª–æ–≤–Ω–∞ –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å. –í–æ–Ω–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å –ø—Ä–∞–∫—Ç–∏—á–Ω–æ –≤—Å—é —Å–≤–æ—é —Ä–æ–±–æ—Ç—É (Mark, Relocate/Compact) **–æ–¥–Ω–æ—á–∞—Å–Ω–æ (concurrently)** –∑ —Ä–æ–±–æ—Ç–æ—é –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤. –¶–µ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è –∑–∞–≤–¥—è–∫–∏ –ø–µ—Ä–µ–¥–æ–≤–∏–º —Ç–µ—Ö–Ω—ñ–∫–∞–º:
>
>   * **–ö–æ–ª—å–æ—Ä–æ–≤—ñ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∏ (Colored Pointers) —Ç–∞ Load Barriers:** –î–æ–∑–≤–æ–ª—è—é—Ç—å GC –ø–µ—Ä–µ–º—ñ—â—É–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏, –¥–æ–∫–∏ –¥–æ–¥–∞—Ç–æ–∫ –ø—Ä–æ–¥–æ–≤–∂—É—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏, –æ–Ω–æ–≤–ª—é—é—á–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è "–Ω–∞ –ª—å–æ—Ç—É".
>
>   * **–í–∫–∞–∑—ñ–≤–Ω–∏–∫–∏ (Pointers):** –û–±'—î–∫—Ç–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ø–µ—Ä–µ–º—ñ—â–µ–Ω—ñ –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ "–∑—É–ø–∏–Ω—è—Ç–∏ —Å–≤—ñ—Ç".
>
>
> * **–ü–∞—É–∑–∏, —â–æ –Ω–µ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É Heap:** –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å STW-–ø–∞—É–∑ –≤ ZGC —Ç–∞ Shenandoah —î –ø—Ä–∞–∫—Ç–∏—á–Ω–æ **–ø–æ—Å—Ç—ñ–π–Ω–æ—é —ñ –¥—É–∂–µ –º–∞–ª–æ—é** (–∑–∞–∑–≤–∏—á–∞–π <10–º—Å, —á–∞—Å—Ç–æ <1–º—Å), –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É Heap-–ø–∞–º'—è—Ç—ñ (–Ω–∞–≤—ñ—Ç—å –¥–ª—è —Ç–µ—Ä–∞–±–∞–π—Ç—ñ–≤). –¶–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Å–∏—Å—Ç–µ–º.
>
> * **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞ –∫–æ–º–ø–∞–∫—Ü—ñ—è:** –í–æ–Ω–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É—Å—É–≤–∞—é—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—é –ø–∞–º'—è—Ç—ñ, –≤–∏–∫–æ–Ω—É—é—á–∏ –∫–æ–º–ø–∞–∫—Ü—ñ—é –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ, –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ G1, –¥–µ –∫–æ–º–ø–∞–∫—Ü—ñ—è —á–∞—Å—Ç–∫–æ–≤–æ —î STW.
>
> * **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å Generations:** –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ G1 –∞–±–æ Parallel GC, —è–∫—ñ –ø–æ–∫–ª–∞–¥–∞—é—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—é –ø–æ–∫–æ–ª—ñ–Ω—å (Young/Old Generation) –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ, ZGC/Shenandoah —ó—ó –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å (—Ö–æ—á–∞ ZGC –º–∞—î –æ–±–º–µ–∂–µ–Ω—É –∫–æ–Ω—Ü–µ–ø—Ü—ñ—é "generation" –¥–ª—è –ø–æ–ª—ñ–ø—à–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ).

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–Ø–∫—â–æ G1 ‚Äî —Ü–µ —Å–ø—Ä–∏—Ç–Ω–∏–π –∫—É—Ä'—î—Ä, —â–æ —à–≤–∏–¥–∫–æ –¥–æ—Å—Ç–∞–≤–ª—è—î –ø–æ—Å–∏–ª–∫–∏, —Ç–æ ZGC/Shenandoah ‚Äî —Ü–µ –±–µ–∑–ø—ñ–ª–æ—Ç–Ω–∏–π –ª—ñ—Ç–∞–∫, —â–æ –¥–æ—Å—Ç–∞–≤–ª—è—î –ø–æ—Å–∏–ª–∫–∏ –º–∏—Ç—Ç—î–≤–æ —ñ –±–µ–∑ –∑–∞—Ç—Ä–∏–º–æ–∫, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–∞–Ω—Ç–∞–∂ –≤–µ–ª–∏—á–µ–∑–Ω–∏–π. –¶–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä—ñ–≤–µ–Ω—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é –¥–ª—è –Ω–∞–π–≤–∏–±–∞–≥–ª–∏–≤—ñ—à–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ï–∫—Å–ø–µ—Ä—Ç–Ω–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –Ω–æ–≤—ñ—Ç–Ω—ñ—Ö GC-—Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π, —ó—Ö–Ω—å–æ—ó –≥–æ–ª–æ–≤–Ω–æ—ó "—Ñ—ñ—à–∫–∏" (ultra low-latency), —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤ —Ç–∞ –∑–Ω–∞–Ω–Ω—è —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è, –¥–µ –≤–æ–Ω–∏ —î –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–º–∏.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —â–æ —Ç–∞–∫–µ "–¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –æ–±'—î–∫—Ç–∞" (reachability) –¥–ª—è Garbage Collector, —Ç–∞ –Ω–∞–≤–µ–¥—ñ—Ç—å —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å (Reachability)** ‚Äî —Ü–µ –∫–ª—é—á–æ–≤–∞ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—è –¥–ª—è Garbage Collector. –û–±'—î–∫—Ç –≤–≤–∞–∂–∞—î—Ç—å—Å—è "–¥–æ—Å—Ç—É–ø–Ω–∏–º" (reachable), —è–∫—â–æ –¥–æ –Ω—å–æ–≥–æ –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø (–ø—Ä—è–º–æ —á–∏ –æ–ø–æ—Å–µ—Ä–µ–¥–∫–æ–≤–∞–Ω–æ) –∑ –±—É–¥—å-—è–∫–æ–≥–æ "–∫–æ—Ä–µ–Ω—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ" (**GC Root**). –Ø–∫—â–æ –æ–±'—î–∫—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π, GC –º–æ–∂–µ –π–æ–≥–æ –ø—Ä–∏–±—Ä–∞—Ç–∏.
>
> **GC Roots** –≤–∫–ª—é—á–∞—é—Ç—å:
>
> * –õ–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –º–µ—Ç–æ–¥—ñ–≤, —â–æ –ø–µ—Ä–µ–±—É–≤–∞—é—Ç—å —É —Å—Ç–µ—Ü—ñ –∫–æ–∂–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É (thread's stack).
>
> * –°—Ç–∞—Ç–∏—á–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –≤—Å—ñ—Ö –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤ (static fields).
>
> * –ê–∫—Ç–∏–≤–Ω—ñ –ø–æ—Ç–æ–∫–∏ (threads).
>
> * –†–µ—î—Å—Ç—Ä–∏ CPU.
>
> * JNI –ø–æ—Å–∏–ª–∞–Ω–Ω—è (–æ–±'—î–∫—Ç–∏, –Ω–∞ —è–∫—ñ –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞—Ç–∏–≤–Ω–∏–π –∫–æ–¥).
>
> * –ú–æ–Ω—ñ—Ç–æ—Ä–∏ (–∑–∞–±–ª–æ–∫–æ–≤–∞–Ω—ñ –æ–±'—î–∫—Ç–∏)
>
>
> Java –≤–∏–∑–Ω–∞—á–∞—î —á–æ—Ç–∏—Ä–∏ —Ä—ñ–≤–Ω—ñ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ, –≤—ñ–¥ –Ω–∞–π—Å–∏–ª—å–Ω—ñ—à–æ–≥–æ –¥–æ –Ω–∞–π—Å–ª–∞–±—à–æ–≥–æ:
>
> * **1\. Strongly Reachable (–°–∏–ª—å–Ω–æ –î–æ—Å—Ç—É–ø–Ω–∏–π):**
>
>   * –û–±'—î–∫—Ç, –Ω–∞ —è–∫–∏–π —î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤—ñ–¥ **GC Root** –∞–±–æ —á–µ—Ä–µ–∑ –ª–∞–Ω—Ü—é–∂–æ–∫ –ø–æ—Å–∏–ª–∞–Ω—å, –¥–µ –≤—Å—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —î "—Å–∏–ª—å–Ω–∏–º–∏" (–∑–≤–∏—á–∞–π–Ω–∞ Object obj = new Object();).
>
>   * **GC –Ω—ñ–∫–æ–ª–∏ –Ω–µ –∑–±–µ—Ä–µ strongly reachable –æ–±'—î–∫—Ç–∏**, –¥–æ–∫–∏ –≤–æ–Ω–∏ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –¥–æ—Å—Ç—É–ø–Ω–∏–º–∏. –¶–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î —É—Ç—Ä–∏–º–∞–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ —É –ø–∞–º'—è—Ç—ñ.
>
>
> * **2\. Softly Reachable (–ú'—è–∫–æ –î–æ—Å—Ç—É–ø–Ω–∏–π):**
>
>   * –û–±'—î–∫—Ç, –Ω–∞ —è–∫–∏–π –ø–æ—Å–∏–ª–∞—é—Ç—å—Å—è –ª–∏—à–µ —á–µ—Ä–µ–∑ –æ–±'—î–∫—Ç SoftReference, —ñ –≤—ñ–Ω –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π —á–µ—Ä–µ–∑ —Å–∏–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è.
>
>   * **GC –º–æ–∂–µ –∑—ñ–±—Ä–∞—Ç–∏ softly reachable –æ–±'—î–∫—Ç–∏**, –∞–ª–µ —Ä–æ–±–∏—Ç—å —Ü–µ —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ, –∫–æ–ª–∏ JVM **–º–∞–π–∂–µ –≤–∏—á–µ—Ä–ø–∞–ª–∞ –¥–æ—Å—Ç—É–ø–Ω—É –ø–∞–º'—è—Ç—å (–≤–∏—Å–æ–∫–∏–π —Ç–∏—Å–∫ –Ω–∞ –ø–∞–º'—è—Ç—å)**. –ß–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫–µ—à—ñ–≤, —è–∫—ñ —î –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–º–∏ –¥–æ –Ω–∞—è–≤–Ω–æ—ó –ø–∞–º'—è—Ç—ñ.
>
>
> * **3\. Weakly Reachable (–°–ª–∞–±–æ –î–æ—Å—Ç—É–ø–Ω–∏–π):**
>
>   * –û–±'—î–∫—Ç, –Ω–∞ —è–∫–∏–π –ø–æ—Å–∏–ª–∞—é—Ç—å—Å—è –ª–∏—à–µ —á–µ—Ä–µ–∑ –æ–±'—î–∫—Ç WeakReference, —ñ –≤—ñ–Ω –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π —á–µ—Ä–µ–∑ —Å–∏–ª—å–Ω—ñ –∞–±–æ –º'—è–∫—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è.
>
>   * **GC –∑–±–∏—Ä–∞—î weakly reachable –æ–±'—î–∫—Ç–∏ –ø—ñ–¥ —á–∞—Å –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–¥—É GC** (–∞–±–æ —è–∫ —Ç—ñ–ª—å–∫–∏ –≤—ñ–Ω –≤–∏–∑–Ω–∞—á–∏—Ç—å, —â–æ –æ–±'—î–∫—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π –ª–∏—à–µ —Å–ª–∞–±–∫–æ), –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä—ñ–≤–Ω—è —Ç–∏—Å–∫—É –Ω–∞ –ø–∞–º'—è—Ç—å. WeakHashMap ‚Äî –ø–æ—à–∏—Ä–µ–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è. –¶–µ —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è "–º–∞–ø—ñ–Ω–≥—É" –æ–±'—î–∫—Ç—ñ–≤ –¥–æ –º–µ—Ç–∞–¥–∞–Ω–∏—Ö, —è–∫—ñ –Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–≤–∞–∂–∞—Ç–∏ –æ—Å–Ω–æ–≤–Ω–∏–º –æ–±'—î–∫—Ç–∞–º –±—É—Ç–∏ –∑—ñ–±—Ä–∞–Ω–∏–º–∏.
>
>
> * **4\. Phantomly Reachable (–§–∞–Ω—Ç–æ–º–Ω–æ –î–æ—Å—Ç—É–ø–Ω–∏–π):**
>
>   * –û–±'—î–∫—Ç, –Ω–∞ —è–∫–∏–π –ø–æ—Å–∏–ª–∞—é—Ç—å—Å—è –ª–∏—à–µ —á–µ—Ä–µ–∑ –æ–±'—î–∫—Ç PhantomReference, —ñ —è–∫–∏–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π —á–µ—Ä–µ–∑ —Å–∏–ª—å–Ω—ñ, –º'—è–∫—ñ —á–∏ —Å–ª–∞–±–∫—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è. PhantomReference —î –Ω–∞–π–±—ñ–ª—å—à —Å–ª–∞–±–∫–∏–º —Ç–∏–ø–æ–º –ø–æ—Å–∏–ª–∞–Ω–Ω—è.
>
>   * –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ SoftReference —Ç–∞ WeakReference, –º–µ—Ç–æ–¥ get() –¥–ª—è PhantomReference **–∑–∞–≤–∂–¥–∏ –ø–æ–≤–µ—Ä—Ç–∞—î null**. –¢–æ–º—É –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Å–∞–º–æ–≥–æ –æ–±'—î–∫—Ç–∞ —á–µ—Ä–µ–∑ PhantomReference.
>
>   * –ô–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–∞ –º–µ—Ç–∞ ‚Äì **—Å–ø–æ–≤—ñ—Å—Ç–∏—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É –ø—Ä–æ —Ç–µ, —â–æ –æ–±'—î–∫—Ç –±—É–≤ –ø—Ä–∏–±—Ä–∞–Ω–∏–π GC**, –ø—ñ—Å–ª—è —á–æ–≥–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è PhantomReference —Å—Ç–∞–≤–∏—Ç—å—Å—è —É ReferenceQueue. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ **–ø–æ—Å—Ç-mortem –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤**, —è–∫—ñ –±—É–ª–∏ –∞—Å–æ—Ü—ñ–π–æ–≤–∞–Ω—ñ –∑ –æ–±'—î–∫—Ç–æ–º (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–ø–∏—Å–∏ –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, —è–∫—ñ –±—É–ª–∏ –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –≤–∏–¥–∞–ª–µ–Ω–∏–º –æ–±'—î–∫—Ç–æ–º), –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–µ, –Ω—ñ–∂ finalize() –º–µ—Ç–æ–¥, —è–∫–∏–π –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–π.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–†—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ ‚Äî —Ü–µ —è–∫ —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –∫–≤–∏—Ç–∫—ñ–≤ –Ω–∞ –ª—ñ—Ç–∞–∫:

* Strong: –í–∞—à –∑–≤–∏—á–∞–π–Ω–∏–π –∫–≤–∏—Ç–æ–∫, –≤–∏ —Ç–æ—á–Ω–æ –ø–æ–ª–µ—Ç–∏—Ç–µ.

* Soft: –ö–≤–∏—Ç–æ–∫, –¥—ñ–π—Å–Ω–∏–π –ª–∏—à–µ —è–∫—â–æ —î –≤—ñ–ª—å–Ω—ñ –º—ñ—Å—Ü—è, —ñ —è–∫—â–æ –∞–µ—Ä–æ–ø–æ—Ä—Ç –Ω–µ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π.

* Weak: –ö–≤–∏—Ç–æ–∫, –¥—ñ–π—Å–Ω–∏–π –ª–∏—à–µ —è–∫—â–æ –º—ñ—Å—Ü–µ –≤—Å–µ —â–µ –≤—ñ–ª—å–Ω–µ –±–µ–∑ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è, —ñ –≤—ñ–Ω –∞–Ω—É–ª—é—î—Ç—å—Å—è —è–∫ —Ç—ñ–ª—å–∫–∏ —ñ–Ω—à–∞ –ª—é–¥–∏–Ω–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç—å —Ü–µ –º—ñ—Å—Ü–µ.

* Phantom: –ö–≤–∏—Ç–æ–∫, —è–∫–∏–π –¥–∞—î –≤–∞–º –∑–Ω–∞—Ç–∏, —â–æ –ª—ñ—Ç–∞–∫ –∑–ª–µ—Ç—ñ–≤, –∞–ª–µ –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ —Å—ñ—Å—Ç–∏ –≤ –Ω—å–æ–≥–æ. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–Ω–∞–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —Ä–µ—Å—É—Ä—Å –±—É–≤ "–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π —ñ –≤–∏–¥–∞–ª–µ–Ω–∏–π", –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ—ó —Ä–µ–∞–∫—Ü—ñ—ó –Ω–∞ —Ü–µ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ, –µ–∫—Å–ø–µ—Ä—Ç–Ω–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤, –∑–∞ —è–∫–∏–º–∏ GC –≤–∏–∑–Ω–∞—á–∞—î "–∂–∏–≤—ñ—Å—Ç—å" –æ–±'—î–∫—Ç–∞, —Ç–∞ –∑–Ω–∞–Ω–Ω—è —Ä–æ–∑—à–∏—Ä–µ–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –ø–æ—Å–∏–ª–∞–Ω—å, —è–∫—ñ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –ø—Ä–æ–≥—Ä–∞–º—ñ –≥–Ω—É—á–∫—ñ—à–µ –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ GC –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø–∞–º'—è—Ç—ñ —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å–∞–º–∏.*
