---
layout: default
title: "–°—Ç–∞—Ç–∏—á–Ω—ñ –±–ª–æ–∫–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó (static {})"
parent: "–ê–±—Å—Ç—Ä–∞–∫—Ü—ñ—è —Ç–∞ –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ (–ø–æ–≥–ª–∏–±–ª–µ–Ω–æ)"
grand_parent: "Java Core"
nav_order: 8
---

# –°—Ç–∞—Ç–∏—á–Ω—ñ –±–ª–æ–∫–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó (static {})

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –ë–ª–æ–∫ –∫–æ–¥—É, –ø–æ–∑–Ω–∞—á–µ–Ω–∏–π `static`, —â–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–ª–∞—Å—É JVM. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –ø–æ–ª—ñ–≤ –∞–±–æ —Å–∫–ª–∞–¥–Ω–∏—Ö –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –∫–ª–∞—Å—É.

* –ø–æ–Ω—è—Ç—Ç—è: `static {}`, —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–ª–∞—Å—É.

* –ø—Ä–∏–∫–ª–∞–¥–∏: –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –ø–æ–ª—ñ–≤, –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑, –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –±—É–¥—å-—è–∫–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ –∫–ª–∞—Å—É, –Ω–µ –º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ `this`.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ü–æ—Ä—è–¥–æ–∫ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤ Java.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

–°—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó ‚Äî —Ü–µ –±–ª–æ–∫ –∫–æ–¥—É, –ø–æ–∑–Ω–∞—á–µ–Ω–∏–π **`static`**, —è–∫–∏–π –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è **–æ–¥–∏–Ω —Ä–∞–∑** –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–ª–∞—Å—É JVM. –ô–æ–≥–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å –¥–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –ø–æ–ª—ñ–≤ –∞–±–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å, —è–∫—ñ –Ω–µ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –≤ –¥–µ–∫–ª–∞—Ä–∞—Ü—ñ—ó.

üîó [JLS ¬ß8.7 Static Initializers](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.7)

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

**`static {}`** ‚Äî —Ü–µ —è–∫ —Ç–≤—ñ–π –æ–¥–∏–Ω-—î–¥–∏–Ω–∏–π —Ä–∞–Ω–∫–æ–≤–∏–π —Ä–∏—Ç—É–∞–ª, —â–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É –∫–ª–∞—Å—É: –æ–¥–∏–Ω —Ä–∞–∑, –±–µ–∑ –ø–æ–≤—Ç–æ—Ä—ñ–≤.

---

## **–û—Å–Ω–æ–≤–Ω–µ**

| –û–∑–Ω–∞–∫–∞ | –ó–Ω–∞—á–µ–Ω–Ω—è |
| :---: | :---: |
| **–ö–æ–ª–∏ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è** | –ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–ª–∞—Å—É JVM |
| **–°–∫—ñ–ª—å–∫–∏ —Ä–∞–∑—ñ–≤ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è** | –û–¥–∏–Ω —Ä–∞–∑, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –æ–±‚Äô—î–∫—Ç—ñ–≤ |
| **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è** | –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–∫–ª–∞–¥–Ω–∏—Ö —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –ø–æ–ª—ñ–≤, –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è |
| **–ú–∞—î –¥–æ—Å—Ç—É–ø –¥–æ `static`** | ‚úÖ –¢–∞–∫ |
| **–ú–∞—î –¥–æ—Å—Ç—É–ø –¥–æ `this`** | ‚ùå –ù—ñ ‚Äî –±–æ —Ü–µ –Ω–µ –æ–±'—î–∫—Ç |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

### **–î–ª—è —á–æ–≥–æ —Ü–µ?**

–Ø–∫—â–æ —Ç—Ä–µ–±–∞ –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∫–ª–∞—Å: –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥, –≤—ñ–¥–∫—Ä–∏—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏, –æ–±—á–∏—Å–ª–∏—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö.

üî∏ **–ü–ª—é—Å–∏:**  
–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, –±–µ–∑ –∑–∞–π–≤–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ —ñ –≤–∏–∫–ª–∏–∫—ñ–≤.

üî∏ **–ü—ñ–¥–≤–æ–¥–Ω—ñ –∫–∞–º–µ–Ω—ñ:**  
–ù–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ **`this`**, —Ç–æ–º—É –≤ –±–ª–æ—Ü—ñ –Ω–µ –º–æ–∂–Ω–∞ –∑–≤–µ—Ä—Ç–∞—Ç–∏—Å—è –¥–æ –Ω–µ—Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –ø–æ–ª—ñ–≤ —á–∏ –º–µ—Ç–æ–¥—ñ–≤

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
public class Config {
    public static String CONFIG_PATH;

    static {
        System.out.println("Static block executed");
        CONFIG_PATH = System.getenv("CONFIG_PATH");
        if (CONFIG_PATH == null) {
            CONFIG_PATH = "/default/path/config.yml";
        }
    }

    public static void printPath() {
        System.out.println("Path: " + CONFIG_PATH);
    }
}

public class Main {
    public static void main(String[] args) {
        // –°—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è —Ç—É—Ç -- –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–≤–µ—Ä–Ω–µ–Ω–Ω—ñ –¥–æ Config
        Config.printPath();
    }
}
```

**–í–∏–≤—ñ–¥:**

```java
Static block executed
Path: /default/path/config.yml
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | `static {}` | –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä |
| :---: | :---: | :---: |
| **–ö–æ–ª–∏ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è** | –û–¥–∏–Ω —Ä–∞–∑ ‚Äî –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–ª–∞—Å—É | –ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É ‚Äî –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –æ–±‚Äô—î–∫—Ç–∞ |
| **–î–ª—è –∫–æ–≥–æ** | –î–ª—è –∫–ª–∞—Å—É | –î–ª—è –æ–±‚Äô—î–∫—Ç–∞ |
| **–ú–∞—î –¥–æ—Å—Ç—É–ø –¥–æ `this`** | ‚ùå –ù—ñ | ‚úÖ –¢–∞–∫ |
| **–ß–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è** | –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó static –ø–æ–ª—ñ–≤ | –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å—Ç–∞–Ω—É –æ–±‚Äô—î–∫—Ç–∞ |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

üìå **"static {} ‚Äî –æ–¥–∏–Ω —Ä–∞–∑ —ñ –Ω–∞–∑–∞–≤–∂–¥–∏"**

* **`static`** ‚Äî –Ω–∞–ª–µ–∂–∏—Ç—å –∫–ª–∞—Å—É
* **`{}`** ‚Äî –±–ª–æ–∫ –∫–æ–¥—É
* –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑, —è–∫ —ñ —Ç–≤—ñ–π –Ω–∞–π—É–ª—é–±–ª–µ–Ω—ñ—à–∏–π —Ä–∞–Ω–∫–æ–≤–∏–π —Ä–∏—Ç—É–∞–ª ‚òïÔ∏è

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

**`static {}`** ‚Äî —Ü–µ –∑—Ä—É—á–Ω–∏–π –±–ª–æ–∫ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó, —â–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–ª–∞—Å—É. –Ü–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Å–∫–ª–∞–¥–Ω–æ—ó —ñ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ—ó —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –ø–æ–ª—ñ–≤ –∞–±–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –∫–ª–∞—Å—É. –¶–µ–π –±–ª–æ–∫ ‚Äî –Ω–∞—á–µ –º–∞–π—Å—Ç–µ—Ä-–ø–µ—Ä–µ–º–∏–∫–∞—á, —è–∫–∏–π –≥–æ—Ç—É—î –∫–ª–∞—Å –¥–æ —Ä–æ–±–æ—Ç–∏, –ø–æ–∫–∏ –≤—Å—ñ —ñ–Ω—à—ñ —â–µ –ø—Ä–æ–∫–∏–¥–∞—é—Ç—å—Å—è.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

**üîó [Oracle Java Tutorial: Static Initializers](https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html)**

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ —Å—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó (`static {}`) —ñ —è–∫–∞ –π–æ–≥–æ –≥–æ–ª–æ–≤–Ω–∞ –º–µ—Ç–∞?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–°—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó** ‚Äî —Ü–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –±–ª–æ–∫ –∫–æ–¥—É –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–ª–∞—Å—É, –ø–æ–∑–Ω–∞—á–µ–Ω–∏–π –∫–ª—é—á–æ–≤–∏–º —Å–ª–æ–≤–æ–º `static`, —è–∫–∏–π –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è **–æ–¥–∏–Ω —Ä–∞–∑**, –∫–æ–ª–∏ –∫–ª–∞—Å **–≤–ø–µ—Ä—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è** Java Virtual Machine (JVM).
>
> **–ì–æ–ª–æ–≤–Ω–∞ –º–µ—Ç–∞:**
> –í–∏–∫–æ–Ω–∞—Ç–∏ **—Å–∫–ª–∞–¥–Ω—É, –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—É —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é** —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –ø–æ–ª—ñ–≤ –∫–ª–∞—Å—É. –¶–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ, –∫–æ–ª–∏ –ø—Ä–æ—Å—Ç–µ –ø—Ä–∏—Å–≤–æ—î–Ω–Ω—è –ø—Ä–∏ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—ñ –ø–æ–ª—è —î –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—ñ–º.
>
> **–¢–∏–ø–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
>
> * –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Map` –∞–±–æ `Set`).
> * –û–±—á–∏—Å–ª–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω—å –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç, —â–æ –≤–∏–º–∞–≥–∞—î –∫—ñ–ª—å–∫–æ—Ö –∫—Ä–æ–∫—ñ–≤.
> * –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ –∞–±–æ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞.
> * –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞—Ç–∏–≤–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫ (`System.loadLibrary()`).
> * –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –¥—Ä–∞–π–≤–µ—Ä—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, JDBC).
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public class Constants {
>     public static final Map<String, Integer> MONTHS;
>
>     static {
>         MONTHS = new HashMap<>();
>         MONTHS.put("JANUARY", 1);
>         MONTHS.put("FEBRUARY", 2);
>         // ...
>     }
> }
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ë–∞–∑–æ–≤–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —Å—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ ‚Äî —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ—ó, —Å–∫–ª–∞–¥–Ω–æ—ó —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–ª–∞—Å—É.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ö–æ–ª–∏ —Å–∞–º–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —Å—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –°—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è **—Ä—ñ–≤–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑** ‚Äî —É –º–æ–º–µ–Ω—Ç **—ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫–ª–∞—Å—É** JVM.
>
> **–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–ª–∞—Å—É** –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è **–ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∞–∫—Ç–∏–≤–Ω–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ** —Ü—å–æ–≥–æ –∫–ª–∞—Å—É. –ê–∫—Ç–∏–≤–Ω–∏–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –≤–≤–∞–∂–∞—î—Ç—å—Å—è:
>
> 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—É (`new MyClass()`).
> 2. –í–∏–∫–ª–∏–∫ –π–æ–≥–æ **—Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É**.
> 3. –ó–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ –π–æ–≥–æ **—Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –ø–æ–ª—è** (—á–∏—Ç–∞–Ω–Ω—è –∞–±–æ –∑–∞–ø–∏—Å), —è–∫—â–æ –≤–æ–Ω–æ –Ω–µ —î –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ—é —á–∞—Å—É –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó.
> 4. –Ø–∫—â–æ —Ü–µ–π –∫–ª–∞—Å —î —Å—Ç–∞—Ä—Ç–æ–≤–∏–º –∫–ª–∞—Å–æ–º –ø—Ä–æ–≥—Ä–∞–º–∏ (–º–∞—î –º–µ—Ç–æ–¥ `main`).
> 5. –ß–µ—Ä–µ–∑ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é, —è–∫—â–æ —Ü–µ —è–≤–Ω–æ –≤–∏–º–∞–≥–∞—î—Ç—å—Å—è.
>
> **–í–∞–∂–ª–∏–≤–æ:** –ø—Ä–æ—Å—Ç–µ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–æ—ó —Ç–∏–ø—É –∫–ª–∞—Å—É (`MyClass obj;`) –Ω–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –π–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —á–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> class MyClass {
>     static { System.out.println("MyClass initialized!"); }
> }
> // ...
> System.out.println("–î–æ");
> MyClass obj; // –Ω—ñ—á–æ–≥–æ –Ω–µ –≤–∏–≤–µ–¥–µ
> System.out.println("–°–µ—Ä–µ–¥–∏–Ω–∞");
> obj = new MyClass(); // —Ç—É—Ç –≤–∏–≤–µ–¥–µ—Ç—å—Å—è "MyClass initialized!"
> System.out.println("–ü—ñ—Å–ª—è");
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É –∫–ª–∞—Å—É –≤ JVM —Ç–∞ —Ç—Ä–∏–≥–µ—Ä—ñ–≤, —â–æ –∑–∞–ø—É—Å–∫–∞—é—Ç—å –π–æ–≥–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —è–∫–æ–º—É –ø–æ—Ä—è–¥–∫—É –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è —Å—Ç–∞—Ç–∏—á–Ω—ñ –±–ª–æ–∫–∏, –±–ª–æ–∫–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ —Ç–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ü–æ—Ä—è–¥–æ–∫ —î —á—ñ—Ç–∫–æ –≤–∏–∑–Ω–∞—á–µ–Ω–∏–º —ñ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —É –¥–≤–∞ –µ—Ç–∞–ø–∏:
>
> **–ï—Ç–∞–ø 1: –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–ª–∞—Å—É (–æ–¥–∏–Ω —Ä–∞–∑)**
>
> 1. **–°–ø–æ—á–∞—Ç–∫—É –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –≤—Å—ñ —Å—Ç–∞—Ç–∏—á–Ω—ñ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ç–æ—Ä–∏** (–ø–æ–ª—è —Ç–∞ `static {}` –±–ª–æ–∫–∏) –≤ —Ç–æ–º—É –ø–æ—Ä—è–¥–∫—É, –≤ —è–∫–æ–º—É –≤–æ–Ω–∏ –Ω–∞–ø–∏—Å–∞–Ω—ñ –≤ –∫–æ–¥—ñ. –¶–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ª–∏—à–µ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–ª–∞—Å—É.
>
> **–ï—Ç–∞–ø 2: –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ (–ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É `new`)**
> 2.  **–ü–æ—Ç—ñ–º –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –≤—Å—ñ –Ω–µ-—Å—Ç–∞—Ç–∏—á–Ω—ñ (instance) —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ç–æ—Ä–∏** (–ø–æ–ª—è —Ç–∞ –±–ª–æ–∫–∏ `{}`) —É –ø–æ—Ä—è–¥–∫—É —ó—Ö –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è.
> 3.  **–í –æ—Å—Ç–∞–Ω–Ω—é —á–µ—Ä–≥—É –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä**.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> class Test {
>     static { System.out.println("Static block"); }
>     { System.out.println("Instance block"); }
>     Test() { System.out.println("Constructor"); }
> }
> new Test();
> new Test();
> ```
>
> **–í–∏–≤—ñ–¥:**
>
> ```
>
> Static block
> Instance block
> Constructor
> Instance block
> Constructor
>
> ```
>
> –°—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ –≤–∏–∫–æ–Ω–∞–≤_—Å—è_ –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î—É–∂–µ –¥–µ—Ç–∞–ª—å–Ω–µ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤. –¶–µ –æ–¥–Ω–µ –∑ –∫–ª–∞—Å–∏—á–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —Å—Ç–∞—Ç–∏—á–Ω—ñ –±–ª–æ–∫–∏ –ø—Ä–∞—Ü—é—é—Ç—å –≤ —ñ—î—Ä–∞—Ä—Ö—ñ—ó –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è? –©–æ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è —Ä–∞–Ω—ñ—à–µ: —Å—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ –±–∞—Ç—å–∫–∞ —á–∏ –Ω–∞—â–∞–¥–∫–∞?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í —ñ—î—Ä–∞—Ä—Ö—ñ—ó –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è **"–∑–≥–æ—Ä–∏ –≤–Ω–∏–∑"** ‚Äî –≤—ñ–¥ –Ω–∞–π–≤–∏—â–æ–≥–æ —Å—É–ø–µ—Ä–∫–ª–∞—Å—É –¥–æ —Å–∞–º–æ–≥–æ –¥–æ—á—ñ—Ä–Ω—å–æ–≥–æ –∫–ª–∞—Å—É.
>
> **–ü—Ä–∞–≤–∏–ª–æ:**
> –ü–µ—Ä–µ–¥ —Ç–∏–º, —è–∫ –∫–ª–∞—Å –º–æ–∂–µ –±—É—Ç–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ, **–ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –π–æ–≥–æ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π –∫–ª–∞—Å**.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> class Parent {
>     static { System.out.println("Parent static block"); }
> }
>
> class Child extends Parent {
>     static { System.out.println("Child static block"); }
> }
>
> public class Main {
>     public static void main(String[] args) {
>         new Child();
>     }
> }
> ```
>
> **–í–∏–≤—ñ–¥:**
>
> ```
> Parent static block
> Child static block
> ```
>
> –ö–æ–ª–∏ JVM –ø–æ—Ç—Ä—ñ–±–Ω–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `Child`, –≤–æ–Ω–∞ –±–∞—á–∏—Ç—å, —â–æ –π–æ–≥–æ –±–∞—Ç—å–∫–æ `Parent` —â–µ –Ω–µ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π. –¢–æ–º—É –≤–æ–Ω–∞ —Å–ø–æ—á–∞—Ç–∫—É —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î `Parent` (–≤–∏–∫–æ–Ω—É—î –π–æ–≥–æ —Å—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫), —ñ –ª–∏—à–µ –ø—ñ—Å–ª—è —Ü—å–æ–≥–æ ‚Äî `Child`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –ª–∞–Ω—Ü—é–∂–∫–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤ —ñ—î—Ä–∞—Ä—Ö–∞—Ç—ñ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–µ —Å—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ –∫–∏–Ω—É—Ç–∏ –≤–∏–Ω—è—Ç–æ–∫? –Ø–∫—â–æ —Ç–∞–∫, —Ç–æ —â–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, –º–æ–∂–µ.**
>
> –Ø–∫—â–æ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –±–ª–æ–∫—É –≤–∏–Ω–∏–∫–∞—î **–Ω–µ–ø–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–∏–π –≤–∏–Ω—è—Ç–æ–∫**, –ø—Ä–æ—Ü–µ—Å —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫–ª–∞—Å—É **–∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è –∞–≤–∞—Ä—ñ–π–Ω–æ**.
>
> JVM –ø–µ—Ä–µ—Ö–æ–ø–ª—é—î —Ü–µ–π –≤–∏–Ω—è—Ç–æ–∫ —ñ "–∑–∞–≥–æ—Ä—Ç–∞—î" –π–æ–≥–æ –≤ **`ExceptionInInitializerError`**.
>
> **–ù–∞—Å–ª—ñ–¥–∫–∏ —î —Ñ–∞—Ç–∞–ª—å–Ω–∏–º–∏ –¥–ª—è –∫–ª–∞—Å—É:**
>
> 1. –ö–ª–∞—Å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å —É **"–∑–ª–∞–º–∞–Ω–∏–π" (uninitialized) —Å—Ç–∞–Ω**.
> 2. –ë—É–¥—å-—è–∫–∞ –Ω–∞—Å—Ç—É–ø–Ω–∞ —Å–ø—Ä–æ–±–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ü–µ–π –∫–ª–∞—Å (—Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–±'—î–∫—Ç, –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω–∏–π –º–µ—Ç–æ–¥) –±—É–¥–µ –Ω–µ–≥–∞–π–Ω–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç–∏ –¥–æ **`NoClassDefFoundError`**. –ü–æ–≤—Ç–æ—Ä–Ω–æ—ó —Å–ø—Ä–æ–±–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –Ω–µ –±—É–¥–µ.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public class BadInit {
>     static {
>         if (true) {
>             throw new RuntimeException("–ü–æ–º–∏–ª–∫–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó!");
>         }
>     }
> }
>
> try { new BadInit(); } catch (Throwable t) { t.printStackTrace(); } // -> ExceptionInInitializerError
> try { new BadInit(); } catch (Throwable t) { t.printStackTrace(); } // -> NoClassDefFoundError
> ```
>
> –¢–æ–º—É –±—É–¥—å-—è–∫–∞ –ª–æ–≥—ñ–∫–∞ –≤ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –±–ª–æ–∫–∞—Ö –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –Ω–∞–¥—ñ–π–Ω–æ—é –∞–±–æ –º–∞—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω—É –æ–±—Ä–æ–±–∫—É –≤–∏–Ω—è—Ç–∫—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è–º `checked` –≤ `ExceptionInInitializerError`).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫ –Ω–∞ —Ä—ñ–≤–Ω—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–ª–∞—Å—ñ–≤ —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –Ω–∞—Å–ª—ñ–¥–∫—ñ–≤ `ExceptionInInitializerError`.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É —Ü–µ–π –∫–æ–¥ –Ω–µ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è? `static { int x = value; } int value = 10;` ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ–π –∫–æ–¥ –Ω–µ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ **–Ω–µ–∑–∞–∫–æ–Ω–Ω–µ –ø—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è (illegal forward reference)**.
>
> **–ü—Ä–∞–≤–∏–ª–æ:**
> –°—Ç–∞—Ç–∏—á–Ω—ñ —á–ª–µ–Ω–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—é—Ç—å—Å—è –≤ —Ç–æ–º—É –ø–æ—Ä—è–¥–∫—É, –≤ —è–∫–æ–º—É –≤–æ–Ω–∏ –æ–≥–æ–ª–æ—à–µ–Ω—ñ –≤ –∫–ª–∞—Å—ñ. –í–∏ **–Ω–µ –º–æ–∂–µ—Ç–µ –∑–≤–µ—Ä—Ç–∞—Ç–∏—Å—è –¥–æ —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –ø–æ–ª—è –Ω–∞–ø—Ä—è–º—É** —É —Å—Ç–∞—Ç–∏—á–Ω–æ–º—É –±–ª–æ—Ü—ñ, —è–∫–∏–π —Å—Ç–æ—ó—Ç—å **–ø–µ—Ä–µ–¥** –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è–º —Ü—å–æ–≥–æ –ø–æ–ª—è.
>
> –£ –¥–∞–Ω–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ:
>
> 1. –°–ø–æ—á–∞—Ç–∫—É –π–¥–µ —Å—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ `static { int x = value; }`.
> 2. –ù–∞ —Ü–µ–π –º–æ–º–µ–Ω—Ç JVM –ø–æ—á–∏–Ω–∞—î –æ–±—Ä–æ–±–ª—è—Ç–∏ —Ü–µ–π –±–ª–æ–∫, –∞–ª–µ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è `int value = 10;` —â–µ –Ω–µ –±—É–ª–æ –≤–∏–∫–æ–Ω–∞–Ω–æ.
> 3. –°–ø—Ä–æ–±–∞ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ `value` —î **"–∑–∞–±—ñ–≥–∞–Ω–Ω—è–º –Ω–∞–ø–µ—Ä–µ–¥"**.
>
> –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –≤–∏—è–≤–ª—è—î —Ü—é –ø—Ä–æ–±–ª–µ–º—É —ñ –≤–∏–¥–∞—î –ø–æ–º–∏–ª–∫—É.
>
> **–Ø–∫ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏:**
> –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–æ—Å—Ç–æ –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ ‚Äî —Å–ø–æ—á–∞—Ç–∫—É –æ–≥–æ–ª–æ—Å–∏—Ç–∏ –ø–æ–ª–µ, –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ.
>
> ```java
> static int value = 10;
> static { int x = value; } // –¢–µ–ø–µ—Ä –≤—Å–µ –¥–æ–±—Ä–µ
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫—ñ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ —Å—Ç—Ä–æ–≥—ñ –ø—Ä–∞–≤–∏–ª–∞ –ø–æ—Ä—è–¥–∫—É —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤ Java.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–µ —Å—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –Ω–µ-—Å—Ç–∞—Ç–∏—á–Ω–∏—Ö (instance) –ø–æ–ª—ñ–≤ –∫–ª–∞—Å—É? –ß–æ–º—É? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ù—ñ, –Ω–µ –º–æ–∂–µ.** –¶–µ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ **–ø–æ–º–∏–ª–∫–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó**.
>
> **–ü—Ä–∏—á–∏–Ω–∞:**
>
> * –°—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –≤ **–∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –∫–ª–∞—Å—É**. –í—ñ–Ω –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–ª–∞—Å—É, –∫–æ–ª–∏ —â–µ **–Ω–µ —ñ—Å–Ω—É—î –∂–æ–¥–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ (–æ–±'—î–∫—Ç–∞)** —Ü—å–æ–≥–æ –∫–ª–∞—Å—É.
> * –ù–µ-—Å—Ç–∞—Ç–∏—á–Ω—ñ –ø–æ–ª—è –Ω–∞–ª–µ–∂–∞—Ç—å **–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –µ–∫–∑–µ–º–ø–ª—è—Ä—É**. –í–æ–Ω–∏ —ñ—Å–Ω—É—é—Ç—å, —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–∏ –æ–±'—î–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ.
>
> –û—Å–∫—ñ–ª—å–∫–∏ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –±–ª–æ–∫—É –Ω–µ —ñ—Å–Ω—É—î –æ–±'—î–∫—Ç–∞, —Ç–æ –Ω–µ–º–∞—î —ñ –π–æ–≥–æ –Ω–µ-—Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –ø–æ–ª—ñ–≤, –¥–æ —è–∫–∏—Ö –º–æ–∂–Ω–∞ –±—É–ª–æ –± –∑–≤–µ—Ä–Ω—É—Ç–∏—Å—è. –í —Å—Ç–∞—Ç–∏—á–Ω–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ —Ç–∞–∫–æ–∂ **–Ω–µ–º–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è `this`**.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `static` –±–ª–æ–∫ –º–æ–∂–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –ª–∏—à–µ –∑ —ñ–Ω—à–∏–º–∏ **`static` —á–ª–µ–Ω–∞–º–∏** –∫–ª–∞—Å—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ `static` —Ç–∞ `instance` –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏ —Ç–∞ —ó—Ö–Ω—ñ–º–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥, –¥–µ —Å—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞—Ç–∏–≤–Ω–æ—ó –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –°—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ —î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–∏–º –º—ñ—Å—Ü–µ–º –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞—Ç–∏–≤–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫ (`.dll` –Ω–∞ Windows, `.so` –Ω–∞ Linux) –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–µ—Ç–æ–¥—É `System.loadLibrary()`.
>
> **–ß–æ–º—É —Å–∞–º–µ —Ç—É—Ç:**
>
> * –ë—ñ–±–ª—ñ–æ—Ç–µ–∫—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ **–ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑** –Ω–∞ –≤—Å—é JVM.
> * –¶–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏ **–¥–æ –ø–µ—Ä—à–æ–≥–æ –≤–∏–∫–ª–∏–∫—É** –±—É–¥—å-—è–∫–æ–≥–æ `native` –º–µ—Ç–æ–¥—É.
>
> –°—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ —ñ–¥–µ–∞–ª—å–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Ü–∏–º –≤–∏–º–æ–≥–∞–º, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–ª–∞—Å—É.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public class JniWrapper {
>
>     // –°—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
>     static {
>         try {
>             // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É "my_native_lib.so" –∞–±–æ "my_native_lib.dll"
>             System.loadLibrary("my_native_lib");
>             System.out.println("–ù–∞—Ç–∏–≤–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞.");
>         } catch (UnsatisfiedLinkError e) {
>             System.err.println("–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –Ω–∞—Ç–∏–≤–Ω—É –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É.\n" + e);
>             // –ß–∞—Å—Ç–æ —Ç—É—Ç –ø—Ä–æ–≥—Ä–∞–º—É –∑–∞–≤–µ—Ä—à—É—é—Ç—å, –±–æ –±–µ–∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –≤–æ–Ω–∞ –Ω–µ –º–æ–∂–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏
>             System.exit(1);
>         }
>     }
>
>     // –û–≥–æ–ª–æ—à–µ–Ω–Ω—è –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É, —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —è–∫–æ–≥–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ
>     public native void nativeMethod();
> }
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ Java Native Interface (JNI) —Ç–∞ —Ç–µ, —è–∫ `static` –±–ª–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ –Ω–∞—Ç–∏–≤–Ω–∏–º –∫–æ–¥–æ–º.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –ø–æ—Ä—è–¥–æ–∫ –¥–æ—Å—Ç—É–ø—É –¥–æ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –ø–æ–ª—ñ–≤ –º–æ–∂–µ –≤–ø–ª–∏–Ω—É—Ç–∏ –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –±–ª–æ–∫—ñ–≤ —É —Ä—ñ–∑–Ω–∏—Ö –∫–ª–∞—Å–∞—Ö? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ü–æ—Ä—è–¥–æ–∫ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫–ª–∞—Å—ñ–≤ —î **–ª—ñ–Ω–∏–≤–∏–º** —ñ –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è —Ç–∏–º, **–∫–æ–ª–∏ –¥–æ –Ω–∏—Ö –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø–µ—Ä—à–µ –∞–∫—Ç–∏–≤–Ω–µ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è**. –ü–æ—Ä—è–¥–æ–∫ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –ø–æ–ª—ñ–≤ –º–æ–∂–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –±–ª–æ–∫—ñ–≤.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> class A {
>     static { System.out.println("Static A"); }
> }
> class B {
>     static { System.out.println("Static B"); }
> }
>
> // –°—Ü–µ–Ω–∞—Ä—ñ–π 1
> public static void main(String[] args) {
>     new A();
>     new B();
> }
> // –í–∏–≤—ñ–¥ 1: Static A, Static B
>
> // –°—Ü–µ–Ω–∞—Ä—ñ–π 2
> public static void main(String[] args) {
>     new B();
>     new A();
> }
> // –í–∏–≤—ñ–¥ 2: Static B, Static A
> ```
>
> **–°–∫–ª–∞–¥–Ω—ñ—à–∏–π –≤–∏–ø–∞–¥–æ–∫ —ñ–∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏:**
>
> ```java
> class A {
>     static { System.out.println("A init"); }
> }
> class B {
>     public static final int VALUE = A.hashCode(); // –ó–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ –∫–ª–∞—Å—É A
>     static { System.out.println("B init"); }
> }
>
> // main: new B();
> ```
>
> **–í–∏–≤—ñ–¥ –±—É–¥–µ:**
>
> ```
>
> A init
> B init
>
> ```
>
> –û—Å–∫—ñ–ª—å–∫–∏ –¥–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó `B.VALUE` –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ `A`, –∫–ª–∞—Å `A` –±—É–¥–µ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π **–ø–µ—Ä—à–∏–º**, —Ö–æ—á–∞ –≤ `main` –º–∏ –∑–≤–µ—Ä—Ç–∞—î–º–æ—Å—å –ª–∏—à–µ –¥–æ `B`.
> –¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —è–∫ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º—ñ–∂ —Å—Ç–∞—Ç–∏—á–Ω–∏–º–∏ —á–ª–µ–Ω–∞–º–∏ –≤–∏–∑–Ω–∞—á–∞—é—Ç—å –ø–æ—Ä—è–¥–æ–∫ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–ª–∞—Å—ñ–≤ —î –¥–∏–Ω–∞–º—ñ—á–Ω–∏–º –ø—Ä–æ—Ü–µ—Å–æ–º, –∫–µ—Ä–æ–≤–∞–Ω–∏–º –ø–æ—Ç–æ–∫–æ–º –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏–º `static` –±–ª–æ–∫ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ –±–ª–æ–∫—É —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ (`{}`)? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í–æ–Ω–∏ —Å—Ö–æ–∂—ñ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–æ, –∞–ª–µ –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è –∑–∞ —Å–≤–æ—ó–º –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è–º —Ç–∞ –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º.
>
> | –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | –°—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ (`static {}`) | –ë–ª–æ–∫ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ (`{}`) |
> | :---: | :---: | :---: |
> | **–ö–æ–ª–∏ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è**| **–û–¥–∏–Ω —Ä–∞–∑**, –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–ª–∞—Å—É. | **–ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É**, –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –Ω–æ–≤–æ–≥–æ –æ–±'—î–∫—Ç–∞. |
>
| **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è** | –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è **`static` –ø–æ–ª—ñ–≤**. | –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è **–ø–æ–ª—ñ–≤ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞**. |
> | **–ö–æ–Ω—Ç–µ–∫—Å—Ç** | **–°—Ç–∞—Ç–∏—á–Ω–∏–π**. –ù–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ `this`. | **–ï–∫–∑–µ–º–ø–ª—è—Ä–∞**. –Ñ –¥–æ—Å—Ç—É–ø –¥–æ `this`. |
| **–ü–æ—Ä—è–¥–æ–∫** | –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è **–¥–æ** —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –±—É–¥—å-—è–∫–æ–≥–æ –æ–±'—î–∫—Ç–∞.| –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è **–ø—ñ—Å–ª—è** –≤–∏–∫–ª–∏–∫—É `super()`, –∞–ª–µ **–¥–æ** –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞. |
>
> –ü–æ —Å—É—Ç—ñ, `static` –±–ª–æ–∫ ‚Äî —Ü–µ "–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –∫–ª–∞—Å—É", –∞ –±–ª–æ–∫ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ ‚Äî —Ü–µ —Å–ø—ñ–ª—å–Ω–∏–π –∫–æ–¥, —è–∫–∏–π –±—É–¥–µ –Ω–µ—è–≤–Ω–æ —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫ –∫–æ–∂–Ω–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞. –ù–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ –±–ª–æ–∫ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥—É–∂–µ —Ä—ñ–¥–∫–æ, –æ—Å–∫—ñ–ª—å–∫–∏ —Ç—É —Å–∞–º—É –ª–æ–≥—ñ–∫—É –∑–∞–∑–≤–∏—á–∞–π –∫—Ä–∞—â–µ —Ä–æ–∑–º—ñ—Å—Ç–∏—Ç–∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö –∞–±–æ –º–µ—Ç–æ–¥–∞—Ö.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ß—ñ—Ç–∫–µ —Ä–æ–∑–º–µ–∂—É–≤–∞–Ω–Ω—è –¥–≤–æ—Ö —Ç–∏–ø—ñ–≤ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ–π–Ω–∏—Ö –±–ª–æ–∫—ñ–≤.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–µ –∫–ª–∞—Å –º–∞—Ç–∏ –¥–µ–∫—ñ–ª—å–∫–∞ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –±–ª–æ–∫—ñ–≤? –Ø–∫—â–æ —Ç–∞–∫, —â–æ —Ü–µ –æ–∑–Ω–∞—á–∞—î? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, –º–æ–∂–µ.** –ö–ª–∞—Å –º–æ–∂–µ –º–∞—Ç–∏ –±—É–¥—å-—è–∫—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –±–ª–æ–∫—ñ–≤.
>
> **–©–æ —Ü–µ –æ–∑–Ω–∞—á–∞—î:**
>
> * –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä —Ç–∞ JVM —Ä–æ–∑–≥–ª—è–¥–∞—é—Ç—å —ó—Ö —è–∫ **—î–¥–∏–Ω–∏–π –ª–æ–≥—ñ—á–Ω–∏–π –±–ª–æ–∫**.
> * –í–æ–Ω–∏ –±—É–¥—É—Ç—å –≤–∏–∫–æ–Ω–∞–Ω—ñ **–≤ —Ç–æ–º—É –ø–æ—Ä—è–¥–∫—É, –≤ —è–∫–æ–º—É –≤–æ–Ω–∏ –æ–≥–æ–ª–æ—à–µ–Ω—ñ** —É –≤–∏—Ö—ñ–¥–Ω–æ–º—É –∫–æ–¥—ñ, –∑–≤–µ—Ä—Ö—É –≤–Ω–∏–∑.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public class MultipleStaticBlocks {
>     static { System.out.println("First"); }
>     public static int a = 1;
>     static { System.out.println("Second, a = " + a); }
>     public static int b = 2;
>     static { System.out.println("Third, b = " + b); }
> }
> ```
>
> **–í–∏–≤—ñ–¥ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–ª–∞—Å—É:**
>
> ```
>
> First
> Second, a = 1
> Third, b = 2
>
> ```
>
> –•–æ—á–∞ —Ü–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–æ –º–æ–∂–ª–∏–≤–æ, –∑–∞–∑–≤–∏—á–∞–π **–∫—Ä–∞—â–æ—é –ø—Ä–∞–∫—Ç–∏–∫–æ—é —î –æ–±'—î–¥–Ω–∞–Ω–Ω—è** –≤—Å—ñ—î—ó —Å—Ç–∞—Ç–∏—á–Ω–æ—ó –ª–æ–≥—ñ–∫–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤ –æ–¥–∏–Ω –±–ª–æ–∫ –¥–ª—è –∫—Ä–∞—â–æ—ó —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ. –î–µ–∫—ñ–ª—å–∫–∞ –±–ª–æ–∫—ñ–≤ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–ø—Ä–∞–≤–¥–∞–Ω—ñ, —è–∫—â–æ –≤–æ–Ω–∏ –ª–æ–≥—ñ—á–Ω–æ —Ä–æ–∑–¥—ñ–ª—è—é—Ç—å —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é —Ä—ñ–∑–Ω–∏—Ö –≥—Ä—É–ø —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –ø–æ–ª—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –¥–µ–∫—ñ–ª—å–∫–∞ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –±–ª–æ–∫—ñ–≤ —î –≤–∞–ª—ñ–¥–Ω–∏–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º, —Ç–∞ –ø—Ä–∞–≤–∏–ª —ó—Ö–Ω—å–æ–≥–æ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ **—Ü–∏–∫–ª—ñ—á–Ω–∞ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –ø—Ä–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫–ª–∞—Å—ñ–≤**, —ñ —è–∫ —Å—Ç–∞—Ç–∏—á–Ω—ñ –±–ª–æ–∫–∏ –º–æ–∂—É—Ç—å –¥–æ –Ω–µ—ó –ø—Ä–∏–∑–≤–µ—Å—Ç–∏? ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¶–∏–∫–ª—ñ—á–Ω–∞ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å (Circular dependency)** –≤–∏–Ω–∏–∫–∞—î, –∫–æ–ª–∏ –¥–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫–ª–∞—Å—É `A` –ø–æ—Ç—Ä—ñ–±–Ω–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–ª–∞—Å `B`, –∞ –¥–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫–ª–∞—Å—É `B`, —É —Å–≤–æ—é —á–µ—Ä–≥—É, –ø–æ—Ç—Ä—ñ–±–Ω–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–ª–∞—Å `A`.
>
> –¶–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ **"–∑–∞–≤–∏—Å–∞–Ω–Ω—è" (deadlock)** –∞–±–æ –¥–æ —Ç–æ–≥–æ, —â–æ –æ–¥–∏–Ω –∑ –∫–ª–∞—Å—ñ–≤ –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –≤ **–Ω–µ –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–º—É —Å—Ç–∞–Ω—ñ**.
>
> **–Ø–∫ —Å—Ç–∞—Ç–∏—á–Ω—ñ –±–ª–æ–∫–∏ –º–æ–∂—É—Ç—å —Ü–µ —Å–ø—Ä–∏—á–∏–Ω–∏—Ç–∏:**
>
> ```java
> public class A {
>     // –ó–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ B, —â–æ —Ç—Ä–∏–≥–µ—Ä–∏—Ç—å –π–æ–≥–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é
>     public static final B B_INSTANCE = new B();
>     static { System.out.println("A initialized"); }
> }
>
> public class B {
>     // –ó–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ A, —â–æ —Ç—Ä–∏–≥–µ—Ä–∏—Ç—å –π–æ–≥–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é
>     public static final A A_INSTANCE = new A();
>     static { System.out.println("B initialized"); }
> }
> ```
>
> **–°—Ü–µ–Ω–∞—Ä—ñ–π, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –ø—Ä–æ–±–ª–µ–º–∏:**
>
> 1. –í `main` –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `new A()`.
> 2. –ü–æ—á–∏–Ω–∞—î—Ç—å—Å—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è `A`.
> 3. –°—Ç–∞—Ç–∏—á–Ω–∏–π —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ç–æ—Ä `A` –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ `new B()`.
> 4. –ü–æ—á–∏–Ω–∞—î—Ç—å—Å—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è `B`. JVM –±–∞—á–∏—Ç—å, —â–æ –∫–ª–∞—Å `A` –≤–∂–µ **–≤ –ø—Ä–æ—Ü–µ—Å—ñ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó** –ø–æ—Ç–æ—á–Ω–∏–º –ø–æ—Ç–æ–∫–æ–º, —ñ "—á–µ–∫–∞—î" –Ω–∞ –π–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è, –∞–ª–µ...
> 5. –°—Ç–∞—Ç–∏—á–Ω–∏–π —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ç–æ—Ä `B` –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ `new A()`.
> 6. –¢—É—Ç —ñ –≤–∏–Ω–∏–∫–∞—î –ø—Ä–æ–±–ª–µ–º–∞. –ó–∞–∑–≤–∏—á–∞–π, —Ü–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ `StackOverflowError`, —è–∫—â–æ —Ä–µ–∫—É—Ä—Å—ñ—è –ø—Ä–æ—Å—Ç–∞, –∞–±–æ –¥–æ —Ç–æ–Ω–∫–æ–≥–æ `deadlock`-—É —É —Å–∫–ª–∞–¥–Ω—ñ—à–∏—Ö –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö. JVM –º–æ–∂–µ "–∑–∞–≤–∏—Å–Ω—É—Ç–∏" –∞–±–æ –∫–∏–Ω—É—Ç–∏ `ExceptionInInitializerError`.
>
> –¶–µ —î —Å–µ—Ä–π–æ–∑–Ω–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–æ—é –ø—Ä–æ–±–ª–µ–º–æ—é, —è–∫–æ—ó —Å–ª—ñ–¥ —É–Ω–∏–∫–∞—Ç–∏, –ø—Ä–æ–µ–∫—Ç—É—é—á–∏ –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º, —â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø—Ä–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫–ª–∞—Å—ñ–≤. –ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º—ñ–∂ –∫–ª–∞—Å–∞–º–∏.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —á–æ–º—É —Å—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —î –∫—Ä–∞—â–∏–º –º—ñ—Å—Ü–µ–º –¥–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó JDBC-–¥—Ä–∞–π–≤–µ—Ä–∞ (`Class.forName("...")`) –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ —ñ–Ω—à–∏–º–∏ –º—ñ—Å—Ü—è–º–∏. ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ü—Å—Ç–æ—Ä–∏—á–Ω–æ (–¥–æ JDBC 4.0), —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è JDBC-–¥—Ä–∞–π–≤–µ—Ä–∞ –≤–∏–º–∞–≥–∞–ª–∞ —è–≤–Ω–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –π–æ–≥–æ –∫–ª–∞—Å—É –≤ JVM. –î–ª—è —Ü—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ `Class.forName("com.mysql.cj.jdbc.Driver")`.
>
> **–°—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Ü—å–æ–≥–æ –∑ –∫—ñ–ª—å–∫–æ—Ö –ø—Ä–∏—á–∏–Ω:**
>
> 1. **–ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–µ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** –î—Ä–∞–π–≤–µ—Ä –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ –≤ `DriverManager` **–ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑** –Ω–∞ –≤—Å—é –ø—Ä–æ–≥—Ä–∞–º—É. –°—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ —Ü–µ–π –∫–æ–¥ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è —Ä—ñ–≤–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–≤–µ—Ä–Ω–µ–Ω–Ω—ñ –¥–æ –∫–ª–∞—Å—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–ª–∞—Å—É-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é, —â–æ –ø—Ä–∞—Ü—é—î –∑ –ë–î).
>
> 2. **–í–∏–∫–æ–Ω–∞–Ω–Ω—è –≤ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –º–æ–º–µ–Ω—Ç:** –ö–æ–¥ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è "–ª—ñ–Ω–∏–≤–æ", —Å–∞–º–µ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–∞ –ø–æ—á–Ω–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö, –∞ –Ω–µ –æ–¥—Ä–∞–∑—É –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ –≤—Å—å–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É.
>
> 3. **–û–±—Ä–æ–±–∫–∞ –≤–∏–Ω—è—Ç–∫—ñ–≤:** `Class.forName()` –º–æ–∂–µ –∫–∏–Ω—É—Ç–∏ `ClassNotFoundException` (—Ü–µ `checked` –≤–∏–Ω—è—Ç–æ–∫). –°—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ –¥–æ–∑–≤–æ–ª—è—î –æ–±–µ—Ä–Ω—É—Ç–∏ —Ü–µ–π –≤–∏–∫–ª–∏–∫ —É `try-catch` —ñ –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–∏—Ç–∏ –ø–æ–º–∏–ª–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–∏–Ω—É—Ç–∏ `ExceptionInInitializerError`, —è–∫—â–æ –¥—Ä–∞–π–≤–µ—Ä –≤—ñ–¥—Å—É—Ç–Ω—ñ–π, —â–æ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ "–ø–∞–¥—ñ–Ω–Ω—è" –ø—Ä–æ–≥—Ä–∞–º–∏).
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public class DatabaseConnection {
>     static {
>         try {
>             Class.forName("com.mysql.cj.jdbc.Driver");
>         } catch (ClassNotFoundException e) {
>             throw new RuntimeException("–ù–µ –∑–Ω–∞–π–¥–µ–Ω–æ JDBC –¥—Ä–∞–π–≤–µ—Ä!", e);
>         }
>     }
>     // ...
> }
> ```
>
> **–°—É—á–∞—Å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ (JDBC 4.0+):**
> –ó–∞—Ä–∞–∑ —Ü–µ –≤–∂–µ –Ω–µ —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º. –°—É—á–∞—Å–Ω—ñ JDBC-–¥—Ä–∞–π–≤–µ—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –º–µ—Ö–∞–Ω—ñ–∑–º `ServiceLoader`, —è–∫–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —Ç–∞ —Ä–µ—î—Å—Ç—Ä—É—î –¥—Ä–∞–π–≤–µ—Ä–∏, —â–æ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤ classpath.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö –ø–∞—Ç–µ—Ä–Ω—ñ–≤ —Ç–∞ —Ç–æ–≥–æ, —è–∫ –≤–æ–Ω–∏ –±—É–ª–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –±–∞–∑–æ–≤–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π –º–æ–≤–∏. –†–æ–∑—É–º—ñ–Ω–Ω—è `Class.forName`.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –º–æ–∂–Ω–∞ "–ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏" –ª–æ–≥—ñ–∫—É, —è–∫–∞ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –±–ª–æ–∫—É? ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –±–ª–æ–∫—ñ–≤ —î **–¥—É–∂–µ —Å–∫–ª–∞–¥–Ω–∏–º**, —ñ —Ü–µ –æ–¥–Ω–∞ –∑ –ø—Ä–∏—á–∏–Ω, —á–æ–º—É —Å–ª—ñ–¥ **—É–Ω–∏–∫–∞—Ç–∏ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è –≤ –Ω–∏—Ö —Å–∫–ª–∞–¥–Ω–æ—ó –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏**.
>
> **–ü—Ä–æ–±–ª–µ–º–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**
>
> * –°—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑, –∫–æ–ª–∏ –∫–ª–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –≤ JVM. –£ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –∂–∏—Ç—Ç—î–≤–æ–º—É —Ü–∏–∫–ª—ñ —é–Ω—ñ—Ç-—Ç–µ—Å—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, JUnit) –≤–∏ **–Ω–µ –º–æ–∂–µ—Ç–µ "–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏"** —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é –∫–ª–∞—Å—É –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–µ—Å—Ç—É.
> * –õ–æ–≥—ñ–∫–∞ —Ç—ñ—Å–Ω–æ –ø—Ä–∏–≤'—è–∑–∞–Ω–∞ –¥–æ –∫–ª–∞—Å—É —ñ —ó—ó –Ω–µ –º–æ–∂–Ω–∞ "–ø—ñ–¥–º—ñ–Ω–∏—Ç–∏" –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é mock-–æ–±'—î–∫—Ç—ñ–≤.
>
> **–ü—ñ–¥—Ö–æ–¥–∏ –¥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**
>
> 1. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (–Ω–∞–π–∫—Ä–∞—â–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç):**
>     * –í–∏–Ω–µ—Å—Ç–∏ **–≤—Å—é –ª–æ–≥—ñ–∫—É** –∑—ñ —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –±–ª–æ–∫—É –≤ –æ–∫—Ä–µ–º–∏–π **`public static` –º–µ—Ç–æ–¥**.
>     * –£ —Å—Ç–∞—Ç–∏—á–Ω–æ–º—É –±–ª–æ—Ü—ñ –∑–∞–ª–∏—à–∏—Ç–∏ –ª–∏—à–µ –≤–∏–∫–ª–∏–∫ —Ü—å–æ–≥–æ –º–µ—Ç–æ–¥—É.
>     * –¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ **—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Ü–µ–π `public static` –º–µ—Ç–æ–¥ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ**, —ñ–∑–æ–ª—å–æ–≤–∞–Ω–æ –≤—ñ–¥ –ø—Ä–æ—Ü–µ—Å—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–ª–∞—Å—É. –¶–µ —Ç–∞–∫–æ–∂ –ø–æ–ª–µ–≥—à—É—î —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ç–∞–∫–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤, —è–∫ PowerMock, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –º–æ–∫–∞—Ç–∏ —ñ–Ω—à—ñ —Å—Ç–∞—Ç–∏—á–Ω—ñ –≤–∏–∫–ª–∏–∫–∏.
>
> 2. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ–∫—Ä–µ–º–æ–≥–æ `ClassLoader`'–∞:**
>     * –¶–µ –¥—É–∂–µ –ø—Ä–æ—Å—É–Ω—É—Ç–∞ —Ç–µ—Ö–Ω—ñ–∫–∞. –£ –∫–æ–∂–Ω–æ–º—É —Ç–µ—Å—Ç—ñ –≤–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π `ClassLoader`, –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–ª–∞—Å –∑–∞–Ω–æ–≤–æ —ñ —Ç–∏–º —Å–∞–º–∏–º –∑–º—É—Å–∏—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω–∏–π –±–ª–æ–∫ –≤–∏–∫–æ–Ω–∞—Ç–∏—Å—è —â–µ —Ä–∞–∑. –¶–µ –¥—É–∂–µ —Å–∫–ª–∞–¥–Ω–æ —ñ –∫—Ä–∏—Ö–∫–æ.
>
> 3. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ —Ç–∏–ø—É PowerMock:**
>     * PowerMock –¥–æ–∑–≤–æ–ª—è—î "–º–æ–∫–∞—Ç–∏" —Å—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏, –ø—Ä–∏–≤–∞—Ç–Ω—ñ –º–µ—Ç–æ–¥–∏ —Ç–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏. –ó –π–æ–≥–æ –¥–æ–ø–æ–º–æ–≥–æ—é –º–æ–∂–Ω–∞ "–ø—Ä–∏–¥—É—à–∏—Ç–∏" –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –±–ª–æ–∫—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∞–Ω–æ—Ç–∞—Ü—ñ—ó `@SuppressStaticInitializationFor`.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** –ù–∞–π–∫—Ä–∞—â–∏–π —Å–ø–æ—Å—ñ–± ‚Äî —Ü–µ –≤–∏–Ω–æ—Å–∏—Ç–∏ –ª–æ–≥—ñ–∫—É –∑ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –±–ª–æ–∫—ñ–≤ —É —Ç–µ—Å—Ç–æ–≤–∞–Ω—ñ —Å—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º —Ç–µ—Å—Ç–æ–≤–∞–Ω–æ—Å—Ç—ñ —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –∫–æ–¥—É —Ç–∞ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ—Å—É–Ω—É—Ç–∏—Ö —Ç–µ—Ö–Ω—ñ–∫ —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –¥–ª—è –π–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —â–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è, —è–∫—â–æ –∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ —Å–ø—Ä–æ–±—É—é—Ç—å —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–ª–∞—Å –∑—ñ —Å—Ç–∞—Ç–∏—á–Ω–∏–º –±–ª–æ–∫–æ–º. –ß–∏ —î —Ü–µ–π –ø—Ä–æ—Ü–µ—Å –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º? ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, —Ü–µ–π –ø—Ä–æ—Ü–µ—Å —î –ø–æ–≤–Ω—ñ—Å—Ç—é –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º.**
>
> **JVM –≥–∞—Ä–∞–Ω—Ç—É—î**, —â–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–ª–∞—Å—É (–≤–∫–ª—é—á–∞—é—á–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –±–ª–æ–∫—ñ–≤) –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è **–∞—Ç–æ–º–∞—Ä–Ω–æ —Ç–∞ –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑**.
>
> **–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î "–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º":**
>
> 1. –ö–æ–ª–∏ –ø–µ—Ä—à–∏–π –ø–æ—Ç—ñ–∫ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–ª–∞—Å, –≤—ñ–Ω –æ—Ç—Ä–∏–º—É—î **–≤–Ω—É—Ç—Ä—ñ—à–Ω—î –±–ª–æ–∫—É–≤–∞–Ω–Ω—è (lock)** –Ω–∞ –æ–±'—î–∫—Ç—ñ, —â–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î —Ü–µ–π –∫–ª–∞—Å (`java.lang.Class`).
> 2. –í—ñ–Ω –ø–æ—á–∏–Ω–∞—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω—ñ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ç–æ—Ä–∏.
> 3. –Ø–∫—â–æ –≤ —Ü–µ–π –∂–µ —á–∞—Å —ñ–Ω—à—ñ –ø–æ—Ç–æ–∫–∏ –Ω–∞–º–∞–≥–∞—é—Ç—å—Å—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ç–æ–π —Å–∞–º–∏–π –∫–ª–∞—Å, –≤–æ–Ω–∏ **–±–ª–æ–∫—É—é—Ç—å—Å—è** —ñ –∑–º—É—à–µ–Ω—ñ **—á–µ–∫–∞—Ç–∏**, –¥–æ–∫–∏ –ø–µ—Ä—à–∏–π –ø–æ—Ç—ñ–∫ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—å —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é.
> 4. –ü—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –ø–µ—Ä—à–∏–π –ø–æ—Ç—ñ–∫ –∑–∞–≤–µ—Ä—à–∏–≤ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é (—É—Å–ø—ñ—à–Ω–æ —á–∏ –∑ –ø–æ–º–∏–ª–∫–æ—é), –≤—ñ–Ω –∑–≤—ñ–ª—å–Ω—è—î –±–ª–æ–∫—É–≤–∞–Ω–Ω—è.
> 5. –Ü–Ω—à—ñ –ø–æ—Ç–æ–∫–∏ "–ø—Ä–æ–∫–∏–¥–∞—é—Ç—å—Å—è" —ñ –±–∞—á–∞—Ç—å, —â–æ –∫–ª–∞—Å –≤–∂–µ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π, —Ç–æ–º—É –≤–æ–Ω–∏ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–¥–æ–≤–∂—É—é—Ç—å —Å–≤–æ—é —Ä–æ–±–æ—Ç—É, –Ω–µ –≤–∏–∫–æ–Ω—É—é—á–∏ —Å—Ç–∞—Ç–∏—á–Ω—ñ –±–ª–æ–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ.
>
> –°–∞–º–µ —Ü—è –≥–∞—Ä–∞–Ω—Ç—ñ—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ –≤—ñ–¥ JVM —Ä–æ–±–∏—Ç—å –ø–∞—Ç–µ—Ä–Ω **Initialization-on-demand holder idiom** –¥–ª—è Singleton'—ñ–≤ —Ç–∞–∫–∏–º –Ω–∞–¥—ñ–π–Ω–∏–º. –í—ñ–Ω –ø–æ–≤–Ω—ñ—Å—Ç—é –ø–æ–∫–ª–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ —Ç–µ, —â–æ JVM –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–∏—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω—É —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –≤–∫–ª–∞–¥–µ–Ω–æ–≥–æ –∫–ª–∞—Å—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ï–∫—Å–ø–µ—Ä—Ç–Ω–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ –Ω–∞ —Ä—ñ–≤–Ω—ñ JVM —Ç–∞ –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É –∫–ª–∞—Å—ñ–≤. –¶–µ –¥—É–∂–µ –≥–ª–∏–±–æ–∫–µ –ø–∏—Ç–∞–Ω–Ω—è, —â–æ —Å—Ç–æ—Å—É—î—Ç—å—Å—è —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –º–æ–≤–∏.*
