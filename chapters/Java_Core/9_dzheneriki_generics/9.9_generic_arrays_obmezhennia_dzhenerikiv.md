---
layout: default
title: "Generic Arrays (–û–±–º–µ–∂–µ–Ω–Ω—è –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤)"
parent: "–î–∂–µ–Ω–µ—Ä—ñ–∫–∏ (Generics)"
grand_parent: "Java Core"
nav_order: 9
---

# Generic Arrays (–û–±–º–µ–∂–µ–Ω–Ω—è –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤)

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –£ Java –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –º–∞—Å–∏–≤–∏ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–∏–º —Ç–∏–ø–æ–º –Ω–∞–ø—Ä—è–º—É (`new T[]`) —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç –º—ñ–∂ –º–∞—Å–∏–≤–∞–º–∏ (—â–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ç–∏–ø —É `runtime`) —Ç–∞ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∞–º–∏ (—â–æ –≤—Ç—Ä–∞—á–∞—é—Ç—å —Ç–∏–ø —á–µ—Ä–µ–∑ `Type Erasure`).

* –ø–æ–Ω—è—Ç—Ç—è: `Generic Arrays`, `type erasure`, `new T[]` (–∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ).

* –ø—Ä–∏–∫–ª–∞–¥–∏: `T[] array = new T[10];` (–ø–æ–º–∏–ª–∫–∞ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó).

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ö–æ–Ω—Ñ–ª—ñ–∫—Ç –º—ñ–∂ `runtime`-—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –º–∞—Å–∏–≤—ñ–≤ —Ç–∞ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—é —ó—ó –≤ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∞—Ö. –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ‚Äì –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `List<T>`.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ß–æ–º—É –Ω–µ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ `new T[]`, –±–µ–∑–ø–µ—á–Ω—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ (`List<T>`).

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

–£ Java –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –º–∞—Å–∏–≤–∏ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–∏–º —Ç–∏–ø–æ–º –Ω–∞–ø—Ä—è–º—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ **`new T[]`**, —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç –º—ñ–∂ –º–∞—Å–∏–≤–∞–º–∏ (—è–∫—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ç–∏–ø –Ω–∞ –µ—Ç–∞–ø—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è) —Ç–∞ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∞–º–∏ (—è–∫—ñ –≤—Ç—Ä–∞—á–∞—é—Ç—å —Ç–∏–ø —á–µ—Ä–µ–∑ —Å—Ç–∏—Ä–∞–Ω–Ω—è ‚Äî type erasure).

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

Java –Ω–µ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Å–∏–≤ —Ç–∏–ø—É **`new T[],`** –±–æ –ø—ñ—Å–ª—è –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó `T` –∑–Ω–∏–∫–Ω–µ. –ú–∞—Å–∏–≤–∏ —Ö–æ—á—É—Ç—å —Ç–æ—á–Ω–æ –∑–Ω–∞—Ç–∏, —è–∫—ñ —Ç–∏–ø–∏ –≤–æ–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å, –∞ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ –≤–∂–µ "–∑–∞–±—É–ª–∏", —â–æ —Å–∞–º–µ —Ç–∏ —Ç—É–¥–∏ —Ö–æ—á–µ—à –ø–æ–∫–ª–∞—Å—Ç–∏. Java –∫–∞–∂–µ: "–¢–∞–∫ –Ω–µ –≥—Ä–∞—î–º–æ—Å—å, –±—É–¥–µ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ".

---

## **üìä –û—Å–Ω–æ–≤–Ω—ñ –º–æ–º–µ–Ω—Ç–∏:**

**–ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ:**

```java
T[] array = new T[10]; // ‚ùå Compilation error
```

* **–î–æ–∑–≤–æ–ª–µ–Ω–æ —á–µ—Ä–µ–∑ –æ–±—Ö—ñ–¥–Ω—ñ —à–ª—è—Ö–∏ (–∞–ª–µ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ):**

```java
@SuppressWarnings("unchecked")
T[] array = (T[]) new Object[10]; // ‚ö†Ô∏è –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ
```

* **–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**  
  –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **`List<T>`** –∞–±–æ —ñ–Ω—à—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó:

```java
List<T> list = new ArrayList<>();
```

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

–£—è–≤–∏, —â–æ –º–∞—Å–∏–≤–∏ ‚Äî —Ü–µ —Å–∫–ª–∞–¥–∏ –∑ –Ω–∞–ø–∏—Å–æ–º ‚Äú—Ç—ñ–ª—å–∫–∏ –¥–ª—è —è–±–ª—É–∫ üçé‚Äù. –á–º —Ç—Ä–µ–±–∞ –∑–Ω–∞—Ç–∏, —â–æ –≤–æ–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å. –ê –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ ‚Äî —Ü–µ —è–∫ –∫–æ—Ä–æ–±–∫–∏ –±–µ–∑ –µ—Ç–∏–∫–µ—Ç–∫–∏. –ú–∞—Å–∏–≤ –ø–∏—Ç–∞—î: ‚Äú–ê —â–æ —Ç–∏?‚Äù ‚Äî –∞ –¥–∂–µ–Ω–µ—Ä—ñ–∫ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î: ‚Äú–ù–µ —Å–∫–∞–∂—É, –º–µ–Ω–µ —Å—Ç–µ—Ä–ª–∏ –ø—Ä–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó‚Äù. –Ü –º–∞—Å–∏–≤ –≤—ñ–¥–º–æ–≤–ª—è—î—Ç—å—Å—è –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –Ω–∏–º

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **üî∏ –°–ø—Ä–æ–±–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Å–∏–≤ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∞:**

```java
public class Box<T> {
    T[] elements = new T[10]; // ‚ùå Compilation error
}
```

### **üî∏ –û–±—Ö—ñ–¥ —á–µ—Ä–µ–∑ –∫–∞—Å—Ç–∏–Ω–≥:**

```java
@SuppressWarnings("unchecked")
T[] array = (T[]) new Object[10]; // ‚ö†Ô∏è –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ
```

### **üî∏ –ë–µ–∑–ø–µ—á–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**

```java
List<T> list = new ArrayList<>();
list.add(...);
```

### **üî∏ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—Å–∏–≤—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ä–µ—Ñ–ª–µ–∫—Å—ñ—ó:**

```java
T[] array = (T[]) Array.newInstance(clazz, size); // –¥–µ clazz -- Class<T>
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ú–∞—Å–∏–≤–∏ (`T[]`) | –ö–æ–ª–µ–∫—Ü—ñ—ó (`List<T>`) |
| ----- | ----- |
| –ü–æ—Ç—Ä–µ–±—É—é—Ç—å —Ç–æ—á–Ω–æ–≥–æ —Ç–∏–ø—É –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ | –ù–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å —Ç–∏–ø –Ω–∞ —Ä—ñ–≤–Ω—ñ JVM |
| –ù–µ –ø—Ä–∞—Ü—é—é—Ç—å —ñ–∑ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∞–º–∏ –Ω–∞–ø—Ä—è–º—É | –ü–æ–≤–Ω—ñ—Å—Ç—é —Å—É–º—ñ—Å–Ω—ñ –∑ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∞–º–∏ |
| –®–≤–∏–¥—à—ñ —É –¥–æ—Å—Ç—É–ø—ñ | –ì–Ω—É—á–∫—ñ, –±–µ–∑–ø–µ—á–Ω—ñ, –∞–ª–µ —Ç—Ä–æ—Ö–∏ –ø–æ–≤—ñ–ª—å–Ω—ñ |
| –ü—Ä–æ–±–ª–µ–º–∏ –∑ —Ç–∏–ø–æ–±–µ–∑–ø–µ–∫–æ—é —á–µ—Ä–µ–∑ –∫–∞—Å—Ç–∏–Ω–≥ | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—É –Ω–∞ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

* **"–ú–∞—Å–∏–≤–∏ —Ö–æ—á—É—Ç—å –∑–Ω–∞—Ç–∏ –±—ñ–ª—å—à–µ, –Ω—ñ–∂ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ –º–æ–∂—É—Ç—å —Å–∫–∞–∑–∞—Ç–∏"**
* **"new T\[\] ‚Äî —Ü–µ —è–∫ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —â–æ—Å—å —ñ–∑ –Ω–µ–≤—ñ–¥–æ–º–æ–≥–æ"**
* **"List\<T\> ‚Äî –∫–æ–ª–∏ –Ω–µ –º–æ–∂–Ω–∞ T\[\]"**

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—Å–∏–≤—ñ–≤ –¥–∂–µ–Ω–µ—Ä—ñ–∫-—Ç–∏–ø—É (**`T[]`**) –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–µ –≤ Java —á–µ—Ä–µ–∑ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤. –ú–∞—Å–∏–≤–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å —Ç–∏–ø–æ–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, –∞ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ ‚Äî –Ω—ñ. –¢–æ–º—É –Ω–∞–π–∫—Ä–∞—â–µ —Ä—ñ—à–µ–Ω–Ω—è ‚Äî —Ü–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **`List<T>`**, —è–∫–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –ø—ñ–¥—Ç—Ä–∏–º—É—î –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏. –ê —è–∫—â–æ –º–∞—Å–∏–≤ –ø–æ—Ç—Ä—ñ–±–µ–Ω –∫—Ä–∏—Ç–∏—á–Ω–æ ‚Äî —Ç–æ–¥—ñ –∫—Ä–∞—â–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é, –∞–ª–µ –æ–±–µ—Ä–µ–∂–Ω–æ.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Oracle Docs ‚Äî Arrays of Parameterized Types**](https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#createArrays)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É –≤ Java –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –º–∞—Å–∏–≤–∏ –¥–∂–µ–Ω–µ—Ä–∏–∫-—Ç–∏–ø—É –Ω–∞–ø—Ä—è–º—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `new T[]` –∞–±–æ `new List<String>[]`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —á–µ—Ä–µ–∑ **—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ñ–ª—ñ–∫—Ç** –º—ñ–∂ —Ç–∏–º, —è–∫ –∑–∞–±–µ–∑–ø–µ—á—É—î—Ç—å—Å—è —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å —É –º–∞—Å–∏–≤—ñ–≤ —Ç–∞ —É –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤:
>
> 1. **–î–∂–µ–Ω–µ—Ä—ñ–∫–∏ ‚Äî –±–µ–∑–ø–µ—á–Ω—ñ –ø—ñ–¥ —á–∞—Å –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó, –∞–ª–µ "—Å–ª—ñ–ø—ñ" –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.**
>     * –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ç–∏–ø–∏ (`<String>`, `<T>`) **—Å—Ç–∏—Ä–∞—î—Ç—å—Å—è** –ø—ñ—Å–ª—è –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó (`Type Erasure`). –ü—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è `List<String>` —î –ø—Ä–æ—Å—Ç–æ `List`.
>
> 2. **–ú–∞—Å–∏–≤–∏ ‚Äî –±–µ–∑–ø–µ—á–Ω—ñ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, –∞–ª–µ "–∑–∞–Ω–∞–¥—Ç–æ –≥–Ω—É—á–∫—ñ" –ø—ñ–¥ —á–∞—Å –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó.**
>     * –û–±'—î–∫—Ç –º–∞—Å–∏–≤—É **–∑–±–µ—Ä—ñ–≥–∞—î** —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å–≤—ñ–π —Ç–∏–ø (`String[]` –∑–Ω–∞—î, —â–æ –≤—ñ–Ω –º–∞—Å–∏–≤ —Ä—è–¥–∫—ñ–≤). –°–ø—Ä–æ–±–∞ –ø–æ–∫–ª–∞—Å—Ç–∏ –≤ –Ω—å–æ–≥–æ –æ–±'—î–∫—Ç —ñ–Ω—à–æ–≥–æ —Ç–∏–ø—É –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ `ArrayStoreException`.
>     * –ú–∞—Å–∏–≤–∏ —î **–∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–∏–º–∏**: `String[]` —î –ø—ñ–¥—Ç–∏–ø–æ–º `Object[]`, —â–æ –¥–æ–∑–≤–æ–ª—è—î `Object[] objArr = new String[1];`.
>
> **–Ø–∫–±–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è `new List<String>[10]` –±—É–ª–æ –¥–æ–∑–≤–æ–ª–µ–Ω–æ**, —Ü–µ —Å—Ç–≤–æ—Ä–∏–ª–æ –± "–¥—ñ—Ä—É" –≤ —Å–∏—Å—Ç–µ–º—ñ —Ç–∏–ø—ñ–≤:
>
> ```java
> // 1. –ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, —Ü–µ –¥–æ–∑–≤–æ–ª–µ–Ω–æ
> List<String>[] stringLists = new List<String>[10];
> // 2. –ü—Ä–∏—Å–≤–æ—é—î–º–æ –π–æ–≥–æ –º–∞—Å–∏–≤—É Object[] (—Ü–µ –≤–∞–ª—ñ–¥–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å –º–∞—Å–∏–≤—ñ–≤)
> Object[] objectArray = stringLists;
> // 3. "–û–±–º–∞–Ω—é—î–º–æ" —Å–∏—Å—Ç–µ–º—É —Ç–∏–ø—ñ–≤
> objectArray[0] = List.of(123); // –ü–æ–º–∏–ª–∫–∞ –Ω–µ –≤–∏–Ω–∏–∫–∞—î —Ç—É—Ç, –±–æ —Ü–µ –º–∞—Å–∏–≤ Object[]!
> // 4. –û—Ç—Ä–∏–º—É—î–º–æ ClassCastException –∑–Ω–∞—á–Ω–æ –ø—ñ–∑–Ω—ñ—à–µ –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç —è–∫ —Ä—è–¥–æ–∫
> String s = stringLists[0].get(0);
> ```
>
> –©–æ–± –∑–∞–ø–æ–±—ñ–≥—Ç–∏ —Ç–∞–∫–∏–º —Å–∏—Ç—É–∞—Ü—ñ—è–º, —è–∫—ñ –ø–æ–≤–Ω—ñ—Å—Ç—é —Ä—É–π–Ω—É—é—Ç—å –≥–∞—Ä–∞–Ω—Ç—ñ—ó —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤—ñ–≤ –±—É–ª–æ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–î–∂–µ–Ω–µ—Ä—ñ–∫ ‚Äî —Ü–µ —è–∫ –Ω–∞–ø–∏—Å–∞—Ç–∏ –Ω–∞ –ø–∞–ø—ñ—Ä—Ü—ñ "—Ç—ñ–ª—å–∫–∏ —è–±–ª—É–∫–∞", –ø–æ–∫–ª–∞—Å—Ç–∏ –π–æ–≥–æ –≤ –∫–æ—Ä–æ–±–∫—É, –∞ –ø–æ—Ç—ñ–º —Å–ø–∞–ª–∏—Ç–∏ –ø–∞–ø—ñ—Ä–µ—Ü—å (`type erasure`). –ú–∞—Å–∏–≤ ‚Äî —Ü–µ —Å–∫–ª—è–Ω–∞ –∫–æ—Ä–æ–±–∫–∞, –Ω–∞ —è–∫—ñ–π –≤–∏–≥—Ä–∞–≤—ñ—é–≤–∞–Ω–æ "—Ç—ñ–ª—å–∫–∏ –¥–ª—è —è–±–ª—É–∫", —ñ —Ü—è –≥—Ä–∞–≤—ñ—Ä—É–≤–∞–Ω–Ω—è –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–∞–∑–∞–≤–∂–¥–∏. Java –Ω–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∞–º –ø–æ–∫–ª–∞—Å—Ç–∏ –ø–∞–ø–µ—Ä–æ–≤—É —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é –Ω–∞ —Å–∫–ª—è–Ω—É –∫–æ—Ä–æ–±–∫—É, –±–æ –≤–æ–Ω–∏ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É—é—Ç—å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∫–ª—é—á–æ–≤–æ–≥–æ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É: —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ (generics) vs –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤ (arrays). –ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–æ—è—Å–Ω–∏—Ç–∏, —è–∫ –∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å –º–∞—Å–∏–≤—ñ–≤ —Å—Ç–≤–æ—Ä—é—î "–¥—ñ—Ä—É" –≤ —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–π –∫–æ–¥ –Ω–µ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è —ñ —á–æ–º—É?

1. `List<String>[] lists = new List<String>[5];`
2. `T[] array = new T[5];`
3. `Object[] array = new List<String>[5];`

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> 1. `List<String>[] lists = new List<String>[5];` ‚Äî **–ù–ï –°–ö–û–ú–ü–Ü–õ–Æ–Ñ–¢–¨–°–Ø.**
>     * **–ü—Ä–∏—á–∏–Ω–∞:** –¶–µ –ø—Ä—è–º–∞ —Å–ø—Ä–æ–±–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Å–∏–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–æ–≥–æ —Ç–∏–ø—É, —â–æ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ.
>
> 2. `T[] array = new T[5];` (–≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –¥–∂–µ–Ω–µ—Ä–∏–∫-–∫–ª–∞—Å—É –∞–±–æ –º–µ—Ç–æ–¥—É) ‚Äî **–ù–ï –°–ö–û–ú–ü–Ü–õ–Æ–Ñ–¢–¨–°–Ø.**
>     * **–ü—Ä–∏—á–∏–Ω–∞:** –¢–∞ —Å–∞–º–∞ ‚Äî —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤. –ü—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è JVM –Ω–µ –∑–Ω–∞—î, —â–æ —Ç–∞–∫–µ `T`, —Ç–æ–º—É –Ω–µ –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Å–∏–≤ —Ü—å–æ–≥–æ —Ç–∏–ø—É.
>
> 3. `Object[] array = new List<String>[5];` ‚Äî **–ù–ï –°–ö–û–ú–ü–Ü–õ–Æ–Ñ–¢–¨–°–Ø.**
>     * **–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∞–≤–∞ —á–∞—Å—Ç–∏–Ω–∞ –≤–∏—Ä–∞–∑—É (`new List<String>[5]`) —Å–∞–º–∞ –ø–æ —Å–æ–±—ñ —î –Ω–µ–≤–∞–ª—ñ–¥–Ω–æ—é, —Ç–æ–º—É –≤—Å–µ –ø—Ä–∏—Å–≤–æ—î–Ω–Ω—è –Ω–µ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è.
>
> –£—Å—ñ —Ç—Ä–∏ –ø—Ä–∏–∫–ª–∞–¥–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—é—Ç—å —Ä—ñ–∑–Ω—ñ —Ñ–æ—Ä–º–∏ –æ–¥–Ω—ñ—î—ó —ñ —Ç—ñ—î—ó –∂ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ—ó –∑–∞–±–æ—Ä–æ–Ω–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É —ñ –ø—Ä–∞–≤–∏–ª, —â–æ —Å—Ç–æ—Å—É—é—Ç—å—Å—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤—ñ–≤.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—é –º–∞—Å–∏–≤—ñ–≤ –¥–∂–µ–Ω–µ—Ä–∏–∫-—Ç–∏–ø—ñ–≤?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–π–∫—Ä–∞—â–æ—é —Ç–∞ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–æ—é –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ—é —î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è **–∫–æ–ª–µ–∫—Ü—ñ–π**, –∑–æ–∫—Ä–µ–º–∞ **`List<T>`** (–∑–∞–∑–≤–∏—á–∞–π —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ —á–µ—Ä–µ–∑ `ArrayList<T>`).
>
> **–ü–µ—Ä–µ–≤–∞–≥–∏ `List<T>` –Ω–∞–¥ `T[]`:**
>
> 1. **–ü–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤:** `List<T>` –±—É–≤ —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∞–º–∏ —ñ —î –ø–æ–≤–Ω—ñ—Å—Ç—é —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏–º –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó.
> 2. **–î–∏–Ω–∞–º—ñ—á–Ω–∏–π —Ä–æ–∑–º—ñ—Ä:** –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –º–∞—Å–∏–≤—ñ–≤ –∑ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–º —Ä–æ–∑–º—ñ—Ä–æ–º, `ArrayList` –º–æ–∂–µ –¥–∏–Ω–∞–º—ñ—á–Ω–æ –∑—Ä–æ—Å—Ç–∞—Ç–∏.
> 3. **–ë–∞–≥–∞—Ç–∏–π API:** –ö–æ–ª–µ–∫—Ü—ñ—ó –Ω–∞–¥–∞—é—Ç—å –∑–Ω–∞—á–Ω–æ –±—ñ–ª—å—à–µ –∫–æ—Ä–∏—Å–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –¥–∞–Ω–∏–º–∏ ( `sort`, `filter`, `map`, `reduce` —á–µ—Ä–µ–∑ `Stream API` —Ç–æ—â–æ), –Ω—ñ–∂ –º–∞—Å–∏–≤–∏.
>
> **–ü—Ä–∏–∫–ª–∞–¥ –∑–∞–º—ñ–Ω–∏:**
>
> **–ó–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ (–Ω–µ –ø—Ä–∞—Ü—é—î):**
>
> ```java
> public class DataStore<T> {
>     private T[] data = new T[10]; // –ü–æ–º–∏–ª–∫–∞
> }
> ```
>
> **–ü–∏—à–µ–º–æ —Ç–∞–∫ (–ø—Ä–∞—Ü—é—î —ñ –∫—Ä–∞—â–µ):**
>
> ```java
> public class DataStore<T> {
>     private List<T> data = new ArrayList<>();
> }
> ```
>
> –£ —Å—É—á–∞—Å–Ω–æ–º—É Java-–∫–æ–¥—ñ –ø–µ—Ä–µ–≤–∞–≥–∞ –º–∞–π–∂–µ –∑–∞–≤–∂–¥–∏ –Ω–∞–¥–∞—î—Ç—å—Å—è –∫–æ–ª–µ–∫—Ü—ñ—è–º, –∞ –Ω–µ –º–∞—Å–∏–≤–∞–º, –æ—Å–æ–±–ª–∏–≤–æ –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –¥–∂–µ–Ω–µ—Ä–∏–∫–∞–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –∫–æ–ª–µ–∫—Ü—ñ—ó (`List`) —î —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–æ—é —Ç–∞ –±–µ–∑–ø–µ—á–Ω–æ—é –∑–∞–º—ñ–Ω–æ—é –¥–ª—è –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤—ñ–≤.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `ArrayList` "–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º" –æ–±—Ö–æ–¥–∏—Ç—å –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤—ñ–≤? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `ArrayList` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î "—Ö–∏—Ç—Ä—ñ—Å—Ç—å": –≤—ñ–Ω –∑–±–µ—Ä—ñ–≥–∞—î —Å–≤–æ—ó –¥–∞–Ω—ñ —É –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–º—É –º–∞—Å–∏–≤—ñ —Ç–∏–ø—É **`Object[]`**, –∞ –Ω–µ `E[]`.
>
> **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤ `ArrayList<E>` (—Å–ø—Ä–æ—â–µ–Ω–æ):**
>
> ```java
> public class ArrayList<E> extends AbstractList<E> ... {
>     transient Object[] elementData; // –ü–æ–ª–µ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
>
>     public boolean add(E e) {
>         // ... –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–∑–º—ñ—Ä—É —ñ —Ç.–¥.
>         elementData[size++] = e; // –î–æ–¥–∞—î–º–æ –æ–±'—î–∫—Ç E –≤ –º–∞—Å–∏–≤ Object[]
>         return true;
>     }
>
>     @SuppressWarnings("unchecked")
>     public E get(int index) {
>         // ... –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ–Ω–¥–µ–∫—Å—É
>         // –ù–µ–ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–µ, –∞–ª–µ –±–µ–∑–ø–µ—á–Ω–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—É
>         return (E) elementData[index];
>     }
> }
> ```
>
> **–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**
>
> 1. –£—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —è–∫ `Object`.
> 2. –ü—Ä–∏ –≤–∏–∫–ª–∏–∫—É `add(E e)`, –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –æ–±'—î–∫—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø—É.
> 3. –ü—Ä–∏ –≤–∏–∫–ª–∏–∫—É `get(int index)`, –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä—Ç–∞—î `Object` –∑ –º–∞—Å–∏–≤—É, —ñ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –¥–æ–¥–∞—î **–Ω–µ—è–≤–Ω–µ –Ω–µ–ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—É (`cast`) –¥–æ `E`**.
>
> –¶–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —î **–±–µ–∑–ø–µ—á–Ω–∏–º**, —Ç–æ–º—É —â–æ –∑–∞–≤–¥—è–∫–∏ –¥–∂–µ–Ω–µ—Ä–∏–∫–∞–º –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó –º–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ –≤ `ArrayList<String>` –º–æ–∂—É—Ç—å –ø–æ—Ç—Ä–∞–ø–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –æ–±'—î–∫—Ç–∏ —Ç–∏–ø—É `String`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫–ª—é—á–æ–≤–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π –∑ JDK. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –≤–æ–Ω–∏ –æ–±—Ö–æ–¥—è—Ç—å –æ–±–º–µ–∂–µ–Ω–Ω—è –º–æ–≤–∏.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–ø–∏—à—ñ—Ç—å –∫–æ–¥, —â–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —è–∫ –º–æ–∂–Ω–∞ –æ–±—ñ–π—Ç–∏ –∑–∞–±–æ—Ä–æ–Ω—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤—É —á–µ—Ä–µ–∑ –Ω–µ–ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—É. –ü–æ—è—Å–Ω—ñ—Ç—å —Ä–∏–∑–∏–∫–∏. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ú–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Å–∏–≤ `Object[]` —ñ –ø–æ—Ç—ñ–º –ø—Ä–∏–≤–µ—Å—Ç–∏ –π–æ–≥–æ –¥–æ `T[]`. –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –≤–∏–¥–∞—Å—Ç—å –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è `unchecked cast`, —è–∫–µ –º–æ–∂–Ω–∞ –ø—Ä–∏–≥–Ω—ñ—á–∏—Ç–∏.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> public class GenericArray<T> {
>     private T[] array;
>
>     @SuppressWarnings("unchecked")
>     public GenericArray(int size) {
>         // –°—Ç–≤–æ—Ä—é—î–º–æ –º–∞—Å–∏–≤ Object[] —ñ —Ä–æ–±–∏–º–æ –Ω–µ–ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∏–π –∫–∞—Å—Ç
>         this.array = (T[]) new Object[size];
>     }
>
>     public void set(int index, T item) {
>         array[index] = item;
>     }
>
>     public T get(int index) {
>         return array[index];
>     }
> }
> ```
>
> **–†–∏–∑–∏–∫–∏:**
>
> –û—Å–Ω–æ–≤–Ω–∏–π —Ä–∏–∑–∏–∫ –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ —Ü–µ–π –∫–ª–∞—Å **–Ω–µ —î –ø–æ–≤–Ω—ñ—Å—Ç—é —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏–º, —è–∫—â–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –º–∞—Å–∏–≤ "–≤–∏—Ç–µ—á–µ" –Ω–∞–∑–æ–≤–Ω—ñ**.
>
> ```java
> // –ù–µ–±–µ–∑–ø–µ—á–Ω–∏–π –º–µ—Ç–æ–¥, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –º–∞—Å–∏–≤
> public T[] getArray() { return array; }
>
> //...
> GenericArray<String> stringArray = new GenericArray<>(10);
> Object[] objectArray = stringArray.getArray(); // –ú–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ Object[], –∞ –Ω–µ String[]!
> objectArray[0] = 123; // ArrayStoreException –Ω–µ –±—É–¥–µ, –±–æ –º–∞—Å–∏–≤ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ —î Object[]
>
> String s = stringArray.get(0); // –û—Ç—Ä–∏–º—É—î–º–æ ClassCastException!
> ```
>
> –û–±'—î–∫—Ç –º–∞—Å–∏–≤—É `array` –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ —î —Ç–∏–ø—É `Object[]`, –∞ –Ω–µ `T[]`. –ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—è `(T[])` —î –ª–∏—à–µ "–æ–±—ñ—Ü—è–Ω–∫–æ—é" –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä—É, —è–∫–∞ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä—É—à–µ–Ω–∞. –°–∞–º–µ —Ç–æ–º—É —Ç–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ —î –Ω–µ—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–º —ñ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –Ω–µ–ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤ —Å—Ç–≤–æ—Ä—é—é—Ç—å –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ –∑–∞–≥—Ä–æ–∑–∏, —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä—É–≤–∞—Ç–∏ —Å—Ü–µ–Ω–∞—Ä—ñ–π, –¥–µ —Ü—è –∑–∞–≥—Ä–æ–∑–∞ —Ä–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –º–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Å–∏–≤ `T[]` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –¥–∂–µ–Ω–µ—Ä–∏–∫-–∫–ª–∞—Å—É, —è–∫—â–æ —Ü–µ —Å–ø—Ä–∞–≤–¥—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–π–±—ñ–ª—å—à –±–µ–∑–ø–µ—á–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º —î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è **—Ä–µ—Ñ–ª–µ–∫—Å—ñ—ó**, –ø–µ—Ä–µ–¥–∞–≤—à–∏ `Class<T>` –æ–±'—î–∫—Ç —è–∫ **—Ç–æ–∫–µ–Ω —Ç–∏–ø—É (type token)**. –¶–µ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Å–∏–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø—É –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> import java.lang.reflect.Array;
>
> public class SafeGenericArray<T> {
>     private T[] array;
>
>     @SuppressWarnings("unchecked")
>     public SafeGenericArray(Class<T> type, int size) {
>         // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ Array.newInstance –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—Å–∏–≤—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø—É
>         this.array = (T[]) Array.newInstance(type, size);
>     }
>
>     public T get(int index) {
>         return array[index];
>     }
> }
> ```
>
> **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
> `SafeGenericArray<String> stringArray = new SafeGenericArray<>(String.class, 10);`
>
> **–ß–æ–º—É —Ü–µ –±–µ–∑–ø–µ—á–Ω—ñ—à–µ?**
> –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É `array` –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –±—É–¥–µ –º–∞—Ç–∏ —Ç–∏–ø `String[]` –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è. –°–ø—Ä–æ–±–∞ –∑—Ä–æ–±–∏—Ç–∏ —Ç–∞–∫–µ:
> `Object[] objArr = stringArray.array;`
> `objArr[0] = 123;`
> –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –æ—á—ñ–∫—É–≤–∞–Ω–æ–≥–æ **`ArrayStoreException`**, —Ç–æ–º—É —â–æ JVM –∑–Ω–∞—î, —â–æ —Ü–µ –º–∞—Å–∏–≤ —Ä—è–¥–∫—ñ–≤. –¢–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å –º–∞—Å–∏–≤—ñ–≤ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è `Reflection API` —Ç–∞ –ø–∞—Ç–µ—Ä–Ω—É "type token" —è–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±—É –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤—ñ–≤.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `list.toArray(new T[0])` —î –∫—Ä–∞—â–∏–º —Å–ø–æ—Å–æ–±–æ–º –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ `List<T>` –≤ `T[]`, –Ω—ñ–∂ –ø—Ä–æ—Å—Ç–æ `list.toArray()`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> * –ú–µ—Ç–æ–¥ `list.toArray()` –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ **–∑–∞–≤–∂–¥–∏** –ø–æ–≤–µ—Ä—Ç–∞—î `Object[]`. –í–∞–º –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –≤—Ä—É—á–Ω—É —Ä–æ–±–∏—Ç–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤, —â–æ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ.
>
> * –ü–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π –º–µ—Ç–æ–¥ `list.toArray(T[] a)` —î **—Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏–º**. –í—ñ–Ω –≤–∏—Ä—ñ—à—É—î –ø—Ä–æ–±–ª–µ–º—É, —è–∫ `ArrayList` –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Å–∏–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø—É.
>
> **–Ø–∫ –ø—Ä–∞—Ü—é—î `list.toArray(T[] a)`:**
>
> 1. –í—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø–µ—Ä–µ–¥–∞–Ω–∏–π –º–∞—Å–∏–≤ `a` –¥–ª—è **–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∏–ø—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞** –º–∞—Å–∏–≤—É –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.
> 2. –Ø–∫—â–æ –ø–µ—Ä–µ–¥–∞–Ω–∏–π –º–∞—Å–∏–≤ `a` —î –¥–æ—Å—Ç–∞—Ç–Ω—å–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É, –µ–ª–µ–º–µ–Ω—Ç–∏ —Å–ø–∏—Å–∫—É –∫–æ–ø—ñ—é—é—Ç—å—Å—è –ø—Ä—è–º–æ –≤ –Ω—å–æ–≥–æ.
> 3. –Ø–∫—â–æ –ø–µ—Ä–µ–¥–∞–Ω–∏–π –º–∞—Å–∏–≤ `a` –∑–∞–º–∞–ª–∏–π (—è–∫ —É –≤–∏–ø–∞–¥–∫—É `new T[0]`), –º–µ—Ç–æ–¥ **–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é**, —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ **–Ω–æ–≤–∏–π –º–∞—Å–∏–≤ —Ç–æ–≥–æ –∂ —Ç–∏–ø—É, —â–æ —ñ `a`**, –∞–ª–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É.
>
> –ü–µ—Ä–µ–¥–∞—á–∞ `new T[0]` (–º–∞—Å–∏–≤ –Ω—É–ª—å–æ–≤–æ—ó –¥–æ–≤–∂–∏–Ω–∏) —î —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–∏–º —ñ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω:
>
> * –ß—ñ—Ç–∫–æ –ø–æ–≤—ñ–¥–æ–º–ª—è—î –º–µ—Ç–æ–¥—É –ø–æ—Ç—Ä—ñ–±–Ω–∏–π —Ç–∏–ø.
> * –°—É—á–∞—Å–Ω—ñ JVM –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞–ª–∏ —Ü–µ–π –≤–∏–ø–∞–¥–æ–∫, —ñ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—Å–∏–≤—É –Ω—É–ª—å–æ–≤–æ—ó –¥–æ–≤–∂–∏–Ω–∏ —î –¥—É–∂–µ —à–≤–∏–¥–∫–∏–º.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `list.toArray(new T[0])` –¥–æ–∑–≤–æ–ª—è—î —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—é –Ω–∞ –º–∞—Å–∏–≤, –¥–æ–ª–∞—é—á–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è API –∫–æ–ª–µ–∫—Ü—ñ–π —Ç–∞ —Ç–æ–≥–æ, —è–∫ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ JDK –Ω–∞–¥–∞–ª–∏ "–æ–±—Ö—ñ–¥–Ω—ñ —à–ª—è—Ö–∏" –¥–ª—è –ø–æ–¥–æ–ª–∞–Ω–Ω—è –æ–±–º–µ–∂–µ–Ω—å –º–æ–≤–∏.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `varargs` (`...`) –∑ –¥–∂–µ–Ω–µ—Ä–∏–∫-—Ç–∏–ø–∞–º–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `myMethod(T... args)`? –Ø–∫—ñ —Ç—É—Ç —î –ø—ñ–¥–≤–æ–¥–Ω—ñ –∫–∞–º–µ–Ω—ñ? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, –º–æ–∂–Ω–∞, –∞–ª–µ —Ü–µ **–ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è**, —ñ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –∑–∞–∑–≤–∏—á–∞–π –≤–∏–¥–∞—î **–Ω–µ–ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–µ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è**.
>
> **–ü—ñ–¥–≤–æ–¥–Ω—ñ –∫–∞–º–µ–Ω—ñ:**
>
> `Varargs` "–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º" —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —è–∫ **–º–∞—Å–∏–≤–∏**. –ö–æ–ª–∏ –≤–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç–µ `myMethod(arg1, arg2)`, Java –Ω–µ—è–≤–Ω–æ —Å—Ç–≤–æ—Ä—é—î –º–∞—Å–∏–≤ `new T[]{arg1, arg2}`.
>
> –Ø–∫ –º–∏ –∑–Ω–∞—î–º–æ, —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤–∏ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ. –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä "–∑–∞–∫—Ä–∏–≤–∞—î –Ω–∞ —Ü–µ –æ—á—ñ", —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ `varargs` –∑—Ä—É—á–Ω–∏–º–∏, –∞–ª–µ —Ü–µ —Å—Ç–≤–æ—Ä—é—î —Ä–∏–∑–∏–∫ **–∑–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è –∫—É–ø–∏ (heap pollution)**.
>
> **–ü—Ä–∏–∫–ª–∞–¥ –ø—Ä–æ–±–ª–µ–º–∏:**
>
> ```java
> static <T> T[] toArray(T... args) {
>     return args; // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –º–∞—Å–∏–≤, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è varargs
> }
>
> // ...
> // –¶–µ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è
> // toArray(List<String>..., List<Integer>...) - —Å—é–¥–∏ –º–æ–∂–Ω–∞ –ø–æ–∫–ª–∞—Å—Ç–∏ —â–æ –∑–∞–≤–≥–æ–¥–Ω–æ
> String[] arr = toArray("a","b"); // OK
> ```
>
> **–Ø–∫ —É–Ω–∏–∫–Ω—É—Ç–∏ –ø—Ä–æ–±–ª–µ–º?**
>
> 1. –ù–µ –∑–±–µ—Ä—ñ–≥–∞–π—Ç–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ `varargs`-–º–∞—Å–∏–≤ —ñ –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞–π—Ç–µ –π–æ–≥–æ –∑ –º–µ—Ç–æ–¥—É. –ü—Ä–∞—Ü—é–π—Ç–µ –∑ –Ω–∏–º —Ç—ñ–ª—å–∫–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ.
> 2. –Ø–∫—â–æ –≤–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ –≤–∞—à –º–µ—Ç–æ–¥ —î –±–µ–∑–ø–µ—á–Ω–∏–º, –ø—Ä–∏–≥–Ω—ñ—á—É–π—Ç–µ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∞–Ω–æ—Ç–∞—Ü—ñ—ó **`@SafeVarargs`** (–¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –∞–±–æ `final` –º–µ—Ç–æ–¥—ñ–≤) –∞–±–æ `@SuppressWarnings("unchecked")`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ `varargs` —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —á–µ—Ä–µ–∑ –º–∞—Å–∏–≤–∏, —Ç–∞ –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ —Ü–∏–º —Ä–∏–∑–∏–∫—ñ–≤ –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∞–º–∏.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `new GenericClass<String>()` —î –≤–∞–ª—ñ–¥–Ω–∏–º, –∞ `new GenericClass<String>[10]` ‚Äî –Ω—ñ? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –∑–Ω–æ–≤—É –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ **—Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤** —Ç–∞ **—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**.
>
> * **`new GenericClass<String>()` ‚Äî –≤–∞–ª—ñ–¥–Ω–æ:**
>   * –¢—É—Ç –≤–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ **–æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä**. –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è `<String>` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–æ–º –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø—ñ–≤.
>   * –ü—ñ—Å–ª—è —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ —É –±–∞–π—Ç-–∫–æ–¥—ñ —Ü–µ –ø—Ä–æ—Å—Ç–æ `new GenericClass()`. –û–±'—î–∫—Ç –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å–≤—ñ–π —Ç–∏–ø-–ø–∞—Ä–∞–º–µ—Ç—Ä, —ñ —Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –í—Å—è "–º–∞–≥—ñ—è" –≤—ñ–¥–±—É–ª–∞—Å—è –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó.
>
> * **`new GenericClass<String>[10]` ‚Äî –Ω–µ–≤–∞–ª—ñ–¥–Ω–æ:**
>   * –¢—É—Ç –≤–∏ –Ω–∞–º–∞–≥–∞—î—Ç–µ—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ **–æ–±'—î–∫—Ç-–º–∞—Å–∏–≤**.
>   * –û–±'—î–∫—Ç-–º–∞—Å–∏–≤ **–∑–æ–±–æ–≤'—è–∑–∞–Ω–∏–π –∑–Ω–∞—Ç–∏** —Å–≤—ñ–π —Ç–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è `ArrayStoreException`.
>   * –ê–ª–µ —á–µ—Ä–µ–∑ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤, JVM –Ω–µ –∑–Ω–∞—î, —â–æ —Ç–∞–∫–µ `GenericClass<String>`. –î–ª—è –Ω–µ—ó —Ü–µ –ø—Ä–æ—Å—Ç–æ `GenericClass`. –í–æ–Ω–∞ –Ω–µ –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Å–∏–≤ –∑ "–Ω–∞–ø–æ–ª–æ–≤–∏–Ω—É –≤–∏–∑–Ω–∞—á–µ–Ω–∏–º" —Ç–∏–ø–æ–º.
>
> –û—Ç–∂–µ, —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ **–æ–∫—Ä–µ–º—ñ –¥–∂–µ–Ω–µ—Ä–∏–∫-–æ–±'—î–∫—Ç–∏** –º–æ–∂–Ω–∞, –±–æ —ó—Ö–Ω—è —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å ‚Äî —Ü–µ —Ç—É—Ä–±–æ—Ç–∞ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞. –ê —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ **–º–∞—Å–∏–≤–∏** –∑ –Ω–∏—Ö –Ω–µ –º–æ–∂–Ω–∞, –±–æ —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å –º–∞—Å–∏–≤—ñ–≤ ‚Äî —Ü–µ —Ç—É—Ä–±–æ—Ç–∞ JVM, —è–∫–∞ –Ω—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞—î –ø—Ä–æ —Ç–∏–ø–∏-–ø–∞—Ä–∞–º–µ—Ç—Ä–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, –¥–µ —Å–∞–º–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—ñ–≤ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π –º–æ–≤–∏.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –±—É–¥–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º `(new String[5]) instanceof Object[]` —Ç–∞ `(new Object[5]) instanceof String[]`? –Ø–∫ —Ü–µ –ø–æ–≤'—è–∑–∞–Ω–æ –∑ –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤–∞–º–∏? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> * **`(new String[5]) instanceof Object[]` –ø–æ–≤–µ—Ä–Ω–µ `true`**.
>   * **–ü—Ä–∏—á–∏–Ω–∞:** –ú–∞—Å–∏–≤–∏ –≤ Java —î **–∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–∏–º–∏**. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ —è–∫—â–æ `String` —î –ø—ñ–¥—Ç–∏–ø–æ–º `Object`, —Ç–æ —ñ `String[]` —î –ø—ñ–¥—Ç–∏–ø–æ–º `Object[]`.
>
> * **`(new Object[5]) instanceof String[]` –ø–æ–≤–µ—Ä–Ω–µ `false`**.
>   * **–ü—Ä–∏—á–∏–Ω–∞:** `Object` –Ω–µ —î –ø—ñ–¥—Ç–∏–ø–æ–º `String`. –í–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –∑–≤—É–∑–∏—Ç–∏ —Ç–∏–ø –º–∞—Å–∏–≤—É –¥–æ –±—ñ–ª—å—à –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ.
>
> **–Ø–∫ —Ü–µ –ø–æ–≤'—è–∑–∞–Ω–æ –∑ –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤–∞–º–∏?**
>
> –°–∞–º–µ –∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å –º–∞—Å–∏–≤—ñ–≤ —Ä–æ–±–∏—Ç—å —ó—Ö –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–º–∏ —É –ø–æ—î–¥–Ω–∞–Ω–Ω—ñ –∑ –¥–∂–µ–Ω–µ—Ä–∏–∫–∞–º–∏ —ñ —î –æ–¥–Ω—ñ—î—é –∑ –ø—Ä–∏—á–∏–Ω –∑–∞–±–æ—Ä–æ–Ω–∏ –Ω–∞ `new T[]`.
> –Ø–∫–±–∏ `List<String>[]` –º–æ–∂–Ω–∞ –±—É–ª–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏, —Ç–æ —á–µ—Ä–µ–∑ –∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å –≤–∏ –± –º–æ–≥–ª–∏ –∑—Ä–æ–±–∏—Ç–∏ `Object[] array = new List<String>[];`, –∞ –ø–æ—Ç—ñ–º –ø–æ–∫–ª–∞—Å—Ç–∏ –≤ `array` –æ–±'—î–∫—Ç `List<Integer>`, —â–æ –ø—Ä–∏–∑–≤–µ–ª–æ –± –¥–æ `ClassCastException`.
>
> –Ü–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤ (`List<String>` –Ω–µ —î `List<Object>`) –±—É–ª–∞ –≤–≤–µ–¥–µ–Ω–∞, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–æ–¥—ñ–±–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º, —è–∫—ñ —ñ—Å–Ω—É—é—Ç—å —É –º–∞—Å–∏–≤—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó –∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–æ—Å—Ç—ñ –º–∞—Å–∏–≤—ñ–≤ —Ç–∞ —ó—ó —Ä–æ–ª—ñ —É –ø—Ä–æ–±–ª–µ–º—ñ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤—ñ–≤.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —â–æ —Ä–æ–±–∏—Ç—å –º–µ—Ç–æ–¥ `java.lang.reflect.Array.newInstance(Class<?> componentType, int length)`. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –º–µ—Ç–æ–¥ –∑ `Reflection API`, —è–∫–∏–π —î **—î–¥–∏–Ω–∏–º –Ω–∞–¥—ñ–π–Ω–∏–º —ñ —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º –¥–∏–Ω–∞–º—ñ—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Å–∏–≤** –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.
>
> **–©–æ –≤—ñ–Ω —Ä–æ–±–∏—Ç—å:**
>
> 1. `componentType`: –ü—Ä–∏–π–º–∞—î `Class`-–æ–±'—î–∫—Ç, —â–æ –æ–ø–∏—Å—É—î —Ç–∏–ø –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ –º–∞—Å–∏–≤—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `String.class`, `int.class`).
> 2. `length`: –ü—Ä–∏–π–º–∞—î —Ä–æ–∑–º—ñ—Ä –º–∞—Å–∏–≤—É.
> 3. **–ü–æ–≤–µ—Ä—Ç–∞—î:** –ù–æ–≤–∏–π –æ–±'—î–∫—Ç –º–∞—Å–∏–≤—É –≤–∫–∞–∑–∞–Ω–æ–≥–æ —Ç–∏–ø—É —Ç–∞ —Ä–æ–∑–º—ñ—Ä—É, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π —è–∫ `Object`. –ü–æ—Ç—ñ–º –π–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø—É –º–∞—Å–∏–≤—É.
>
> **–ß–æ–º—É –≤—ñ–Ω –≤–∞–∂–ª–∏–≤–∏–π –¥–ª—è –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤:**
>
> –°–∞–º–µ —Ü–µ–π –º–µ—Ç–æ–¥ –¥–æ–∑–≤–æ–ª—è—î **–æ–±—ñ–π—Ç–∏** –∑–∞–±–æ—Ä–æ–Ω—É –Ω–∞ `new T[]`. –í–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç–∏ –≤ –Ω—å–æ–≥–æ `Class<T>`, –æ—Ç—Ä–∏–º–∞–Ω–∏–π —è–∫ "—Ç–æ–∫–µ–Ω —Ç–∏–ø—É", —ñ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Å–∏–≤ `T[]`.
>
> ```java
> public <T> T[] createArray(Class<T> type, int size) {
>     @SuppressWarnings("unchecked")
>     T[] array = (T[]) Array.newInstance(type, size);
>     return array;
> }
> ```
>
> –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ —î –æ—Å–Ω–æ–≤–æ—é –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç–∞–∫–∏—Ö –º–µ—Ç–æ–¥—ñ–≤, —è–∫ `Collection.toArray(T[] a)`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è `Reflection API` —Ç–∞ —Ç–æ–≥–æ, —è–∫ –≤–æ–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –æ–±—Ö–æ–¥—É –æ–±–º–µ–∂–µ–Ω—å –º–æ–≤–∏, –∑–æ–∫—Ä–µ–º–∞, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∞–º–∏ —Ç–∞ –º–∞—Å–∏–≤–∞–º–∏.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£—è–≤—ñ—Ç—å, —â–æ —É –≤–∞—Å —î `List<List<String>>`. –Ø–∫ –π–æ–≥–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–∞ `List<String>[]`? –ß–∏ —Ü–µ –º–æ–∂–ª–∏–≤–æ? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, —Ü–µ –º–æ–∂–ª–∏–≤–æ, –∞–ª–µ, —è–∫ –∑–∞–≤–∂–¥–∏ –∑ –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤–∞–º–∏, –≤–∏–º–∞–≥–∞—î "–æ–±—Ö—ñ–¥–Ω–∏—Ö —à–ª—è—Ö—ñ–≤".
>
> `List<List<String>>` ‚Äî —Ü–µ –∫–æ—Ä–µ–∫—Ç–Ω–∏–π —Ç–∏–ø.
> `List<String>[]` ‚Äî —Ü–µ –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤, —è–∫–∏–π –Ω–µ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–∞–ø—Ä—è–º—É.
>
> **–†—ñ—à–µ–Ω–Ω—è:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –º–µ—Ç–æ–¥ `List.toArray(T[] a)`.
>
> ```java
> List<List<String>> listOfLists = new ArrayList<>();
> listOfLists.add(List.of("a", "b"));
> listOfLists.add(List.of("c", "d"));
>
> // 1. –°—Ç–≤–æ—Ä—é—î–º–æ "—à–∞–±–ª–æ–Ω–Ω–∏–π" –º–∞—Å–∏–≤ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ –≤ toArray
> // –¶–µ –¥–∞—Å—Ç—å –º–µ—Ç–æ–¥—É toArray —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ç–∏–ø
> @SuppressWarnings("unchecked") // –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è, –±–æ —Å—Ç–≤–æ—Ä—é—î–º–æ –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤
> List<String>[] templateArray = (List<String>[]) new List<?>[0];
>
> // 2. –í–∏–∫–ª–∏–∫–∞—î–º–æ toArray –∑ —Ü–∏–º —à–∞–±–ª–æ–Ω–æ–º
> List<String>[] finalArray = listOfLists.toArray(templateArray);
>
> // –ê–±–æ –±—ñ–ª—å—à –ø–æ—à–∏—Ä–µ–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –∑ –º–∞—Å–∏–≤–æ–º –Ω—É–ª—å–æ–≤–æ—ó –¥–æ–≤–∂–∏–Ω–∏:
> List<String>[] finalArray2 = listOfLists.toArray(new List[0]);
> ```
>
> –£ –¥—Ä—É–≥–æ–º—É –≤–∞—Ä—ñ–∞–Ω—Ç—ñ `toArray(new List[0])` –ø–æ–≤–µ—Ä–Ω–µ –º–∞—Å–∏–≤ `List[]` (–Ω–∞—Å–ø—Ä–∞–≤–¥—ñ, `Object[]`, —è–∫–∏–π –±—É–¥–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–π –¥–æ `List[]`). –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ `<String>` –±—É–¥–µ —Å—Ç–µ—Ä—Ç–∞, —ñ –ø—Ä–∏ –ø–æ–¥–∞–ª—å—à—ñ–π —Ä–æ–±–æ—Ç—ñ –∑ `finalArray2` –≤–∏ –º–æ–∂–µ—Ç–µ –∑—ñ—Ç–∫–Ω—É—Ç–∏—Å—è –∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—é –∫–∞—Å—Ç—ñ–≤ –∞–±–æ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω—å.
>
> –ë—ñ–ª—å—à –Ω–∞–¥—ñ–π–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç ‚Äî –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ `List<List<String>>` —ñ –Ω–µ –Ω–∞–º–∞–≥–∞—Ç–∏—Å—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –π–æ–≥–æ –Ω–∞ –º–∞—Å–∏–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –∑–Ω–∞–Ω–Ω—è –ø—Ä–æ `toArray` —Ç–∞ –Ω–µ–ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ –∫–∞—Å—Ç–∏ –¥–æ –±—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω–∏—Ö, –≤–∫–ª–∞–¥–µ–Ω–∏—Ö –¥–∂–µ–Ω–µ—Ä–∏–∫-—Ç–∏–ø—ñ–≤.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É —Ü–µ–π –∫–æ–¥ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è: `Number[] nums = new Integer[5];` –∞ —Ü–µ–π ‚Äî –Ω—ñ: `List<Number> nums = new ArrayList<Integer>();`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ–π –∫–æ–¥ —ñ–ª—é—Å—Ç—Ä—É—î –∫–ª—é—á–æ–≤—É –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å —É –¥–∏–∑–∞–π–Ω—ñ –º–∞—Å–∏–≤—ñ–≤ —Ç–∞ –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤: **–∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å –ø—Ä–æ—Ç–∏ —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–æ—Å—Ç—ñ**.
>
> 1. **`Number[] nums = new Integer[5];` ‚Äî –°–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è.**
>     * **–ü—Ä–∏—á–∏–Ω–∞:** –ú–∞—Å–∏–≤–∏ –≤ Java —î **–∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–∏–º–∏**. –Ø–∫—â–æ `Integer` —î –ø—ñ–¥—Ç–∏–ø–æ–º `Number`, —Ç–æ —ñ `Integer[]` —î –ø—ñ–¥—Ç–∏–ø–æ–º `Number[]`.
>     * **–ù–µ–¥–æ–ª—ñ–∫:** –¶–µ –Ω–µ —î –ø–æ–≤–Ω—ñ—Å—Ç—é –±–µ–∑–ø–µ—á–Ω–∏–º. –í–∏ –º–æ–∂–µ—Ç–µ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –∑—Ä–æ–±–∏—Ç–∏ `nums[0] = 3.14;` (Double), —â–æ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ `ArrayStoreException` –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è. –¢–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –≤ —Ä–∞–Ω—Ç–∞–π–º—ñ.
>
> 2. **`List<Number> nums = new ArrayList<Integer>();` ‚Äî –ù–ï —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è.**
>     * **–ü—Ä–∏—á–∏–Ω–∞:** –î–∂–µ–Ω–µ—Ä—ñ–∫–∏ –≤ Java —î **—ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–∏–º–∏**. `ArrayList<Integer>` **–Ω–µ —î** –ø—ñ–¥—Ç–∏–ø–æ–º `List<Number>`.
>     * **–ü–µ—Ä–µ–≤–∞–≥–∞:** –¶–µ –∑–∞–ø–æ–±—ñ–≥–∞—î –ø–æ–º–∏–ª–∫–∞–º –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó. –Ø–∫–±–∏ —Ü–µ –±—É–ª–æ –¥–æ–∑–≤–æ–ª–µ–Ω–æ, –º–æ–∂–Ω–∞ –±—É–ª–æ –± –¥–æ–¥–∞—Ç–∏ `Double` —É `List<Integer>` —á–µ—Ä–µ–∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è `List<Number>`, —â–æ "–∑–ª–∞–º–∞–ª–æ" –± —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å.
>
> –Ü–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–Ω—ñ—Å—Ç—å –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤ –±—É–ª–∞ –≤–≤–µ–¥–µ–Ω–∞ —Å–∞–º–µ –¥–ª—è —Ç–æ–≥–æ, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –ø—Ä–æ–±–ª–µ–º, —è–∫—ñ —ñ—Å–Ω—É—é—Ç—å —É –∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–∏—Ö –º–∞—Å–∏–≤—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω—Ü–µ–ø—Ü—ñ–π –∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–æ—Å—Ç—ñ —Ç–∞ —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–æ—Å—Ç—ñ —Ç–∞ —Ç–æ–≥–æ, —è–∫ –≤–æ–Ω–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –¥–æ —Ä—ñ–∑–Ω–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π –º–æ–≤–∏.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—â–æ Java –±—É–ª–∞ –± —Å–ø—Ä–æ–µ–∫—Ç–æ–≤–∞–Ω–∞ –∑ –Ω—É–ª—è —Å—å–æ–≥–æ–¥–Ω—ñ, —á–∏ —ñ—Å–Ω—É–≤–∞–ª–∞ –± –ø—Ä–æ–±–ª–µ–º–∞ –∑ –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤–∞–º–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –°–∫–æ—Ä—ñ—à –∑–∞ –≤—Å–µ, –Ω—ñ, –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∞ –±—É–ª–∞ –± –≤–∏—Ä—ñ—à–µ–Ω–∞ —ñ–Ω–∞–∫—à–µ.
>
> –ü—Ä–æ–±–ª–µ–º–∞ –∑ –¥–∂–µ–Ω–µ—Ä–∏–∫-–º–∞—Å–∏–≤–∞–º–∏ —î –ø—Ä—è–º–∏–º –Ω–∞—Å–ª—ñ–¥–∫–æ–º –¥–≤–æ—Ö —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö —Ä—ñ—à–µ–Ω—å:
>
> 1. –ó—Ä–æ–±–∏—Ç–∏ –º–∞—Å–∏–≤–∏ **–∫–æ–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–∏–º–∏**.
> 2. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏ —á–µ—Ä–µ–∑ **—Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤** –¥–ª—è –∑–≤–æ—Ä–æ—Ç–Ω–æ—ó —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ.
>
> **–Ø–∫–±–∏ Java –ø—Ä–æ–µ–∫—Ç—É–≤–∞–ª–∞—Å—è —Å—å–æ–≥–æ–¥–Ω—ñ:**
>
> 1. **–î–∂–µ–Ω–µ—Ä—ñ–∫–∏ –º–æ–≥–ª–∏ –± –±—É—Ç–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –±–µ–∑ —Å—Ç–∏—Ä–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ (—á–µ—Ä–µ–∑ reification)**, —è–∫ —É C# –∞–±–æ Kotlin. –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ç–∏–ø `List<String>` –∑–±–µ—Ä—ñ–≥–∞–ª–∞—Å—è –± –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, —ñ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è `new List<String>[]` –±—É–ª–æ –± –±–µ–∑–ø–µ—á–Ω–∏–º.
>
> 2. **–ú–∞—Å–∏–≤–∏ –º–æ–≥–ª–∏ –± –±—É—Ç–∏ –∑—Ä–æ–±–ª–µ–Ω—ñ —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–∏–º–∏**, —è–∫ —ñ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏. –¢–æ–¥—ñ `String[]` –Ω–µ –±—É–≤ –±–∏ –ø—ñ–¥—Ç–∏–ø–æ–º `Object[]`, —â–æ —É—Å—É–Ω—É–ª–æ –± –ø–µ—Ä—à–æ–ø—Ä–∏—á–∏–Ω—É –ø—Ä–æ–±–ª–µ–º–∏, —Ö–æ—á–∞ –π –∑—Ä–æ–±–∏–ª–æ –± –º–∞—Å–∏–≤–∏ –º–µ–Ω—à –≥–Ω—É—á–∫–∏–º–∏.
>
> 3. –ú–æ–∂–ª–∏–≤–æ, –ø–µ—Ä–µ–≤–∞–≥–∞ –±—É–ª–∞ –± –Ω–∞–¥–∞–Ω–∞ –≤–∏–∫–ª—é—á–Ω–æ **–∫–æ–ª–µ–∫—Ü—ñ—è–º**, –∞ –º–∞—Å–∏–≤–∏ –º–∞–ª–∏ –± –º–µ–Ω—à –≤–∞–∂–ª–∏–≤—É —Ä–æ–ª—å —É –º–æ–≤—ñ.
>
> –ü—Ä–æ–±–ª–µ–º–∞ –Ω–µ —î –Ω–µ–º–∏–Ω—É—á–æ—é, –∞ —î –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–º –µ–≤–æ–ª—é—Ü—ñ—ó –º–æ–≤–∏. –ù–æ–≤—ñ –º–æ–≤–∏, —â–æ –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞ JVM (—è–∫ Kotlin), –≤–∏—Ä—ñ—à—É—é—Ç—å —ó—ó –ø–æ-—Å–≤–æ—î–º—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –º–∞—Å–∏–≤–∏ –≤ Kotlin —î —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–Ω–∏–º–∏).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –¥–æ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —á–æ–º—É –ø–µ–≤–Ω—ñ –¥–∏–∑–∞–π–Ω–µ—Ä—Å—å–∫—ñ —Ä—ñ—à–µ–Ω–Ω—è –±—É–ª–∏ –ø—Ä–∏–π–Ω—è—Ç—ñ, —Ç–∞ —è–∫–∏–º–∏ –º–æ–≥–ª–∏ –± –±—É—Ç–∏ —ó—Ö–Ω—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–ø–∏—à—ñ—Ç—å —É–∑–∞–≥–∞–ª—å–Ω–µ–Ω–∏–π (–¥–∂–µ–Ω–µ—Ä–∏–∫) –º–µ—Ç–æ–¥, —è–∫–∏–π —Å—Ç–≤–æ—Ä—é—î –º–∞—Å–∏–≤ –∑ –æ–¥–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û—Å–∫—ñ–ª—å–∫–∏ –º–∏ –Ω–µ –º–æ–∂–µ–º–æ –Ω–∞–ø–∏—Å–∞—Ç–∏ `new T[1]`, –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é. –û–¥–Ω–∞–∫, —â–æ–± –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é, –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω `Class<T>`. –Ø–∫—â–æ –º–∏ –Ω–µ —Ö–æ—á–µ–º–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –π–æ–≥–æ —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä, —î —Ö–∏—Ç—Ä—ñ—Å—Ç—å –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º `varargs`.
>
> **–°–ø–æ—Å—ñ–± 1: –ß–µ—Ä–µ–∑ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é (–Ω–∞–π–±—ñ–ª—å—à –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π, —è–∫—â–æ —Ü–µ —á–∞—Å—Ç–∏–Ω–∞ –∫–ª–∞—Å—É)**
>
> ```java
> public <T> T[] createSingleElementArray(Class<T> type, T element) {
>     @SuppressWarnings("unchecked")
>     T[] array = (T[]) Array.newInstance(type, 1);
>     array[0] = element;
>     return array;
> }
> ```
>
> **–°–ø–æ—Å—ñ–± 2: –ß–µ—Ä–µ–∑ `varargs` (–ø–æ—à–∏—Ä–µ–Ω–∞ —ñ–¥—ñ–æ–º–∞)**
> `Varargs` –ø—Ä–∏ –≤–∏–∫–ª–∏–∫—É —Å—Ç–≤–æ—Ä—é—î –º–∞—Å–∏–≤, —ñ —Ü–µ–π –º–∞—Å–∏–≤ –º–æ–∂–Ω–∞ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏.
>
> ```java
> import java.util.Arrays;
>
> public class ArrayFactory {
>     // Varargs –Ω–µ—è–≤–Ω–æ —Å—Ç–≤–æ—Ä—é—î –º–∞—Å–∏–≤ T[]
>     public static <T> T[] of(T... elements) {
>         return elements;
>     }
>
>     public static void main(String[] args) {
>         String[] singleStringArray = of("hello");
>         System.out.println(Arrays.toString(singleStringArray));
>
>         Integer[] singleIntArray = of(123);
>         System.out.println(Arrays.toString(singleIntArray));
>     }
> }
> ```
>
> –•–æ—á–∞ –º–µ—Ç–æ–¥ `of` –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫, –Ω—ñ–±–∏ –≤—ñ–Ω –ø—Ä–∏–π–º–∞—î –∫—ñ–ª—å–∫–∞ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –Ω—ñ—â–æ –Ω–µ –∑–∞–≤–∞–∂–∞—î –ø–µ—Ä–µ–¥–∞—Ç–∏ –π–æ–º—É —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω. –¶–µ–π –º–µ—Ç–æ–¥ –±—É–¥–µ –ø–æ–∑–Ω–∞—á–µ–Ω–∏–π –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–æ–º —è–∫ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–π (—á–µ—Ä–µ–∑ `varargs` —ñ –¥–∂–µ–Ω–µ—Ä—ñ–∫–∏), –∞–ª–µ –≤ –¥–∞–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É –≤—ñ–Ω –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ, —Ç–æ–º—É –π–æ–≥–æ –º–æ–∂–Ω–∞ –∞–Ω–æ—Ç—É–≤–∞—Ç–∏ `@SafeVarargs`.
>
> –¢–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —É –±–∞–≥–∞—Ç—å–æ—Ö —Å—É—á–∞—Å–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞—Ö –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—Å–∏–≤—ñ–≤ –∞–±–æ –∫–æ–ª–µ–∫—Ü—ñ–π.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–∏—Ö "—Ç—Ä—é–∫—ñ–≤" —Ç–∞ –ø—Ä–æ—Å—É–Ω—É—Ç–∏—Ö —Ç–µ—Ö–Ω—ñ–∫ –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –ø–æ—à–∏—Ä–µ–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏ –¥–∂–µ–Ω–µ—Ä—ñ–∫—ñ–≤.*
