---
layout: default
title: "Consumer<T> - –æ–±—Ä–æ–±–∫–∞ –±–µ–∑ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É"
parent: "–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ"
grand_parent: "Java 8"
nav_order: 9
---

# Consumer<T> - –æ–±—Ä–æ–±–∫–∞ –±–µ–∑ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `Consumer<T>` ‚Äì —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —â–æ –ø—Ä–∏–π–º–∞—î –æ–±'—î–∫—Ç —Ç–∏–ø—É `T` —ñ –≤–∏–∫–æ–Ω—É—î –Ω–∞–¥ –Ω–∏–º –æ–ø–µ—Ä–∞—Ü—ñ—é –±–µ–∑ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É (`void`). –û—Å–Ω–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥ ‚Äì `void accept(T t)`.

* –ø–æ–Ω—è—Ç—Ç—è: `accept()`, `andThen()` (–∫–æ–º–±—ñ–Ω—É–≤–∞–Ω–Ω—è).

* –ø—Ä–∏–∫–ª–∞–¥–∏: `s -> System.out.println(s)` (`accept`), `print.andThen(printUpperCase)` (–ø–æ—Å–ª—ñ–¥–æ–≤–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥—ñ–π).

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π –∑ –ø–æ–±—ñ—á–Ω–∏–º–∏ –µ—Ñ–µ–∫—Ç–∞–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏–≤—ñ–¥, –ª–æ–≥—É–≤–∞–Ω–Ω—è, –∑–º—ñ–Ω–∞ —Å—Ç–∞–Ω—É `mutable` –æ–±'—î–∫—Ç–∞).

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –í—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –≤—ñ–¥ `Function`, —Ç–∏–ø–æ–≤—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**`Consumer<T>`** ‚Äî —Ü–µ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —ñ–∑ –ø–∞–∫–µ—Ç—É **`java.util.function`**, —è–∫–∏–π –ø—Ä–∏–π–º–∞—î –æ–±‚Äô—î–∫—Ç —Ç–∏–ø—É **`T`** —ñ –≤–∏–∫–æ–Ω—É—î –Ω–∞–¥ –Ω–∏–º –æ–ø–µ—Ä–∞—Ü—ñ—é –±–µ–∑ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É. –û—Å–Ω–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥ ‚Äî **`void accept(T t)`**

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

**`Consumer`** ‚Äî —Ü–µ ‚Äú–ø–æ–∫—É–ø–µ—Ü—å‚Äù, —â–æ –±–µ—Ä–µ —â–æ—Å—å —ñ —Ä–æ–±–∏—Ç—å –∑ —Ü–∏–º —â–æ—Å—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥—Ä—É–∫—É—î –∞–±–æ –∑–º—ñ–Ω—é—î), –∞–ª–µ –Ω—ñ—á–æ–≥–æ –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—î

---

## üìä **–ü–µ—Ä–µ–ª—ñ–∫ –æ—Å–Ω–æ–≤–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤:**

|                            –ú–µ—Ç–æ–¥                             |                               –û–ø–∏—Å                                |
|:------------------------------------------------------------:|:-----------------------------------------------------------------:|
|                    **`void accept(T t)`**                    |    –í–∏–∫–æ–Ω—É—î –æ–ø–µ—Ä–∞—Ü—ñ—é –Ω–∞–¥ –æ–±‚Äô—î–∫—Ç–æ–º `t` –±–µ–∑ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è.     |
| **`default Consumer<T> andThen(Consumer<? super T> after)`** | –ü–æ—î–¥–Ω—É—î –¥–≤–∞ —Å–ø–æ–∂–∏–≤–∞—á—ñ: —Å–ø–æ—á–∞—Ç–∫—É –≤–∏–∫–æ–Ω—É—î —Ü–µ–π, –ø–æ—Ç—ñ–º ‚Äî **`after`**. |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

* **`accept()`** ‚Äî —Ç–∏ –¥–∞—î—à –æ–±‚Äô—î–∫—Ç, Consumer –∑ –Ω–∏–º —â–æ—Å—å —Ä–æ–±–∏—Ç—å, –∞–ª–µ –Ω—ñ—á–æ–≥–æ –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—î (—Ç–∏–ø—É ‚Äú–≤–∏–≤–µ–¥–∏ –Ω–∞ –µ–∫—Ä–∞–Ω‚Äù –∞–±–æ ‚Äú–∑–º—ñ–Ω–∏ —Å—Ç–∞–Ω‚Äù).
* **`andThen()`** ‚Äî –¥–∞—î –∑–º–æ–≥—É ‚Äú—Å–∫–ª–µ—ó—Ç–∏‚Äù –∫—ñ–ª—å–∫–∞ –¥—ñ–π, —â–æ–± –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —ó—Ö –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
Consumer<String> print = s -> System.out.println(s);
Consumer<String> printUpperCase = s -> System.out.println(s.toUpperCase());

print.accept("hello"); // –≤–∏–≤–µ–¥–µ: hello

// –ü–æ—î–¥–Ω–∞–Ω–Ω—è –¥–≤–æ—Ö Consumer
Consumer<String> combined = print.andThen(printUpperCase);
combined.accept("hello");  
// –≤–∏–≤–µ–¥–µ: 
// hello
// HELLO

// –ú–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è –æ–±'—î–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–º—ñ–Ω–∞ —Å—Ç–∞–Ω—É)
Consumer<List<String>> addElement = list -> list.add("New Element");
List<String> list = new ArrayList<>();
addElement.accept(list);
System.out.println(list); // [New Element]
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

|     –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞      |         Consumer\<T\>         |      Function\<T, R\>      |
|:-----------------------:|:-----------------------------:|:--------------------------:|
| **–ü–æ–≤–µ—Ä—Ç–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç?** |              –ù—ñ               |            –¢–∞–∫             |
|        **–ú–µ—Ç–æ–¥**        |    **`void accept(T t)`**     |     **`R apply(T t)`**     |
|    **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**     | –û–ø–µ—Ä–∞—Ü—ñ—ó –∑ –ø–æ–±—ñ—á–Ω–∏–º–∏ –µ—Ñ–µ–∫—Ç–∞–º–∏ |     –ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö     |
| **–ü–æ—î–¥–Ω–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü–∏–π**  |        **`andThen()`**        | **`compose(), andThen()`** |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

* **accept** ‚Äî ‚Äú–ø—Ä–∏–π–Ω—è—Ç–∏ —Ç–∞ –æ–±—Ä–æ–±–∏—Ç–∏‚Äù
* **andThen** ‚Äî ‚Äú—ñ –ø–æ—Ç—ñ–º –∑—Ä–æ–±–∏—Ç–∏ —â–µ‚Äù
* Consumer ‚Äî ‚Äú–ø—Ä–∏–π–º–∞—î, —Ä–æ–±–∏—Ç—å, –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—î‚Äù

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* **`Consumer<T>`** ‚Äî —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π, —â–æ –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
* –û—Å–Ω–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥ ‚Äî **`accept(T t)`**
* –î–æ–∑–≤–æ–ª—è—î –ø–æ—î–¥–Ω—É–≤–∞—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ **`andThen()`**
* –Ü–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ø–æ–±—ñ—á–Ω–∏–º–∏ –µ—Ñ–µ–∫—Ç–∞–º–∏.
* –ó–Ω–∞–Ω–Ω—è Consumer –≤–∞–∂–ª–∏–≤–µ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–æ–∑—É–º—ñ–Ω–Ω—è API —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∏–ª—é Java.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Java Docs ‚Äî Consumer**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Consumer<T>` —ñ —è–∫–∞ –π–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–∞ –º–µ—Ç–∞?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`Consumer<T>`** ‚Äî —Ü–µ –æ–¥–∏–Ω –∑ —á–æ—Ç–∏—Ä—å–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏—Ö —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤ –∑ –ø–∞–∫–µ—Ç—É `java.util.function`.
>
> **–ô–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–∞ –º–µ—Ç–∞** ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ—é, —è–∫–∞ **–ø—Ä–∏–π–º–∞—î –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç** –ø–µ–≤–Ω–æ–≥–æ —Ç–∏–ø—É (`T`) —ñ **–≤–∏–∫–æ–Ω—É—î –Ω–∞–¥ –Ω–∏–º —è–∫—É—Å—å –¥—ñ—é, –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—é—á–∏ –∂–æ–¥–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É**. –ô–æ–≥–æ –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä—Ç–∞—î `void`.
>
> –í—ñ–Ω –º–∞—î –ª–∏—à–µ –æ–¥–∏–Ω –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –º–µ—Ç–æ–¥: **`void accept(T t)`**.
>
> `Consumer<T>` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π, —è–∫—ñ –º–∞—é—Ç—å **–ø–æ–±—ñ—á–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ (side-effects)**, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:
>
> * –í–∏–≤—ñ–¥ –¥–∞–Ω–∏—Ö —É –∫–æ–Ω—Å–æ–ª—å (`System.out.println`).
> * –ó–∞–ø–∏—Å —É —Ñ–∞–π–ª –∞–±–æ –ª–æ–≥.
> * –ó–º—ñ–Ω–∞ —Å—Ç–∞–Ω—É –º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞.
>
> –£ Stream API –≤—ñ–Ω —î –æ—Å–Ω–æ–≤–æ—é –¥–ª—è —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É **`forEach()`**.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–£—è–≤—ñ—Ç—å `Consumer` —è–∫ –∫–Ω–æ–ø–∫—É –Ω–∞ –ø—Ä–∏–ª–∞–¥—ñ. –í–∏ –Ω–∞—Ç–∏—Å–∫–∞—î—Ç–µ —ó—ó (–ø–µ—Ä–µ–¥–∞—î—Ç–µ "—Å–∏–≥–Ω–∞–ª"), —ñ –≤–æ–Ω–∞ –≤–∏–∫–æ–Ω—É—î –¥—ñ—é (–≤–º–∏–∫–∞—î —Å–≤—ñ—Ç–ª–æ, –∑–∞–ø—É—Å–∫–∞—î –º–µ—Ö–∞–Ω—ñ–∑–º), –∞–ª–µ —Å–∞–º–∞ –∫–Ω–æ–ø–∫–∞ –Ω—ñ—á–æ–≥–æ –≤–∞–º –Ω–µ "–ø–æ–≤–µ—Ä—Ç–∞—î". –í–æ–Ω–∞ –ø—Ä–æ—Å—Ç–æ —â–æ—Å—å —Ä–æ–±–∏—Ç—å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ë–∞–∑–æ–≤–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è `Consumer` —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –π–æ–≥–æ –∫–ª—é—á–æ–≤–æ—ó —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ ‚Äî –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥—ñ—ó –±–µ–∑ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É (–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–ª—è –ø–æ–±—ñ—á–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤).*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–π –æ—Å–Ω–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥ –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ `Consumer` —ñ —è–∫ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏? –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û—Å–Ω–æ–≤–Ω–∏–π —ñ —î–¥–∏–Ω–∏–π –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –º–µ—Ç–æ–¥ –≤ `Consumer` ‚Äî —Ü–µ **`void accept(T t)`**.
>
> **–Ø–∫ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**
> –ú–µ—Ç–æ–¥ `accept()` –ø—Ä–∏–π–º–∞—î –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç —Ç–∏–ø—É `T` —ñ –≤–∏–∫–æ–Ω—É—î –Ω–∞–¥ –Ω–∏–º –ª–æ–≥—ñ–∫—É, –≤–∏–∑–Ω–∞—á–µ–Ω—É –≤ –ª—è–º–±–¥–∞-–≤–∏—Ä–∞–∑—ñ –∞–±–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—ñ –Ω–∞ –º–µ—Ç–æ–¥.
>
> "Accept" –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–∫–ª–∞—Å—Ç–∏ —è–∫ "–ø—Ä–∏–π–Ω—è—Ç–∏" ‚Äî —Ç–æ–±—Ç–æ –≤—ñ–Ω –ø—Ä–∏–π–º–∞—î –æ–±'—î–∫—Ç –¥–ª—è –æ–±—Ä–æ–±–∫–∏.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
import java.util.function.Consumer;

public class ConsumerExample {
    public static void main(String[] args) {
        // –°—Ç–≤–æ—Ä—é—î–º–æ Consumer, —è–∫–∏–π –≤–∏–≤–æ–¥–∏—Ç—å —Ä—è–¥–æ–∫ —É –≤–µ—Ä—Ö–Ω—å–æ–º—É —Ä–µ–≥—ñ—Å—Ç—Ä—ñ
        Consumer<String> printUpperCase = text -> System.out.println(text.toUpperCase());
        
        // –í–∏–∫–ª–∏–∫–∞—î–º–æ –º–µ—Ç–æ–¥ accept(), —â–æ–± –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥—ñ—é
        printUpperCase.accept("hello world"); // –í–∏–≤–µ–¥–µ: HELLO WORLD

        // –ü—Ä–∏–∫–ª–∞–¥ –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ –º–µ—Ç–æ–¥
        Consumer<String> printer = System.out::println;
        printer.accept("Hello again"); // –í–∏–≤–µ–¥–µ: Hello again
    }
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –∫–ª—é—á–æ–≤–æ–≥–æ –º–µ—Ç–æ–¥—É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É —Ç–∞ –ø—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ –π–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥—ñ—ó.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `Consumer` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ `Stream.forEach()`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ú–µ—Ç–æ–¥ `forEach()` —î **—Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é** –≤ Stream API, —è–∫–∞ –≤–∏–∫–æ–Ω—É—î –ø–µ–≤–Ω—É –¥—ñ—é –¥–ª—è **–∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞** –ø–æ—Ç–æ–∫—É. –¶—é "–¥—ñ—é" —è–∫—Ä–∞–∑ —ñ –≤–∏–∑–Ω–∞—á–∞—î `Consumer`.
>
> –°–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥—É: `void forEach(Consumer<? super T> action)`
>
> –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ `forEach` –ø—Ä–∏–π–º–∞—î `Consumer` —ñ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –≤–∏–∫–ª–∏–∫–∞—î –π–æ–≥–æ –º–µ—Ç–æ–¥ `accept()` –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ –≤ —Å—Ç—Ä—ñ–º—ñ. –û—Å–∫—ñ–ª—å–∫–∏ `forEach` —î —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é, –≤–æ–Ω–∞ –Ω—ñ—á–æ–≥–æ –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—î (–ø–æ–≤–µ—Ä—Ç–∞—î `void`).

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
import java.util.List;
import java.util.function.Consumer;

public class ForEachExample {
    public static void main(String[] args) {
        List<String> names = List.of("Alice", "Bob", "Charlie");

        // –°—Ç–≤–æ—Ä—é—î–º–æ Consumer –¥–ª—è –≤–∏–≤–æ–¥—É –≤ –∫–æ–Ω—Å–æ–ª—å
        Consumer<String> logger = name -> System.out.println("Processing: " + name);

        // –ü–µ—Ä–µ–¥–∞—î–º–æ Consumer –≤ forEach
        names.stream().forEach(logger);
        
        // –ë—ñ–ª—å—à –ø–æ—à–∏—Ä–µ–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç - –ø–µ—Ä–µ–¥–∞—á–∞ –ª—è–º–±–¥–∏ –∞–±–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞–ø—Ä—è–º—É
        names.stream().forEach(System.out::println);
    }
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ä–æ–ª—ñ `Consumer` —É Stream API. `forEach` —î –æ–¥–Ω–∏–º –∑ –Ω–∞–π—á–∞—Å—Ç—ñ—à–∏—Ö –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω—å —Ü—å–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —á–æ–º—É –æ—Å–Ω–æ–≤–Ω–∞ –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –º—ñ–∂ `Consumer<T>` —Ç–∞ `Function<T, R>`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ì–æ–ª–æ–≤–Ω–∞ –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —á–∏ **–ø–æ–≤–µ—Ä—Ç–∞—î –æ–ø–µ—Ä–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç**.
>
> * **`Consumer<T>` (–°–ø–æ–∂–∏–≤–∞—á):**
>   * **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –í–∏–∫–æ–Ω–∞—Ç–∏ –¥—ñ—é –∑ –ø–æ–±—ñ—á–Ω–∏–º –µ—Ñ–µ–∫—Ç–æ–º.
>   * **–ú–µ—Ç–æ–¥:** `void accept(T t)`
>   * **–†–µ–∑—É–ª—å—Ç–∞—Ç:** **–ù–µ –ø–æ–≤–µ—Ä—Ç–∞—î –Ω—ñ—á–æ–≥–æ** (`void`).
>   * **–ê–Ω–∞–ª–æ–≥—ñ—è:** –í–∏–≤–µ—Å—Ç–∏ –Ω–∞ –¥—Ä—É–∫.
>
> * **`Function<T, R>` (–§—É–Ω–∫—Ü—ñ—è/–ü–µ—Ä–µ—Ç–≤–æ—Ä—é–≤–∞—á):**
>   * **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** **–ü–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏** –≤—Ö—ñ–¥–Ω–∏–π –æ–±'—î–∫—Ç –Ω–∞ –≤–∏—Ö—ñ–¥–Ω–∏–π.
>   * **–ú–µ—Ç–æ–¥:** `R apply(T t)`
>   * **–†–µ–∑—É–ª—å—Ç–∞—Ç:** **–ü–æ–≤–µ—Ä—Ç–∞—î** –∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∏–ø—É `R`.
>   * **–ê–Ω–∞–ª–æ–≥—ñ—è:** –ö–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ –≤–∞–ª—é—Ç—É.
>
> **–ö–æ—Ä–æ—Ç–∫–æ:** `Consumer` ‚Äî "–∑—Ä–æ–±–∏ —ñ –∑–∞–±—É–¥—å", `Function` ‚Äî "–≤—ñ–∑—å–º–∏ —ñ –ø–æ–≤–µ—Ä–Ω–∏ —â–æ—Å—å –Ω–æ–≤–µ".
>
> `Consumer` —î —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é —É —Å—Ç—Ä—ñ–º–∞—Ö (`forEach`), —Ç–æ–¥—ñ —è–∫ `Function` —î –ø—Ä–æ–º—ñ–∂–Ω–æ—é (`map`).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ß—ñ—Ç–∫–µ —Ä–æ–∑–º–µ–∂—É–≤–∞–Ω–Ω—è —Å–µ–º–∞–Ω—Ç–∏–∫–∏ –¥–≤–æ—Ö –∫–ª—é—á–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏—Ö —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤. –¶–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–µ –∑–Ω–∞–Ω–Ω—è –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ª—è–º–±–¥–∞–º–∏ —Ç–∞ —Å—Ç—Ä—ñ–º–∞–º–∏.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ä–æ–±–∏—Ç—å `default`-–º–µ—Ç–æ–¥ `andThen()` –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ `Consumer`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ú–µ—Ç–æ–¥ `andThen()` –¥–æ–∑–≤–æ–ª—è—î **–∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏** –¥–≤–∞ `Consumer`'–∞, —Å—Ç–≤–æ—Ä—é—é—á–∏ –Ω–æ–≤–∏–π `Consumer`, —è–∫–∏–π –±—É–¥–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —ó—Ö–Ω—ñ –¥—ñ—ó **–ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ**.
>
> **–°–∏–Ω—Ç–∞–∫—Å–∏—Å:** `consumer1.andThen(consumer2)`
>
> **–ü–æ—Ä—è–¥–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** –°–ø–æ—á–∞—Ç–∫—É –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–∏–π `consumer1`, –∞ **–ü–û–¢–Ü–ú** ‚Äî `consumer2`.
>
> –¶–µ –∑—Ä—É—á–Ω–∏–π —Å–ø–æ—Å—ñ–± —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –ª–∞–Ω—Ü—é–∂–∫–∏ –æ–ø–µ—Ä–∞—Ü—ñ–π, —è–∫—ñ –º–∞—é—Ç—å –±—É—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω—ñ –¥–ª—è –æ–¥–Ω–æ–≥–æ –π —Ç–æ–≥–æ –∂ –æ–±'—î–∫—Ç–∞, –Ω–µ —Å—Ç–≤–æ—Ä—é—é—á–∏ —Å–∫–ª–∞–¥–Ω–∏—Ö –ª—è–º–±–¥–∞-–≤–∏—Ä–∞–∑—ñ–≤.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
Consumer<String> logToFile = s -> System.out.println("Logging to file: " + s);
Consumer<String> sendNotification = s -> System.out.println("Sending notification: " + s);

// –°—Ç–≤–æ—Ä—é—î–º–æ –∫–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π Consumer
Consumer<String> logAndNotify = logToFile.andThen(sendNotification);

logAndNotify.accept("User logged in");
// –í–∏–≤–µ–¥–µ:
// Logging to file: User logged in
// Sending notification: User logged in
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–º–ø–æ–∑–∏—Ü—ñ—ó –¥–ª—è `Consumer`'—ñ–≤. –¶–µ –ø–æ–∫–∞–∑—É—î –∑–Ω–∞–Ω–Ω—è API —Ç–∞ –≤–º—ñ–Ω–Ω—è –ø–∏—Å–∞—Ç–∏ —á–∏—Å—Ç–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –∫–æ–¥.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ `BiConsumer<T, U>` —ñ —è–∫–∏–π –π–æ–≥–æ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏–π –≤–∏–ø–∞–¥–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`BiConsumer<T, U>`** ‚Äî —Ü–µ "bi"-–≤–µ—Ä—Å—ñ—è `Consumer`, —è–∫–∞ –ø—Ä–∏–π–º–∞—î **–¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∏** —Ä—ñ–∑–Ω–∏—Ö (–∞–±–æ –æ–¥–Ω–∞–∫–æ–≤–∏—Ö) —Ç–∏–ø—ñ–≤ —ñ –≤–∏–∫–æ–Ω—É—î –Ω–∞–¥ –Ω–∏–º–∏ –¥—ñ—é, –Ω—ñ—á–æ–≥–æ –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—é—á–∏.
>
> –ô–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥: **`void accept(T t, U u)`**.
>
> **–ù–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏–π –≤–∏–ø–∞–¥–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `BiConsumer` ‚Äî —Ü–µ —ñ—Ç–µ—Ä–∞—Ü—ñ—è –ø–æ `Map` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–µ—Ç–æ–¥—É `forEach()`.**
> –ú–µ—Ç–æ–¥ `Map.forEach` –ø—Ä–∏–π–º–∞—î `BiConsumer`, –¥–µ –ø–µ—Ä—à–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç (`T`) ‚Äî —Ü–µ –∫–ª—é—á –º–∞–ø–∏, –∞ –¥—Ä—É–≥–∏–π (`U`) ‚Äî —ó—ó –∑–Ω–∞—á–µ–Ω–Ω—è.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
Map<String, Integer> productPrices = Map.of("Apple", 5, "Banana", 2);

// –°—Ç–≤–æ—Ä—é—î–º–æ BiConsumer –¥–ª—è –≤–∏–≤–æ–¥—É –≤ –∫–æ–Ω—Å–æ–ª—å
BiConsumer<String, Integer> printProduct = (product, price) -> 
    System.out.println(product + " costs " + price + "$");

// –ü–µ—Ä–µ–¥–∞—î–º–æ –π–æ–≥–æ –≤ forEach
productPrices.forEach(printProduct);
// –í–∏–≤–µ–¥–µ:
// Apple costs 5$
// Banana costs 2$
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∫—ñ–ª—å–∫–æ–º–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ —Ç–∞ —ó—Ö–Ω—î –ø—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∑ `Map`.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥, –¥–µ `Consumer` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–º—ñ–Ω–∏ —Å—Ç–∞–Ω—É –º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `Consumer` —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π, —è–∫—ñ –∑–º—ñ–Ω—é—é—Ç—å —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞ (–º—É—Ç–∞—Ü—ñ—è), –æ—Å–∫—ñ–ª—å–∫–∏ —Ç–∞–∫—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑–∞–∑–≤–∏—á–∞–π –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.
>
> **–°—Ü–µ–Ω–∞—Ä—ñ–π:** –£ –Ω–∞—Å —î —Å–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (`User`), —ñ –º–∏ —Ö–æ—á–µ–º–æ –∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –≤—Å—ñ—Ö –Ω–µ–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
>
> –ú–∏ –º–æ–∂–µ–º–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ `Consumer<User>`, —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Å—Ç–∞—Ç—É—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —ñ –∑–º—ñ–Ω—é—î –π–æ–≥–æ, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
class User {
    private boolean active = false;
    // getter/setter ...
}

public class StateChangeExample {
    public static void main(String[] args) {
        List<User> users = List.of(new User(), new User());
        
        // Consumer, —â–æ –∑–º—ñ–Ω—é—î —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞
        Consumer<User> activateUser = user -> user.setActive(true);

        users.forEach(activateUser);
        
        // –¢–µ–ø–µ—Ä –≤—Å—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –≤ —Å–ø–∏—Å–∫—É –∞–∫—Ç–∏–≤–Ω—ñ
    }
}
```

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

–•–æ—á–∞ —Ü–µ –º–æ–∂–ª–∏–≤–æ, –∑–º—ñ–Ω–∞ —Å—Ç–∞–Ω—É –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `Stream.forEach` (–æ—Å–æ–±–ª–∏–≤–æ `parallelStream`) –≤–≤–∞–∂–∞—î—Ç—å—Å—è **–ø–æ–≥–∞–Ω–æ—é –ø—Ä–∞–∫—Ç–∏–∫–æ—é**, –æ—Å–∫—ñ–ª—å–∫–∏ —Å—Ç–≤–æ—Ä—é—î –ø–æ–±—ñ—á–Ω—ñ –µ—Ñ–µ–∫—Ç–∏, —è–∫—ñ –≤–∞–∂–∫–æ –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó "–ø–æ–±—ñ—á–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤" (side-effects) —Ç–∞ —Ä–æ–ª—ñ `Consumer` —É —ó—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω—ñ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó `Consumer` —ñ –¥–ª—è —á–æ–≥–æ –≤–æ–Ω–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –≤–µ—Ä—Å—ñ—ó —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É `Consumer`, –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ (`int`, `long`, `double`).
>
> **–û—Å–Ω–æ–≤–Ω—ñ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó:**
>
> * `IntConsumer`: –º–µ—Ç–æ–¥ `void accept(int value)`
> * `LongConsumer`: –º–µ—Ç–æ–¥ `void accept(long value)`
> * `DoubleConsumer`: –º–µ—Ç–æ–¥ `void accept(double value)`
>
> **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –£–Ω–∏–∫–Ω—É—Ç–∏ **boxing/unboxing** (–∞–≤—Ç–æ–ø–∞–∫—É–≤–∞–Ω–Ω—è/—Ä–æ–∑–ø–∞–∫—É–≤–∞–Ω–Ω—è) –¥–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.
>
> –ö–æ–ª–∏ –≤–∏ –ø–µ—Ä–µ–¥–∞—î—Ç–µ –ø—Ä–∏–º—ñ—Ç–∏–≤ (–Ω–∞–ø—Ä., `int`) —É –∑–≤–∏—á–∞–π–Ω–∏–π `Consumer<Integer>`, Java —Å—Ç–≤–æ—Ä—é—î –¥–ª—è –Ω—å–æ–≥–æ –æ–±'—î–∫—Ç-–æ–±–≥–æ—Ä—Ç–∫—É `Integer`. –ü—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏ —á–∏—Å–ª–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö —Ü–µ —Å—Ç–≤–æ—Ä—é—î –∑–Ω–∞—á–Ω–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –ø–∞–º'—è—Ç—å —ñ –∑–±–∏—Ä–∞—á–∞ —Å–º—ñ—Ç—Ç—è. –ü—Ä–∏–º—ñ—Ç–∏–≤–Ω—ñ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø—Ä–∞—Ü—é—é—Ç—å –∑ –ø—Ä–∏–º—ñ—Ç–∏–≤–∞–º–∏ –Ω–∞–ø—Ä—è–º—É, —â–æ —î –Ω–∞–±–∞–≥–∞—Ç–æ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∞—Å–ø–µ–∫—Ç—ñ–≤ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –≤ Java —Ç–∞ –∑–Ω–∞–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ `forEach` –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ `Iterable`, —ñ —á–æ–º—É –≤—ñ–Ω –ø—Ä–∏–π–º–∞—î `Consumer`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ú–µ—Ç–æ–¥ `forEach` –±—É–≤ –¥–æ–¥–∞–Ω–∏–π –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Iterable` —É Java 8 —è–∫ **`default`-–º–µ—Ç–æ–¥**. –¶–µ –¥–æ–∑–≤–æ–ª–∏–ª–æ –¥–æ–¥–∞—Ç–∏ —Ü—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –¥–æ –≤—Å—ñ—Ö —ñ—Å–Ω—É—é—á–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —ó—Ö–Ω—ñ –∫–ª–∞—Å–∏.
>
> **–Ø–∫ –≤—ñ–Ω —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:**
>
> –ô–æ–≥–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —î –¥–æ—Å–∏—Ç—å –ø—Ä–æ—Å—Ç–æ—é. –í—ñ–Ω —ñ—Ç–µ—Ä—É—î—Ç—å—Å—è –ø–æ –µ–ª–µ–º–µ–Ω—Ç–∞—Ö –∫–æ–ª–µ–∫—Ü—ñ—ó –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ `for-each` —Ü–∏–∫–ª—É —ñ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ –≤–∏–∫–ª–∏–∫–∞—î –º–µ—Ç–æ–¥ `accept()` –ø–µ—Ä–µ–¥–∞–Ω–æ–≥–æ `Consumer`'–∞.
>
> ```java
> default void forEach(Consumer<? super T> action) {
>     Objects.requireNonNull(action); // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ null
>     for (T t : this) {
>         action.accept(t);
>     }
> }
> ```
>
> **–ß–æ–º—É –≤—ñ–Ω –ø—Ä–∏–π–º–∞—î `Consumer`?**
> –¢–æ–º—É —â–æ `forEach` —î **—Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é**, —è–∫–∞ –≤–∏–∫–æ–Ω—É—î –¥—ñ—é —ñ **–Ω—ñ—á–æ–≥–æ –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—î** (`void`). `Consumer` —ñ–¥–µ–∞–ª—å–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Ü—ñ–π —Å–∏–≥–Ω–∞—Ç—É—Ä—ñ: –≤—ñ–Ω –ø—Ä–∏–π–º–∞—î –µ–ª–µ–º–µ–Ω—Ç (`accept(T)`) —ñ —Ç–∞–∫–æ–∂ –ø–æ–≤–µ—Ä—Ç–∞—î `void`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –Ω–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ Java 8 (`default`-–º–µ—Ç–æ–¥–∏) –±—É–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ–≥–æ Collections API, —Ç–∞ –∑–≤'—è–∑–∫—É –º—ñ–∂ `forEach` —Ç–∞ `Consumer`.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `Consumer` –¥–ª—è –∑–º—ñ–Ω–∏ –∫–æ–ª–µ–∫—Ü—ñ—ó, –ø–æ —è–∫—ñ–π –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —ñ—Ç–µ—Ä–∞—Ü—ñ—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `forEach`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ù—ñ, —Ü–µ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ —ñ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ `ConcurrentModificationException`.**
>
> **–ü—Ä–æ–±–ª–µ–º–∞:**
>
> –ú–µ—Ç–æ–¥ `forEach` (—è–∫ —ñ –∑–≤–∏—á–∞–π–Ω–∏–π `for-each` —Ü–∏–∫–ª) –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **`Iterator`**. –Ü—Ç–µ—Ä–∞—Ç–æ—Ä —É Java –ø—Ä–∞—Ü—é—î –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º **fail-fast**. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ —è–∫—â–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–ª–µ–∫—Ü—ñ—ó –∑–º—ñ–Ω—é—î—Ç—å—Å—è (–¥–æ–¥–∞—é—Ç—å—Å—è –∞–±–æ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è –µ–ª–µ–º–µ–Ω—Ç–∏) –±—É–¥—å-—è–∫–∏–º —ñ–Ω—à–∏–º —Å–ø–æ—Å–æ–±–æ–º, –æ–∫—Ä—ñ–º –≤–∏–∫–ª–∏–∫—É –º–µ—Ç–æ–¥—É `iterator.remove()`, —ñ—Ç–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ–π —Å–ø—Ä–æ–±—ñ –¥–æ—Å—Ç—É–ø—É –∫–∏–Ω–µ `ConcurrentModificationException`.
>
> `Consumer`, –ø–µ—Ä–µ–¥–∞–Ω–∏–π —É `forEach`, –Ω—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞—î –ø—Ä–æ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä —ñ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∑–º—ñ–Ω–∏—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—é –Ω–∞–ø—Ä—è–º—É.
>
> **–©–æ –±—É–¥–µ:**
> –ù–∞ –ø–µ—Ä—à—ñ–π –∂–µ —ñ—Ç–µ—Ä–∞—Ü—ñ—ó –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ –∫–æ–ª–µ–∫—Ü—ñ—ó –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –≤–∏–Ω—è—Ç–æ–∫.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ (–ø–æ–≥–∞–Ω–∏–π –∫–æ–¥):**

```java
List<String> list = new ArrayList<>(List.of("a", "b", "c"));
Consumer<String> remover = s -> {
    if (s.equals("b")) {
        list.remove(s); // –ù–µ–±–µ–∑–ø–µ—á–Ω–∞ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è!
    }
};

// –¢—É—Ç –±—É–¥–µ –∫–∏–Ω—É—Ç–æ ConcurrentModificationException
assertThrows(ConcurrentModificationException.class, () -> list.forEach(remover));
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥:** –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –ø—ñ–¥ —á–∞—Å —ñ—Ç–µ—Ä–∞—Ü—ñ—ó —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —è–≤–Ω–∏–π `Iterator` –∞–±–æ –º–µ—Ç–æ–¥ `removeIf`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫—ñ –∑–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä—ñ–≤ —Ç–∞ –º–µ—Ö–∞–Ω—ñ–∑–º—É `fail-fast`. –¶–µ –∫–ª–∞—Å–∏—á–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è –∑ –ø—ñ–¥—Å—Ç—É–ø–æ–º –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø–æ–±—ñ—á–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤ —É `forEach`.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ `Consumer`, —â–æ –≥—Ä–∞—Ü—ñ–π–Ω–æ –æ–±—Ä–æ–±–ª—è—î `null`-–∑–Ω–∞—á–µ–Ω–Ω—è, –Ω–µ –∫–∏–¥–∞—é—á–∏ `NullPointerException`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–± ‚Äî —Ü–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ "–æ–±–≥–æ—Ä—Ç–∫—É", —è–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–∞ `null` –ø–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º –æ—Å–Ω–æ–≤–Ω–æ—ó –¥—ñ—ó.
>
> –ú–∏ –º–æ–∂–µ–º–æ –Ω–∞–ø–∏—Å–∞—Ç–∏ —É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω–∏–π –º–µ—Ç–æ–¥, —è–∫–∏–π –ø—Ä–∏–π–º–∞—î `Consumer` —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –Ω–æ–≤–∏–π `Consumer` –∑ –≤–±—É–¥–æ–≤–∞–Ω–æ—é –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é.
>
> **–õ–æ–≥—ñ–∫–∞:**
>
> 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é-–æ–±–≥–æ—Ä—Ç–∫—É `wrapNullSafe`.
> 2. –í–æ–Ω–∞ –ø—Ä–∏–π–º–∞—î –Ω–∞—à –æ—Å–Ω–æ–≤–Ω–∏–π `Consumer` (`action`).
> 3. –í–æ–Ω–∞ –ø–æ–≤–µ—Ä—Ç–∞—î –Ω–æ–≤–∏–π `Consumer`, —è–∫–∏–π —É —Å–≤–æ—î–º—É –º–µ—Ç–æ–¥—ñ `accept` —Å–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î –≤—Ö—ñ–¥–Ω–∏–π –æ–±'—î–∫—Ç `null`.
> 4. –Ø–∫—â–æ –æ–±'—î–∫—Ç –Ω–µ `null`, –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `action.accept()`. –Ø–∫—â–æ `null` ‚Äî –Ω—ñ—á–æ–≥–æ –Ω–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ —É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É:**

```java
public static <T> Consumer<T> wrapNullSafe(Consumer<T> action) {
    return item -> {
        if (item != null) {
            action.accept(item);
        }
    };
}

// –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
List<String> names = Arrays.asList("Alice", null, "Bob");
Consumer<String> printLength = wrapNullSafe(s -> System.out.println(s.length()));

names.forEach(printLength);
// –í–∏–≤–µ–¥–µ:
// 5
// 3
// NullPointerException –Ω–µ –±—É–¥–µ –∫–∏–Ω—É—Ç–æ
```

–¢–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ —Ä–æ–±–∏—Ç—å –∫–æ–¥ –±—ñ–ª—å—à –Ω–∞–¥—ñ–π–Ω–∏–º —ñ –¥–æ–∑–≤–æ–ª—è—î –≤—ñ–¥–æ–∫—Ä–µ–º–∏—Ç–∏ –ª–æ–≥—ñ–∫—É –æ–±—Ä–æ–±–∫–∏ `null` –≤—ñ–¥ –æ—Å–Ω–æ–≤–Ω–æ—ó –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç—É–≤–∞—Ç–∏ –≥–Ω—É—á–∫—ñ —Ç–∞ –Ω–∞–¥—ñ–π–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏. –¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –Ω–∞–≤–∏—á–∫–∏ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è "–∑–∞—Ö–∏—Å–Ω–æ–≥–æ" (defensive) –∫–æ–¥—É.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–∑–≤—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥, –¥–µ `andThen()` –º–æ–∂–µ –±—É—Ç–∏ —à–∫—ñ–¥–ª–∏–≤–∏–º, —è–∫—â–æ `Consumer`'–∏ –º–∞—é—Ç—å –ø–æ–±—ñ—á–Ω—ñ –µ—Ñ–µ–∫—Ç–∏, —â–æ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É—é—Ç—å. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `andThen()` –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤, —è–∫—â–æ –¥—ñ—ó –¥–≤–æ—Ö `Consumer`'—ñ–≤ —î –≤–∑–∞—î–º–æ–∑–∞–ª–µ–∂–Ω–∏–º–∏ –∞–±–æ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É—é—á–∏–º–∏.
>
> **–°—Ü–µ–Ω–∞—Ä—ñ–π:**
> –£—è–≤—ñ–º–æ, —â–æ –º–∏ –ø—Ä–∞—Ü—é—î–º–æ –∑ –æ–±'—î–∫—Ç–æ–º-—Ä–∞—Ö—É–Ω–∫–æ–º (`Account`), —ñ –≤ –Ω–∞—Å —î –¥–≤–∞ `Consumer`'–∞:
>
> 1. `logBalance`: –ª–æ–≥—É—î –ø–æ—Ç–æ—á–Ω–∏–π –±–∞–ª–∞–Ω—Å.
> 2. `addInterest`: –Ω–∞—Ä–∞—Ö–æ–≤—É—î –≤—ñ–¥—Å–æ—Ç–∫–∏, –∑–º—ñ–Ω—é—é—á–∏ –±–∞–ª–∞–Ω—Å.
>
> –ü–æ—Ä—è–¥–æ–∫ —ó—Ö –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —î –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∏–º.
>
> **–ö–æ–Ω—Ñ–ª—ñ–∫—Ç:**
>
> * `logBalance.andThen(addInterest)`: –°–ø–æ—á–∞—Ç–∫—É –∑–∞–ª–æ–≥—É—î **—Å—Ç–∞—Ä–∏–π** –±–∞–ª–∞–Ω—Å, –ø–æ—Ç—ñ–º –Ω–∞—Ä–∞—Ö—É—î –≤—ñ–¥—Å–æ—Ç–∫–∏.
> * `addInterest.andThen(logBalance)`: –°–ø–æ—á–∞—Ç–∫—É –Ω–∞—Ä–∞—Ö—É—î –≤—ñ–¥—Å–æ—Ç–∫–∏, –ø–æ—Ç—ñ–º –∑–∞–ª–æ–≥—É—î **–Ω–æ–≤–∏–π** –±–∞–ª–∞–Ω—Å.
>
> –Ø–∫—â–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ –ø–µ—Ä–µ–ø–ª—É—Ç–∞—î –ø–æ—Ä—è–¥–æ–∫, –ª–æ–≥ –±—É–¥–µ –º—ñ—Å—Ç–∏—Ç–∏ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—É (–∑–∞—Å—Ç–∞—Ä—ñ–ª—É) —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.
>
> #### **–©–µ –≥—ñ—Ä—à–∏–π –ø—Ä–∏–∫–ª–∞–¥:**
>
> `Consumer` A –≤–∏–¥–∞–ª—è—î –µ–ª–µ–º–µ–Ω—Ç –∑ –∫–æ–ª–µ–∫—Ü—ñ—ó, –∞ `Consumer` B –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –π–æ–≥–æ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏.
>
> ```java
> List<String> list = new ArrayList<>(List.of("a"));
> Consumer<List> remover = l -> l.remove(0);
> Consumer<List> reader = l -> System.out.println(l.get(0));
> 
> Consumer<List> combined = remover.andThen(reader);
> // –ü—Ä–∏ –≤–∏–∫–ª–∏–∫—É `combined.accept(list)` –±—É–¥–µ IndexOutOfBoundsException!
> ```
>
> –¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —â–æ –ø—Ä–∏ –∫–æ–º–ø–æ–∑–∏—Ü—ñ—ó `Consumer`'—ñ–≤ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–µ—Ç–µ–ª—å–Ω–æ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —ó—Ö–Ω—ñ –ø–æ–±—ñ—á–Ω—ñ –µ—Ñ–µ–∫—Ç–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ä–∏–∑–∏–∫—ñ–≤, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ –ø–æ–±—ñ—á–Ω–∏–º–∏ –µ—Ñ–µ–∫—Ç–∞–º–∏, —Ç–∞ –≤–º—ñ–Ω–Ω—è –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π. –¶–µ –æ–∑–Ω–∞–∫–∞ –¥–æ—Å–≤—ñ–¥—á–µ–Ω–æ–≥–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–µ `Consumer` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–∞—Ç–µ—Ä–Ω—É "–°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á" (Observer)? –ü–æ—è—Å–Ω—ñ—Ç—å —è–∫. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, `Consumer` —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å** –¥–ª—è —Å–ø—Ä–æ—â–µ–Ω–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–∞—Ç–µ—Ä–Ω—É "–°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á" —É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–º—É —Å—Ç–∏–ª—ñ.
>
> **–ö–ª–∞—Å–∏—á–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω "–°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á":**
>
> * –Ñ `Subject` (—Å—É–±'—î–∫—Ç), —è–∫–∏–π –≥–µ–Ω–µ—Ä—É—î –ø–æ–¥—ñ—ó.
> * –Ñ `Observer`'–∏ (—Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á—ñ), —è–∫—ñ –ø—ñ–¥–ø–∏—Å—É—é—Ç—å—Å—è –Ω–∞ —Ü—ñ –ø–æ–¥—ñ—ó.
> * –ö–æ–ª–∏ –ø–æ–¥—ñ—è —Å—Ç–∞—î—Ç—å—Å—è, `Subject` –≤–∏–∫–ª–∏–∫–∞—î –º–µ—Ç–æ–¥ `update()` –Ω–∞ –∫–æ–∂–Ω–æ–º—É `Observer`'—ñ.
>
> **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Consumer`:**
>
> 1. –ö–ª–∞—Å `Subject` –º–æ–∂–µ –º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ `List<Consumer<Event>>` –∑–∞–º—ñ—Å—Ç—å `List<Observer>`.
>
> 2. –ú–µ—Ç–æ–¥ –ø—ñ–¥–ø–∏—Å–∫–∏ `subscribe` –±—É–¥–µ –ø—Ä–∏–π–º–∞—Ç–∏ `Consumer<Event>`:
>     `public void subscribe(Consumer<Event> listener) { listeners.add(listener); }`
>
> 3. –ö–æ–ª–∏ –ø–æ–¥—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è, `Subject` –ø—Ä–æ—Å—Ç–æ —ñ—Ç–µ—Ä—É—î—Ç—å—Å—è –ø–æ —Å–ø–∏—Å–∫—É "—Å–ª—É—Ö–∞—á—ñ–≤" —ñ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫–∞—î –π–æ–≥–æ –º–µ—Ç–æ–¥ `accept()`, –ø–µ—Ä–µ–¥–∞—é—á–∏ —Ç—É–¥–∏ –æ–±'—î–∫—Ç –ø–æ–¥—ñ—ó:
>     `listeners.forEach(listener -> listener.accept(event));`
>
> –¶–µ –¥–æ–∑–≤–æ–ª—è—î –ø—ñ–¥–ø–∏—Å—É–≤–∞—Ç–∏ –Ω–∞ –ø–æ–¥—ñ—ó –ø—Ä–æ—Å—Ç—ñ –ª—è–º–±–¥–∞-–≤–∏—Ä–∞–∑–∏, —â–æ —Ä–æ–±–∏—Ç—å –∫–æ–¥ –Ω–∞–±–∞–≥–∞—Ç–æ –∫–æ–º–ø–∞–∫—Ç–Ω—ñ—à–∏–º —ñ –≥–Ω—É—á–∫—ñ—à–∏–º, –Ω—ñ–∂ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ü—ñ–ª–∏—Ö –∫–ª–∞—Å—ñ–≤, —â–æ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Observer`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫–ª–∞—Å–∏—á–Ω–∏—Ö –ø–∞—Ç–µ—Ä–Ω—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è. –¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≥–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–∞ –≥–Ω—É—á–∫—ñ—Å—Ç—å –º–∏—Å–ª–µ–Ω–Ω—è.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ `CompletableFuture` —î –º–µ—Ç–æ–¥ `thenAccept(Consumer)`. –ß–∏–º –≤—ñ–Ω –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ `thenApply(Function)`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û–±–∏–¥–≤–∞ –º–µ—Ç–æ–¥–∏ —î —á–∞—Å—Ç–∏–Ω–æ—é –ª–∞–Ω—Ü—é–∂–∫–∞ –æ–±—Ä–æ–±–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π, –∞–ª–µ –≤–æ–Ω–∏ –º–∞—é—Ç—å —Ä—ñ–∑–Ω–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è, —â–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–æ –≤ —ó—Ö–Ω—å–æ–º—É —ñ–º–µ–Ω—ñ —Ç–∞ —Ç–∏–ø—ñ –∞—Ä–≥—É–º–µ–Ω—Ç—É (`Consumer` vs `Function`).
>
> * **`thenApply(Function<T, U> fn)`:**
>   * **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** **–ü–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏** —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
>   * –ü—Ä–∏–π–º–∞—î `Function`, —è–∫–∞ –±–µ—Ä–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç (`T`) –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –µ—Ç–∞–ø—É —ñ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î –π–æ–≥–æ –Ω–∞ –Ω–æ–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (`U`).
>   * **–ü–æ–≤–µ—Ä—Ç–∞—î:** –ù–æ–≤–∏–π `CompletableFuture<U>` –∑ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º. –¶–µ –¥–æ–∑–≤–æ–ª—è—î **–ø—Ä–æ–¥–æ–≤–∂—É–≤–∞—Ç–∏ –ª–∞–Ω—Ü—é–∂–æ–∫** –≤–∏–∫–ª–∏–∫—ñ–≤ (`thenApply`, `thenCompose` —ñ —Ç.–¥.).
>
> * **`thenAccept(Consumer<T> action)`:**
>   * **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** **–í–∏–∫–æ–Ω–∞—Ç–∏ –∫—ñ–Ω—Ü–µ–≤—É –¥—ñ—é** –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.
>   * –ü—Ä–∏–π–º–∞—î `Consumer`, —è–∫–∞ –±–µ—Ä–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç (`T`) —ñ —â–æ—Å—å –∑ –Ω–∏–º —Ä–æ–±–∏—Ç—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏–≤–æ–¥–∏—Ç—å –≤ UI, –ª–æ–≥—É—î), –∞–ª–µ **–Ω—ñ—á–æ–≥–æ –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—î**.
>   * **–ü–æ–≤–µ—Ä—Ç–∞—î:** `CompletableFuture<Void>`. –¶–µ, –ø–æ —Å—É—Ç—ñ, **—Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è** –¥–ª—è –ª–∞–Ω—Ü—é–∂–∫–∞ –∑–Ω–∞—á–µ–Ω—å (—Ö–æ—á–∞ –ª–∞–Ω—Ü—é–∂–æ–∫ –º–æ–∂–Ω–∞ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏, –∞–ª–µ –≤–∂–µ –±–µ–∑ –¥–æ—Å—Ç—É–ø—É –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É).
>
> **–ö–æ—Ä–æ—Ç–∫–æ:** `thenApply` ‚Äî —Ü–µ –ø—Ä–æ–º—ñ–∂–Ω–∏–π –∫—Ä–æ–∫ –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö, –∞ `thenAccept` ‚Äî —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π –∫—Ä–æ–∫ –¥–ª—è —ó—Ö —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è –≤ Java —Ç–∞ API `CompletableFuture`. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ä–æ–ª—ñ `Consumer` —Ç–∞ `Function` —É —Ü—å–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ —î –¥—É–∂–µ –≤–∞–∂–ª–∏–≤–∏–º.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —â–æ —Ç–∞–∫–µ "–ø–æ–≥–ª–∏–Ω–∞—á –∑ –≤–∏—â–æ—é –∞—Ä–Ω—ñ—Å—Ç—é" (higher-arity consumer) —ñ —è–∫ –π–æ–≥–æ –º–æ–∂–Ω–∞ —ñ–º—ñ—Ç—É–≤–∞—Ç–∏ –≤ Java. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ Java –Ω–∞–¥–∞—î –ª–∏—à–µ `Consumer` (1 –∞—Ä–≥—É–º–µ–Ω—Ç) —Ç–∞ `BiConsumer` (2 –∞—Ä–≥—É–º–µ–Ω—Ç–∏). **"–ü–æ–≥–ª–∏–Ω–∞—á –∑ –≤–∏—â–æ—é –∞—Ä–Ω—ñ—Å—Ç—é"** ‚Äî —Ü–µ —É–∑–∞–≥–∞–ª—å–Ω–µ–Ω–∏–π —Ç–µ—Ä–º—ñ–Ω –¥–ª—è —Å–ø–æ–∂–∏–≤–∞—á–∞, —è–∫–∏–π –±–∏ –ø—Ä–∏–π–º–∞–≤ —Ç—Ä–∏, —á–æ—Ç–∏—Ä–∏ –∞–±–æ –±—ñ–ª—å—à–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `TriConsumer`, `QuadConsumer`).
>
> –Ø–∫ –∑–≥–∞–¥—É–≤–∞–ª–æ—Å—è —Ä–∞–Ω—ñ—à–µ, JDK –Ω–µ –Ω–∞–¥–∞—î —ó—Ö "–∑ –∫–æ—Ä–æ–±–∫–∏", —â–æ–± –Ω–µ —Ä–æ–∑–¥—É–≤–∞—Ç–∏ API.
>
> **–Ø–∫ —ñ–º—ñ—Ç—É–≤–∞—Ç–∏:**
>
> 1. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É:** –¶–µ –Ω–∞–π—á–∏—Å—Ç—ñ—à–∏–π —Ç–∞ –Ω–∞–π–±—ñ–ª—å—à –æ—á–µ–≤–∏–¥–Ω–∏–π —Å–ø–æ—Å—ñ–±, —è–∫—â–æ —Ç–∞–∫–∞ —Ñ—É–Ω–∫—Ü—ñ—è –ø–æ—Ç—Ä—ñ–±–Ω–∞ —á–∞—Å—Ç–æ.
>
>     ```java
>     @FunctionalInterface
>     interface TriConsumer<T, U, V> {
>         void accept(T t, U u, V v);
>     }
>     
>     TriConsumer<String, Integer, Boolean> logger = (s, i, b) -> ...;
>     ```
>
> 2. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–∞—Ä—Ä—ñ–Ω–≥—É (Currying) –∞–±–æ —á–∞—Å—Ç–∫–æ–≤–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è:** –ú–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ª–∞–Ω—Ü—é–∂–æ–∫ –∑ –≤–∫–ª–∞–¥–µ–Ω–∏—Ö `Consumer`'—ñ–≤ –∞–±–æ `Function`, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å `Consumer`.
>
>     ```java
>     // (String) -> (Integer) -> (Boolean) -> void
>     Function<String, Function<Integer, Consumer<Boolean>>> curriedConsumer = 
>         s -> i -> b -> System.out.printf("%s, %d, %b%n", s, i, b);
>
>     // –í–∏–∫–ª–∏–∫:
>     curriedConsumer.apply("text").apply(123).accept(true);
>     ```
>
>     –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ —î –±—ñ–ª—å—à "—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–º", –∞–ª–µ –∑–Ω–∞—á–Ω–æ –º–µ–Ω—à —á–∏—Ç–∞–±–µ–ª—å–Ω–∏–º —ñ —Ä—ñ–¥–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ Java.
>
> 3. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ–±'—î–∫—Ç–∞-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**
>     –ó–∞–º—ñ—Å—Ç—å —Ç—Ä—å–æ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤, —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–¥–∏–Ω –∫–ª–∞—Å-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —â–æ —ó—Ö –º—ñ—Å—Ç–∏—Ç—å, —ñ –ø–µ—Ä–µ–¥–∞—Ç–∏ –π–æ–≥–æ –≤ –∑–≤–∏—á–∞–π–Ω–∏–π `Consumer`.
>
> –î–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –ø—Ä–∞–∫—Ç–∏—á–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å —É Java –ø–µ—Ä—à–∏–π –∞–±–æ —Ç—Ä–µ—Ç—ñ–π –ø—ñ–¥—Ö—ñ–¥ —î –Ω–∞–π–±—ñ–ª—å—à –¥–æ—Ü—ñ–ª—å–Ω–∏–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫—ñ —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ –∑–Ω–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –ø–∞—Ç–µ—Ä–Ω–∏ (—è–∫ –∫–∞—Ä—Ä—ñ–Ω–≥) –∞–±–æ –ø—Ä–æ–µ–∫—Ç—É–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å.*

* * *
