---
layout: default
title: "Closure —Ç–∞ –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —É –ª—è–º–±–¥–∞-–≤–∏—Ä–∞–∑–∞—Ö"
parent: "–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ"
grand_parent: "Java 8"
nav_order: 17
---

# Closure —Ç–∞ –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —É –ª—è–º–±–¥–∞-–≤–∏—Ä–∞–∑–∞—Ö

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: Closure (–∑–∞–º–∏–∫–∞–Ω–Ω—è) ‚Äì —Ü–µ –ª—è–º–±–¥–∞-–≤–∏—Ä–∞–∑, —è–∫–∏–π –º–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –∑–º—ñ–Ω–Ω–∏—Ö –∑ –æ–±–ª–∞—Å—Ç—ñ –≤–∏–¥–∏–º–æ—Å—Ç—ñ, –¥–µ –≤—ñ–Ω –±—É–≤ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Ü—è –æ–±–ª–∞—Å—Ç—å –≤–∂–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞. –£ Java –∑–∞—Ö–æ–ø–ª–µ–Ω—ñ –ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –º–∞—é—Ç—å –±—É—Ç–∏ `effectively final` (–Ω–µ–∑–º—ñ–Ω–Ω–∏–º–∏ –ø—ñ—Å–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó).
* –ø–æ–Ω—è—Ç—Ç—è: Closure, `effectively final`, –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö, Lexical Scope.
* –ø—Ä–∏–∫–ª–∞–¥–∏: `int threshold = 10; Predicate<Integer> isGreater = n -> n > threshold;` (–ª—è–º–±–¥–∞ –∑–∞—Ö–æ–ø–ª—é—î `threshold`). –ó–º—ñ–Ω–∞ `threshold` –ø—ñ—Å–ª—è –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –ø–æ–º–∏–ª–∫–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó.
* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ü–æ–ª—è –∫–ª–∞—Å—É –º–æ–∂—É—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è, –∑–∞—Ö–æ–ø–ª–µ–Ω—ñ –ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ ‚Äì –Ω—ñ.
* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ß–æ–º—É –ø–æ—Ç—Ä—ñ–±–Ω–æ `effectively final`, –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –∞–Ω–æ–Ω—ñ–º–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**Closure** (–∑–∞–º–∏–∫–∞–Ω–Ω—è) ‚Äî —Ü–µ —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫–∞ –º–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –∑–º—ñ–Ω–Ω–∏—Ö, —â–æ –±—É–ª–∏ –≤ –æ–±–ª–∞—Å—Ç—ñ –≤–∏–¥–∏–º–æ—Å—Ç—ñ –ø—ñ–¥ —á–∞—Å —ó—ó —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Ü—è –æ–±–ª–∞—Å—Ç—å —É–∂–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.

–£ Java —Ü–µ –ø—Ä–æ—è–≤–ª—è—î—Ç—å—Å—è —è–∫ **–∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è** –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –∑–º—ñ–Ω–Ω–∏—Ö —É —Ç—ñ–ª—ñ –ª—è–º–±–¥–∞-–≤–∏—Ä–∞–∑—ñ–≤.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–õ—è–º–±–¥–∞ –º–æ–∂–µ ¬´–ø–∞–º‚Äô—è—Ç–∞—Ç–∏¬ª –∑–º—ñ–Ω–Ω—ñ, —è–∫—ñ –±—É–ª–∏ –Ω–∞–≤–∫–æ–ª–æ –ø—ñ–¥ —á–∞—Å —ó—ó —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –≤–æ–Ω–∞ –≤–∂–µ –≤ —ñ–Ω—à–æ–º—É –º—ñ—Å—Ü—ñ. –ê–ª–µ —î —Ñ—ñ—à–∫–∞: —Ü—ñ –∑–º—ñ–Ω–Ω—ñ **–Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏** ‚Äî –≤–æ–Ω–∏ –º–∞—é—Ç—å –±—É—Ç–∏ **effectively final** (—Ç–æ–±—Ç–æ –∞–±–æ —è–≤–Ω–æ final, –∞–±–æ –Ω–µ –∑–º—ñ–Ω–µ–Ω—ñ –ø—ñ—Å–ª—è –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è)

---

## üìä **–ö–ª—é—á–æ–≤—ñ –∫–æ–Ω—Ü–µ–ø—Ç–∏:**

|        –ü–æ–Ω—è—Ç—Ç—è         |                                       –ü–æ—è—Å–Ω–µ–Ω–Ω—è                                       |
|:----------------------:|:-------------------------------------------------------------------------------------:|
|      **Closure**       |         –ó–∞–º–∏–∫–∞–Ω–Ω—è ‚Äî —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫–∞ "–∑–∞—Ö–æ–ø–ª—é—î" –∑–º—ñ–Ω–Ω—ñ –∑ –Ω–∞–≤–∫–æ–ª–∏—à–Ω—å–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É          |
| **Effectively Final**  | –ó–º—ñ–Ω–Ω–∞, —è–∫–∞ –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó, –Ω–∞–≤—ñ—Ç—å –±–µ–∑ –∫–ª—é—á–æ–≤–æ–≥–æ —Å–ª–æ–≤–∞ **`final`** |
| **–ó–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö** |              –î–æ—Å—Ç—É–ø –ª—è–º–±–¥–∏ –¥–æ –∑–º—ñ–Ω–Ω–∏—Ö –∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É —á–∏ –ø–æ–ª—è –∫–ª–∞—Å—É               |
|   **Lexical Scope**    |                     –û–±–ª–∞—Å—Ç—å, –∑ —è–∫–æ—ó –ª—è–º–±–¥–∞ –º–æ–∂–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è                     |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

–£—è–≤–∏, —â–æ –ª—è–º–±–¥–∞ ‚Äî —Ü–µ —á–µ–º–æ–¥–∞–Ω –∑ —Ä—É—á–∫–æ—é. –í–æ–Ω–∞ –ø–∞–∫—É—î —Å–æ–±—ñ –≤ —Ü–µ–π —á–µ–º–æ–¥–∞–Ω —É—Å–µ, —â–æ –±—É–ª–æ –¥–æ–≤–∫–æ–ª–∞ –ø—Ä–∏ —ó—ó —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ (–∑–º—ñ–Ω–Ω—ñ). –ê–ª–µ –ø–∞–∫—É—î —Ç—ñ–ª—å–∫–∏ —Ç—ñ —Ä–µ—á—ñ, —è–∫—ñ **–Ω–µ –º–æ–∂–Ω–∞ –º—ñ–Ω—è—Ç–∏** ‚Äî –±–æ —ñ–Ω–∞–∫—à–µ –±—É–¥–µ –±–∞—Ä–¥–∞–∫ —É –≤–∞–ª—ñ–∑—ñ –ø—ñ–¥ —á–∞—Å –ø–æ–¥–æ—Ä–æ–∂—ñüíº‚úàÔ∏è

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **‚úÖ –ó–∞—Ö–æ–ø–ª–µ–Ω–Ω—è effectively final –∑–º—ñ–Ω–Ω–æ—ó:**

```java
public void run() {
    int threshold = 10; // effectively final
    Predicate<Integer> isGreater = n -> n > threshold;
    System.out.println(isGreater.test(15)); // true
}
```

### **‚ùå –ó–º—ñ–Ω–∞ –∑–º—ñ–Ω–Ω–æ—ó –ø—ñ—Å–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è ‚Äî –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –ª–∞—è–≤—Å—è:**

```java
int count = 0;
Runnable r = () -> System.out.println(count); // ok
count++; // ‚ùå Compile error -- –∑–º—ñ–Ω–Ω–∞ –≤–∂–µ –Ω–µ effectively final
```

### **‚úÖ –î–æ—Å—Ç—É–ø –¥–æ –ø–æ–ª—ñ–≤ –∫–ª–∞—Å—É ‚Äî –±–µ–∑ –æ–±–º–µ–∂–µ–Ω—å:**

```java
private int offset = 5;

public void test() {
    Function<Integer, Integer> addOffset = x -> x + offset; // –¥–æ–∑–≤–æ–ª–µ–Ω–æ
}
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

|           –û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å            |             –õ—è–º–±–¥–∞-–≤–∏—Ä–∞–∑             |            –ê–Ω–æ–Ω—ñ–º–Ω–∏–π –∫–ª–∞—Å             |
|:--------------------------------:|:------------------------------------:|:-------------------------------------:|
| **–ó–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö** | ‚úÖ –õ–∏—à–µ **`effectively`** **`final`** | ‚úÖ –¢–∞–∫–æ–∂ –ª–∏—à–µ **`final`** (–¥–æ Java 8\) |
|             **this**             |    –ü–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –∫–ª–∞—Å     |   –ü–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ —Å–∞–º –∞–Ω–æ–Ω—ñ–º–Ω–∏–π –∫–ª–∞—Å   |
|         **–ö–æ–¥ –∫–æ—Ä–æ—Ç—à–∏–π**         |                  ‚úÖ                   |                   ‚ùå                   |
|  **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç–∏–ø–æ–≤–∏—Ö –º–µ—Ç–æ–¥—ñ–≤**   |      –¢–∞–∫ (—É —Ñ—É–Ω–∫—Ü. —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö)      |                  –¢–∞–∫                  |

---

## **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –©–æ –æ–∑–Ω–∞—á–∞—î "effectively final"?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

 –¶–µ –∑–º—ñ–Ω–Ω–∞, —è–∫–∞ –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –Ω–µ –ø–æ–∑–Ω–∞—á–µ–Ω–∞ `final`.

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –ß–æ–º—É –ª—è–º–±–¥–∏ –Ω–µ –º–æ–∂—É—Ç—å –∑–∞—Ö–æ–ø–ª—é–≤–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ, —è–∫—ñ –∑–º—ñ–Ω—é—é—Ç—å—Å—è?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

 –©–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏, –∞–¥–∂–µ –ª—è–º–±–¥–∞ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—å –ø—ñ–∑–Ω—ñ—à–µ, –∫–æ–ª–∏ –∑–º—ñ–Ω–Ω–∞ –≤–∂–µ –∑–º—ñ–Ω–∏–ª–∞—Å—å –∞–±–æ –∑–Ω–∏–∫–ª–∞.

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –ß–∏–º –ª—è–º–±–¥–∞ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ –∞–Ω–æ–Ω—ñ–º–Ω–æ–≥–æ –∫–ª–∞—Å—É –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –∑–∞–º–∏–∫–∞–Ω—å?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

 `this` —É –ª—è–º–±–¥—ñ –≤–∫–∞–∑—É—î –Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –∫–ª–∞—Å, –∞ –≤ –∞–Ω–æ–Ω—ñ–º–Ω–æ–º—É –∫–ª–∞—Å—ñ ‚Äî –Ω–∞ —Å–∞–º –∞–Ω–æ–Ω—ñ–º–Ω–∏–π –∫–ª–∞—Å.

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**"–õ—è–º–±–¥–∞ –±–µ—Ä–µ, –∞–ª–µ –Ω–µ –∑–º—ñ–Ω—é—î"**

–Ø–∫ —à–ø–∏–≥—É–Ω ‚Äî —É—Å–µ –±–∞—á–∏—Ç—å, –∞–ª–µ –Ω–µ –≤—Ç—Ä—É—á–∞—î—Ç—å—Å—è. –Ø–∫—â–æ —Ö–æ—á–µ—à —â–æ—Å—å –∑–º—ñ–Ω–∏—Ç–∏ ‚Äî —Ç—Ä–µ–±–∞ —Ü–µ –∑—Ä–æ–±–∏—Ç–∏ –¥–µ—Å—å —â–µ

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* –õ—è–º–±–¥–∞-–≤–∏—Ä–∞–∑–∏ –≤ Java –º–æ–∂—É—Ç—å –∑–∞—Ö–æ–ø–ª—é–≤–∞—Ç–∏ **effectively final** –∑–º—ñ–Ω–Ω—ñ –∑ –Ω–∞–≤–∫–æ–ª–∏—à–Ω—å–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É.
* –¶–µ –ø—Ä–∞—Ü—é—î —è–∫ **closure** ‚Äî –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –¥–æ—Å—Ç—É–ø –¥–æ –∑–º—ñ–Ω–Ω–æ—ó, –Ω–∞–≤—ñ—Ç—å –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –º–µ—Ç–æ–¥—É.
* –ó–º—ñ–Ω–Ω—ñ **–º–∞—é—Ç—å –±—É—Ç–∏ –Ω–µ–∑–º—ñ–Ω–Ω–∏–º–∏** –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —ñ–Ω–∞–∫—à–µ Java –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å.
* –ù–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏, **—á–æ–º—É –æ–±–º–µ–∂–µ–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–µ**, **—è–∫ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ –∞–Ω–æ–Ω—ñ–º–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤**, —ñ —â–æ –º–æ–∂–Ω–∞ –∑–∞—Ö–æ–ø–ª—é–≤–∞—Ç–∏ **–ø–æ–ª—è –∫–ª–∞—Å—É ‚Äî –±–µ–∑ –æ–±–º–µ–∂–µ–Ω—å**.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Oracle Docs ‚Äî Lambda Expressions and Scope**](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html)
* [**StackOverflow ‚Äî Why do lambda expressions require variables to be effectively final?**](https://stackoverflow.com/questions/24816184/why-do-lambda-expressions-require-variables-to-be-effectively-final)
