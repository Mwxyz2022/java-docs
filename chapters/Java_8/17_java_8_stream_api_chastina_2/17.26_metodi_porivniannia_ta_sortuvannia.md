---
layout: default
title: "–ú–µ—Ç–æ–¥–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è"
parent: "Stream API"
grand_parent: "Java 8"
nav_order: 26
---

# –ú–µ—Ç–æ–¥–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Comparator<T>` —Ç–∞ –π–æ–≥–æ –º–µ—Ç–æ–¥–∏ (`comparing()`, `thenComparing()`, `reversed()`, `naturalOrder()`, `nullsFirst()`, `nullsLast()`) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∞–≤–∏–ª —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ —É Stream API —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `sorted()`.

* –ø–æ–Ω—è—Ç—Ç—è: `Comparator.comparing()`, `thenComparing()`, `reversed()`, `naturalOrder()`, `reverseOrder()`, `nullsFirst()`, `nullsLast()`.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `people.sort(Comparator.comparing(Person::getAge))`, `comparing(Person::getLastName).thenComparing(Person::getFirstName)`, `Comparator.nullsFirst(Comparator.comparing(Person::getAge))`.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ü–æ—Ç—É–∂–Ω–∞ –∫–æ–º–ø–æ–∑–∏—Ü—ñ—è –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä—ñ–≤ –¥–ª—è —Å–∫–ª–∞–¥–Ω–æ–≥–æ, –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–æ–≥–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑ –æ–±—Ä–æ–±–∫–æ—é `null`-–∑–Ω–∞—á–µ–Ω—å.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –Ø–∫ —Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞ –∫—ñ–ª—å–∫–æ–º–∞ –∫—Ä–∏—Ç–µ—Ä—ñ—è–º–∏, –æ–±—Ä–æ–±–∫–∞ `null` –ø—Ä–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—ñ.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å **`Comparator<T>`** —É Java –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∞–≤–∏–ª —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –æ–±‚Äô—î–∫—Ç—ñ–≤. Stream API —ñ–Ω—Ç–µ–≥—Ä—É—î—Ç—å—Å—è –∑ **`Comparator`** —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ **`sorted()`** –¥–ª—è –≤–ø–æ—Ä—è–¥–∫—É–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —É –ø–æ—Ç–æ—Ü—ñ.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–•–æ—á–µ—à, —â–æ–± –¥–∞–Ω—ñ –±—É–ª–∏ –≤ –ø–µ–≤–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–∏. –í–æ–Ω–∏ –∫–∞–∂—É—Ç—å Java: "–æ—Å—å —è–∫ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –æ–±‚Äô—î–∫—Ç–∏". –í—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞ –≤—ñ–∫–æ–º? –ó–∞ –∞–ª—Ñ–∞–≤—ñ—Ç–æ–º? –ó–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—é –∑ fallback? –í—Å–µ —Ü–µ ‚Äî —Ä–æ–±–æ—Ç–∞ –¥–ª—è **`Comparator`**.

---

## üìä **–ö–ª—é—á–æ–≤—ñ –º–µ—Ç–æ–¥–∏ Comparator:**

|              –ú–µ—Ç–æ–¥              |               –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è               |              –ü—Ä–∏–∫–ª–∞–¥              |
|:-------------------------------:|:---------------------------------------:|:---------------------------------:|
|  **`Comparator.comparing()`**   |       –û—Å–Ω–æ–≤–Ω–µ –ø–æ–ª–µ –¥–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è       |  **`comparing(Person::getAge)`**  |
|      **`thenComparing()`**      | –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —Ä—ñ–≤–µ–Ω—å —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (fallback) | **`comparing().thenComparing()`** |
|        **`reversed()`**         |            –ó–≤–æ—Ä–æ—Ç–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫            |   **`comparing().reversed()`**    |
| **`Comparator.naturalOrder()`** |  –ü—Ä–∏—Ä–æ–¥–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ (**`Comparable`**)   |   **`sorted(naturalOrder())`**    |
| **`Comparator.reverseOrder()`** |       –ó–≤–æ—Ä–æ—Ç–Ω–∏–π –ø—Ä–∏—Ä–æ–¥–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫       |   **`sorted(reverseOrder())`**    |
|  **`Comparator.nullsFirst()`**  |         –°–ø–æ—á–∞—Ç–∫—É null-–∑–Ω–∞—á–µ–Ω–Ω—è          | **`nullsFirst(comparing(...))`**  |
|  **`Comparator.nullsLast()`**   |             Null'–∏ –≤ –∫—ñ–Ω—Ü—ñ              |  **`nullsLast(comparing(...))`**  |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

–£—è–≤–∏, —Ç–∏ —Å–æ—Ä—Ç—É—î—à –∫–æ—Ä–æ–±–∫–∏:

* **`comparing()`** ‚Äî –∫–∞–∂–µ—à, —è–∫–µ –ø–æ–ª–µ –¥–∏–≤–∏—Ç–∏—Å—è: "—Å–æ—Ä—Ç—É–π –∑–∞ –≤–∞–≥–æ—é".
* **`thenComparing()`** ‚Äî "—è–∫—â–æ –≤–∞–≥–∞ –æ–¥–Ω–∞–∫–æ–≤–∞ ‚Äî –¥–∏–≤–∏—Å—è –Ω–∞ –∫–æ–ª—ñ—Ä".
* **`reversed()`** ‚Äî "—Ö–æ—á—É –≤—ñ–¥ –Ω–∞–π–≤–∞–∂—á–æ–≥–æ –¥–æ –Ω–∞–π–ª–µ–≥—à–æ–≥–æ".
* **`nullsFirst()`** ‚Äî "–Ω–µ–∑–∞–ø–æ–≤–Ω–µ–Ω—ñ –∫–æ—Ä–æ–±–∫–∏ —Å—Ç–∞–≤ —Å–ø–æ—á–∞—Ç–∫—É", **`nullsLast()`** ‚Äî –Ω–∞–≤–ø–∞–∫–∏.
* **`naturalOrder()`** ‚Äî —è–∫—â–æ –æ–±'—î–∫—Ç –≤–∂–µ —Ä–µ–∞–ª—ñ–∑—É—î **`Comparable`**.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
List<Person> people = ...;

// –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –≤—ñ–∫–æ–º
people.sort(Comparator.comparing(Person::getAge));

// –ó–∞ –ø—Ä—ñ–∑–≤–∏—â–µ–º, –∞ –ø–æ—Ç—ñ–º –∑–∞ —ñ–º'—è–º
people.sort(Comparator.comparing(Person::getLastName)
                      .thenComparing(Person::getFirstName));

// –£ –∑–≤–æ—Ä–æ—Ç–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É –∑–∞ –∑–∞—Ä–ø–ª–∞—Ç–æ—é
people.sort(Comparator.comparing(Person::getSalary).reversed());

// Null-–∏ –Ω–∞ –ø–æ—á–∞—Ç–∫—É, —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –¥–∞—Ç–æ—é
people.sort(Comparator.nullsFirst(Comparator.comparing(Person::getBirthDate)));

// –ü—Ä–∏—Ä–æ–¥–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ (Comparable —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ)
List<String> names = List.of("Anna", "Bob", "John");
names.stream().sorted(Comparator.naturalOrder()).forEach(System.out::println);
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

|          –ü—ñ–¥—Ö—ñ–¥          |      –ü—Ä–æ—Å—Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è       |          –°–∫–ª–∞–¥–Ω–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑ fallback          |
|:------------------------:|:----------------------------:|:-----------------------------------------------:|
|      **`sorted()`**      | **`sorted(comparing(...))`** | **`sorted(comparing(...).thenComparing(...))`** |
| **`Collections.sort()`** |        –°—Ç–∞—Ä—ñ—à–∏–π —Å—Ç–∏–ª—å        |           –ü—ñ–¥—Ç—Ä–∏–º—É—î —Ç—ñ –∂ Comparator'–∏           |
|    **Null-handling**     |            –≤—Ä—É—á–Ω—É            |        **`nullsFirst() / nullsLast()`**         |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**"Compare ‚Äî Then Compare ‚Äî Reverse ‚Äî Nulls First/Last\!"**

–ê–±–æ –ø—Ä–æ—Å—Ç—ñ—à–µ: **"–°–ø–æ—á–∞—Ç–∫—É –ø–æ—Ä—ñ–≤–Ω—è–π, –ø–æ—Ç—ñ–º —É—Ç–æ—á–Ω–∏, –ø–µ—Ä–µ–≤–µ—Ä–Ω–∏, –ø—Ä–∏–±–µ—Ä–∏ null‚Äô–∏."**

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* **`Comparator`** ‚Äî –≥–æ–ª–æ–≤–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –≤ Java.
* –ü–æ—Ç—É–∂–Ω–∞ –∫–æ–º–ø–æ–∑–∏—Ü—ñ—è —á–µ—Ä–µ–∑ **`comparing()`** \+ **`thenComparing()`** \+ **`reversed()`**.
* –û–±—Ä–æ–±–∫–∞ **`null`** —á–µ—Ä–µ–∑ **`nullsFirst`** —Ç–∞ **`nullsLast`**.
* –î–ª—è Stream API –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π **`.sorted(Comparator)`**.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Oracle Docs ‚Äì Comparator Interface**](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –≤—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –ø–æ—Ç—ñ–∫ –æ–±'—î–∫—Ç—ñ–≤ –∑–∞ –ø–µ–≤–Ω–∏–º –ø–æ–ª–µ–º, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–æ—Ç—ñ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑–∞ –≤—ñ–∫–æ–º?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è —Ü—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—Ä–æ–º—ñ–∂–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è **`sorted()`**, —è–∫–∞ –ø—Ä–∏–π–º–∞—î **`Comparator`**. –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∞–∫–∏–π `Comparator` ‚Äî —Ü–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω–∏–π –º–µ—Ç–æ–¥-—Ñ–∞–±—Ä–∏–∫—É **`Comparator.comparing()`**.
>
> 1. **`Comparator.comparing()`** –ø—Ä–∏–π–º–∞—î `Function`, —è–∫–∞ –≤–∏—Ç—è–≥—É—î –∑ –æ–±'—î–∫—Ç–∞ "–∫–ª—é—á" –¥–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (–ø–æ–ª–µ, –∑–∞ —è–∫–∏–º –º–∏ —Å–æ—Ä—Ç—É—î–º–æ).
> 2. –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ –Ω–∞–π–∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **–ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –º–µ—Ç–æ–¥** –¥–ª—è –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è —Ü—å–æ–≥–æ –∫–ª—é—á–∞ (–Ω–∞–ø—Ä., `User::getAge`).
>
> –û–ø–µ—Ä–∞—Ü—ñ—è `sorted` —î `stateful`, —Ç–æ–±—Ç–æ –≤–æ–Ω–∞ —Å–ø–æ—á–∞—Ç–∫—É –∑–±–µ—Ä–µ –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏, –≤—ñ–¥—Å–æ—Ä—Ç—É—î —ó—Ö, —ñ –ª–∏—à–µ –ø–æ—Ç—ñ–º –ø–µ—Ä–µ–¥–∞—Å—Ç—å –¥–∞–ª—ñ –ø–æ –∫–æ–Ω–≤–µ—î—Ä—É.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
import java.util.Comparator;
import java.util.List;

class User {
    private String name;
    private int age;
    // –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –≥–µ—Ç—Ç–µ—Ä–∏...
}

public class SortingExample {
    public static void main(String[] args) {
        List<User> users = List.of(
            new User("Alice", 30),
            new User("Bob", 25),
            new User("Charlie", 35)
        );

        List<User> sortedUsers = users.stream()
            .sorted(Comparator.comparing(User::getAge))
            .toList();

        // sortedUsers –±—É–¥–µ: [Bob (25), Alice (30), Charlie (35)]
    }
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ë–∞–∑–æ–≤—ñ –Ω–∞–≤–∏—á–∫–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —É `Stream API`. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω –∑–Ω–∞—Ç–∏ –ø—Ä–æ –º–µ—Ç–æ–¥ `sorted(Comparator)` —Ç–∞ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–± —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è `Comparator`'–∞ —á–µ—Ä–µ–∑ `comparing()`.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –≤—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –ø–æ—Ç—ñ–∫ —É –∑–≤–æ—Ä–æ—Ç–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ü—Å–Ω—É—î –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å–ø–æ—Å–æ–±–∏:
>
> 1. **–ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–µ—Ç–æ–¥—É `.reversed()`:**
>     –ë—É–¥—å-—è–∫–∏–π `Comparator` –º–æ–∂–Ω–∞ —ñ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏, –≤–∏–∫–ª–∏–∫–∞–≤—à–∏ –Ω–∞ –Ω—å–æ–º—É `default`-–º–µ—Ç–æ–¥ `.reversed()`. –¶–µ –Ω–∞–π–±—ñ–ª—å—à –≥–Ω—É—á–∫–∏–π —Ç–∞ —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥.
>
>     ```java
>     // –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –≤—ñ–∫–æ–º –∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º
>     users.stream()
>          .sorted(Comparator.comparing(User::getAge).reversed())
>     ```
>
> 2. **–ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Comparator.reverseOrder()`:**
>     –¶–µ–π —Å—Ç–∞—Ç–∏—á–Ω–∏–π –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä—Ç–∞—î –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä, —â–æ —Å–æ—Ä—Ç—É—î –µ–ª–µ–º–µ–Ω—Ç–∏ —É –∑–≤–æ—Ä–æ—Ç–Ω–æ–º—É –¥–æ —ó—Ö–Ω—å–æ–≥–æ **–ø—Ä–∏—Ä–æ–¥–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫—É**. –¶–µ –ø—Ä–∞—Ü—é—î –ª–∏—à–µ –¥–ª—è –æ–±'—î–∫—Ç—ñ–≤, —è–∫—ñ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å `Comparable` (–Ω–∞–ø—Ä., `String`, `Integer`).
>
>     ```java
>     List<String> names = List.of("A", "C", "B");
>     List<String> reverseSorted = names.stream()
>                                       .sorted(Comparator.reverseOrder())
>                                       .toList(); // [C, B, A]
>     ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ `Comparator` –¥–ª—è —ñ–Ω–≤–µ—Ä—Ç—É–≤–∞–Ω–Ω—è –ø–æ—Ä—è–¥–∫—É —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞ –ø—Ä—ñ–∑–≤–∏—â–µ–º, –∞ –ø–æ—Ç—ñ–º –∑–∞ —ñ–º–µ–Ω–µ–º)?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–æ–≥–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ª–∞–Ω—Ü—é–∂–æ–∫ –≤–∏–∫–ª–∏–∫—ñ–≤, –¥–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–∏—Ç–µ—Ä—ñ–π —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –¥–æ–¥–∞—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `default`-–º–µ—Ç–æ–¥—É **`thenComparing()`**.
>
> `thenComparing()` –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –ª–∏—à–µ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π `Comparator` –ø–æ–≤–µ—Ä–Ω—É–≤ `0` (—Ç–æ–±—Ç–æ, –µ–ª–µ–º–µ–Ω—Ç–∏ —î —Ä—ñ–≤–Ω–∏–º–∏ –∑–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–º –∫—Ä–∏—Ç–µ—Ä—ñ—î–º).
>
> **–ü–æ—Ä—è–¥–æ–∫:**
>
> 1. `comparing()` –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ—Å–Ω–æ–≤–Ω–∏–π –∫—Ä–∏—Ç–µ—Ä—ñ–π —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è.
> 2. `thenComparing()` –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –¥—Ä—É–≥–æ—Ä—è–¥–Ω–∏–π –∫—Ä–∏—Ç–µ—Ä—ñ–π.
> 3. –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ —Å–∫—ñ–ª—å–∫–∏ –∑–∞–≤–≥–æ–¥–Ω–æ `thenComparing()` –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö —Ä—ñ–≤–Ω—ñ–≤.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

–°–æ—Ä—Ç—É—î–º–æ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤ –∑–∞ –∑–∞—Ä–ø–ª–∞—Ç–æ—é (–∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º), –∞ —è–∫—â–æ –∑–∞—Ä–ø–ª–∞—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤—ñ ‚Äî –∑–∞ —ñ–º–µ–Ω–µ–º (–∑–∞ –∞–ª—Ñ–∞–≤—ñ—Ç–æ–º).

```java
employees.stream()
    .sorted(
        Comparator.comparing(Employee::getSalary).reversed() // 1. –û—Å–Ω–æ–≤–Ω–∏–π –∫—Ä–∏—Ç–µ—Ä—ñ–π (—Å–ø–∞–¥–∞–Ω–Ω—è)
                  .thenComparing(Employee::getName)          // 2. –î–æ–¥–∞—Ç–∫–æ–≤–∏–π –∫—Ä–∏—Ç–µ—Ä—ñ–π (–∑—Ä–æ—Å—Ç–∞–Ω–Ω—è)
    )
    .collect(Collectors.toList());
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–í–æ–ª–æ–¥—ñ–Ω–Ω—è —Ç–µ—Ö–Ω—ñ–∫–æ—é –∫–æ–º–ø–æ–∑–∏—Ü—ñ—ó –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä—ñ–≤. –¶–µ –¥—É–∂–µ –ø–æ—à–∏—Ä–µ–Ω–∞ –∑–∞–¥–∞—á–∞, —ñ –≤–º—ñ–Ω–Ω—è —ó—ó –≤–∏—Ä—ñ—à—É–≤–∞—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `thenComparing` —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–î–ª—è —á–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω –º–µ—Ç–æ–¥ `Comparator.naturalOrder()`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –°—Ç–∞—Ç–∏—á–Ω–∏–π –º–µ—Ç–æ–¥ **`Comparator.naturalOrder()`** –ø–æ–≤–µ—Ä—Ç–∞—î `Comparator`, —è–∫–∏–π —Å–æ—Ä—Ç—É—î –æ–±'—î–∫—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —ó—Ö–Ω—å–æ–≥–æ **–ø—Ä–∏—Ä–æ–¥–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫—É**.
>
> –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤—ñ–Ω –ø–æ–∫–ª–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –º–µ—Ç–æ–¥—É `compareTo()` –∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É **`Comparable`**, —è–∫–∏–π –º–∞—î –±—É—Ç–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –∫–ª–∞—Å–æ–º –æ–±'—î–∫—Ç—ñ–≤.
>
> **–ö–æ–ª–∏ –≤—ñ–Ω –∫–æ—Ä–∏—Å–Ω–∏–π:**
>
> 1. **–î–ª—è —è—Å–Ω–æ—Å—Ç—ñ:** –í–∏–∫–ª–∏–∫ `stream.sorted(Comparator.naturalOrder())` —î –±—ñ–ª—å—à —è–≤–Ω–∏–º, –Ω—ñ–∂ –ø—Ä–æ—Å—Ç–æ `stream.sorted()`, —Ö–æ—á–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–Ω–∞–∫–æ–≤–∏–π.
> 2. **–Ø–∫ –æ—Å–Ω–æ–≤–∞ –¥–ª—è –∫–æ–º–ø–æ–∑–∏—Ü—ñ—ó:** –í—ñ–Ω –º–æ–∂–µ —Å–ª—É–≥—É–≤–∞—Ç–∏ –±–∞–∑–æ—é –¥–ª—è –±—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω–∏—Ö –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä—ñ–≤. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –≤ –ø—Ä–∏—Ä–æ–¥–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É, –∞–ª–µ –∑ `null`-–∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ –Ω–∞ –ø–æ—á–∞—Ç–∫—É:
>     `Comparator.nullsFirst(Comparator.naturalOrder())`

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
List<String> names = List.of("Charlie", "Alice", "Bob");

List<String> sortedNames = names.stream()
                               .sorted(Comparator.naturalOrder()) // –ï–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–æ .sorted()
                               .collect(Collectors.toList()); // ["Alice", "Bob", "Charlie"]
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ `Comparator` —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∑–≤'—è–∑–∫—É –º—ñ–∂ `Comparator` —Ç–∞ `Comparable`.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –±–µ–∑–ø–µ—á–Ω–æ —Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—é, —â–æ –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ `null`-–∑–Ω–∞—á–µ–Ω–Ω—è?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫—â–æ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –ø–æ—Ç—ñ–∫, —â–æ –º—ñ—Å—Ç–∏—Ç—å `null`, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π `Comparator.comparing()` –∫–∏–Ω–µ `NullPointerException`, –æ—Å–∫—ñ–ª—å–∫–∏ `null` –Ω–µ–º–æ–∂–ª–∏–≤–æ –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏.
>
> –î–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —Ç–∞–∫–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤ `Comparator` –Ω–∞–¥–∞—î –¥–≤–∞ —Å—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏-–æ–±–≥–æ—Ä—Ç–∫–∏:
>
> 1. **`Comparator.nullsFirst(Comparator<? super T> comparator)`:**
>     –°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π `Comparator`, —è–∫–∏–π –≤–≤–∞–∂–∞—î `null` **–º–µ–Ω—à–∏–º** –∑–∞ –±—É–¥—å-—è–∫–µ –Ω–µ-`null` –∑–Ω–∞—á–µ–Ω–Ω—è, —Ä–æ–∑–º—ñ—â—É—é—á–∏ –≤—Å—ñ `null`-–µ–ª–µ–º–µ–Ω—Ç–∏ **–Ω–∞ –ø–æ—á–∞—Ç–∫—É** –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É.
>
> 2. **`Comparator.nullsLast(Comparator<? super T> comparator)`:**
>     –°—Ç–≤–æ—Ä—é—î `Comparator`, —è–∫–∏–π –≤–≤–∞–∂–∞—î `null` **–±—ñ–ª—å—à–∏–º** –∑–∞ –±—É–¥—å-—è–∫–µ –Ω–µ-`null` –∑–Ω–∞—á–µ–Ω–Ω—è, —Ä–æ–∑–º—ñ—â—É—é—á–∏ `null`-–∏ **–≤ –∫—ñ–Ω—Ü—ñ**.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
List<String> listWithNulls = Arrays.asList("b", null, "a");

// –°–æ—Ä—Ç—É—î–º–æ, —Ä–æ–∑–º—ñ—â—É—é—á–∏ null –Ω–∞ –ø–æ—á–∞—Ç–∫—É
listWithNulls.sort(Comparator.nullsFirst(Comparator.naturalOrder()));
System.out.println(listWithNulls); // [null, a, b]

// –°–æ—Ä—Ç—É—î–º–æ, —Ä–æ–∑–º—ñ—â—É—é—á–∏ null –≤ –∫—ñ–Ω—Ü—ñ
listWithNulls.sort(Comparator.nullsLast(Comparator.naturalOrder()));
System.out.println(listWithNulls); // [a, b, null]
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è, —è–∫ –æ–±—Ä–æ–±–ª—è—Ç–∏ `null`-–∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—ñ. –¶–µ –ø–æ—à–∏—Ä–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É –∫–æ–¥—ñ, —ñ –∫–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω –∑–Ω–∞—Ç–∏ —ó—ó —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —á–æ–º—É —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ `stream().sorted()` —Ç–∞ `Collections.sort()`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –¥–≤–∞ —Ä—ñ–∑–Ω—ñ —Å–ø–æ—Å–æ–±–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è, —â–æ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è –ø—ñ–¥—Ö–æ–¥–æ–º —Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.
>
> * **`Collections.sort(List<T> list)`:**
>   * **–ú—É—Ç–∞–±–µ–ª—å–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è:** **–ó–º—ñ–Ω—é—î** –ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Å–ø–∏—Å–æ–∫, —Å–æ—Ä—Ç—É—é—á–∏ –π–æ–≥–æ "–Ω–∞ –º—ñ—Å—Ü—ñ".
>   * **–©–æ –ø–æ–≤–µ—Ä—Ç–∞—î:** `void`.
>   * **–¢–∏–ø:** –Ü–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥.
>
> * **`stream().sorted()`:**
>   * **–Ü–º—É—Ç–∞–±–µ–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥:** **–ù–µ –∑–º—ñ–Ω—é—î** –ø–æ—á–∞—Ç–∫–æ–≤—É –∫–æ–ª–µ–∫—Ü—ñ—é.
>   * **–©–æ –ø–æ–≤–µ—Ä—Ç–∞—î:** –ù–æ–≤–∏–π, –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π `Stream`. –©–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—é, –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é, –Ω–∞–ø—Ä., `collect(Collectors.toList())`, —è–∫–∞ —Å—Ç–≤–æ—Ä–∏—Ç—å **–Ω–æ–≤–∏–π —Å–ø–∏—Å–æ–∫**.
>   * **–¢–∏–ø:** –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π, –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `Collections.sort`, —è–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω–∏—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π —Å–ø–∏—Å–æ–∫. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `stream().sorted()`, —è–∫—â–æ –≤–∏ –¥–æ—Ç—Ä–∏–º—É—î—Ç–µ—Å—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∏–ª—é —ñ —Ö–æ—á–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –Ω–æ–≤–∏–π, –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏ —Ç–∞ —ñ–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º–∏ –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏, –∞ —Ç–∞–∫–æ–∂ –º—ñ–∂ —ñ–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏–º —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–º –ø—ñ–¥—Ö–æ–¥–∞–º–∏.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–î–ª—è —á–æ–≥–æ —ñ—Å–Ω—É—é—Ç—å –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω—ñ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó `comparingInt`, `comparingLong`, `comparingDouble`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶—ñ —Å—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ —ñ—Å–Ω—É—é—Ç—å –¥–ª—è **–æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ** –ø—Ä–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—ñ –∑–∞ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏–º–∏ —á–∏—Å–ª–æ–≤–∏–º–∏ –ø–æ–ª—è–º–∏.
>
> **–ü—Ä–æ–±–ª–µ–º–∞ –∑—ñ –∑–≤–∏—á–∞–π–Ω–∏–º `comparing(Function<T, U> keyExtractor)`:**
>
> –Ø–∫—â–æ –≤–∏ —Å–æ—Ä—Ç—É—î—Ç–µ –∑–∞ `int`-–ø–æ–ª–µ–º, —Ñ—É–Ω–∫—Ü—ñ—è `User::getAge` –ø–æ–≤–µ—Ä–Ω–µ `int`. –©–æ–± `Comparator` –º—ñ–≥ –∑ –Ω–µ—é –ø—Ä–∞—Ü—é–≤–∞—Ç–∏, —Ü–µ–π `int` –±—É–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ "–∑–∞–ø–∞–∫–æ–≤–∞–Ω–æ" (boxing) –≤ –æ–±'—î–∫—Ç `Integer`. –î–ª—è –≤–µ–ª–∏–∫–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π —Ü–µ —Å—Ç–≤–æ—Ä—é—î –±–µ–∑–ª—ñ—á –∑–∞–π–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ —ñ –Ω–∞–≤–∞–Ω—Ç–∞–∂—É—î –∑–±–∏—Ä–∞—á–∞ —Å–º—ñ—Ç—Ç—è.
>
> **–†—ñ—à–µ–Ω–Ω—è –∑ `comparingInt(ToIntFunction<T> keyExtractor)`:**
>
> * –¶–µ–π –º–µ—Ç–æ–¥ –ø—Ä–∏–π–º–∞—î `ToIntFunction`, —è–∫–∞ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –ø–æ–≤–µ—Ä—Ç–∞—î –ø—Ä–∏–º—ñ—Ç–∏–≤ `int`.
> * –í—ñ–Ω —Å—Ç–≤–æ—Ä—é—î `Comparator`, —è–∫–∏–π –ø–æ—Ä—ñ–≤–Ω—é—î –ø—Ä–∏–º—ñ—Ç–∏–≤–∏ **–Ω–∞–ø—Ä—è–º—É**, **—É–Ω–∏–∫–∞—é—á–∏ boxing/unboxing**.
>
> –¶–µ —Ä–æ–±–∏—Ç—å —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏–º–∏ –ø–æ–ª—è–º–∏ –∑–Ω–∞—á–Ω–æ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–∏–º. –ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ –¥–ª—è `long` —Ç–∞ `double`.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
// –ú–µ–Ω—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ (boxing int –≤ Integer)
Comparator<User> c1 = Comparator.comparing(User::getAge);

// –ë—ñ–ª—å—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ (–ø—Ä–∞—Ü—é—î –Ω–∞–ø—Ä—è–º—É –∑ int)
Comparator<User> c2 = Comparator.comparingInt(User::getAge);
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º –∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ –∞–≤—Ç–æ–ø–∞–∫—É–≤–∞–Ω–Ω—è–º, —Ç–∞ –∑–Ω–∞–Ω–Ω—è –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ API.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –Ω–∞–ø–∏—Å–∞—Ç–∏ `Comparator` "—Å—Ç–∞—Ä–∏–º" —Å–ø–æ—Å–æ–±–æ–º (–∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ª—è–º–±–¥–∏) —ñ —á–æ–º—É `comparing` –∫—Ä–∞—â–µ? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–°—Ç–∞—Ä–∏–π —Å–ø–æ—Å—ñ–± (–ø—Ä—è–º–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `compare`):**
>
> ```java
> Comparator<User> byAgeLambda = (u1, u2) -> Integer.compare(u1.getAge(), u2.getAge());
> ```
>
> **–ù–æ–≤–∏–π —Å–ø–æ—Å—ñ–± (–∑ `comparingInt`):**
>
> ```java
> Comparator<User> byAgeMethodRef = Comparator.comparingInt(User::getAge);
> ```
>
> **–ß–æ–º—É `comparing` –∫—Ä–∞—â–µ:**
>
> 1. **–ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å:** `comparingInt(User::getAge)` —î –±—ñ–ª—å—à **–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∏–º**. –í—ñ–Ω –≥–æ–≤–æ—Ä–∏—Ç—å "—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞ –≤—ñ–∫–æ–º", –∞ –Ω–µ "–≤—ñ–∑—å–º–∏ –¥–≤–∞ –æ–±'—î–∫—Ç–∏, –≤–∏—Ç—è–≥–Ω–∏ –∑ –Ω–∏—Ö –≤—ñ–∫, –ø–æ—Ä—ñ–≤–Ω—è–π —ó—Ö".
> 2. **–°—Ç–∏—Å–ª—ñ—Å—Ç—å:** –ö–æ–¥ —Å—Ç–∞—î –∑–Ω–∞—á–Ω–æ –∫–æ—Ä–æ—Ç—à–∏–º.
> 3. **–ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è:** –°—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ `comparing` –º—ñ—Å—Ç—è—Ç—å –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó —Ç–∞ null-–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏, —â–æ —Ä–æ–±–∏—Ç—å —ó—Ö –Ω–∞–¥—ñ–π–Ω—ñ—à–∏–º–∏.
> 4. **–õ–∞–Ω—Ü—é–∂–∫–æ–≤—ñ—Å—Ç—å:** –ù–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ `comparing` –ª–µ–≥–∫–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `thenComparing` —Ç–∞ `reversed`, —â–æ –∑–Ω–∞—á–Ω–æ —Å–ø—Ä–æ—â—É—î –∫–æ–º–ø–æ–∑–∏—Ü—ñ—é. –ó—Ä–æ–±–∏—Ç–∏ —Ü–µ –∑ –ª—è–º–±–¥–æ—é –∑–Ω–∞—á–Ω–æ —Å–∫–ª–∞–¥–Ω—ñ—à–µ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –ø–µ—Ä–µ–≤–∞–≥ —Å—É—á–∞—Å–Ω–æ–≥–æ fluent API `Comparator`'–∞ –Ω–∞–¥ —Ä—É—á–Ω–æ—é —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—î—é. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω –≤–º—ñ—Ç–∏ –ø–∏—Å–∞—Ç–∏ —Å—É—á–∞—Å–Ω–∏–π, —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–∏–π –∫–æ–¥.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –ø–æ—Ä—è–¥–æ–∫ –≤–∏–∫–ª–∏–∫—É `reversed()` —Ç–∞ `thenComparing()`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ü–æ—Ä—è–¥–æ–∫ –≤–∏–∫–ª–∏–∫—É –º–∞—î **–∫—Ä–∏—Ç–∏—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è** —ñ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–º—ñ–Ω—é—î –ª–æ–≥—ñ–∫—É —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è.
>
> **–°—Ü–µ–Ω–∞—Ä—ñ–π 1: `comparing(A).thenComparing(B).reversed()`**
>
> 1. –°–ø–æ—á–∞—Ç–∫—É –±—É–¥—É—î—Ç—å—Å—è `Comparator`, —è–∫–∏–π —Å–æ—Ä—Ç—É—î –∑–∞ –ø–æ–ª–µ–º `A`, –∞ –ø—Ä–∏ —Ä—ñ–≤–Ω–æ—Å—Ç—ñ ‚Äî –∑–∞ –ø–æ–ª–µ–º `B`.
> 2. –ü–æ—Ç—ñ–º `.reversed()` **–ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–Ω–≤–µ—Ä—Ç—É—î** –≤—Å—é —Ü—é –ª–æ–≥—ñ–∫—É.
>
> * **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ `A` **–∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º**, –∞ –ø—Ä–∏ —Ä—ñ–≤–Ω–æ—Å—Ç—ñ `A` ‚Äî –∑–∞ `B` **–∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º**.
>
> **–°—Ü–µ–Ω–∞—Ä—ñ–π 2: `comparing(A).reversed().thenComparing(B)`**
>
> 1. –°–ø–æ—á–∞—Ç–∫—É —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è `Comparator`, —â–æ —Å–æ—Ä—Ç—É—î –∑–∞ –ø–æ–ª–µ–º `A` **–∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º**.
> 2. –ü–æ—Ç—ñ–º –¥–æ–¥–∞—î—Ç—å—Å—è –¥—Ä—É–≥–æ—Ä—è–¥–Ω–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –ø–æ–ª–µ–º `B` **–∑–∞ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è–º**.
>
> * **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ `A` **–∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º**, –∞ –ø—Ä–∏ —Ä—ñ–≤–Ω–æ—Å—Ç—ñ `A` ‚Äî –∑–∞ `B` **–∑–∞ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è–º**.
>
> –¶–µ –¥–æ–∑–≤–æ–ª—è—î –¥—É–∂–µ –≥–Ω—É—á–∫–æ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –Ω–∞–ø—Ä—è–º–∫–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ø–æ–ª—ñ–≤.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
// –ó–∞—Ä–ø–ª–∞—Ç–∞ –∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º, —ñ–º'—è –∑–∞ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è–º
comparator1 = Comparator.comparing(E::getSalary).reversed()
                       .thenComparing(E::getName);

// –Ü –∑–∞—Ä–ø–ª–∞—Ç–∞, —ñ —ñ–º'—è –∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º
comparator2 = Comparator.comparing(E::getSalary)
                       .thenComparing(E::getName)
                       .reversed();
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –ø—Ä–∞—Ü—é—î fluent API —Ç–∞ –∫–æ–º–ø–æ–∑–∏—Ü—ñ—è. –¶–µ –ø–∏—Ç–∞–Ω–Ω—è-–ø–∞—Å—Ç–∫–∞, —è–∫–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—î —É–≤–∞–∂–Ω—ñ—Å—Ç—å –¥–æ –¥–µ—Ç–∞–ª–µ–π.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è, —è–∫—â–æ –∫–ª—é—á, –≤–∏—Ç—è–≥–Ω—É—Ç–∏–π `comparing()`, –Ω–µ —Ä–µ–∞–ª—ñ–∑—É—î `Comparable`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫—â–æ –∫–ª—é—á —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –Ω–µ —Ä–µ–∞–ª—ñ–∑—É—î `Comparable`, —Ç–æ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ—ó `sorted()` –±—É–¥–µ –∫–∏–Ω—É—Ç–æ –≤–∏–Ω—è—Ç–æ–∫ **`ClassCastException`**.
>
> **–ß–æ–º—É —Ç–∞–∫ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:**
>
> –ú–µ—Ç–æ–¥ `Comparator.comparing(Function keyExtractor)` –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ —Å—Ç–≤–æ—Ä—é—î –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä, —è–∫–∏–π –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –¥–≤–æ—Ö –æ–±'—î–∫—Ç—ñ–≤ –≤–∏—Ç—è–≥—É—î –∑ –Ω–∏—Ö –∫–ª—é—á—ñ, –∞ –ø–æ—Ç—ñ–º –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ —Ü—ñ –∫–ª—é—á—ñ –º—ñ–∂ —Å–æ–±–æ—é, –≤–∏–∫–ª–∏–∫–∞—é—á–∏ `key1.compareTo(key2)`.
>
> –©–æ–± –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `compareTo()`, –æ–±'—î–∫—Ç –ø–æ–≤–∏–Ω–µ–Ω —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ `Comparable`. –Ø–∫—â–æ –Ω—ñ, –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∑—Ä–æ–±–∏—Ç–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—É (`(Comparable)key1`), —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ `ClassCastException`.
>
> **–Ø–∫ –≤–∏—Ä—ñ—à–∏—Ç–∏:**
>
> –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω—É –≤–µ—Ä—Å—ñ—é `comparing(keyExtractor, keyComparator)`, –ø–µ—Ä–µ–¥–∞–≤—à–∏ –¥—Ä—É–≥–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî `Comparator` –¥–ª—è —Å–∞–º–æ–≥–æ –∫–ª—é—á–∞.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
// –ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, –∫–ª–∞—Å Address –Ω–µ —Ä–µ–∞–ª—ñ–∑—É—î Comparable
comparing(User::getAddress); // –í–ø–∞–¥–µ –∑ ClassCastException
comparing(User::getAddress, Comparator.comparing(Address::getStreet)); // OK
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Ä–æ–±–æ—Ç–∏ `comparing()` —Ç–∞ –π–æ–≥–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ `Comparable`.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —Å–æ—Ä—Ç—É–≤–∞—Ç–∏ `Map` –∑–∞ –∫–ª—é—á–∞–º–∏ –∞–±–æ –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `Stream API`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û—Å–∫—ñ–ª—å–∫–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ `Map` –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å –ø–æ—Ä—è–¥–æ–∫, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –º–∞—î –±—É—Ç–∏ `LinkedHashMap`, —â–æ–± –∑–±–µ—Ä–µ–≥—Ç–∏ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—É –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å.
>
> **–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –∫–ª—é—á–∞–º–∏:**
>
> ```java
> map.entrySet().stream()
>    .sorted(Map.Entry.comparingByKey())
>    .collect(toMap(Map.Entry::getKey, Map.Entry::getValue, (v1,v2)->v1, LinkedHashMap::new));
> ```
>
> **–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏:**
>
> ```java
> map.entrySet().stream()
>    .sorted(Map.Entry.comparingByValue())
>    .collect(toMap(Map.Entry::getKey, Map.Entry::getValue, (v1,v2)->v1, LinkedHashMap::new));
> ```
>
> –£ –∫–ª–∞—Å—ñ `Map.Entry` —î —Å—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏-–ø–æ–º—ñ—á–Ω–∏–∫–∏ `comparingByKey()` —Ç–∞ `comparingByValue()`, —è–∫—ñ —Å—Ç–≤–æ—Ä—é—é—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω—ñ `Comparator`'–∏.
>
> –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `LinkedHashMap::new` –≤ `collect` —î **–∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∏–º**, —â–æ–± –∑–±–µ—Ä–µ–≥—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –ø—ñ—Å–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–í–æ–ª–æ–¥—ñ–Ω–Ω—è —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –º–∞–ø. –¶–µ –ø–æ—à–∏—Ä–µ–Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–Ω–∞ –∑–∞–¥–∞—á–∞, —ñ –∫–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω –∑–Ω–∞—Ç–∏ –ø—Ä–æ `Map.Entry` –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–∏ —Ç–∞ `LinkedHashMap`.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—ñ –≤–∏–º–æ–≥–∏ –¥–æ —Ñ—É–Ω–∫—Ü—ñ—ó, —â–æ –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ `Comparator.comparing`? –ß–∏ –º–æ–∂–µ –≤–æ–Ω–∞ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ `null`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –§—É–Ω–∫—Ü—ñ—è, —â–æ –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ `comparing()` (`keyExtractor`), –ø–æ–≤–∏–Ω–Ω–∞ –ø—Ä–∏–π–º–∞—Ç–∏ –æ–±'—î–∫—Ç —Ç–∏–ø—É `T` —ñ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ "–∫–ª—é—á —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è" —Ç–∏–ø—É `U`, —è–∫–∏–π **–ø–æ–≤–∏–Ω–µ–Ω —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ `Comparable`**.
>
> **–ß–∏ –º–æ–∂–µ –≤–æ–Ω–∞ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ `null`?**
> **–¢–∞–∫, –º–æ–∂–µ.** –ê–ª–µ —Ü–µ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ **`NullPointerException`** –ø—ñ–¥ —á–∞—Å —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è, —è–∫—â–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `null`-–±–µ–∑–ø–µ—á–Ω–∏–π –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä.
>
> **–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:**
> –ö–æ–ª–∏ `Comparator` –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ –¥–≤–∞ –µ–ª–µ–º–µ–Ω—Ç–∏, —ñ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∑ –Ω–∏—Ö `keyExtractor` –ø–æ–≤–µ—Ä–Ω—É–≤ `null`, –≤—ñ–Ω —Å–ø—Ä–æ–±—É—î –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –Ω–∞ —Ü—å–æ–º—É `null`'—ñ –º–µ—Ç–æ–¥ `compareTo()`.
>
> ```java
> // `null.compareTo(...)` -> NullPointerException
> ```
>
> **–Ø–∫ –≤–∏—Ä—ñ—à–∏—Ç–∏:**
> –ó–∞–≤–∂–¥–∏ –æ–±–≥–æ—Ä—Ç–∞–π—Ç–µ —Ç–∞–∫–∏–π `Comparator` —É `Comparator.nullsFirst()` –∞–±–æ `Comparator.nullsLast()`.
>
> ```java
> // –ë–µ–∑–ø–µ—á–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç
> Comparator.comparing(User::getOptionalField, Comparator.nullsFirst(Comparator.naturalOrder()))
> ```
>
> –¶–µ —î–¥–∏–Ω–∏–π –Ω–∞–¥—ñ–π–Ω–∏–π —Å–ø–æ—Å—ñ–± –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –∫–ª—é—á–∞–º–∏, —â–æ –º–æ–∂—É—Ç—å –±—É—Ç–∏ `null`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–î—É–∂–µ –≥–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ `Comparator` –ø—Ä–∞—Ü—é—î –∑ `null`-–∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ –Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–ª—é—á—ñ–≤ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è. –¶–µ –∫–ª–∞—Å–∏—á–Ω–∞ –ø–∞—Å—Ç–∫–∞, –Ω–∞ —è–∫—É –º–æ–∂–Ω–∞ –Ω–∞—Ç—Ä–∞–ø–∏—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É –∫–æ–¥—ñ.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ä–æ–±–∏—Ç—å `Comparator<T> thenComparing(Comparator<? super T> other)`? –£ —á–æ–º—É —Ä—ñ–∑–Ω–∏—Ü—è –∑ –≤–µ—Ä—Å—ñ—î—é, —â–æ –ø—Ä–∏–π–º–∞—î `Function`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞ –≤–µ—Ä—Å—ñ—è `thenComparing`, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î –¥–æ–¥–∞–≤–∞—Ç–∏ –¥–æ –ª–∞–Ω—Ü—é–∂–∫–∞ **–≤–∂–µ —ñ—Å–Ω—É—é—á–∏–π, –≥–æ—Ç–æ–≤–∏–π `Comparator`**.
>
> **–†—ñ–∑–Ω–∏—Ü—è:**
>
> * **`thenComparing(Function<? super T, ? extends U> keyExtractor)`:**
>   * –ü—Ä–∏–π–º–∞—î **—Ñ—É–Ω–∫—Ü—ñ—é**, —è–∫–∞ –≤–∏—Ç—è–≥—É—î –∫–ª—é—á. –ö–æ–º–ø–∞—Ä–∞—Ç–æ—Ä –¥–ª—è —Ü—å–æ–≥–æ –∫–ª—é—á–∞ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è **–Ω–µ—è–≤–Ω–æ** (–ø–æ–∫–ª–∞–¥–∞—é—á–∏—Å—å –Ω–∞ `Comparable`).
>
> * **`thenComparing(Comparator<? super T> other)`:**
>   * –ü—Ä–∏–π–º–∞—î **–≥–æ—Ç–æ–≤–∏–π `Comparator`**. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—É, –∫–∞—Å—Ç–æ–º–Ω—É –ª–æ–≥—ñ–∫—É –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è, —è–∫—É –Ω–µ –º–æ–∂–Ω–∞ –≤–∏—Ä–∞–∑–∏—Ç–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç–∏–π –∫–ª—é—á.
>
> **–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**
> –í–µ—Ä—Å—ñ—è –∑ `Comparator`'–æ–º –ø–æ—Ç—Ä—ñ–±–Ω–∞, –∫–æ–ª–∏ –≤–∞—à–∞ –ª–æ–≥—ñ–∫–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —î —Å–∫–ª–∞–¥–Ω—ñ—à–æ—é, –Ω—ñ–∂ –ø—Ä–æ—Å—Ç–æ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –ø–æ–ª—è.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
// –°–æ—Ä—Ç—É—î–º–æ –∑–∞ –ø—Ä—ñ–∑–≤–∏—â–µ–º, –∞ –ø–æ—Ç—ñ–º - –∑–∞ —Å–∫–ª–∞–¥–Ω–∏–º –∫–∞—Å—Ç–æ–º–Ω–∏–º –∫—Ä–∏—Ç–µ—Ä—ñ—î–º
Comparator<User> customLogic = ...; // —è–∫–∏–π—Å—å —Å–∫–ª–∞–¥–Ω–∏–π –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä
Comparator<User> finalComparator = Comparator.comparing(User::getLastName)
                                             .thenComparing(customLogic);
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü–æ–≤–Ω–µ –∑–Ω–∞–Ω–Ω—è API `Comparator` —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è, —è–∫ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–∏, —Å—Ç–≤–æ—Ä–µ–Ω—ñ —Ä—ñ–∑–Ω–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —â–æ –æ–∑–Ω–∞—á–∞—î, —â–æ `Comparator` –º–∞—î –±—É—Ç–∏ **"—Å—É–º—ñ—Å–Ω–∏–º –∑ `equals`"**. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ö–∞–∂—É—Ç—å, —â–æ `Comparator<T>` —î **—Å—É–º—ñ—Å–Ω–∏–º –∑ `equals`**, —è–∫—â–æ `comparator.compare(o1, o2) == 0` –º–∞—î —Ç–æ–π —Å–∞–º–∏–π –±—É–ª–µ–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —â–æ —ñ `o1.equals(o2)`.
>
> **–ß–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ:**
>
> * **–°–æ—Ä—Ç–æ–≤–∞–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó, —è–∫ `TreeSet` —Ç–∞ `TreeMap`**, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –ª–æ–≥—ñ–∫—É `Comparator`'–∞, –∞ **–Ω–µ** –º–µ—Ç–æ–¥ `equals()`.
> * –Ø–∫—â–æ –≤–∞—à `Comparator` –Ω–µ —Å—É–º—ñ—Å–Ω–∏–π –∑ `equals`, –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ —Ü–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π –º–æ–∂–µ —Å—Ç–∞—Ç–∏ **–Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ—é** —ñ **–ø–æ—Ä—É—à–∏—Ç–∏** —ó—Ö–Ω—ñ –æ—Å–Ω–æ–≤–Ω—ñ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏.
>
> **–ü—Ä–∏–∫–ª–∞–¥ –ø—Ä–æ–±–ª–µ–º–∏:**
>
> –ù–µ—Ö–∞–π `compare()` –¥–ª—è –¥–≤–æ—Ö –æ–±'—î–∫—Ç—ñ–≤ –ø–æ–≤–µ—Ä—Ç–∞—î 0, –∞–ª–µ `equals()` –ø–æ–≤–µ—Ä—Ç–∞—î `false`.
>
> * `TreeSet` –±—É–¥–µ –≤–≤–∞–∂–∞—Ç–∏ —Ü—ñ –æ–±'—î–∫—Ç–∏ **–æ–¥–Ω–∞–∫–æ–≤–∏–º–∏** —ñ –Ω–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å –¥–æ–¥–∞—Ç–∏ –¥—Ä—É–≥–∏–π.
>
> –ù–µ—Ö–∞–π `equals()` –ø–æ–≤–µ—Ä—Ç–∞—î `true`, –∞–ª–µ `compare()` –ø–æ–≤–µ—Ä—Ç–∞—î –Ω–µ 0.
>
> * `TreeSet` –¥–æ–∑–≤–æ–ª–∏—Ç—å –¥–æ–¥–∞—Ç–∏ **–æ–±–∏–¥–≤–∞ –æ–±'—î–∫—Ç–∏**, —â–æ **–ø–æ—Ä—É—à—É—î –∫–æ–Ω—Ç—Ä–∞–∫—Ç `Set`**, —è–∫–∏–π –∑–∞–±–æ—Ä–æ–Ω—è—î –¥—É–±–ª—ñ–∫–∞—Ç–∏.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** –•–æ—á–∞ Java –Ω–µ –≤–∏–º–∞–≥–∞—î —Ü—å–æ–≥–æ —Å—É–≤–æ—Ä–æ, –Ω–∞—Å—Ç—ñ–π–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–∏, —Å—É–º—ñ—Å–Ω—ñ –∑ `equals`, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –ø—Ä–æ–±–ª–µ–º –∑ —Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–º–∏ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤ `Collections Framework`. –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –ø–æ–∫–∞–∑—É—î, —â–æ –∫–∞–Ω–¥–∏–¥–∞—Ç —É—Å–≤—ñ–¥–æ–º–ª—é—î, —è–∫ —Ä—ñ–∑–Ω—ñ —á–∞—Å—Ç–∏–Ω–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Comparator.comparing` —ñ `Map` —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–∞—Ç–µ—Ä–Ω "–°—Ç—Ä–∞—Ç–µ–≥—ñ—è" –¥–ª—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ–≥–æ –≤–∏–±–æ—Ä—É —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ü–∞—Ç–µ—Ä–Ω "–°—Ç—Ä–∞—Ç–µ–≥—ñ—è" –¥–æ–∑–≤–æ–ª—è—î –æ–±–∏—Ä–∞—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è. –ú–∏ –º–æ–∂–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `Map` –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è, –¥–µ –∫–ª—é—á ‚Äî —Ü–µ –Ω–∞–∑–≤–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó, –∞ –∑–Ω–∞—á–µ–Ω–Ω—è ‚Äî –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π `Comparator`.
>
> **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
>
> 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ `Map<String, Comparator<T>>`, –¥–µ –º–∏ –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å –≤–∏–∑–Ω–∞—á–∏–º–æ –≤—Å—ñ –º–æ–∂–ª–∏–≤—ñ —Å–ø–æ—Å–æ–±–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è.
> 2. –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–µ—Ç–æ–¥, —è–∫–∏–π –ø—Ä–∏–π–º–∞—î –Ω–∞–∑–≤—É —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è, –¥—ñ—Å—Ç–∞—î –∑ –º–∞–ø–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π `Comparator` —ñ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î –π–æ–≥–æ.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É:**

```java
class SortingService {
    private static final Map<String, Comparator<User>> STRATEGIES = new HashMap<>();

    static {
        STRATEGIES.put("byName", Comparator.comparing(User::getName));
        STRATEGIES.put("byAge", Comparator.comparingInt(User::getAge));
        STRATEGIES.put("byAgeDesc", Comparator.comparingInt(User::getAge).reversed());
    }

    public List<User> sortUsers(List<User> users, String sortBy) {
        Comparator<User> comparator = STRATEGIES.getOrDefault(sortBy, STRATEGIES.get("byName"));
        
        return users.stream()
                    .sorted(comparator)
                    .collect(Collectors.toList());
    }
}
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**

* **–ì–Ω—É—á–∫—ñ—Å—Ç—å:** –î—É–∂–µ –ª–µ–≥–∫–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—É —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è, –ø—Ä–æ—Å—Ç–æ –¥–æ–¥–∞–≤—à–∏ –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å —É –º–∞–ø—É, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –æ—Å–Ω–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥.
* **–ß–∏—Å—Ç–∏–π –∫–æ–¥:** –û—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞ –Ω–µ –∑–∞—Ö–∞—Ä–∞—â–µ–Ω–∞ `if-else` –∞–±–æ `switch` –¥–ª—è –≤–∏–±–æ—Ä—É —Å–ø–æ—Å–æ–±—É —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–æ—î–¥–Ω—É–≤–∞—Ç–∏ –ø–∞—Ç–µ—Ä–Ω–∏ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –∑ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è. –¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≤–∏—Å–æ–∫–∏–π —Ä—ñ–≤–µ–Ω—å –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –∫–æ–¥—É.*

* * *
