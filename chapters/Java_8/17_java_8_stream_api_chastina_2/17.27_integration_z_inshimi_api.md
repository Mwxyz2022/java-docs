---
layout: default
title: "Integration –∑ —ñ–Ω—à–∏–º–∏ API"
parent: "Stream API"
grand_parent: "Java 8"
nav_order: 27
---

# Integration –∑ —ñ–Ω—à–∏–º–∏ API

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: Stream API –º–æ–∂–µ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏—Å—è –∑ —ñ–Ω—à–∏–º–∏ Java API –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö: `Collections Framework` `.stream()`, —Ñ–∞–π–ª–æ–≤—ñ API (`Files.lines()`, `Files.walk()`), —Ä–µ–≥—É–ª—è—Ä–Ω—ñ –≤–∏—Ä–∞–∑–∏ `Pattern.splitAsStream()`, JSON-–ø–∞—Ä—Å–µ—Ä–∏.

* –ø–æ–Ω—è—Ç—Ç—è: `Files.lines()`, `Files.walk()`, `Pattern.splitAsStream()`.

* –ø—Ä–∏–∫–ª–∞–¥–∏: –ó—á–∏—Ç—É–≤–∞–Ω–Ω—è —Ä—è–¥–∫—ñ–≤ –∑ —Ñ–∞–π–ª—É (`Files.lines(path).filter(...)`), –æ–±—Ö—ñ–¥ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π ( `Files.walk(path).forEach(...)`), —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Ä—è–¥–∫–∞ –∑–∞ regex (`Pattern.compile(...).splitAsStream(...)`).

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ü–æ–ª–µ–≥—à—É—î –æ–±—Ä–æ–±–∫—É –¥–∞–Ω–∏—Ö, —Ä–æ–±–∏—Ç—å –∫–æ–¥ —á–∏—Å—Ç—ñ—à–∏–º —Ç–∞ –ª–∞–∫–æ–Ω—ñ—á–Ω—ñ—à–∏–º –ø—Ä–∏ –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ —Ä—ñ–∑–Ω–∏–º–∏ –¥–∂–µ—Ä–µ–ª–∞–º–∏ –¥–∞–Ω–∏—Ö.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –¢–∏–ø–æ–≤—ñ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó, —ó—Ö –ø–µ—Ä–µ–≤–∞–≥–∏.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

Stream API –º–æ–∂–µ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏—Å—è –∑ —ñ–Ω—à–∏–º–∏ Java API, —Ç–∞–∫–∏–º–∏ —è–∫ Collections Framework, —Ñ–∞–π–ª–æ–≤—ñ API, —Ä–µ–≥—É–ª—è—Ä–Ω—ñ –≤–∏—Ä–∞–∑–∏, JSON-–ø–∞—Ä—Å–µ—Ä–∏, —â–æ–± —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—É –æ–±—Ä–æ–±–∫—É –¥–∞–Ω–∏—Ö —É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–º—É —Å—Ç–∏–ª—ñ.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–°—Ç—Ä—ñ–º–∏ —á—É–¥–æ–≤–æ –¥—Ä—É–∂–∞—Ç—å –∑ –±–∞–≥–∞—Ç—å–º–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º–∏ —Ç–∞ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ–º–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞–º–∏ ‚Äî –º–æ–∂–Ω–∞ —á–∏—Ç–∞—Ç–∏ —Ñ–∞–π–ª–∏ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ, –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ JSON, —Å–ø–∏—Å–∫–∞–º–∏, —Ä–µ–≥—É–ª—è—Ä–Ω–∏–º–∏ –≤–∏—Ä–∞–∑–∞–º–∏ —Ç–∞ —Ä–æ–±–∏—Ç–∏ —Ü–µ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –π –∫—Ä–∞—Å–∏–≤–æ.

---

## **üìä –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —ñ–Ω—à–∏–º–∏ API:**

* **Collections Framework**

  * **`collection.stream()`**
  * **`collection.parallelStream()`**

* **–§–∞–π–ª–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ (java.nio.file)**

  * **`Files.lines(Path)`**
  * **`Files.walk(Path)`**
  * **`Files.find(...)`**

* **–†–µ–≥—É–ª—è—Ä–Ω—ñ –≤–∏—Ä–∞–∑–∏ (java.util.regex)**

  * **`Pattern.splitAsStream(CharSequence)`**

* **JSON –æ–±—Ä–æ–±–∫–∞ (–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫)**

  * –ù–∞–ø—Ä–∏–∫–ª–∞–¥: Jackson, Gson \+ Stream API
  * –ü–æ—Ç–æ–∫–æ–≤–∞ –æ–±—Ä–æ–±–∫–∞ –º–∞—Å–∏–≤—ñ–≤ JSON

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

* –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ —â–æ–± –≤—Ä—É—á–Ω—É –ø–∏—Å–∞—Ç–∏ —Ü–∏–∫–ª–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è –∑ —Ñ–∞–π–ª—É, –∞–±–æ —ñ—Ç–µ—Ä–∞—Ü—ñ—ó –ø–æ —Å–ø–∏—Å–∫—É ‚Äî –ø—Ä–æ—Å—Ç–æ –∑–∞—Å—Ç–æ—Å—É–π —Å—Ç—Ä—ñ–º–∏: —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—à–µ, –±–µ–∑–ø–µ—á–Ω—ñ—à–µ, —á–∞—Å—Ç—ñ—à–µ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—à–µ.
* –ù–∞–ø—Ä–∏–∫–ª–∞–¥, **`Files.lines()`** –≤—ñ–¥–∫—Ä–∏–≤–∞—î —Ñ–∞–π–ª —è–∫ –ø–æ—Ç—ñ–∫ —Ä—è–¥–∫—ñ–≤ ‚Äî —ñ–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ª–æ–≥—ñ–∫–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó.
* JSON-–º–∞—Å–∏–≤–∏ –ª–µ–≥–∫–æ –ø–∞—Ä—Å–∏—Ç–∏ –≤ —Å—Ç—Ä—ñ–º —ñ –¥–∞–ª—ñ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º—É–≤–∞—Ç–∏ –∞–±–æ –≥—Ä—É–ø—É–≤–∞—Ç–∏.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
// –ó—á–∏—Ç—É–≤–∞–Ω–Ω—è —Ä—è–¥–∫—ñ–≤ —ñ–∑ —Ñ–∞–π–ª—É
Files.lines(Path.of("data.txt"))
     .filter(line -> !line.isBlank())
     .map(String::trim)
     .forEach(System.out::println);
```

```java
// –ü–æ—à—É–∫ —É—Å—ñ—Ö .txt —Ñ–∞–π–ª—ñ–≤ —É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó
Files.walk(Paths.get("src"))
     .filter(p -> p.toString().endsWith(".txt"))
     .forEach(System.out::println);
```

```java
// –†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Ä—è–¥–∫–∞ –∑–∞ regex —É –ø–æ—Ç—ñ–∫
Pattern.compile(",\\s*")
       .splitAsStream("apple, banana, cherry")
       .forEach(System.out::println);
```

```java
// –û–±—Ä–æ–±–∫–∞ JSON-–º–∞—Å–∏–≤—É (Jackson)
ObjectMapper mapper = new ObjectMapper();
ArrayNode array = (ArrayNode) mapper.readTree(json);
StreamSupport.stream(array.spliterator(), false)
             .map(node -> node.get("name").asText())
             .forEach(System.out::println);
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

|            API            |        –¢–∏–ø —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó        |               –ü–µ—Ä–µ–≤–∞–≥–∏               |
|:-------------------------:|:----------------------------:|:------------------------------------:|
|      **Collections**      |       **`.stream()`**        | –õ–∞–∫–æ–Ω—ñ—á–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –±—É–¥—å-—è–∫–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π |
|       **Files API**       |     **`Files.lines()`**      |  –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤  |
|   **–†–µ–≥—É–ª—è—Ä–Ω—ñ –≤–∏—Ä–∞–∑–∏**    |    **`splitAsStream()`**     |    –ó–∞–º—ñ–Ω–∞ **`split()`** –Ω–∞ –ø–æ—Ç—ñ–∫     |
| **JSON (Jackson / Gson)** | **`StreamSupport.stream()`** | –ì–Ω—É—á–∫–∞ –æ–±—Ä–æ–±–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö  |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**"FCRJ" ‚Äî Files, Collections, Regex, JSON**

üëâ –£—Å—ñ —Ü—ñ API ‚Äî "–¥—Ä—É–∑—ñ —Å—Ç—Ä—ñ–º—ñ–≤". –°—Ç—Ä—ñ–º \+ –æ–¥–∏–Ω –∑ –Ω–∏—Ö \= –ø–æ—Ç—É–∂–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* Stream API –¥–æ–±—Ä–µ —ñ–Ω—Ç–µ–≥—Ä—É—î—Ç—å—Å—è –∑ —ñ–Ω—à–∏–º–∏ —á–∞—Å—Ç–∏–Ω–∞–º–∏ Java:

  * –ö–æ–ª–µ–∫—Ü—ñ—ó ‚Äî **`stream()`**
  * –§–∞–π–ª–∏ ‚Äî **`Files.lines(), walk()`**
  * –†–µ–≥—É–ª—è—Ä–∫–∏ ‚Äî **`Pattern.splitAsStream()`**
  * JSON ‚Äî —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏

* –ü—Ä–∞–∫—Ç–∏—á–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–Ω–∞—á–Ω–æ –ø–æ–ª–µ–≥—à—É—î –æ–±—Ä–æ–±–∫—É –¥–∞–Ω–∏—Ö —ñ –æ—á–∏—â–∞—î –∫–æ–¥.
* –¶–µ –æ–¥–Ω–∞ –∑ –Ω–∞–π–±—ñ–ª—å—à –≤–∂–∏–≤–∞–Ω–∏—Ö —Ç–µ–º —É –ø—Ä–æ—î–∫—Ç–Ω–æ–º—É –∫–æ–¥—ñ ‚Äî –¥–æ–±—Ä–µ –∑–Ω–∞—Ç–∏ —Ç–∏–ø–æ–≤—ñ –ø–∞—Ç–µ—Ä–Ω–∏\!

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Java NIO Files (Oracle)**](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html)
* [**–†–µ–≥—É–ª—è—Ä–Ω—ñ –≤–∏—Ä–∞–∑–∏ –≤ Java (Official Docs)**](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `Stream API` —ñ–Ω—Ç–µ–≥—Ä—É—î—Ç—å—Å—è –∑ `Collections Framework`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∞ —ñ –Ω–∞–π–ø—Ä–∏—Ä–æ–¥–Ω—ñ—à–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è. –ó Java 8 —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `java.util.Collection` (–≤—ñ–¥ —è–∫–æ–≥–æ —É—Å–ø–∞–¥–∫–æ–≤—É—é—Ç—å—Å—è `List`, `Set` —Ç–∞ —ñ–Ω.) –±—É–ª–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–æ –¥–≤–æ–º–∞ `default`-–º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—ñ–≤:
>
> 1. **`.stream()`**:
>     * –°—Ç–≤–æ—Ä—é—î **–ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π (sequential)** –ø–æ—Ç—ñ–∫ –∑ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∫–æ–ª–µ–∫—Ü—ñ—ó. –û–±—Ä–æ–±–∫–∞ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º—É –ø–æ—Ç–æ—Ü—ñ.
>
> 2. **`.parallelStream()`**:
>     * –°—Ç–≤–æ—Ä—é—î **–ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏–π** –ø–æ—Ç—ñ–∫, —è–∫–∏–π –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –æ–±—Ä–æ–±–ª—è—Ç–∏ –¥–∞–Ω—ñ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –≤ –∫—ñ–ª—å–∫–æ—Ö –ø–æ—Ç–æ–∫–∞—Ö –¥–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.
>
> –¶—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –¥–æ–∑–≤–æ–ª—è—î –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –≤–µ—Å—å —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –∞—Ä—Å–µ–Ω–∞–ª `Stream API` –¥–æ –±—É–¥—å-—è–∫–æ—ó —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—ó –∫–æ–ª–µ–∫—Ü—ñ—ó –æ–¥–Ω–∏–º –≤–∏–∫–ª–∏–∫–æ–º –º–µ—Ç–æ–¥—É.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
List<String> names = List.of("Alice", "Bob", "Charlie");

// –°—Ç–≤–æ—Ä—é—î–º–æ –ø–æ—Ç—ñ–∫ –∑ List —ñ –æ–±—Ä–æ–±–ª—è—î–º–æ –π–æ–≥–æ
long count = names.stream()
                  .filter(name -> name.length() > 3)
                  .count(); // 2
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –Ω–∞–π–±–∞–∑–æ–≤—ñ—à–æ–≥–æ —Å–ø–æ—Å–æ–±—É –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ—Ç–æ–∫—É ‚Äî –∑ –∫–æ–ª–µ–∫—Ü—ñ—ó. –¶–µ –æ—Å–Ω–æ–≤–∞ –æ—Å–Ω–æ–≤ —Ä–æ–±–æ—Ç–∏ –∑—ñ `Stream API`.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Stream API` –º–æ–∂–Ω–∞ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏? –ù–∞–∑–≤—ñ—Ç—å –æ—Å–Ω–æ–≤–Ω—ñ –º–µ—Ç–æ–¥–∏.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `Stream API` —á—É–¥–æ–≤–æ —ñ–Ω—Ç–µ–≥—Ä—É—î—Ç—å—Å—è –∑ `java.nio.file.Files` API –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ —Ñ–∞–π–ª–æ–≤–æ—é —Å–∏—Å—Ç–µ–º–æ—é.
>
> **–û—Å–Ω–æ–≤–Ω—ñ –º–µ—Ç–æ–¥–∏:**
>
> 1. **`Files.lines(Path path)`**:
>     * **–©–æ —Ä–æ–±–∏—Ç—å:** –ß–∏—Ç–∞—î —Ñ–∞–π–ª –ø–æ —Ä—è–¥–∫–∞—Ö —ñ –ø–æ–≤–µ—Ä—Ç–∞—î **`Stream<String>`**.
>     * **–ü–µ—Ä–µ–≤–∞–≥–∞:** –î—É–∂–µ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤, –æ—Å–∫—ñ–ª—å–∫–∏ —î **–ª–µ–¥–∞—á–∏–º**. –í—ñ–Ω –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –≤–µ—Å—å —Ñ–∞–π–ª —É –ø–∞–º'—è—Ç—å, –∞ —á–∏—Ç–∞—î –π–æ–≥–æ —Ä—è–¥–æ–∫ –∑–∞ —Ä—è–¥–∫–æ–º –∑–∞ –ø–æ—Ç—Ä–µ–±–æ—é.
>     * **–í–∞–∂–ª–∏–≤–æ:** –ü–æ—Ç—ñ–∫, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —Ü–∏–º –º–µ—Ç–æ–¥–æ–º, –ø–æ—Ç—Ä—ñ–±–Ω–æ **–∑–∞–∫—Ä–∏–≤–∞—Ç–∏** (–Ω–∞–π–∫—Ä–∞—â–µ —á–µ—Ä–µ–∑ `try-with-resources`).
>
> 2. **`Files.walk(Path start)`**:
>     * **–©–æ —Ä–æ–±–∏—Ç—å:** –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏—Ç—å –¥–µ—Ä–µ–≤–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π, –ø–æ—á–∏–Ω–∞—é—á–∏ –∑—ñ `start`, —ñ –ø–æ–≤–µ—Ä—Ç–∞—î **`Stream<Path>`**.
>     * **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ø–æ—à—É–∫—É —Ñ–∞–π–ª—ñ–≤ –∑–∞ –ø–µ–≤–Ω–∏–º–∏ –∫—Ä–∏—Ç–µ—Ä—ñ—è–º–∏ —É —Ñ–∞–π–ª–æ–≤—ñ–π —Å–∏—Å—Ç–µ–º—ñ.
>
> 3. **`Files.find(Path start, int maxDepth, BiPredicate<Path, BasicFileAttributes> matcher)`**:
>     * –ë—ñ–ª—å—à –≥–Ω—É—á–∫–∞ –≤–µ—Ä—Å—ñ—è `walk`, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —ó—Ö–Ω—ñ—Ö –∞—Ç—Ä–∏–±—É—Ç—ñ–≤.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ –∑ `Files.lines`:**

```java
try (Stream<String> lines = Files.lines(Paths.get("application.log"))) {
    long errorCount = lines.filter(line -> line.contains("ERROR")).count();
    System.out.println("–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫ —É –ª–æ–∑—ñ: " + errorCount);
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–æ–≥–æ `NIO.2` API —Ç–∞ –π–æ–≥–æ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑—ñ —Å—Ç—Ä—ñ–º–∞–º–∏ –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `Stream API` —ñ–Ω—Ç–µ–≥—Ä—É—î—Ç—å—Å—è –∑ —Ä–µ–≥—É–ª—è—Ä–Ω–∏–º–∏ –≤–∏—Ä–∞–∑–∞–º–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –£ –∫–ª–∞—Å—ñ `java.util.regex.Pattern` —î —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –º–µ—Ç–æ–¥, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—Ç—ñ–∫ –∑ —Ä—è–¥–∫–∞, —Ä–æ–∑–¥—ñ–ª–µ–Ω–æ–≥–æ –∑–∞ –ø–µ–≤–Ω–∏–º –ø–∞—Ç–µ—Ä–Ω–æ–º.
>
> **`Pattern.splitAsStream(CharSequence input)`**:
>
> * **–©–æ —Ä–æ–±–∏—Ç—å:** –†–æ–∑–±–∏–≤–∞—î –≤—Ö—ñ–¥–Ω–∏–π —Ä—è–¥–æ–∫ (`input`) –Ω–∞ —á–∞—Å—Ç–∏–Ω–∏ –∑–∞ –ø–∞—Ç–µ—Ä–Ω–æ–º —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤–∏—Ä–∞–∑—É —ñ –ø–æ–≤–µ—Ä—Ç–∞—î **`Stream<String>`** –∑ —Ü–∏—Ö —á–∞—Å—Ç–∏–Ω.
> * **–í—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –≤—ñ–¥ `.split()`**: –ú–µ—Ç–æ–¥ `String.split()` —Å–ø–æ—á–∞—Ç–∫—É —Ä–æ–∑–±–∏–≤–∞—î –≤–µ—Å—å —Ä—è–¥–æ–∫ —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –≥–æ—Ç–æ–≤–∏–π –º–∞—Å–∏–≤ `String[]`. `splitAsStream()` —î **–ª–µ–¥–∞—á–∏–º**, —â–æ –º–æ–∂–µ –±—É—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–µ –¥–ª—è –¥—É–∂–µ –¥–æ–≤–≥–∏—Ö —Ä—è–¥–∫—ñ–≤.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
import java.util.regex.Pattern;
import java.util.stream.Stream;

public class RegexStreamExample {
    public static void main(String[] args) {
        String text = "—è–±–ª—É–∫–æ, –≥—Ä—É—à–∞; –≤–∏—à–Ω—è: —Å–ª–∏–≤–∞";
        
        // –ü–∞—Ç–µ—Ä–Ω: –∫–æ–º–∞, –∫—Ä–∞–ø–∫–∞ –∑ –∫–æ–º–æ—é –∞–±–æ –¥–≤–æ–∫—Ä–∞–ø–∫–∞, –æ—Ç–æ—á–µ–Ω—ñ –ø—Ä–æ–±—ñ–ª–∞–º–∏
        Pattern pattern = Pattern.compile("\\s*[,;:]\\s*");
        
        pattern.splitAsStream(text)
               .map(String::toUpperCase)
               .forEach(System.out::println);
    }
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö, –º–µ–Ω—à –æ—á–µ–≤–∏–¥–Ω–∏—Ö —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π `Stream API` –∑—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞–º–∏ Java.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —â–æ —Ç–∞–∫–µ `Spliterator` —ñ —è–∫–∞ –π–æ–≥–æ —Ä–æ–ª—å –≤ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó `Stream` —Ç–∞ –∫–æ–ª–µ–∫—Ü—ñ–π.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`Spliterator` (Splitable Iterator)** ‚Äî —Ü–µ "—Å–µ—Ä—Ü–µ" `Stream API`. –¶–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π —ñ—Ç–µ—Ä–∞—Ç–æ—Ä, —è–∫–∏–π –ª–µ–∂–∏—Ç—å –≤ –æ—Å–Ω–æ–≤—ñ –±—É–¥—å-—è–∫–æ–≥–æ –ø–æ—Ç–æ–∫—É.
>
> **–ô–æ–≥–æ —Ä–æ–ª—å:**
>
> 1. **–î–∂–µ—Ä–µ–ª–æ –¥–∞–Ω–∏—Ö:** –ú–µ—Ç–æ–¥ `collection.stream()` –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –≤–∏–∫–ª–∏–∫–∞—î `collection.spliterator()` —ñ –Ω–∞ –π–æ–≥–æ –æ—Å–Ω–æ–≤—ñ –±—É–¥—É—î –ø–æ—Ç—ñ–∫. `Spliterator` –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π –æ–±—Ö—ñ–¥ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤.
>
> 2. **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º—É:** –¶–µ –π–æ–≥–æ –∫–ª—é—á–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è. –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –∑–≤–∏—á–∞–π–Ω–æ–≥–æ `Iterator`, `Spliterator` –º–∞—î –º–µ—Ç–æ–¥ `.trySplit()`, —è–∫–∏–π –º–æ–∂–µ **—Ä–æ–∑–±–∏—Ç–∏ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö –Ω–∞ –¥–≤—ñ —á–∞—Å—Ç–∏–Ω–∏**. –¶—é –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `parallelStream()` –¥–ª—è —Ä–æ–∑–±–∏—Ç—Ç—è —Ä–æ–±–æ—Ç–∏ –Ω–∞ –∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, `Spliterator` —î —Ç–∏–º "–º—ñ—Å—Ç–∫–æ–º", —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î `Stream API` –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –¥–∞–Ω–∏–º–∏ –∑ –∫–æ–ª–µ–∫—Ü—ñ–π, –æ—Å–æ–±–ª–∏–≤–æ –≤ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫—ñ –∑–Ω–∞–Ω–Ω—è `Collections Framework` —Ç–∞ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ `Stream API`. –¶–µ –ø–∏—Ç–∞–Ω–Ω—è —Ä—ñ–≤–Ω—è Senior, —â–æ –ø–æ–∫–∞–∑—É—î —Ä–æ–∑—É–º—ñ–Ω–Ω—è, —è–∫ –ø—Ä–∞—Ü—é—î –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ `Stream API` –∑—ñ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ–º–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞–º–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –æ–±—Ä–æ–±–∫–∏ JSON? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –•–æ—á–∞ `Stream API` –Ω–µ –º–∞—î –≤–±—É–¥–æ–≤–∞–Ω–æ—ó –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ JSON, –π–æ–≥–æ –º–æ–∂–Ω–∞ –ª–µ–≥–∫–æ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –∑ –ø–æ–ø—É–ª—è—Ä–Ω–∏–º–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞–º–∏, —è–∫-–æ—Ç **Jackson** –∞–±–æ **Gson**.
>
> **–ó–∞–≥–∞–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥:**
>
> 1. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É, –ø–∞—Ä—Å–∏–º–æ JSON-—Ä—è–¥–æ–∫ –∞–±–æ —Ñ–∞–π–ª —É –ø—Ä–æ–º—ñ–∂–Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è, –∑–∞–∑–≤–∏—á–∞–π —É –¥–µ—Ä–µ–≤–æ–ø–æ–¥—ñ–±–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–Ω–∞–ø—Ä., `JsonNode` —É Jackson) –∞–±–æ –≤ `List<Map<String, Object>>`.
> 2. –Ø–∫—â–æ –º–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ `List`, –º–∏ –º–æ–∂–µ–º–æ –ª–µ–≥–∫–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑ –Ω—å–æ–≥–æ –ø–æ—Ç—ñ–∫ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `.stream()`.
> 3. –Ø–∫—â–æ –º–∏ –ø—Ä–∞—Ü—é—î–º–æ –∑ `JsonNode`, —â–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î –º–∞—Å–∏–≤, –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ **`StreamSupport.stream()`** –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—É –∑ –π–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤.
>
> **`StreamSupport.stream(Spliterator<T> spliterator, boolean parallel)`** ‚Äî —Ü–µ —É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω–∏–π –º–µ—Ç–æ–¥, —è–∫–∏–π —Å—Ç–≤–æ—Ä—é—î –ø–æ—Ç—ñ–∫ –∑ –±—É–¥—å-—è–∫–æ–≥–æ `Spliterator`'–∞, —â–æ –¥–æ–∑–≤–æ–ª—è—î —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫—ñ –∫–∞—Å—Ç–æ–º–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ –∑ Jackson:**

```java
// jsonString –º—ñ—Å—Ç–∏—Ç—å [{"name":"A"},{"name":"B"}]
ObjectMapper mapper = new ObjectMapper();
JsonNode rootNode = mapper.readTree(jsonString);

if (rootNode.isArray()) {
    // –°—Ç–≤–æ—Ä—é—î–º–æ –ø–æ—Ç—ñ–∫ –∑ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ JSON-–º–∞—Å–∏–≤—É
    List<String> names = StreamSupport.stream(rootNode.spliterator(), false)
                                     .map(node -> node.get("name").asText())
                                     .collect(Collectors.toList());
    System.out.println(names); // [A, B]
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ `Stream API` –¥–æ –¥–∞–Ω–∏—Ö –∑ —Ä—ñ–∑–Ω–∏—Ö –¥–∂–µ—Ä–µ–ª, –≤–∫–ª—é—á–∞—é—á–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `Stream API` –¥–ª—è –æ–±—Ö–æ–¥—É –¥–µ—Ä–µ–≤–∞ —Ñ–∞–π–ª—ñ–≤. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è —Ü—å–æ–≥–æ —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –º–µ—Ç–æ–¥ **`Files.walk(Path start)`**. –í—ñ–Ω —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏—Ç—å —É—Å—ñ —Ñ–∞–π–ª–∏ —Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó, –ø–æ—á–∏–Ω–∞—é—á–∏ –∑ –≤–∫–∞–∑–∞–Ω–æ—ó —Ç–æ—á–∫–∏, —ñ –ø–æ–≤–µ—Ä—Ç–∞—î `Stream<Path>`.
>
> **–ó–∞–¥–∞—á–∞:** –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ `.java` —Ñ–∞–π–ª–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `src`, —ñ–≥–Ω–æ—Ä—É—é—á–∏ –≤–∫–ª–∞–¥–µ–Ω—ñ `target`.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É:**

```java
Path startDir = Paths.get("./src");
int maxDepth = 10; // –û–±–º–µ–∂–µ–Ω–Ω—è –≥–ª–∏–±–∏–Ω–∏ –¥–ª—è –±–µ–∑–ø–µ–∫–∏

try (Stream<Path> stream = Files.walk(startDir, maxDepth)) {
    List<Path> javaFiles = stream
        .filter(path -> !path.toString().contains("target")) // –Ü–≥–Ω–æ—Ä—É—î–º–æ target
        .filter(path -> Files.isRegularFile(path))      // –ë–µ—Ä–µ–º–æ –ª–∏—à–µ —Ñ–∞–π–ª–∏
        .filter(path -> path.toString().endsWith(".java")) // –§—ñ–ª—å—Ç—Ä—É—î–º–æ –∑–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è–º
        .collect(Collectors.toList());

    javaFiles.forEach(System.out::println);
} catch (IOException e) {
    e.printStackTrace();
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –ø–æ—à–∏—Ä–µ–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å, —è–∫-–æ—Ç —Ä–æ–±–æ—Ç–∞ –∑ —Ñ–∞–π–ª–æ–≤–æ—é —Å–∏—Å—Ç–µ–º–æ—é, –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Stream API`.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–π –∑–≤'—è–∑–æ–∫ –º—ñ–∂ `Stream API` —Ç–∞ `java.util.Random`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –£ Java 8 –∫–ª–∞—Å `java.util.Random` –±—É–ª–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–æ –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó **–Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏—Ö –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤** –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —á–∏—Å–µ–ª.
>
> * **`ints()`**: –ø–æ–≤–µ—Ä—Ç–∞—î `IntStream`.
> * **`longs()`**: –ø–æ–≤–µ—Ä—Ç–∞—î `LongStream`.
> * **`doubles()`**: –ø–æ–≤–µ—Ä—Ç–∞—î `DoubleStream`.
>
> –¶—ñ –º–µ—Ç–æ–¥–∏ –º–∞—é—Ç—å –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ –≤–µ—Ä—Å—ñ—ó, —è–∫—ñ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∑–∞–¥–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –¥—ñ–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω—å —Ç–æ—â–æ.
>
> –¶–µ –¥—É–∂–µ –∑—Ä—É—á–Ω–∏–π —Å–ø–æ—Å—ñ–± –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≤–µ–ª–∏–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∞–±–æ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
import java.util.Random;

public class RandomStream {
    public static void main(String[] args) {
        Random random = new Random();
        
        // –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ 5 –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —Ü—ñ–ª–∏—Ö —á–∏—Å–µ–ª –≤—ñ–¥ 1 –¥–æ 100
        random.ints(5, 1, 101) // 5 - –∫—ñ–ª—å–∫—ñ—Å—Ç—å, 1 - min, 101 - max (exclusive)
              .forEach(System.out::println);
    }
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –º–µ–Ω—à –≤—ñ–¥–æ–º–∏—Ö, –∞–ª–µ –∫–æ—Ä–∏—Å–Ω–∏—Ö —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π `Stream API` –∑ —ñ–Ω—à–∏–º–∏ —á–∞—Å—Ç–∏–Ω–∞–º–∏ JDK.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `Stream API` —ñ–Ω—Ç–µ–≥—Ä—É—î—Ç—å—Å—è –∑ `BitSet`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ö–ª–∞—Å `java.util.BitSet` (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –Ω–∞–±–æ—Ä—É –±—ñ—Ç—ñ–≤) —Ç–∞–∫–æ–∂ –æ—Ç—Ä–∏–º–∞–≤ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é –∑—ñ `Stream API` –≤ Java 8.
>
> –ú–µ—Ç–æ–¥ **`BitSet.stream()`** –ø–æ–≤–µ—Ä—Ç–∞—î `IntStream`, —â–æ –º—ñ—Å—Ç–∏—Ç—å **—ñ–Ω–¥–µ–∫—Å–∏** —Ç–∏—Ö –±—ñ—Ç—ñ–≤, —è–∫—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤ `true`.
>
> –¶–µ –¥–æ–∑–≤–æ–ª—è—î –ª–µ–≥–∫–æ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó –Ω–∞–¥ –Ω–∞–±–æ—Ä–æ–º "–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—Ö" —ñ–Ω–¥–µ–∫—Å—ñ–≤.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
import java.util.BitSet;
import java.util.stream.IntStream;

public class BitSetStreamExample {
    public static void main(String[] args) {
        BitSet bitSet = new BitSet();
        bitSet.set(1);
        bitSet.set(3);
        bitSet.set(5);

        // –û—Ç—Ä–∏–º—É—î–º–æ –ø–æ—Ç—ñ–∫ —ñ–Ω–¥–µ–∫—Å—ñ–≤ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—Ö –±—ñ—Ç—ñ–≤
        IntStream stream = bitSet.stream();
        
        stream.forEach(System.out::println); // 1, 3, 5
    }
}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ö—Ä—É–≥–æ–∑—ñ—Ä –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ —Ç–∞ –∑–Ω–∞–Ω–Ω—è —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–∏—Ö —Ç–∞ —ó—Ö —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ —Å—É—á–∞—Å–Ω–∏–º–∏ API.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Å—Ç—Ä—ñ–º –∑ —Ä—è–¥–∫–∞ `CharSequence`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢–∞–∫, –º–æ–∂–Ω–∞. –î–ª—è —Ü—å–æ–≥–æ —É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É `CharSequence` (–≤—ñ–¥ —è–∫–æ–≥–æ –Ω–∞—Å–ª—ñ–¥—É—é—Ç—å `String`, `StringBuilder` —Ç–æ—â–æ) —î `default`-–º–µ—Ç–æ–¥ `.chars()`.
>
> **`.chars()`** –ø–æ–≤–µ—Ä—Ç–∞—î `IntStream`, —â–æ –º—ñ—Å—Ç–∏—Ç—å Unicode-–∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª—É.
>
> –¶–µ –¥–æ–∑–≤–æ–ª—è—î –æ–±—Ä–æ–±–ª—è—Ç–∏ —Å–∏–º–≤–æ–ª–∏ —Ä—è–¥–∫–∞ —É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–º—É —Å—Ç–∏–ª—ñ.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

–ü—ñ–¥—Ä–∞—Ö—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥–æ–ª–æ—Å–Ω–∏—Ö —É —Ä—è–¥–∫—É.

```java
String text = "Hello World";

long vowelCount = text.toLowerCase().chars() // IntStream
                     .filter(c -> "aeiou".indexOf(c) != -1)
                     .count();

System.out.println("–ö—ñ–ª—å–∫—ñ—Å—Ç—å –≥–æ–ª–æ—Å–Ω–∏—Ö: " + vowelCount); // 3
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ —Ä–æ–±–æ—Ç–∏ –∑ —Ä—è–¥–∫–∞–º–∏ —á–µ—Ä–µ–∑ `Stream API`.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —á–æ–º—É –º–æ–∂–µ –±—É—Ç–∏ –ø–µ—Ä–µ–≤–∞–≥–∞ `Pattern.splitAsStream()` –Ω–∞–¥ `String.split()`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ì–æ–ª–æ–≤–Ω–∞ –ø–µ—Ä–µ–≤–∞–≥–∞ `Pattern.splitAsStream()` –ø–æ–ª—è–≥–∞—î –≤ **–ª–µ–¥–∞—á–æ—Å—Ç—ñ (laziness)**.
>
> * **`String.split()`**: –¶–µ **"–≥–∞—Ä—è—á–∞" (eager)** –æ–ø–µ—Ä–∞—Ü—ñ—è. –í–æ–Ω–∞ —Å–ø–æ—á–∞—Ç–∫—É **–ø–æ–≤–Ω—ñ—Å—Ç—é** –æ–±—Ä–æ–±–ª—è—î –≤–µ—Å—å —Ä—è–¥–æ–∫, –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —É—Å—ñ —Ä–æ–∑–¥—ñ–ª—å–Ω–∏–∫–∏, —Å—Ç–≤–æ—Ä—é—î —ñ –∑–∞–ø–æ–≤–Ω—é—î –º–∞—Å–∏–≤ `String[]`. –Ø–∫—â–æ —Ä—è–¥–æ–∫ –¥—É–∂–µ –≤–µ–ª–∏–∫–∏–π, —Ü–µ –º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ —á–∞—Å —ñ –ø–∞–º'—è—Ç—å.
>
> * **`Pattern.splitAsStream()`**: –¶–µ **"–ª–µ–¥–∞—á–∞" (lazy)** –æ–ø–µ—Ä–∞—Ü—ñ—è. –í–æ–Ω–∞ –ø–æ–≤–µ—Ä—Ç–∞—î `Stream<String>` —ñ –Ω–µ –≤–∏–∫–æ–Ω—É—î —Ä–æ–∑–±–∏—Ç—Ç—è –æ–¥—Ä–∞–∑—É. –ï–ª–µ–º–µ–Ω—Ç–∏ (–ø—ñ–¥—Ä—è–¥–∫–∏) –±—É–¥—É—Ç—å –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏—Å—è –ø–æ –æ–¥–Ω–æ–º—É, –ª–∏—à–µ –∫–æ–ª–∏ —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è —ó—Ö –∑–∞–ø—Ä–æ—Å–∏—Ç—å.
>
> **–ö–æ–ª–∏ —Ü–µ –≤–∞–∂–ª–∏–≤–æ:**
>
> * –ü—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ **–¥—É–∂–µ –≤–µ–ª–∏–∫–∏–º–∏ —Ä—è–¥–∫–∞–º–∏**, –∫–æ–ª–∏ –ø–æ–≤–Ω–µ —Ä–æ–∑–±–∏—Ç—Ç—è —î –∑–∞—Ç—Ä–∞—Ç–Ω–∏–º.
> * –ö–æ–ª–∏ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ `short-circuiting` –æ–ø–µ—Ä–∞—Ü—ñ—ó (`findFirst`, `anyMatch`). –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞–π—Ç–∏ –ø–µ—Ä—à–∏–π –ø—ñ–¥—Ä—è–¥–æ–∫, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —É–º–æ–≤—ñ, `splitAsStream` –ø—Ä–∏–ø–∏–Ω–∏—Ç—å —Ä–æ–∑–±–∏—Ç—Ç—è, —è–∫ —Ç—ñ–ª—å–∫–∏ –∑–Ω–∞–π–¥–µ –π–æ–≥–æ. `String.split()` —Å–ø–æ—á–∞—Ç–∫—É —Ä–æ–∑—ñ–±'—î –≤–µ—Å—å —Ä—è–¥–æ–∫, –≤–∏–∫–æ–Ω–∞–≤—à–∏ –∑–∞–π–≤—É —Ä–æ–±–æ—Ç—É.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø–µ—Ä–µ–≤–∞–≥ –ª–µ–¥–∞—á–æ—ó –æ—Ü—ñ–Ω–∫–∏ —Ç–∞ –≤–º—ñ–Ω–Ω—è –æ–±–∏—Ä–∞—Ç–∏ –±—ñ–ª—å—à –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ–ª–∏ —Ü–µ –º–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ `Collectors API` —ñ–Ω—Ç–µ–≥—Ä—É—î—Ç—å—Å—è –∑ `Stream API` —ñ —â–æ –≤—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–±–∏—Ç–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`Collectors API`** (–∫–ª–∞—Å `java.util.stream.Collectors`) ‚Äî —Ü–µ –∫–ª—é—á–æ–≤–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –∑—ñ —Å—Ç—Ä—ñ–º–∞–º–∏. –í—ñ–Ω –Ω–µ —î —á–∞—Å—Ç–∏–Ω–æ—é `Stream`, –∞ —î –Ω–∞–±–æ—Ä–æ–º **—Ñ–∞–±—Ä–∏—á–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤**, —â–æ —Å—Ç–≤–æ—Ä—é—é—Ç—å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É **`Collector`**.
>
> `Collector` –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é `stream.collect()`, —â–æ–± –≤–∏–∑–Ω–∞—á–∏—Ç–∏, **—è–∫ —Å–∞–º–µ** –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—ñ–±—Ä–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –ø–æ—Ç–æ–∫—É.
>
> **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –¥–æ–∑–≤–æ–ª—è—î:**
>
> * **–ó–±–∏—Ä–∞—Ç–∏ –≤ –∫–æ–ª–µ–∫—Ü—ñ—ó:** `toList()`, `toSet()`.
> * **–ó–±–∏—Ä–∞—Ç–∏ –≤ –º–∞–ø–∏:** `toMap()`.
> * **–í–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è:** `groupingBy()`, `partitioningBy()`.
> * **–í–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∞–≥—Ä–µ–≥–∞—Ü—ñ—é:** `summingInt()`, `averagingDouble()`, `counting()`.
> * **–û–±'—î–¥–Ω—É–≤–∞—Ç–∏ —Ä—è–¥–∫–∏:** `joining()`.
> * **–í–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—É —Ä–µ–¥—É–∫—Ü—ñ—é:** `reducing()`.
> * **–ö–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ –∫–æ–ª–µ–∫—Ç–æ—Ä–∏** –¥–ª—è –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–æ—ó –æ–±—Ä–æ–±–∫–∏.
>
> –ü–æ —Å—É—Ç—ñ, `Collectors` ‚Äî —Ü–µ –º—ñ—Å—Ç, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –ø–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö –Ω–∞–∑–∞–¥ —É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–∏—Ö –∞–±–æ –∞–≥—Ä–µ–≥–æ–≤–∞–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ `collect` ‚Äî —Ü–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∑–±—ñ—Ä —É —Å–ø–∏—Å–æ–∫, –∞ –ø–æ—Ç—É–∂–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó, —â–æ –∫–µ—Ä—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `Collectors API`.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Å—Ç—Ä—ñ–º –∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —á–∏—Å–µ–ª `ThreadLocalRandom`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, –º–æ–∂–Ω–∞.** –ö–ª–∞—Å `java.util.concurrent.ThreadLocalRandom` (–≤–≤–µ–¥–µ–Ω–∏–π –≤ Java 7) —Ç–∞–∫–æ–∂ –±—É–ª–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–æ –≤ Java 8, —â–æ–± –≤—ñ–Ω –º—ñ–≥ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –ø–æ—Ç–æ–∫–∏ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —á–∏—Å–µ–ª, —Ç–∞–∫ —Å–∞–º–æ —è–∫ —ñ `java.util.Random`.
>
> –í—ñ–Ω –º–∞—î –º–µ—Ç–æ–¥–∏ `.ints()`, `.longs()`, `.doubles()`, —è–∫—ñ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω—ñ –ø–æ—Ç–æ–∫–∏.
>
> **–ì–æ–ª–æ–≤–Ω–∞ –ø–µ—Ä–µ–≤–∞–≥–∞ `ThreadLocalRandom`**:
> –í—ñ–Ω —î **–∑–Ω–∞—á–Ω–æ –±—ñ–ª—å—à –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–º** —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑—ñ —Å–ø—ñ–ª—å–Ω–∏–º `new Random()` –∞–±–æ `Math.random()`. –ö–æ–∂–µ–Ω –ø–æ—Ç—ñ–∫ –æ—Ç—Ä–∏–º—É—î —Å–≤—ñ–π –≤–ª–∞—Å–Ω–∏–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, —â–æ —É—Å—É–≤–∞—î –±–æ—Ä–æ—Ç—å–±—É –∑–∞ —Å–ø—ñ–ª—å–Ω–∏–π —Ä–µ—Å—É—Ä—Å.
>
> –•–æ—á–∞ –≤ `parallelStream` –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º —ñ —Ç–∞–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó, —è–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `ThreadLocalRandom.current().doubles(...)` –º–æ–∂–µ –±—É—Ç–∏ –∫–æ—Ä–∏—Å–Ω–∏–º –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–∏—Ö —Ç–µ—Å—Ç–∞—Ö –∞–±–æ —Å–∏–º—É–ª—è—Ü—ñ—è—Ö.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
// –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ 3 –≤–∏–ø–∞–¥–∫–æ–≤—ñ double-–∑–Ω–∞—á–µ–Ω–Ω—è –∑ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
ThreadLocalRandom.current().doubles(3).forEach(System.out::println);
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–æ–≥–æ `Concurrency API` —Ç–∞ –π–æ–≥–æ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑—ñ `Stream API`. –¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Ä–æ–∑—É–º—ñ–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –≤–∏—Å–æ–∫–æ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –∫–æ–¥—É.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —Å—Ç—Ä—ñ–º—ñ–≤ –∑ `try-with-resources` –¥–æ–ø–æ–º–∞–≥–∞—î —É–Ω–∏–∫–Ω—É—Ç–∏ –≤–∏—Ç–æ–∫—É —Ä–µ—Å—É—Ä—Å—ñ–≤? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–µ—è–∫—ñ –ø–æ—Ç–æ–∫–∏ (–∑–æ–∫—Ä–µ–º–∞, —Ç—ñ, —â–æ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∑ `Files.lines()` –∞–±–æ `Files.walk()`) –±–∞–∑—É—é—Ç—å—Å—è –Ω–∞ —Ä–µ—Å—É—Ä—Å–∞—Ö, —â–æ –≤–∏–º–∞–≥–∞—é—Ç—å —è–≤–Ω–æ–≥–æ –∑–∞–∫—Ä–∏—Ç—Ç—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ñ–∞–π–ª–æ–≤—ñ –ø–æ—Ç–æ–∫–∏ `InputStream`).
>
> –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å `java.util.stream.Stream` —É—Å–ø–∞–¥–∫–æ–≤—É—î `java.lang.AutoCloseable`. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –π–æ–≥–æ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó **`try-with-resources`**.
>
> **–Ø–∫ —Ü–µ –¥–æ–ø–æ–º–∞–≥–∞—î:**
>
> 1. –í–∏ –æ–≥–æ–ª–æ—à—É—î—Ç–µ –ø–æ—Ç—ñ–∫ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `try(...)`.
> 2. –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –±–ª–æ–∫—É `try` (–Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –∞–±–æ —á–µ—Ä–µ–∑ –≤–∏–Ω—è—Ç–æ–∫), –º–µ—Ç–æ–¥ `.close()` –Ω–∞ –ø–æ—Ç–æ—Ü—ñ –±—É–¥–µ **–≤–∏–∫–ª–∏–∫–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ**.
> 3. `close()` –¥–ª—è —Ç–∞–∫–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤, —É —Å–≤–æ—é —á–µ—Ä–≥—É, –∑–∞–∫—Ä–∏–≤–∞—î –±–∞–∑–æ–≤–∏–π —Ä–µ—Å—É—Ä—Å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ñ–∞–π–ª).
>
> –¶–µ —î–¥–∏–Ω–∏–π –Ω–∞–¥—ñ–π–Ω–∏–π —Å–ø–æ—Å—ñ–± –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏, —â–æ —Ñ–∞–π–ª–æ–≤—ñ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∏ —Ç–∞ —ñ–Ω—à—ñ —Å–∏—Å—Ç–µ–º–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏ –±—É–¥—É—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ –∑–≤—ñ–ª—å–Ω–µ–Ω—ñ, —ñ —É–Ω–∏–∫–Ω—É—Ç–∏ –≤–∏—Ç–æ–∫—ñ–≤.
>
> ```java
> try (Stream<String> lines = Files.lines(Paths.get("data.txt"))) {
>     // ...
> } // —Ç—É—Ç lines.close() –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
> ```
>
> –Ø–∫—â–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `try-with-resources`, –≤–∏ —Ä–∏–∑–∏–∫—É—î—Ç–µ –∑–∞–ª–∏—à–∏—Ç–∏ —Ñ–∞–π–ª –≤—ñ–¥–∫—Ä–∏—Ç–∏–º.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ù–∞–≤–∏—á–∫–∏ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –Ω–∞–¥—ñ–π–Ω–æ–≥–æ, —Ä–µ—Å—É—Ä—Å–æ-–±–µ–∑–ø–µ—á–Ω–æ–≥–æ –∫–æ–¥—É. –¶–µ –æ–¥–Ω–∞ –∑ –∫–ª—é—á–æ–≤–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ —Å—É—á–∞—Å–Ω–æ—ó Java-—Ä–æ–∑—Ä–æ–±–∫–∏.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Stream API` —ñ `Optional` –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ —Ü–µ–π –∫–æ–¥:

```java
User user = userRepository.findById(id);
if (user != null) {
    if (user.getAddress() != null) {
        return user.getAddress().getCity();
    }
}
return "Unknown";
```

‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ–π "–ª–∞–Ω—Ü—é–∂–æ–∫ –ø–µ–∫–ª–∞" –∑ `null`-–ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ —î —ñ–¥–µ–∞–ª—å–Ω–∏–º –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–º –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º `Optional` —Ç–∞ –π–æ–≥–æ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ –ª—è–º–±–¥–∞–º–∏/–ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏ –Ω–∞ –º–µ—Ç–æ–¥–∏. `Stream API` —Ç—É—Ç –Ω–∞–ø—Ä—è–º—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω, –æ—Å–∫—ñ–ª—å–∫–∏ –º–∏ –ø—Ä–∞—Ü—é—î–º–æ –∑ –æ–¥–Ω–∏–º –æ–±'—î–∫—Ç–æ–º.
>
> **–†—ñ—à–µ–Ω–Ω—è:**
>
> 1. `userRepository.findById(id)` –º–∞—î –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ `Optional<User>`.
> 2. –î–ª—è –±–µ–∑–ø–µ—á–Ω–æ—ó –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó –ø–æ –≤–∫–ª–∞–¥–µ–Ω–∏—Ö –æ–±'—î–∫—Ç–∞—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `flatMap`.
> 3. `orElse` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –Ω–∞–¥–∞–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º.
>
> **–ü—Ä–∏–ø—É—Å—Ç–∏–º–æ `user.getAddress()` –ø–æ–≤–µ—Ä—Ç–∞—î `Optional<Address>`:**
>
> ```java
> return userRepository.findById(id)            // Optional<User>
>          .flatMap(User::getAddress)          // Optional<Address>
>          .map(Address::getCity)              // Optional<String>
>          .orElse("Unknown");
> ```
>
> **–Ø–∫—â–æ –º–µ—Ç–æ–¥–∏ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å `null` (—Å—Ç–∞—Ä–∏–π —Å—Ç–∏–ª—å):**
>
> ```java
> return Optional.ofNullable(userRepository.findById(id)) // Optional<User>
>          .map(User::getAddress)                          // Optional<Address> (–º–æ–∂–µ –±—É—Ç–∏ Optional –∑ null)
>          .map(Address::getCity)                          // Optional<String> (–º–æ–∂–µ –±—É—Ç–∏ Optional –∑ null)
>          .orElse("Unknown");
> ```
>
> –û–±–∏–¥–≤–∞ –ø—ñ–¥—Ö–æ–¥–∏ —î –∑–Ω–∞—á–Ω–æ –±—ñ–ª—å—à —á–∏—Ç–∞–±–µ–ª—å–Ω–∏–º–∏ —Ç–∞ –±–µ–∑–ø–µ—á–Ω–∏–º–∏, –Ω—ñ–∂ —Ä—É—á–Ω—ñ `if`-–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–í–º—ñ–Ω–Ω—è –ø–∏—Å–∞—Ç–∏ —á–∏—Å—Ç–∏–π, —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —Ç–∞ `null-safe` –∫–æ–¥. –¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≤–æ–ª–æ–¥—ñ–Ω–Ω—è `Optional` —è–∫ –∫–ª—é—á–æ–≤–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è –±–æ—Ä–æ—Ç—å–±–∏ –∑ `NPE`.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤–ª–∞—Å–Ω–∏–π –∫–ª–∞—Å-–∫–æ–ª–µ–∫—Ü—ñ—é, —è–∫–∏–π –±–∏ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–≤ `Stream API`? –©–æ –¥–ª—è —Ü—å–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, –º–æ–∂–Ω–∞.** –©–æ–± –≤–∞—à–∞ –≤–ª–∞—Å–Ω–∞ –∫–æ–ª–µ–∫—Ü—ñ—è –º–æ–≥–ª–∞ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑—ñ `Stream API`, –≤–æ–Ω–∞ –ø–æ–≤–∏–Ω–Ω–∞ –Ω–∞–¥–∞–≤–∞—Ç–∏ –º–µ—Ö–∞–Ω—ñ–∑–º –¥–ª—è –æ–±—Ö–æ–¥—É —ó—ó –µ–ª–µ–º–µ–Ω—Ç—ñ–≤.
>
> –Ü—Å–Ω—É—é—Ç—å –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ñ —à–ª—è—Ö–∏:
>
> 1. **–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `java.util.Collection<E>`:**
>     * –¶–µ –Ω–∞–π–∫—Ä–∞—â–∏–π —ñ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —à–ª—è—Ö. –Ø–∫—â–æ –≤–∞—à –∫–ª–∞—Å —Ä–µ–∞–ª—ñ–∑—É—î `Collection`, –≤—ñ–Ω **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —É—Å–ø–∞–¥–∫—É—î** `default`-–º–µ—Ç–æ–¥–∏ `.stream()` —Ç–∞ `.parallelStream()`, —ñ –Ω—ñ—á–æ–≥–æ –¥–æ–¥–∞—Ç–∫–æ–≤–æ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ.
>     * –í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ñ –º–µ—Ç–æ–¥–∏ `Collection`, —è–∫-–æ—Ç `iterator()`, `size()` —Ç–æ—â–æ.
>
> 2. **–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏–π `Spliterator<T>`:**
>     * –¶–µ –±—ñ–ª—å—à –Ω–∏–∑—å–∫–æ—Ä—ñ–≤–Ω–µ–≤–∏–π —ñ —Å–∫–ª–∞–¥–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥. –í—ñ–Ω –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–π, —è–∫—â–æ –≤–∞—à–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö –Ω–µ —î –∫–ª–∞—Å–∏—á–Ω–æ—é –∫–æ–ª–µ–∫—Ü—ñ—î—é, –∞–ª–µ –≤–∏ —Ö–æ—á–µ—Ç–µ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –¥–ª—è –Ω–µ—ó –µ—Ñ–µ–∫—Ç–∏–≤–Ω—É –ø—ñ–¥—Ç—Ä–∏–º–∫—É —Å—Ç—Ä—ñ–º—ñ–≤ (–æ—Å–æ–±–ª–∏–≤–æ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏—Ö).
>     * –í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Spliterator<T>`, –≤–∫–ª—é—á–∞—é—á–∏ –º–µ—Ç–æ–¥–∏ `tryAdvance()`, `forEachRemaining()` —Ç–∞, —â–æ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–µ –¥–ª—è –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º—É, `trySplit()`.
>     * –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –≤–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Ç—ñ–∫ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `StreamSupport.stream(mySpliterator, false)`.
>
> –î–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –∫–∞—Å—Ç–æ–º–Ω–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø–µ—Ä—à–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É. –î—Ä—É–≥–∏–π –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–ª—è –≤–∏—Å–æ–∫–æ–æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏—Ö –∞–±–æ –Ω–µ—Ç–∏–ø–æ–≤–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–∏—Ö.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ï–∫—Å–ø–µ—Ä—Ç–Ω—ñ –∑–Ω–∞–Ω–Ω—è Java Collections Framework —Ç–∞ `Stream API`. –¶–µ –ø–æ–∫–∞–∑—É—î, —â–æ –∫–∞–Ω–¥–∏–¥–∞—Ç —Ä–æ–∑—É–º—ñ—î, —è–∫ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —î —Ä–æ–∑—à–∏—Ä—é–≤–∞–Ω–∏–º —ñ —è–∫ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤ –Ω—å–æ–≥–æ –≤–ª–∞—Å–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏.*

* * *
