---
layout: default
title: "Infinite Streams —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è"
parent: "Stream API"
grand_parent: "Java 8"
nav_order: 21
---

# Infinite Streams —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: –ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ –ø–æ—Ç–æ–∫–∏ ‚Äì —Ü–µ —Å—Ç—Ä—ñ–º–∏, —â–æ –Ω–µ –º–∞—é—Ç—å –∫—ñ–Ω—Ü—è —Å–∞–º—ñ –ø–æ —Å–æ–±—ñ, –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –º–µ—Ç–æ–¥–∞–º–∏ `Stream.generate()` –∞–±–æ `Stream.iterate()`. –í–æ–Ω–∏ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –æ–±–º–µ–∂–µ–Ω–Ω—è (`limit()`, `takeWhile()`, `dropWhile()`), —ñ–Ω–∞–∫—à–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è.

* –ø–æ–Ω—è—Ç—Ç—è: `Infinite Streams`, `Stream.generate()`, `Stream.iterate()`, `limit(n)`, `takeWhile(predicate)` (Java 9+), `dropWhile(predicate)` (Java 9+).

* –ø—Ä–∏–∫–ª–∞–¥–∏: `Stream.generate(Math::random).limit(3)`, `Stream.iterate(0, n -> n + 1).limit(5)`.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –∑–∞–≤–∏—Å–∞–Ω–Ω—è –∞–±–æ `OutOfMemoryError`. `takeWhile()` —Ç–∞ `dropWhile()` –Ω–∞–¥–∞—é—Ç—å –≥–Ω—É—á–∫–∏–π —Å–ø–æ—Å—ñ–± —É–º–æ–≤–Ω–æ–≥–æ –æ–±–º–µ–∂–µ–Ω–Ω—è.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –Ø–∫ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ —Å—Ç—Ä—ñ–º–∏, —è–∫ —ó—Ö –æ–±–º–µ–∂—É–≤–∞—Ç–∏.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

–ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ –ø–æ—Ç–æ–∫–∏ (**`Infinite`** `Streams`) ‚Äî —Ü–µ –ø–æ—Ç–æ–∫–∏, —è–∫—ñ –Ω–µ –º–∞—é—Ç—å –∫—ñ–Ω—Ü—è —Å–∞–º—ñ –ø–æ —Å–æ–±—ñ, —ñ –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –º–µ—Ç–æ–¥–∞–º–∏ **`Stream.generate()`** –∞–±–æ **`Stream.iterate()`**. –í–æ–Ω–∏ —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è —Å–∏–º—É–ª—è—Ü—ñ–π, –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö –∞–±–æ –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å. –¢–∞–∫—ñ –ø–æ—Ç–æ–∫–∏ **–æ–±–æ–≤'—è–∑–∫–æ–≤–æ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –æ–±–º–µ–∂–µ–Ω–Ω—è** ‚Äî —ñ–Ω–∞–∫—à–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¶–µ —Ç–∞–∫—ñ –ø–æ—Ç–æ–∫–∏, —è–∫—ñ –º–æ–∂—É—Ç—å —Ç—Ä–∏–≤–∞—Ç–∏ –≤—ñ—á–Ω–æ, —è–∫ –±–µ–∑–∫—ñ–Ω–µ—á–Ω–∏–π –∫–æ–Ω–≤–µ—î—Ä. –©–æ–± –Ω–µ –≤—Ç–æ–ø–∏—Ç–∏—Å—è –≤ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ—Å—Ç—ñ, —Ç—Ä–µ–±–∞ –∞–±–æ **limit-–Ω—É—Ç–∏**, –∞–±–æ –∑—É–ø–∏–Ω—è—Ç–∏—Å—å —É–º–æ–≤–Ω–æ (**`takeWhile`**, **`dropWhile`**)

---

## üìä **–ú–µ—Ç–æ–¥–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏—Ö —Å—Ç—Ä—ñ–º—ñ–≤:**

* **`üîÑ Stream.generate(Supplier<T>)`** --> –°—Ç–≤–æ—Ä—é—î –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π –ø–æ—Ç—ñ–∫, —â–æ –≤–∏–∫–ª–∏–∫–∞—î –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞ —â–æ—Ä–∞–∑—É.

* **`‚û∞ Stream.iterate(seed, UnaryOperator<T>)`** --> –ü–æ—á–∏–Ω–∞—î –∑ –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è (seed), —ñ—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î —Ñ—É–Ω–∫—Ü—ñ—é.

* **`‚úÖ Stream.iterate(seed, predicate, UnaryOperator<T>)`** `Java 9+`--> –Ü—Ç–µ—Ä–∞—Ü—ñ—è –∑ —É–º–æ–≤–æ—é –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è.

* **`üõë limit(n)`** --> –û–±—Ä—ñ–∑–∞—î –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π –ø–æ—Ç—ñ–∫ –¥–æ –ø–µ—Ä—à–∏—Ö *n* –µ–ª–µ–º–µ–Ω—Ç—ñ–≤.

* **`‚öñÔ∏è takeWhile(predicate)`** `Java 9+` --> –ë–µ—Ä–µ–º–æ –µ–ª–µ–º–µ–Ω—Ç–∏, –¥–æ–∫–∏ predicate \== true.

* **`üßπ dropWhile(predicate)`** `Java 9+` --> –ü—Ä–æ–ø—É—Å–∫–∞—î–º–æ –µ–ª–µ–º–µ–Ω—Ç–∏, –¥–æ–∫–∏ predicate \== true, –ø–æ—Ç—ñ–º –±–µ—Ä–µ–º–æ —Ä–µ—à—Ç—É.

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

–£—è–≤–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—É —Å—Ç—Ä—ñ—á–∫—É –∑ —á–∏—Å–ª–∞–º–∏ ‚Äî –≤–æ–Ω–∞ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –∑—É–ø–∏–Ω–∏—Ç—å—Å—è, —è–∫—â–æ —Å–∞–º –Ω–µ —Å–∫–∞–∂–µ—à "–¥–æ—Å–∏—Ç—å\!".  

–¢—É—Ç –ø—Ä–∏—Ö–æ–¥—è—Ç—å –Ω–∞ –¥–æ–ø–æ–º–æ–≥—É:

* **`limit()`** ‚Äî –∫–∞–∂–µ: "–¥–∞–π –º–µ–Ω—ñ –ª–∏—à–µ –ø–µ—Ä—à—ñ 10"
* **`takeWhile()`** ‚Äî "–ø–æ–∫–∏ —á–∏—Å–ª–∞ \< 100 ‚Äî –±–µ—Ä–∏"
* **`dropWhile()`** ‚Äî "–ø–æ–∫–∏ —á–∏—Å–ª–∞ \< 100 ‚Äî —ñ–≥–Ω–æ—Ä—É–π, –¥–∞–ª—ñ –∑–±–∏—Ä–∞–π"

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

üîπ **`Stream.generate()`**

```java
Stream<String> randoms = Stream.generate(() -> UUID.randomUUID().toString());
randoms.limit(3).forEach(System.out::println);
```

---

üîπ **`Stream.iterate()` (Java 8\)**

```java
Stream<Integer> numbers = Stream.iterate(0, n -> n + 2);
numbers.limit(5).forEach(System.out::println); // 0, 2, 4, 6, 8
```

---

üîπ **`Stream.iterate()` –∑ —É–º–æ–≤–æ—é (Java 9+)**

```java
Stream.iterate(0, n -> n < 10, n -> n + 1)
      .forEach(System.out::println); // 0 to 9
```

---

üîπ **`takeWhile()` (Java 9+)**

```java
Stream.of(1,2,3,4,5,6,1,2)
      .takeWhile(n -> n < 5)
      .forEach(System.out::println); // 1, 2, 3, 4
```

---

üîπ **`dropWhile()` (Java 9+)**

```java
Stream.of(1,2,3,4,5,6,1,2)
      .dropWhile(n -> n < 5)
      .forEach(System.out::println); // 5, 6, 1, 2
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

| –ú–µ—Ç–æ–¥ | Java –≤–µ—Ä—Å—ñ—è | –ü–æ–≤–µ–¥—ñ–Ω–∫–∞ |
| :---: | :---: | :---: |
| **`generate()`** | 8+ | –ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è |
| **`iterate(seed, op)`** | 8+ | –ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∞ —ñ—Ç–µ—Ä–∞—Ü—ñ—è |
| **`iterate(seed, pred, op)`** | 9+ | –Ü—Ç–µ—Ä–∞—Ü—ñ—è –∑ —É–º–æ–≤–æ—é –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è |
| **`limit(n)`** | 8+ | –ë–µ—Ä–µ–º–æ *n* –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ |
| **`takeWhile(pred)`** | 9+ | –ë–µ—Ä–µ–º–æ –ø–æ–∫–∏ —É–º–æ–≤–∞ \== true |
| **`dropWhile(pred)`** | 9+ | –ü—Ä–æ–ø—É—Å–∫–∞—î–º–æ –ø–æ–∫–∏ —É–º–æ–≤–∞ \== true |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**"GIL-TD"**  
‚Äî **Generate, Iterate, Limit, TakeWhile, DropWhile**

–¢–∞–∫ –∑–∞–ø–∞–º º—è—Ç–∞—î—à —ñ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —ñ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤.

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* –ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ –ø–æ—Ç–æ–∫–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —á–µ—Ä–µ–∑ **`generate()`** —ñ **`iterate()`**.
* –ü–æ—á–∏–Ω–∞—é—á–∏ –∑ Java 9, **`iterate()`** –ø—ñ–¥—Ç—Ä–∏–º—É—î —É–º–æ–≤—É –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è.
* –î–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π **`limit(), takeWhile(), dropWhile()`**.
* –í–∞–∂–ª–∏–≤–æ –Ω–µ –∑–∞–±—É—Ç–∏ –æ–±–º–µ–∂–∏—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ –ø–æ—Ç–æ–∫–∏, —ñ–Ω–∞–∫—à–µ ‚Äî –∑–∞–≤–∏—Å–∞–Ω–Ω—è –∞–±–æ –≤–∏—Ç—ñ–∫ —Ä–µ—Å—É—Ä—Å—ñ–≤.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**Java Docs ‚Äî Stream.iterate() (Java 9\)**](https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#iterate-T-java.util.function.Predicate-java.util.function.UnaryOperator-)
* [**Java Docs ‚Äî takeWhile / dropWhile**](https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#takeWhile-java.util.function.Predicate-)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ –ø–æ—Ç–æ–∫–∏ (Infinite Streams) –≤ Java —ñ —è–∫ —ó—Ö –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ –ø–æ—Ç–æ–∫–∏** ‚Äî —Ü–µ –ø–æ—Ç–æ–∫–∏, —è–∫—ñ –Ω–µ –º–∞—é—Ç—å –≤–∏–∑–Ω–∞—á–µ–Ω–æ–≥–æ –∫—ñ–Ω—Ü—è —ñ –º–æ–∂—É—Ç—å –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ. –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –ø–æ—Ç–æ–∫—ñ–≤, —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö –∑ –∫–æ–ª–µ–∫—Ü—ñ–π —á–∏ –º–∞—Å–∏–≤—ñ–≤, –≤–æ–Ω–∏ –Ω–µ –±–∞–∑—É—é—Ç—å—Å—è –Ω–∞ —Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–º—É –¥–∂–µ—Ä–µ–ª—ñ –¥–∞–Ω–∏—Ö.
>
> –¢–∞–∫—ñ –ø–æ—Ç–æ–∫–∏ **–æ–±–æ–≤'—è–∑–∫–æ–≤–æ** –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –æ–±–º–µ–∂–µ–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø—Ä–æ–º—ñ–∂–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π (`limit`, `takeWhile`), —ñ–Ω–∞–∫—à–µ —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è, —â–æ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –æ–±—Ä–æ–±–∏—Ç–∏ –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ (—è–∫ `collect` –∞–±–æ `forEach`), –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª—É.
>
> –Ü—Å–Ω—É—î –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ñ —Å—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤:
>
> 1. **`Stream.generate(Supplier<T> s)`**:
>     * –°—Ç–≤–æ—Ä—é—î –ø–æ—Ç—ñ–∫, –¥–µ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –Ω–µ–∑–∞–ª–µ–∂–Ω–æ —à–ª—è—Ö–æ–º –≤–∏–∫–ª–∏–∫—É –Ω–∞–¥–∞–Ω–æ–≥–æ `Supplier`.
>     * –ü—Ä–∏–∫–ª–∞–¥: `Stream.generate(Math::random)`
>
> 2. **`Stream.iterate(T seed, UnaryOperator<T> f)`**:
>     * –°—Ç–≤–æ—Ä—é—î –ø–æ—Ç—ñ–∫, –¥–µ –∫–æ–∂–µ–Ω –Ω–∞—Å—Ç—É–ø–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ. –ü–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è `seed`, –Ω–∞—Å—Ç—É–ø–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç ‚Äî `f(seed)`, –ø–æ—Ç—ñ–º `f(f(seed))` —ñ —Ç–∞–∫ –¥–∞–ª—ñ.
>     * –ü—Ä–∏–∫–ª–∞–¥: `Stream.iterate(0, n -> n + 2)` (–ø–æ—Ç—ñ–∫ –ø–∞—Ä–Ω–∏—Ö —á–∏—Å–µ–ª).

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π –ø–æ—Ç—ñ–∫ ‚Äî —Ü–µ —è–∫ –∫—Ä–∞–Ω –∑ –≤–æ–¥–æ—é, —è–∫–∏–π –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø–µ—Ä–µ–∫—Ä–∏–≤–∞—î—Ç—å—Å—è. –Ø–∫—â–æ –≤–∏ –ø—ñ–¥—Å—Ç–∞–≤–∏—Ç–µ –ø—ñ–¥ –Ω—å–æ–≥–æ –±–æ—á–∫—É –±–µ–∑ –¥–Ω–∞ (`collect` –±–µ–∑ `limit`), –≤–æ–Ω–∞ –±—É–¥–µ –Ω–∞–ø–æ–≤–Ω—é–≤–∞—Ç–∏—Å—è –≤—ñ—á–Ω–æ. –í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∞–±–æ —Å–∫–∞–∑–∞—Ç–∏ "–Ω–∞–±–µ—Ä–∏ —Ä—ñ–≤–Ω–æ 10 –ª—ñ—Ç—Ä—ñ–≤" (`limit`), –∞–±–æ "–Ω–∞–±–∏—Ä–∞–π, –¥–æ–∫–∏ –≤–æ–¥–∞ –Ω–µ —Å—Ç–∞–Ω–µ —Ö–æ–ª–æ–¥–Ω–æ—é" (`takeWhile`).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ë–∞–∑–æ–≤–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤ —Ç–∞ –∑–Ω–∞–Ω–Ω—è –¥–≤–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ñ–∞–±—Ä–∏—á–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –¥–ª—è —ó—Ö —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏–º –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è `Stream.generate()` —Ç–∞ `Stream.iterate()`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í–æ–Ω–∏ –æ–±–∏–¥–≤–∞ —Å—Ç–≤–æ—Ä—é—é—Ç—å –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ –ø–æ—Ç–æ–∫–∏, –∞–ª–µ –∑–∞ —Ä—ñ–∑–Ω–∏–º–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏.
>
> * **`Stream.generate(Supplier<T> s)`**:
>   * **–ü—Ä–∏–Ω—Ü–∏–ø:** –ï–ª–µ–º–µ–Ω—Ç–∏ **–Ω–µ–∑–∞–ª–µ–∂–Ω—ñ** –æ–¥–∏–Ω –≤—ñ–¥ –æ–¥–Ω–æ–≥–æ.
>   * **–õ–æ–≥—ñ–∫–∞:** –î–ª—è –∫–æ–∂–Ω–æ–≥–æ –Ω–æ–≤–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `Supplier.get()`.
>   * **–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –î–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—É –∫–æ–Ω—Å—Ç–∞–Ω—Ç, –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –∑–Ω–∞—á–µ–Ω—å –∞–±–æ –Ω–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤, –¥–µ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ.
>
> * **`Stream.iterate(T seed, UnaryOperator<T> f)`**:
>   * **–ü—Ä–∏–Ω—Ü–∏–ø:** –ï–ª–µ–º–µ–Ω—Ç–∏ **–ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ** —Ç–∞ –∑–∞–ª–µ–∂–Ω—ñ –æ–¥–∏–Ω –≤—ñ–¥ –æ–¥–Ω–æ–≥–æ.
>   * **–õ–æ–≥—ñ–∫–∞:** –ù–∞—Å—Ç—É–ø–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç —î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó –¥–æ **–ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ** –µ–ª–µ–º–µ–Ω—Ç–∞.
>   * **–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –î–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–ø–æ—Ä—è–¥–∫–æ–≤–∞–Ω–∏—Ö –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç–µ–π, —Ç–∞–∫–∏—Ö —è–∫ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω—ñ –∞–±–æ –≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω—ñ –ø—Ä–æ–≥—Ä–µ—Å—ñ—ó.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ —Ä—ñ–∑–Ω–∏—Ü—ñ:**

```java
// generate: –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç - —Ü–µ –Ω–æ–≤–µ –≤–∏–ø–∞–¥–∫–æ–≤–µ —á–∏—Å–ª–æ, –Ω–µ–∑–∞–ª–µ–∂–Ω–µ –≤—ñ–¥ —ñ–Ω—à–∏—Ö
Stream.generate(Math::random).limit(3).forEach(System.out::println);

// iterate: –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç = –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π + 1
Stream.iterate(1, n -> n + 1).limit(3).forEach(System.out::println); // 1, 2, 3
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Å–µ–º–∞–Ω—Ç–∏—á–Ω–æ—ó —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –¥–≤–æ–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω –∑–Ω–∞—Ç–∏, —â–æ `iterate` ‚Äî –¥–ª—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç–µ–π, –∞ `generate` ‚Äî –¥–ª—è –Ω–µ–∑–∞–ª–µ–∂–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –æ–±–º–µ–∂–∏—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π –ø–æ—Ç—ñ–∫? –ù–∞–∑–≤—ñ—Ç—å –æ—Å–Ω–æ–≤–Ω–∏–π —Å–ø–æ—Å—ñ–±.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û–±–º–µ–∂–µ–Ω–Ω—è –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É —î **–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º**, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª—É –∞–±–æ `OutOfMemoryError`.
>
> –û—Å–Ω–æ–≤–Ω–∏–π —ñ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏–π —Å–ø–æ—Å—ñ–± ‚Äî —Ü–µ –ø—Ä–æ–º—ñ–∂–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è **`limit(long maxSize)`**.
>
> **–Ø–∫ –≤–æ–Ω–∞ –ø—Ä–∞—Ü—é—î:**
>
> `limit()` ‚Äî —Ü–µ `short-circuiting` –æ–ø–µ—Ä–∞—Ü—ñ—è. –í–æ–Ω–∞ –ø—Ä–æ–ø—É—Å–∫–∞—î —á–µ—Ä–µ–∑ —Å–µ–±–µ –Ω–µ –±—ñ–ª—å—à–µ, –Ω—ñ–∂ `maxSize` –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –∞ –ø–æ—Ç—ñ–º "–≥–æ–≤–æ—Ä–∏—Ç—å" –ø–æ—Ç–æ–∫—É, —â–æ —Ä–æ–±–æ—Ç—É –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –¶–µ –∑–º—É—à—É—î –¥–∂–µ—Ä–µ–ª–æ –ø–æ—Ç–æ–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `generate` –∞–±–æ `iterate`) –ø—Ä–∏–ø–∏–Ω–∏—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é –Ω–æ–≤–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤.
>
> –Ø–∫—â–æ –≤–∏ –Ω–µ –∑–∞—Å—Ç–æ—Å—É—î—Ç–µ `limit` (–∞–±–æ —ñ–Ω—à—É `short-circuiting` –æ–ø–µ—Ä–∞—Ü—ñ—é), —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è, —è–∫–∞ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –æ–±—Ä–æ–±–∏—Ç–∏ –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ (—è–∫ `collect` –∞–±–æ `forEach`), –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤—ñ—á–Ω–æ.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
// –ì–µ–Ω–µ—Ä—É—î–º–æ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π –ø–æ—Ç—ñ–∫ —á–∏—Å–µ–ª 0, 5, 10, 15...
// —ñ –æ–±–º–µ–∂—É—î–º–æ –π–æ–≥–æ –ø–µ—Ä—à–∏–º–∏ 4 –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏.
Stream.iterate(0, n -> n + 5)
      .limit(4)
      .forEach(System.out::println); // 0, 5, 10, 15
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –∫–ª—é—á–æ–≤–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏. –Ü–≥–Ω–æ—Ä—É–≤–∞–Ω–Ω—è `limit` —î –≥—Ä—É–±–æ—é –ø–æ–º–∏–ª–∫–æ—é.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –∑–º—ñ–Ω–∏–≤—Å—è –º–µ—Ç–æ–¥ `iterate` –≤ Java 9, —ñ —è–∫—É –ø—Ä–æ–±–ª–µ–º—É —Ü–µ –≤–∏—Ä—ñ—à–∏–ª–æ?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –£ Java 9 –±—É–ª–∞ –¥–æ–¥–∞–Ω–∞ –Ω–æ–≤–∞, **–ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞ –≤–µ—Ä—Å—ñ—è `Stream.iterate`**, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ **—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ** –ø–æ—Ç–æ–∫–∏.
>
> * **Java 8:** `iterate(seed, operator)` ‚Äî –∑–∞–≤–∂–¥–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π.
> * **Java 9+:** `iterate(seed, hasNextPredicate, nextOperator)`
>
> –ù–æ–≤–∞ –≤–µ—Ä—Å—ñ—è –ø—Ä–∏–π–º–∞—î —Ç—Ä–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∏:
>
> 1. `seed` ‚Äî –ø–æ—á–∞—Ç–∫–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è.
> 2. `hasNextPredicate` ‚Äî `Predicate`, —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–æ–¥–æ–≤–∂—É–≤–∞—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é (`true` ‚Äî –ø—Ä–æ–¥–æ–≤–∂—É–≤–∞—Ç–∏, `false` ‚Äî –∑—É–ø–∏–Ω–∏—Ç–∏—Å—è).
> 3. `nextOperator` ‚Äî `UnaryOperator`, —â–æ –≥–µ–Ω–µ—Ä—É—î –Ω–∞—Å—Ç—É–ø–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç.
>
> **–ü—Ä–æ–±–ª–µ–º—É, —è–∫—É —Ü–µ –≤–∏—Ä—ñ—à–∏–ª–æ:**
>
> –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ —î —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–º –∞–Ω–∞–ª–æ–≥–æ–º –∫–ª–∞—Å–∏—á–Ω–æ–≥–æ `for` —Ü–∏–∫–ª—É (`for(int i = 0; i < 10; i++)`). –í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ –≤ –±—ñ–ª—å—à –±–µ–∑–ø–µ—á–Ω–æ–º—É —Ç–∞ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–º—É —Å—Ç–∏–ª—ñ, **—É—Å—É–≤–∞—é—á–∏ —Ä–∏–∑–∏–∫** –≤–∏–ø–∞–¥–∫–æ–≤–æ –∑–∞–±—É—Ç–∏ `.limit()` —ñ –æ—Ç—Ä–∏–º–∞—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π —Ü–∏–∫–ª.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ (Java 9+):**

```java
// –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Ç—ñ–∫ —á–∏—Å–µ–ª –≤—ñ–¥ 1 –¥–æ 5
IntStream.iterate(1, n -> n <= 5, n -> n + 1)
         .forEach(System.out::println); // 1, 2, 3, 4, 5
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –µ–≤–æ–ª—é—Ü—ñ—ó Java API —Ç–∞ –ø–æ–∫—Ä–∞—â–µ–Ω—å, —â–æ —Ä–æ–±–ª—è—Ç—å –∫–æ–¥ –±–µ–∑–ø–µ—á–Ω—ñ—à–∏–º —Ç–∞ –≤–∏—Ä–∞–∑–Ω—ñ—à–∏–º.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ –æ–ø–µ—Ä–∞—Ü—ñ—ó `takeWhile` —Ç–∞ `dropWhile` (Java 9+)?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –¥–≤—ñ –ø—Ä–æ–º—ñ–∂–Ω—ñ `short-circuiting` –æ–ø–µ—Ä–∞—Ü—ñ—ó, –¥–æ–¥–∞–Ω—ñ –≤ Java 9, —è–∫—ñ –¥–æ–∑–≤–æ–ª—è—é—Ç—å **—É–º–æ–≤–Ω–æ** –æ–±–º–µ–∂—É–≤–∞—Ç–∏ –ø–æ—Ç—ñ–∫.
>
> * **`takeWhile(Predicate<T> predicate)`:**
>   * **–©–æ —Ä–æ–±–∏—Ç—å:** –ë–µ—Ä–µ –µ–ª–µ–º–µ–Ω—Ç–∏ –∑ –ø–æ—Ç–æ–∫—É, **–¥–æ–∫–∏** –≤–æ–Ω–∏ –∑–∞–¥–æ–≤–æ–ª—å–Ω—è—é—Ç—å —É–º–æ–≤—É –ø—Ä–µ–¥–∏–∫–∞—Ç–∞. –Ø–∫ —Ç—ñ–ª—å–∫–∏ –∑—É—Å—Ç—Ä—ñ—á–∞—î—Ç—å—Å—è **–ø–µ—Ä—à–∏–π** –µ–ª–µ–º–µ–Ω—Ç, —â–æ **–Ω–µ** –∑–∞–¥–æ–≤–æ–ª—å–Ω—è—î —É–º–æ–≤—ñ, –ø–æ—Ç—ñ–∫ –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è.
>
> * **`dropWhile(Predicate<T> predicate)`:**
>   * **–©–æ —Ä–æ–±–∏—Ç—å:** –ü—Ä–æ–ø—É—Å–∫–∞—î (—ñ–≥–Ω–æ—Ä—É—î) –µ–ª–µ–º–µ–Ω—Ç–∏ –∑ –ø–æ—Ç–æ–∫—É, **–¥–æ–∫–∏** –≤–æ–Ω–∏ –∑–∞–¥–æ–≤–æ–ª—å–Ω—è—é—Ç—å —É–º–æ–≤—É. –Ø–∫ —Ç—ñ–ª—å–∫–∏ –∑—É—Å—Ç—Ä—ñ—á–∞—î—Ç—å—Å—è **–ø–µ—Ä—à–∏–π** –µ–ª–µ–º–µ–Ω—Ç, —â–æ **–Ω–µ** –∑–∞–¥–æ–≤–æ–ª—å–Ω—è—î —É–º–æ–≤—ñ, –≤–æ–Ω–∞ –ø–æ—á–∏–Ω–∞—î –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ **–≤—Å—ñ –Ω–∞—Å—Ç—É–ø–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏** –±–µ–∑ –ø–æ–¥–∞–ª—å—à–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫.
>
> **–í–∞–∂–ª–∏–≤–æ:** –û–±–∏–¥–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó —î –Ω–∞–π–±—ñ–ª—å—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º–∏ –Ω–∞ **–≤–ø–æ—Ä—è–¥–∫–æ–≤–∞–Ω–∏—Ö** –ø–æ—Ç–æ–∫–∞—Ö.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
Stream.of(2, 4, 6, 8, 9, 10, 12)
      .takeWhile(n -> n % 2 == 0)
      .forEach(System.out::print); // 2468 (–∑—É–ø–∏–Ω–∏–≤—Å—è –Ω–∞ 9)

Stream.of(2, 4, 6, 8, 9, 10, 12)
      .dropWhile(n -> n % 2 == 0)
      .forEach(System.out::print); // 91012 (–ø—Ä–æ–ø—É—Å–∫–∞–≤, –¥–æ–∫–∏ –Ω–µ –∑—É—Å—Ç—Ä—ñ–≤ 9)
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏—Ö (–ø—ñ—Å–ª—è 8) –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π `Stream API` –¥–ª—è –±—ñ–ª—å—à –≥–Ω—É—á–∫–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ –ø–æ—Ç–æ–∫–∞–º–∏.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏–º `limit(n)` –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ `takeWhile(predicate)`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> * **`limit(n)`:** –û–±–º–µ–∂—É—î –ø–æ—Ç—ñ–∫ –Ω–∞ –æ—Å–Ω–æ–≤—ñ **–∫—ñ–ª—å–∫–æ—Å—Ç—ñ** –µ–ª–µ–º–µ–Ω—Ç—ñ–≤. –í—ñ–Ω –∑–∞–≤–∂–¥–∏ –≤—ñ–∑—å–º–µ –ø–µ—Ä—à—ñ `n` –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —ó—Ö–Ω—å–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è.
>
> * **`takeWhile(predicate)`:** –û–±–º–µ–∂—É—î –ø–æ—Ç—ñ–∫ –Ω–∞ –æ—Å–Ω–æ–≤—ñ **—É–º–æ–≤–∏**, –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–æ—ó –¥–æ –∑–Ω–∞—á–µ–Ω—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤. –í—ñ–Ω –º–æ–∂–µ –≤–∑—è—Ç–∏ 0, 1, 10 –∞–±–æ 1000 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ ‚Äî —Å—Ç—ñ–ª—å–∫–∏, —Å–∫—ñ–ª—å–∫–∏ –ø–æ—Å–ø—ñ–ª—å –±—É–¥—É—Ç—å –∑–∞–¥–æ–≤–æ–ª—å–Ω—è—Ç–∏ —É–º–æ–≤—É.
>
> `limit` ‚Äî —Ü–µ –ø—Ä–æ **–∫—ñ–ª—å–∫—ñ—Å—Ç—å**, `takeWhile` ‚Äî –ø—Ä–æ **–≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å**.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

`limit` —î –±–µ–∑—Å—Ç–∞–Ω–æ–≤–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é, —Ç–æ–¥—ñ —è–∫ `takeWhile` –º–æ–∂–µ –≤–≤–∞–∂–∞—Ç–∏—Å—è —É–º–æ–≤–Ω–æ—é stateful –æ–ø–µ—Ä–∞—Ü—ñ—î—é, –±–æ —ó—ó —Ä—ñ—à–µ–Ω–Ω—è –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –ø—Ä–∞–ø–æ—Ä—Ü—è "—á–∏ –±—É–ª–∞ —É–º–æ–≤–∞ –ø–æ—Ä—É—à–µ–Ω–∞".

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Å–µ–º–∞–Ω—Ç–∏—á–Ω–æ—ó —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –¥–≤–æ–º–∞ —Ä—ñ–∑–Ω–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—É.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ –ø—Ä–∞–∫—Ç–∏—á–Ω–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ –ø–æ—Ç–æ–∫–∏ —î –¥—É–∂–µ –∫–æ—Ä–∏—Å–Ω–∏–º–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö, –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∞–±–æ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç–µ–π.
>
> **–ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è:**
> –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ 5 —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–º–æ-–∫–æ–¥—ñ–≤, –∫–æ–∂–µ–Ω –∑ —è–∫–∏—Ö —î –≤–∏–ø–∞–¥–∫–æ–≤–∏–º —Ä—è–¥–∫–æ–º –∑ 8 —Å–∏–º–≤–æ–ª—ñ–≤.
>
> **–†—ñ—à–µ–Ω–Ω—è:**
>
> 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π –ø–æ—Ç—ñ–∫ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —Ä—è–¥–∫—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Stream.generate()`.
> 2. –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ `distinct()`, —â–æ–± –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –∫–æ–¥–∏ –Ω–µ –ø–æ–≤—Ç–æ—Ä—é—é—Ç—å—Å—è.
> 3. –û–±–º–µ–∂–∏—Ç–∏ –ø–æ—Ç—ñ–∫ –ø'—è—Ç—å–º–∞ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `limit(5)`.
> 4. –ó—ñ–±—Ä–∞—Ç–∏ –≤ —Å–ø–∏—Å–æ–∫.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É:**

```java
Supplier<String> promoCodeGenerator = () -> 
    new Random().ints(8, 'A', 'Z' + 1)
                 .collect(StringBuilder::new,
                          StringBuilder::appendCodePoint,
                          StringBuilder::append)
                 .toString();

List<String> promoCodes = Stream.generate(promoCodeGenerator)
                               .distinct()
                               .limit(5)
                               .collect(Collectors.toList());
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ –ø–æ—Ç–æ–∫–∏ –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–∞–∫—Ç–∏—á–Ω–∏—Ö, –Ω–µ—Ç—Ä–∏–≤—ñ–∞–ª—å–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `distinct()` –∞–±–æ `sorted()` —î –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–º–∏ –¥–ª—è –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –û–±–∏–¥–≤—ñ —Ü—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó —î **stateful** —ñ –¥–ª—è —Å–≤–æ—î—ó —Ä–æ–±–æ—Ç–∏ –≤–∏–º–∞–≥–∞—é—Ç—å –æ–±—Ä–æ–±–∫–∏ –∞–±–æ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü—ñ—ó **–≤—Å—ñ—Ö** –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –ø–æ—Ç–æ–∫—É.
>
> * **`sorted()`**: –©–æ–± –≤—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –ø–æ—Ç—ñ–∫, –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å–ø–æ—á–∞—Ç–∫—É –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –π–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∏.
> * **`distinct()`**: –©–æ–± –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å, –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–∞–º'—è—Ç–∞—Ç–∏ –≤—Å—ñ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏, —â–æ –≤–∂–µ –∑—É—Å—Ç—Ä—ñ—á–∞–ª–∏—Å—è.
>
> –Ø–∫—â–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ —Ü—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–æ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É **–±–µ–∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –æ–±–º–µ–∂–µ–Ω–Ω—è (`limit()`)**, —Ü–µ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ:
>
> 1. **–ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª—É:** –ü—Ä–æ–≥—Ä–∞–º–∞ –±—É–¥–µ –≤—ñ—á–Ω–æ –Ω–∞–º–∞–≥–∞—Ç–∏—Å—è –∑—ñ–±—Ä–∞—Ç–∏ "–≤—Å—ñ" –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É.
> 2. **`OutOfMemoryError`:** –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –±—É—Ñ–µ—Ä –∞–±–æ `HashSet` –±—É–¥—É—Ç—å —Ä–æ—Å—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ, –¥–æ–∫–∏ –Ω–µ –≤–∏—á–µ—Ä–ø–∞—é—Ç—å –≤—Å—é –¥–æ—Å—Ç—É–ø–Ω—É –ø–∞–º'—è—Ç—å.
>
> **–ü—Ä–∞–≤–∏–ª–æ:** `distinct()` —Ç–∞ `sorted()` –Ω–∞ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏—Ö –ø–æ—Ç–æ–∫–∞—Ö –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–∏—à–µ **–ü–Ü–°–õ–Ø** –æ–ø–µ—Ä–∞—Ü—ñ—ó, —â–æ —Ä–æ–±–∏—Ç—å –ø–æ—Ç—ñ–∫ —Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–º (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `limit`).

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ –ø–æ–º–∏–ª–∫–∏:**

```java
// –¶–µ–π –∫–æ–¥ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª—É —ñ OutOfMemoryError
Stream.iterate(0, n -> n + 1)
      .distinct()
      .limit(10)
      .forEach(System.out::println);
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ `stateful` –æ–ø–µ—Ä–∞—Ü—ñ—ó –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å –∑ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏. –¶–µ –∫–ª–∞—Å–∏—á–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è –Ω–∞ –∑–Ω–∞–Ω–Ω—è –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏—Ö "–ø–∞—Å—Ç–æ–∫".*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ `Stream.generate()`? –ß–∏ —Å—Ç–≤–æ—Ä—é—î –≤—ñ–Ω –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç `Supplier` –Ω–∞ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ù—ñ, –≤—ñ–Ω –Ω–µ —Å—Ç–≤–æ—Ä—é—î.**
>
> –ú–µ—Ç–æ–¥ `Stream.generate(Supplier s)` –ø—Ä–∏–π–º–∞—î **–æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä** `Supplier`. –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∫–æ–∂–Ω–æ–≥–æ –Ω–æ–≤–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ –ø–æ—Ç–æ–∫—É –≤—ñ–Ω –ø—Ä–æ—Å—Ç–æ **–±–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤–æ –≤–∏–∫–ª–∏–∫–∞—î –º–µ—Ç–æ–¥ `.get()`** –Ω–∞ —Ü—å–æ–º—É —Å–∞–º–æ–º—É –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ.
>
> **–ù–∞—Å–ª—ñ–¥–∫–∏:**
>
> * –Ø–∫—â–æ –≤–∞—à `Supplier` —î stateless (–Ω–∞–ø—Ä., `Math::random`), —Ç–æ –∫–æ–∂–µ–Ω –≤–∏–∫–ª–∏–∫ –±—É–¥–µ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è.
> * –Ø–∫—â–æ –≤–∞—à `Supplier` –º–∞—î —Å—Ç–∞–Ω, —Ç–æ —Ü–µ–π —Å—Ç–∞–Ω –±—É–¥–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è –º—ñ–∂ –≤–∏–∫–ª–∏–∫–∞–º–∏.
>
> **–ü—Ä–∏–∫–ª–∞–¥ –∑ `Supplier` –∑—ñ —Å—Ç–∞–Ω–æ–º:**
>
> ```java
> AtomicInteger counter = new AtomicInteger(0);
> Supplier<Integer> incrementalSupplier = counter::getAndIncrement;
> 
> Stream.generate(incrementalSupplier)
>       .limit(5)
>       .forEach(System.out::println); // 0, 1, 2, 3, 4
> ```
>
> –¢—É—Ç –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–ª–∏ –æ–¥–∏–Ω `Supplier`, —â–æ–± –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å, —Ö–æ—á–∞ –¥–ª—è —Ç–∞–∫–∏—Ö –∑–∞–¥–∞—á –∫—Ä–∞—â–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å `iterate`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –ø—Ä–∞—Ü—é—é—Ç—å —Ñ–∞–±—Ä–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ `Stream` –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£—è–≤—ñ—Ç—å, —â–æ –≤–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –∑ –∞–ø–∞—Ä–∞—Ç–Ω–∏–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —á–∏—Å–µ–ª, —è–∫–∏–π —ñ–Ω–æ–¥—ñ –º–æ–∂–µ "–∑–∞–≤–∏—Å–Ω—É—Ç–∏". –Ø–∫ –±–∏ –≤–∏ –±–µ–∑–ø–µ—á–Ω–æ –≤–∑—è–ª–∏ –∑ –Ω—å–æ–≥–æ 10 —á–∏—Å–µ–ª, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `Stream API`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¢—É—Ç –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—è –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É —Ç–∞ —Ç–∞–π–º–∞—É—Ç—ñ–≤ —î —á—É–¥–æ–≤–∏–º —Ä—ñ—à–µ–Ω–Ω—è–º.
>
> –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º—É, —â–æ –∑–≤–∏—á–∞–π–Ω–∏–π `.limit(10)` –±—É–¥–µ —á–µ–∫–∞—Ç–∏ –≤—ñ—á–Ω–æ, —è–∫—â–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–∞–≤–∏—Å–Ω–µ.
>
> –î–ª—è —Ü—å–æ–≥–æ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –º–µ—Ç–æ–¥ **`limit(maxSize)`** –∑ —Ç–∞–π–º–∞—É—Ç–æ–º, —è–∫–∏–π –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `CompletableFuture` –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á—ñ —Ä—ñ—à–µ–Ω–Ω—è –≤ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞—Ö.
>
> –ê–±–æ –º–æ–∂–Ω–∞ –ø–æ—î–¥–Ω–∞—Ç–∏ `generate()` –∑ `limit()` —ñ –æ–±–≥–æ—Ä–Ω—É—Ç–∏ –≤—Å–µ –≤ `CompletableFuture` –∑ —Ç–∞–π–º–∞—É—Ç–æ–º.
>
> **–°–ø—Ä–æ—â–µ–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –∑ `assertTimeout` (—è–∫ –ø—Ä–∏–∫–ª–∞–¥ –∑ JUnit):**
> –£ —Ç–µ—Å—Ç–∞—Ö —Ü–µ –ª–µ–≥–∫–æ –∑—Ä–æ–±–∏—Ç–∏ –∑ `assertTimeout`. –£ —Ä–µ–∞–ª—å–Ω–æ–º—É –∫–æ–¥—ñ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ —Ç–∞–∫:
>
> ```java
> Supplier<Integer> riskyGenerator = () -> { ... }; // –º–æ–∂–µ –∑–∞–≤–∏—Å–Ω—É—Ç–∏
> 
> CompletableFuture<List<Integer>> futureResult = CompletableFuture.supplyAsync(() ->
>     Stream.generate(riskyGenerator)
>           .limit(10)
>           .collect(Collectors.toList())
> );
>
> try {
>     List<Integer> result = futureResult.get(5, TimeUnit.SECONDS); // –ß–µ–∫–∞—î–º–æ –Ω–µ –±—ñ–ª—å—à–µ 5 —Å–µ–∫—É–Ω–¥
> } catch (TimeoutException e) {
>     // –û–±—Ä–æ–±–ª—è—î–º–æ –≤–∏–ø–∞–¥–æ–∫, –∫–æ–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä "–∑–∞–≤–∏—Å–Ω—É–≤"
> }
> ```
>
> –¶–µ –¥–æ–∑–≤–æ–ª—è—î –±–µ–∑–ø–µ—á–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–º–∏ –∞–±–æ –±–ª–æ–∫—É—é—á–∏–º–∏ –¥–∂–µ—Ä–µ–ª–∞–º–∏ –¥–∞–Ω–∏—Ö.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ API (`Stream`, `CompletableFuture`) –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö, –Ω–∞–¥—ñ–π–Ω–∏—Ö —Å–∏—Å—Ç–µ–º.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å –ø–æ–≤–µ–¥—ñ–Ω–∫—É `takeWhile` —Ç–∞ `dropWhile` –Ω–∞ **–Ω–µ–≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ–º—É** –ø–æ—Ç–æ—Ü—ñ. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –≤–∞–∂–ª–∏–≤–∏–π –Ω—é–∞–Ω—Å, —è–∫–∏–π —á–∞—Å—Ç–æ —ñ–≥–Ω–æ—Ä—É—é—Ç—å. –ù–∞ **–Ω–µ–≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ–º—É** –ø–æ—Ç–æ—Ü—ñ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ —Ü–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π –º–æ–∂–µ –±—É—Ç–∏ **–Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ—é** —ñ –Ω–µ –¥–∞—Ç–∏ –±–∞–∂–∞–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.
>
> * **`takeWhile(predicate)`**:
>   * –í–æ–Ω–∞ –ø—Ä–∏–ø–∏–Ω–∏—Ç—å –±—Ä–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏, —è–∫ —Ç—ñ–ª—å–∫–∏ –∑—É—Å—Ç—Ä—ñ–Ω–µ **–ø–µ—Ä—à–∏–π** –µ–ª–µ–º–µ–Ω—Ç, —â–æ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —É–º–æ–≤—ñ. –Ø–∫—â–æ –≤ –ø–æ—Ç–æ—Ü—ñ –¥–∞–ª—ñ —î –µ–ª–µ–º–µ–Ω—Ç–∏, —è–∫—ñ *–≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å* —É–º–æ–≤—ñ, –≤–æ–Ω–∏ –±—É–¥—É—Ç—å **–ø—Ä–æ—ñ–≥–Ω–æ—Ä–æ–≤–∞–Ω—ñ**.
>
> * **`dropWhile(predicate)`**:
>   * –í–æ–Ω–∞ –ø—Ä–∏–ø–∏–Ω–∏—Ç—å –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏, —è–∫ —Ç—ñ–ª—å–∫–∏ –∑—É—Å—Ç—Ä—ñ–Ω–µ **–ø–µ—Ä—à–∏–π**, —â–æ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —É–º–æ–≤—ñ, —ñ –ø–æ—á–Ω–µ –±—Ä–∞—Ç–∏ **–≤—Å—ñ –Ω–∞—Å—Ç—É–ø–Ω—ñ**, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —á–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –≤–æ–Ω–∏ —É–º–æ–≤—ñ.
>
> **–ü—Ä–∏–∫–ª–∞–¥:**
> `Stream.of(1, 2, 5, 3, 4).takeWhile(n -> n < 4)`
> –†–µ–∑—É–ª—å—Ç–∞—Ç: **`[1, 2]`**. –ü–æ—Ç—ñ–∫ –∑—É–ø–∏–Ω–∏—Ç—å—Å—è –Ω–∞ `5`, —ñ –µ–ª–µ–º–µ–Ω—Ç–∏ `3` —Ç–∞ `4`, —Ö–æ—á–∞ –≤–æ–Ω–∏ –π –º–µ–Ω—à—ñ –∑–∞ 4, –Ω—ñ–∫–æ–ª–∏ –Ω–µ –±—É–¥—É—Ç—å –æ–±—Ä–æ–±–ª–µ–Ω—ñ.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** –î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ç–∞ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É `takeWhile` —Ç–∞ `dropWhile` —Å–ª—ñ–¥ –º–∞–π–∂–µ –∑–∞–≤–∂–¥–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –¥–æ **–ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É**.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –¥–µ—è–∫—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó `Stream API` –º–∞—é—Ç—å –Ω–µ—è–≤–Ω—ñ –≤–∏–º–æ–≥–∏ –¥–æ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó —Ä–æ–±–æ—Ç–∏.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£—è–≤—ñ—Ç—å, —â–æ `Stream.generate(supplier)` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ–º—É –ø–æ—Ç–æ—Ü—ñ. –ß–∏ –ø–æ–≤–∏–Ω–µ–Ω `supplier` –±—É—Ç–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, –ø–æ–≤–∏–Ω–µ–Ω, —è–∫—â–æ –≤—ñ–Ω –º–∞—î —Å—Ç–∞–Ω.**
>
> –•–æ—á–∞ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è "–Ω–µ–∑–∞–ª–µ–∂–Ω–æ", `ForkJoinPool` –º–æ–∂–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –º–µ—Ç–æ–¥ `.get()` –Ω–∞ **–æ–¥–Ω–æ–º—É –π —Ç–æ–º—É —Å–∞–º–æ–º—É** –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ `Supplier` **–æ–¥–Ω–æ—á–∞—Å–Ω–æ –∑ —Ä—ñ–∑–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤**.
>
> * **–Ø–∫—â–æ `Supplier` –±–µ–∑ —Å—Ç–∞–Ω—É (stateless)**, —è–∫-–æ—Ç `Math::random`, –∂–æ–¥–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º –Ω–µ –±—É–¥–µ, –æ—Å–∫—ñ–ª—å–∫–∏ —Ç–∞–º –Ω–µ–º–∞—î —Å–ø—ñ–ª—å–Ω–æ–≥–æ –∑–º—ñ–Ω–Ω–æ–≥–æ —Å—Ç–∞–Ω—É.
> * **–Ø–∫—â–æ `Supplier` –º–∞—î —Å—Ç–∞–Ω (stateful)**, —è–∫ —É –Ω–∞—à–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ –∑ `AtomicInteger` –∞–±–æ, —â–æ –≥—ñ—Ä—à–µ, –∑—ñ –∑–≤–∏—á–∞–π–Ω–∏–º `int` –ª—ñ—á–∏–ª—å–Ω–∏–∫–æ–º, –≤—ñ–Ω **–æ–±–æ–≤'—è–∑–∫–æ–≤–æ** –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º.
>
> **–ü—Ä–∏–∫–ª–∞–¥ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ –∫–æ–¥—É:**
>
> ```java
> class BadSupplier implements Supplier<Integer> {
>     private int count = 0;
>     public Integer get() { return count++; } // –ù–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ!
> }
> 
> Stream.generate(new BadSupplier())
>       .parallel()
>       .limit(1000)
>       ...
> ```
>
> –¶–µ–π –∫–æ–¥ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ "—É–º–æ–≤–∏ –≥–æ–Ω–∏—Ç–≤–∏" (race condition), —ñ –¥–µ—è–∫—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ø—Ä–æ–ø—É—â–µ–Ω—ñ –∞–±–æ –∑–¥—É–±–ª—å–æ–≤–∞–Ω—ñ. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –±—É–ª–æ –± –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `AtomicInteger`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫—ñ –∑–Ω–∞–Ω–Ω—è `concurrency` —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, –∫–æ–ª–∏ –≤–∏–Ω–∏–∫–∞—î –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å —É —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫–∏–º —á–∏–Ω–æ–º `Stream API` —Ä–µ–∞–ª—ñ–∑—É—î "–ª—ñ–Ω–∏–≤–µ" —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —É `iterate` —Ç–∞ `generate`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö `Spliterator`'—ñ–≤, —è–∫—ñ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å –µ–ª–µ–º–µ–Ω—Ç–∏, –∞ –æ–±—á–∏—Å–ª—é—é—Ç—å —ó—Ö "–Ω–∞ –ª—å–æ—Ç—É".
>
> **–ü—Ä–æ—Ü–µ—Å:**
>
> 1. `Stream.iterate` –∞–±–æ `Stream.generate` —Å—Ç–≤–æ—Ä—é—é—Ç—å –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –æ–±'—î–∫—Ç-–ø–æ—Ç—ñ–∫. –¶–µ–π –æ–±'—î–∫—Ç –Ω–µ –º—ñ—Å—Ç–∏—Ç—å –∂–æ–¥–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –∞ –ª–∏—à–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—é-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (`Supplier` –∞–±–æ `UnaryOperator`).
>
> 2. –í—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ü—å–æ–≥–æ –ø–æ—Ç–æ–∫—É —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π "–ª–µ–¥–∞—á–∏–π" `Spliterator`.
>
> 3. –ö–æ–ª–∏ —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è –ø–æ—á–∏–Ω–∞—î "—Ç—è–≥–Ω—É—Ç–∏" –¥–∞–Ω—ñ, –≤–æ–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—î –º–µ—Ç–æ–¥ `tryAdvance()` –∞–±–æ `forEachRemaining()` —É —Ü—å–æ–≥–æ `Spliterator`'–∞.
>
> 4. –í—Å–µ—Ä–µ–¥–∏–Ω—ñ `tryAdvance()`, `Spliterator` –≤–∏–∫–ª–∏–∫–∞—î –Ω–∞—à—É —Ñ—É–Ω–∫—Ü—ñ—é-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, —â–æ–± **–æ–±—á–∏—Å–ª–∏—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç**, —ñ –ø–µ—Ä–µ–¥–∞—î –π–æ–≥–æ –¥–∞–ª—ñ –ø–æ –∫–æ–Ω–≤–µ—î—Ä—É.
>
> 5. –¶–µ–π –ø—Ä–æ—Ü–µ—Å –ø–æ–≤—Ç–æ—Ä—é—î—Ç—å—Å—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Ç–∞–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞.
>
> –¢–∞–∫–∏–º —á–∏–Ω–æ–º, –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω—ñ–¥–µ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ø—Ä–æ–º—ñ–∂–Ω—ñ–π –∫–æ–ª–µ–∫—Ü—ñ—ó. –í–æ–Ω–∏ –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è —Å—Ç—Ä–æ–≥–æ –∑–∞ –∑–∞–ø–∏—Ç–æ–º, –æ–¥–∏–Ω –∑–∞ –æ–¥–Ω–∏–º. –¶–µ —ñ —î —Å—É—Ç—å –ª–µ–¥–∞—á–æ—ó –æ—Ü—ñ–Ω–∫–∏ –¥–ª—è –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –Ω–∏–∑—å–∫–æ—Ä—ñ–≤–Ω–µ–≤–∏—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤, –Ω–∞ —è–∫–∏—Ö –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π `Stream API`, –∑–æ–∫—Ä–µ–º–∞ —Ä–æ–ª—ñ `Spliterator` —É –ª–µ–¥–∞—á—ñ–π –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–µ `limit(n)` –≤ –¥–µ—è–∫–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, —ñ —á–∏ –º–æ–∂–Ω–∞ –π–æ–≥–æ —á–∏–º–æ—Å—å –∑–∞–º—ñ–Ω–∏—Ç–∏? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –•–æ—á–∞ `limit()` —î –æ—Å–Ω–æ–≤–Ω–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é –æ–±–º–µ–∂–µ–Ω–Ω—è, —î –≤–∏–ø–∞–¥–∫–∏, –∫–æ–ª–∏ –≤—ñ–Ω –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º, –æ—Å–æ–±–ª–∏–≤–æ –Ω–∞ **–≤–∂–µ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö**.
>
> **–ü—Ä–æ–±–ª–µ–º–∞:**
> `limit(n)` —î **–±–µ–∑—Å—Ç–∞–Ω–æ–≤–æ—é** –æ–ø–µ—Ä–∞—Ü—ñ—î—é –≤ —Ç–æ–º—É —Å–µ–Ω—Å—ñ, —â–æ –≤—ñ–Ω –Ω–µ –¥–∏–≤–∏—Ç—å—Å—è –Ω–∞ *–∑–Ω–∞—á–µ–Ω–Ω—è* –µ–ª–µ–º–µ–Ω—Ç—ñ–≤. –í—ñ–Ω –ø—Ä–æ—Å—Ç–æ —Ä–∞—Ö—É—î —ó—Ö.
>
> **–°—Ü–µ–Ω–∞—Ä—ñ–π:** –£ –Ω–∞—Å —î –≤–µ–ª–∏—á–µ–∑–Ω–∏–π –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –ø–æ—Ç—ñ–∫ —á–∏—Å–µ–ª, —ñ –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∑—è—Ç–∏ –ø–µ—Ä—à—ñ `N` –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, —è–∫—ñ –º–µ–Ω—à—ñ –∑–∞ `100`.
>
> **–ü—ñ–¥—Ö—ñ–¥ –∑ `limit`:**
> `stream.limit(N).filter(n -> n < 100)` ‚Äî **–ø–æ–≥–∞–Ω–æ**. –í–∏ –≤—ñ–∑—å–º–µ—Ç–µ –ø–µ—Ä—à—ñ N –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –∞ –ø–æ—Ç—ñ–º –±—É–¥–µ—Ç–µ —ó—Ö —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏. –Ø–∫—â–æ –≤—Å—ñ –≤–æ–Ω–∏ –±—ñ–ª—å—à—ñ –∑–∞ 100, –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ö–æ—á–∞ –¥–∞–ª—ñ –≤ –ø–æ—Ç–æ—Ü—ñ –º–æ–≥–ª–∏ –±—É—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –≤–∞–º —á–∏—Å–ª–∞.
>
> **–ü—ñ–¥—Ö—ñ–¥ –∑ `filter`:**
> `stream.filter(n -> n < 100)` ‚Äî **–∫—Ä–∞—â–µ**, –∞–ª–µ —è–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–µ –±—ñ–ª—å—à–µ `N` —Ç–∞–∫–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –≤–∞–º –≤—Å–µ –æ–¥–Ω–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω `limit`.
>
> **–ù–∞–π–∫—Ä–∞—â–∏–π –ø—ñ–¥—Ö—ñ–¥ ‚Äî `takeWhile` (–∑ Java 9):**
> `stream.takeWhile(n -> n < 100)` ‚Äî —ñ–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ü—å–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä—ñ—é. –û—Å–∫—ñ–ª—å–∫–∏ –ø–æ—Ç—ñ–∫ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π, `takeWhile` –≤—ñ–∑—å–º–µ –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏, –¥–æ–∫–∏ –≤–æ–Ω–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å —É–º–æ–≤—ñ, —ñ –∑—É–ø–∏–Ω–∏—Ç—å—Å—è –Ω–∞ –ø–µ—Ä—à–æ–º—É –∂, —â–æ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î. –¶–µ —Å–µ–º–∞–Ω—Ç–∏—á–Ω–æ —Ç–æ—á–Ω–æ —ñ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ.
>
> `limit` —Ç—É—Ç –º–æ–∂–µ –±—É—Ç–∏ —á–∞—Å—Ç–∏–Ω–æ—é —Ä—ñ—à–µ–Ω–Ω—è (`takeWhile(...).limit(N)`), –∞–ª–µ –æ—Å–Ω–æ–≤–Ω—É —Ä–æ–±–æ—Ç—É –ø–æ –∑—É–ø–∏–Ω—Ü—ñ —Ä–æ–±–∏—Ç—å `takeWhile`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–µ–º–∞–Ω—Ç–∏–∫—É –∑–∞–¥–∞—á—ñ —Ç–∞ –æ–±–∏—Ä–∞—Ç–∏ –Ω–∞–π–±—ñ–ª—å—à –ø—ñ–¥—Ö–æ–¥—è—â—É –æ–ø–µ—Ä–∞—Ü—ñ—é, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä—à—É-–ª—ñ–ø—à—É. –¶–µ –ø–æ–∫–∞–∑—É—î –≥–ª–∏–±–æ–∫–µ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è API.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É `iterate` –∑ Java 9 –∑ —Ç—Ä—å–æ–º–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ —î –∫—Ä–∞—â–∏–º –∑–∞ `iterate` –∑ Java 8, –æ–±–≥–æ—Ä–Ω—É—Ç–∏–π —É `limit`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `iterate(seed, hasNext, next)` –∑ Java 9 —î –∫—Ä–∞—â–∏–º –∑–∞ `iterate(seed, next).limit(count)` –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É **—è—Å–Ω–æ—Å—Ç—ñ –Ω–∞–º—ñ—Ä—É, –±–µ–∑–ø–µ–∫–∏ —Ç–∞ —ñ–Ω–æ–¥—ñ –≥–Ω—É—á–∫–æ—Å—Ç—ñ**.
>
> 1. **–ë–µ–∑–ø–µ–∫–∞ —Ç–∞ —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫:**
>     * `iterate` –∑ Java 8 –∑–∞–≤–∂–¥–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π. –†–æ–∑—Ä–æ–±–Ω–∏–∫ **–∑–æ–±–æ–≤'—è–∑–∞–Ω–∏–π** –ø–∞–º'—è—Ç–∞—Ç–∏ –ø—Ä–æ `limit()`. –Ø–∫—â–æ –π–æ–≥–æ –∑–∞–±—É—Ç–∏, –ø—Ä–æ–≥—Ä–∞–º–∞ —É–≤—ñ–π–¥–µ –≤ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π —Ü–∏–∫–ª.
>     * `iterate` –∑ Java 9 —î **—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–º –∑–∞ —Å–≤–æ—î—é –ø—Ä–∏—Ä–æ–¥–æ—é**. –£–º–æ–≤–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è (`hasNextPredicate`) —î —á–∞—Å—Ç–∏–Ω–æ—é –π–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É. –†–∏–∑–∏–∫ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª—É —É—Å—É–Ω—É—Ç–æ –Ω–∞ —Ä—ñ–≤–Ω—ñ API.
>
> 2. **–Ø—Å–Ω—ñ—Å—Ç—å —Ç–∞ —Å–µ–º–∞–Ω—Ç–∏–∫–∞:**
>     * –ù–æ–≤–∞ –≤–µ—Ä—Å—ñ—è –¥—É–∂–µ —Å—Ö–æ–∂–∞ –Ω–∞ –∫–ª–∞—Å–∏—á–Ω–∏–π —Ü–∏–∫–ª `for (int i=seed; hasNext(i); i=next(i))`, —â–æ —Ä–æ–±–∏—Ç—å —ó—ó —Å–µ–º–∞–Ω—Ç–∏–∫—É –¥—É–∂–µ –∑—Ä–æ–∑—É–º—ñ–ª–æ—é. –í–æ–Ω–∞ —á—ñ—Ç–∫–æ –≥–æ–≤–æ—Ä–∏—Ç—å: "–≥–µ–Ω–µ—Ä—É–π, –¥–æ–∫–∏ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —É–º–æ–≤–∞".
>     * –°—Ç–∞—Ä–∞ –≤–µ—Ä—Å—ñ—è –∑ `limit` –æ–ø–∏—Å—É—î –Ω–µ —É–º–æ–≤—É –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è, –∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, —â–æ –Ω–µ –∑–∞–≤–∂–¥–∏ —î —Ç–∏–º, —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ª–æ–≥—ñ—á–Ω–æ.
>
> 3. **–ì–Ω—É—á–∫—ñ—Å—Ç—å —É–º–æ–≤–∏:**
>     * `limit` –¥–æ–∑–≤–æ–ª—è—î –æ–±–º–µ–∂–∏—Ç–∏ –ª–∏—à–µ –∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—é.
>     * `hasNextPredicate` –¥–æ–∑–≤–æ–ª—è—î –æ–±–º–µ–∂–∏—Ç–∏ –∑–∞ **–±—É–¥—å-—è–∫–æ—é —É–º–æ–≤–æ—é**, —â–æ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è (–Ω–∞–ø—Ä., "–≥–µ–Ω–µ—Ä—É–π, –¥–æ–∫–∏ –µ–ª–µ–º–µ–Ω—Ç –º–µ–Ω—à–∏–π –∑–∞ 1000" –∞–±–æ "–¥–æ–∫–∏ —Ä—è–¥–æ–∫ –Ω–µ —Å—Ç–∞–Ω–µ –ø–æ—Ä–æ–∂–Ω—ñ–º").
>
> –û—Ç–∂–µ, –Ω–æ–≤–∞ –≤–µ—Ä—Å—ñ—è —î –±—ñ–ª—å—à –±–µ–∑–ø–µ—á–Ω–∏–º, –≤–∏—Ä–∞–∑–Ω–∏–º —Ç–∞ –≥–Ω—É—á–∫–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∫—ñ–Ω—á–µ–Ω–Ω–∏—Ö –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç–µ–π.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –æ—Ü—ñ–Ω—é–≤–∞—Ç–∏ –¥–∏–∑–∞–π–Ω API —Ç–∞ —Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫ –Ω–µ–≤–µ–ª–∏–∫—ñ –∑–º—ñ–Ω–∏ –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞—Ö –º–µ—Ç–æ–¥—ñ–≤ –º–æ–∂—É—Ç—å –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ –ø–æ–∫—Ä–∞—â–∏—Ç–∏ –±–µ–∑–ø–µ–∫—É —Ç–∞ –≤–∏—Ä–∞–∑–Ω—ñ—Å—Ç—å –∫–æ–¥—É.*

* * *
