---
layout: default
title: "–í–ª–∞—Å–Ω—ñ Collector'–∏"
parent: "Stream API"
grand_parent: "Java 8"
nav_order: 18
---

# –í–ª–∞—Å–Ω—ñ Collector'–∏

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `Collector` ‚Äì —Ü–µ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —â–æ –æ–ø–∏—Å—É—î —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é –∑–±–∏—Ä–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –ø–æ—Ç–æ–∫—É –≤ –∫—ñ–Ω—Ü–µ–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
  –î–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ, –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ `supplier`, `accumulator`,
  `combiner`, `finisher`.
* –ø–æ–Ω—è—Ç—Ç—è: `Collector<T, A, R>`, `Collector.of()`, `supplier`, `accumulator`, `combiner`, `finisher`.
* –ø—Ä–∏–∫–ª–∞–¥–∏: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ª–µ–∫—Ç–æ—Ä–∞ –¥–ª—è –∑–±–∏—Ä–∞–Ω–Ω—è —Ä—è–¥–∫—ñ–≤ —É –ø–µ–≤–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ (`(APPLE, BANANA, CHERRY)`).
* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è, –∫–æ–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –∫–æ–ª–µ–∫—Ç–æ—Ä—ñ–≤ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ. `combiner` –≤–∞–∂–ª–∏–≤–∏–π –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –≤
  –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏—Ö —Å—Ç—Ä—ñ–º–∞—Ö.
* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, –∫–æ–ª–∏ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏–π.

#### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**Collector** ‚Äî —Ü–µ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É Java Stream API, —è–∫–∏–π –æ–ø–∏—Å—É—î —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é –∑–±–æ—Ä—É –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –ø–æ—Ç–æ–∫—É –≤ –∫—ñ–Ω—Ü–µ–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –í—ñ–Ω
—Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –∫—ñ–ª—å–∫–æ—Ö —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤: **supplier**, **accumulator**, **combiner**, **finisher**, –∞ —Ç–∞–∫–æ–∂
—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫.

#### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

**`Collector`** ‚Äî —Ü–µ —è–∫ –ø–ª–∞–Ω: —è–∫ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Ç—ñ–∫ —É —â–æ—Å—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å–ø–∏—Å–æ–∫, –º–∞–ø—É, —Ä—è–¥–æ–∫...). –Ø–∫—â–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö *
*`.toList(), .toMap()`** —Ç–æ—â–æ –∑–∞–º–∞–ª–æ, –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ **—Å–≤—ñ–π –∫–æ–ª–µ–∫—Ç–æ—Ä** ‚Äî —ñ –∑—Ä–æ–±–∏—Ç–∏ —Å–∞–º–µ —Ç–∞–∫, —è–∫ —Ö–æ—á–µ—à.
---

## **2Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω—ñ –≤–∏–¥–∏ / –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó / —Ç–∏–ø–∏**

üìä **–ö–ª—é—á–æ–≤—ñ –º–µ—Ç–æ–¥–∏:**

* **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**  
  **`Collector<T, A, R>`**
    * **`T`** ‚Äî —Ç–∏–ø –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –ø–æ—Ç–æ–∫—É
    * **`A`** ‚Äî —Ç–∏–ø –ø—Ä–æ–º—ñ–∂–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (mutable accumulator)
    * **`R`** ‚Äî —Ç–∏–ø –∫—ñ–Ω—Ü–µ–≤–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É

* **–°—Ç–∞—Ç–∏—á–Ω–∏–π –º–µ—Ç–æ–¥:**  
  **`Collector.of(supplier, accumulator, combiner, finisher)`**

üìå **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:**

|     –ö–æ–º–ø–æ–Ω–µ–Ω—Ç     |                        –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è                        |
|:-----------------:|:---------------------------------------------------------:|
|  **`supplier`**   |                  –°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä                  |
| **`accumulator`** |            –î–æ–¥–∞—î –µ–ª–µ–º–µ–Ω—Ç –ø–æ—Ç–æ–∫—É –¥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞             |
|  **`combiner`**   | –û–± º—î–¥–Ω—É—î –¥–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ (–≤–∞–∂–ª–∏–≤–æ –¥–ª—è –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏—Ö —Å—Ç—Ä—ñ–º—ñ–≤) |
|  **`finisher`**   |        –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç         |

---

## **3Ô∏è‚É£ –ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

–£—è–≤–∏, —Ç–∏ —Ö–æ—á–µ—à –∑—ñ–±—Ä–∞—Ç–∏ –≤—Å—ñ —Å–ª–æ–≤–∞ –∑ –ø–æ—Ç–æ–∫—É —É **—Ä—è–¥–æ–∫ —á–µ—Ä–µ–∑ –∫–æ–º—É**, –∞–ª–µ **`.joining(", ")`** —Ç–µ–±–µ –Ω–µ –≤–ª–∞—à—Ç–æ–≤—É—î ‚Äî —Ç–∏ —Ö–æ—á–µ—à
—â–µ –æ–±–µ—Ä–Ω—É—Ç–∏ –≤—Å–µ —É –¥—É–∂–∫–∏ –π –∑—Ä–æ–±–∏—Ç–∏ upper-case. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –∫–æ–ª–µ–∫—Ç–æ—Ä—ñ–≤ –¥–ª—è —Ü—å–æ–≥–æ –Ω–µ–º–∞—î.

üéØ –¢–æ–∂ —Ç–∏ –ø–∏—à–µ—à **—Å–≤—ñ–π**\!
---

## **4Ô∏è‚É£ –ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **üîπ –ü—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥: –∑—ñ–±—Ä–∞—Ç–∏ —Ä—è–¥–∫–∏ —É –¥—É–∂–∫–∞—Ö —Ç–∞ –≤–µ–ª–∏–∫–∏–º–∏ –ª—ñ—Ç–µ—Ä–∞–º–∏**


```java
Collector<String, StringBuilder, String> customCollector = Collector.of(
    () -> new StringBuilder("("),                       // supplier
    (sb, s) -> {
        if (sb.length() > 1) sb.append(", ");
        sb.append(s.toUpperCase());
    },                                                  // accumulator
    (sb1, sb2) -> {
        if (sb2.length() > 1) sb1.append(", ").append(sb2.substring(1));
        return sb1;
    },                                                  // combiner
    sb -> sb.append(")").toString()                     // finisher
);

List<String> items = List.of("apple", "banana", "cherry");
String result = items.stream().collect(customCollector);
System.out.println(result); // (APPLE, BANANA, CHERRY)
```
---

### **üîπ –ö–æ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É –¥–æ–≤–∂–∏–Ω —Ä—è–¥–∫—ñ–≤**


```java
Collector<String, ?, Map<Integer, Long>> lengthHistogram = Collector.of(
    HashMap::new,
    (map, s) -> map.merge(s.length(), 1L, Long::sum),
    (m1, m2) -> { 
        m2.forEach((k, v) -> m1.merge(k, v, Long::sum));
        return m1;
    }
);

List<String> words = List.of("hi", "hello", "hey", "hola");
Map<Integer, Long> histogram = words.stream().collect(lengthHistogram);
// {2=1, 4=2, 5=1}
```
---

## **5Ô∏è‚É£ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

|              –í–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å               |         –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ Collector'–∏         |         –í–ª–∞—Å–Ω—ñ Collector'–∏          |
|:--------------------------------------:|:--------------------------------------:|:-----------------------------------:|
|             **–ì–Ω—É—á–∫—ñ—Å—Ç—å**              | –û–±–º–µ–∂–µ–Ω–∞ –¥–æ –ø–µ—Ä–µ–¥–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ ‚Äî –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤—Å–µ |
|       **–ó—Ä—É—á–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**       |    –ü—Ä–æ—Å—Ç–∏–π **`.collect(toList())`**    |    –ë—ñ–ª—å—à–µ –∫–æ–¥—É, –±—ñ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—é     |
|           **–ü–∞—Ä–∞–ª–µ–ª—å–Ω—ñ—Å—Ç—å**            |         –ü–æ–≤–Ω—ñ—Å—Ç—é –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è         |  –¢—Ä–µ–±–∞ –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ **`combiner`**   |
| **–ü—Ä–∏–¥–∞—Ç–Ω—ñ—Å—Ç—å –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤** |                 –ù–∏–∑—å–∫–∞                 |               –í–∏—Å–æ–∫–∞                |

---

## **6Ô∏è‚É£ FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

#### **üîπ –ö–æ–ª–∏ –≤–∞—Ä—Ç–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏–π Collector?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–µ–Ω –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –∞–±–æ —Å–∫–ª–∞–¥–Ω–∞ –ª–æ–≥—ñ–∫–∞ –∑–±–∏—Ä–∞–Ω–Ω—è, —è–∫—É –Ω–µ –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ —ñ—Å–Ω—É—é—á—ñ
–∫–æ–ª–µ–∫—Ç–æ—Ä–∏.

---

#### **üîπ –Ø–∫–∞ —Ä–æ–ª—å `combiner` —É –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ–º—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–û–± º—î–¥–Ω—É—î –¥–≤–∞ —á–∞—Å—Ç–∫–æ–≤—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏. –ë–µ–∑ –Ω—å–æ–≥–æ –∫–æ–ª–µ–∫—Ç–æ—Ä –Ω–µ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ –∑ **`parallelStream()`**.

---

#### **üîπ –ß–∏ –æ–±–æ–≤ º—è–∑–∫–æ–≤–æ –≤–∫–∞–∑—É–≤–∞—Ç–∏ `finisher`?**

##### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–ù–µ –∑–∞–≤–∂–¥–∏. –Ø–∫—â–æ –∞–∫—É–º—É–ª—è—Ç–æ—Ä —ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–Ω–æ–≥–æ —Ç–∏–ø—É ‚Äî –º–æ–∂–Ω–∞ —Å–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏—Å—å **`Collector.of(...)`** –±–µ–∑ **`finisher`**.

---

## **7Ô∏è‚É£ üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**"SACF" \= Supplier, Accumulator, Combiner, Finisher**  
–Ø–∫ —Ä–µ—Ü–µ–ø—Ç:

* –°—Ç–≤–æ—Ä–∏ –º–∏—Å–∫—É (S)
* –ö–ª–∞–¥–∏ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏ (A)
* –û–±‚Äô—î–¥–Ω–∞–π –∑ —ñ–Ω—à–∏–º–∏ –º–∏—Å–∫–∞–º–∏ (C)
* –ü–æ–¥–∞–π –Ω–∞ —Å—Ç—ñ–ª (F)

---

## **8Ô∏è‚É£ –ü—ñ–¥—Å—É–º–æ–∫ (üü©)**

* –í–ª–∞—Å–Ω—ñ **`Collector`**'–∏ ‚Äî –ø–æ—Ç—É–∂–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∑–±–∏—Ä–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.
* –í–æ–Ω–∏ —Å–∫–ª–∞–¥–∞—é—Ç—å—Å—è –∑ 4 –æ—Å–Ω–æ–≤–Ω–∏—Ö —á–∞—Å—Ç–∏–Ω: **supplier**, **accumulator**, **combiner**, **finisher**.
* –Ü–¥–µ–∞–ª—å–Ω—ñ –¥–ª—è —Å–∏—Ç—É–∞—Ü—ñ–π, –∫–æ–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ **`.toList(), .toMap(), joining()`** –Ω–µ –ø—ñ–¥—Ö–æ–¥—è—Ç—å.
* –ü–æ—Ç—Ä—ñ–±–Ω–∞ —É–≤–∞–∂–Ω—ñ—Å—Ç—å –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ **–ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏–º–∏ —Å—Ç—Ä—ñ–º–∞–º–∏** ‚Äî –≤–∞–∂–ª–∏–≤–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ **`combiner`**.

---

**üîó –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:**

* [**–û—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è Collector (Oracle)
  **](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html)