---
layout: default
title: "–°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó —Ç–∞ –∞–≥—Ä–µ–≥–∞—Ü—ñ—è"
parent: "Stream API"
grand_parent: "Java 8"
nav_order: 17
---

# –°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó —Ç–∞ –∞–≥—Ä–µ–≥–∞—Ü—ñ—è

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: Stream API –Ω–∞–¥–∞—î —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∫–æ–ª–µ–∫—Ç–æ—Ä–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö –∞–≥—Ä–µ–≥–∞—Ü—ñ–π —á–∏—Å–ª–æ–≤–∏—Ö –∑–Ω–∞—á–µ–Ω—å (`Collectors.summarizingInt()`, `summarizingLong()`, `summarizingDouble()`), —â–æ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö—ñ–¥ –æ–±—á–∏—Å–ª–∏—Ç–∏ —Å—É–º—É, —Å–µ—Ä–µ–¥–Ω—î, –º—ñ–Ω—ñ–º–∞–ª—å–Ω–µ, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å.

* –ø–æ–Ω—è—Ç—Ç—è: `IntSummaryStatistics`, `LongSummaryStatistics`, `DoubleSummaryStatistics`, `Collectors.summarizingInt()`, `sum()`, `average()`, `min()`, `max()`.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `salaries.stream().collect(Collectors.summarizingInt(Integer::intValue))` (–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—Å—ñ—î—ó —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö—ñ–¥).

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –í–∏—Å–æ–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –∑–∞–≤–¥—è–∫–∏ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–º—É –ø—Ä–æ—Ö–æ–¥—É –ø–æ –¥–∞–Ω–∏—Ö. –ó—Ä—É—á–Ω–æ –¥–ª—è –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∏—Ö –∑–∞–¥–∞—á —Ç–∞ –∑–≤—ñ—Ç—ñ–≤.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–≤–Ω—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö—ñ–¥.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

–£ Java Stream API —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–æ–∑–≤–æ–ª—è—é—Ç—å –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∞–≥—Ä–µ–≥–∞—Ü—ñ—é —á–∏—Å–ª–æ–≤–∏—Ö –∑–Ω–∞—á–µ–Ω—å ‚Äî –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ–≥–æ,
–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ, —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è, —Å—É–º–∏ —Ç–∞ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ ‚Äî —É –∑—Ä—É—á–Ω—ñ–π —Ñ–æ—Ä–º—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤ —ñ –∫–æ–ª–µ–∫—Ç–æ—Ä—ñ–≤.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–¶–µ —Å–ø–æ—Å—ñ–± –æ–¥—Ä–∞–∑—É –∑—ñ–±—Ä–∞—Ç–∏ –≤—Å—é –ø–æ—Ç—Ä—ñ–±–Ω—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (—Å–µ—Ä–µ–¥–Ω—î, –º—ñ–Ω, –º–∞–∫—Å, —Å—É–º–∞, –∫—ñ–ª—å–∫—ñ—Å—Ç—å) ‚Äî —ñ –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ **–∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö—ñ–¥** –ø–æ –¥–∞–Ω–∏–º, –Ω–µ –≥–∞–Ω—è—é—á–∏ —Å–ø–∏—Å–æ–∫ 5 —Ä–∞–∑—ñ–≤.

---

## üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –∫–ª–∞—Å–∏:**

* **`IntSummaryStatistics`**
* **`LongSummaryStatistics`**
* **`DoubleSummaryStatistics`**

## üìä **–ö–æ–ª–µ–∫—Ç–æ—Ä–∏-–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∏:**

* **`Collectors.summarizingInt(ToIntFunction)`**
* **`Collectors.summarizingLong(ToLongFunction)`**
* **`Collectors.summarizingDouble(ToDoubleFunction)`**

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

–£—è–≤—ñ–º–æ, —â–æ —Ç–æ–±—ñ –¥–∞–ª–∏ —Å–ø–∏—Å–æ–∫ –∑–∞—Ä–ø–ª–∞—Ç 1000 –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤. –¢–∏ —Ö–æ—á–µ—à:

* –î—ñ–∑–Ω–∞—Ç–∏—Å—è —Å–µ—Ä–µ–¥–Ω—é –∑–∞—Ä–ø–ª–∞—Ç—É.
* –ó–Ω–∞–π—Ç–∏, —Å–∫—ñ–ª—å–∫–∏ —ó—Ö –≤—Å—å–æ–≥–æ.
* –î—ñ–∑–Ω–∞—Ç–∏—Å—è –º—ñ–Ω—ñ–º–∞–ª—å–Ω—É —Ç–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É.
* –ü–æ—Ä–∞—Ö—É–≤–∞—Ç–∏ —Å—É–º—É.

–ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ —â–æ–± –ø–∏—Å–∞—Ç–∏ 5 —Ä—ñ–∑–Ω–∏—Ö —Å—Ç—Ä—ñ–º—ñ–≤ (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ –∫–æ–∂–Ω–µ), —Ç–∏ –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à **–æ–¥–∏–Ω –∫–æ–ª–µ–∫—Ç–æ—Ä** ‚Äî —ñ –æ—Ç—Ä–∏–º—É—î—à –≤—Å–µ –æ–¥—Ä–∞–∑—É. –ë–µ–∑ –ø—ñ—Ç-—Å—Ç–æ–ø—ñ–≤ —ñ –∑–∞–π–≤–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
List<Integer> salaries = List.of(3000, 4000, 5000, 6000, 7000);

IntSummaryStatistics stats = salaries.stream()
    .collect(Collectors.summarizingInt(Integer::intValue));

System.out.println("Count: " + stats.getCount());
System.out.println("Sum: " + stats.getSum());
System.out.println("Min: " + stats.getMin());
System.out.println("Max: " + stats.getMax());
System.out.println("Average: " + stats.getAverage());
```

**–ó –æ–± º—î–∫—Ç–∞–º–∏:**

```java
record Employee(String name, int age, double salary) {}

List<Employee> employees = List.of(
    new Employee("Alice", 30, 3000.0),
    new Employee("Bob", 40, 5000.0),
    new Employee("Carol", 35, 4000.0)
);

DoubleSummaryStatistics salaryStats = employees.stream()
    .collect(Collectors.summarizingDouble(Employee::salary));

System.out.println("Average salary: " + salaryStats.getAverage());
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

|        –ú–µ—Ç—Ä–∏–∫–∞         |       `summarizingInt()`        | –û–∫—Ä–µ–º—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó (`mapToInt().sum()`, `average()`, ...) |
|:----------------------:|:-------------------------------:|:------------------------------------------------------:|
| **–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–æ—Ö–æ–¥—ñ–≤** |                1                |                          3‚Äì5                           |
|     **–ó—Ä—É—á–Ω—ñ—Å—Ç—å**      | –í—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ –æ–¥–Ω–æ–º—É –æ–± º—î–∫—Ç—ñ |            –û–∫—Ä–µ–º–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–æ–∂–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç             |
| **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –æ–±'—î–∫—Ç—ñ–≤** |       –¢–∞–∫ (—á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü—ñ—é)       |                   –¢–∞–∫, –∞–ª–µ —Å–∫–ª–∞–¥–Ω—ñ—à–µ                   |
|   **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å**   |              –í–∏—â–∞               |           –ù–∏–∑—å–∫–∞ –ø—Ä–∏ –±–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤–∏—Ö –ø—Ä–æ—Ö–æ–¥–∞—Ö            |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**‚ÄúSummary \= All-in-One‚Äù**

–Ø–∫ —à–≤–µ–π—Ü–∞—Ä—Å—å–∫–∏–π –Ω—ñ–∂: –æ–¥–Ω–µ ‚Äî –∞ —Ñ—É–Ω–∫—Ü—ñ–π –±–∞–≥–∞—Ç–æ.

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* **`summarizingX()`** ‚Äî –∫–æ–ª–µ–∫—Ç–æ—Ä–∏ –¥–ª—è –ø–æ–≤–Ω–æ—ó —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: —Å—É–º–∞, –º—ñ–Ω, –º–∞–∫—Å, —Å–µ—Ä–µ–¥–Ω—î, –∫—ñ–ª—å–∫—ñ—Å—Ç—å.
* –ö–ª–∞—Å–∏ **`IntSummaryStatistics`**, **`LongSummaryStatistics`**, **`DoubleSummaryStatistics`** –∑—Ä—É—á–Ω—ñ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.
* **–í–∏—Å–æ–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:** —É—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –æ—Ç—Ä–∏–º—É—é—Ç—å—Å—è **–∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö—ñ–¥**.
* –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –¥–ª—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏, –∑–≤—ñ—Ç—ñ–≤, –º–µ—Ç—Ä–∏–∫ ‚Äî —Ü–µ –∫—Ä–∞—Å–∏–≤–æ, –ª–∞–∫–æ–Ω—ñ—á–Ω–æ —ñ —à–≤–∏–¥–∫–æ.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**IntSummaryStatistics API docs (Oracle)**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/IntSummaryStatistics.html)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –≤ `Stream API` —ñ —è–∫–∞ —ó—Ö–Ω—è –≥–æ–ª–æ–≤–Ω–∞ –º–µ—Ç–∞?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó** ‚Äî —Ü–µ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó —Ç–∞ –∫–æ–ª–µ–∫—Ç–æ—Ä–∏ –≤ `Stream API`, –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –¥–ª—è **–∞–≥—Ä–µ–≥–∞—Ü—ñ—ó —á–∏—Å–ª–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö** —ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö –º–µ—Ç—Ä–∏–∫.
>
> **–ì–æ–ª–æ–≤–Ω–∞ –º–µ—Ç–∞:**
>
> –ù–∞–¥–∞—Ç–∏ –ø—Ä–æ—Å—Ç–∏–π, –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∏–π —Ç–∞ **–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π** —Å–ø–æ—Å—ñ–± –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Ç–∞–∫–∏—Ö –ø–æ–∫–∞–∑–Ω–∏–∫—ñ–≤, —è–∫:
>
> * –ö—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ (`count`).
> * –°—É–º–∞ (`sum`).
> * –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ —Ç–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è (`min`, `max`).
> * –°–µ—Ä–µ–¥–Ω—î –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω–µ (`average`).
>
> –¶—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–æ—Å—Ç—É–ø–Ω—ñ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É –¥–ª—è **–ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤** (`IntStream`, `LongStream`, `DoubleStream`) —Ç–∞ —á–µ—Ä–µ–∑ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –∫–æ–ª–µ–∫—Ç–æ—Ä–∏ –≤ –∫–ª–∞—Å—ñ `Collectors`.

#### **üìù –ê–Ω–∞–ª–æ–≥—ñ—è:**

–£—è–≤—ñ—Ç—å, —â–æ —É –≤–∞—Å —î —Å–ø–∏—Å–æ–∫ —á–µ–∫—ñ–≤ –∑ –º–∞–≥–∞–∑–∏–Ω—É. –°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó ‚Äî —Ü–µ —è–∫ –≤–±—É–¥–æ–≤–∞–Ω–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, —è–∫–∏–π –º–æ–∂–µ –º–∏—Ç—Ç—î–≤–æ –ø–æ—Ä–∞—Ö—É–≤–∞—Ç–∏ –≤–∞–º –∑–∞–≥–∞–ª—å–Ω—É —Å—É–º—É –ø–æ–∫—É–ø–æ–∫, –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—ñ–≤, –Ω–∞–π–¥–æ—Ä–æ–∂—á–∏–π —Ç–∞ –Ω–∞–π–¥–µ—à–µ–≤—à–∏–π —Ç–æ–≤–∞—Ä —ñ —Å–µ—Ä–µ–¥–Ω—é –≤–∞—Ä—Ç—ñ—Å—Ç—å —á–µ–∫–∞.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ë–∞–∑–æ–≤–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ `Stream API` –Ω–∞–¥–∞—î –≤–±—É–¥–æ–≤–∞–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –æ–±—á–∏—Å–ª–∏—Ç–∏ —Å—É–º—É —á–∏—Å–µ–ª —É –ø–æ—Ç–æ—Ü—ñ? –ù–∞–∑–≤—ñ—Ç—å —â–æ–Ω–∞–π–º–µ–Ω—à–µ –¥–≤–∞ —Å–ø–æ—Å–æ–±–∏.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **1. –ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `IntStream.sum()` (–Ω–∞–π–∫—Ä–∞—â–∏–π —Å–ø–æ—Å—ñ–± –¥–ª—è –ø—Ä–∏–º—ñ—Ç–∏–≤—ñ–≤):**
> –Ø–∫—â–æ –≤–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –∑ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏–º –ø–æ—Ç–æ–∫–æ–º, –Ω–∞–π–∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤–±—É–¥–æ–≤–∞–Ω–∏–π –º–µ—Ç–æ–¥ `.sum()`. –í—ñ–Ω —î –≤–∏—Å–æ–∫–æ–æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–º —ñ –¥—É–∂–µ —á–∏—Ç–∞–±–µ–ª—å–Ω–∏–º.
>
> ```java
> int[] numbers = {1, 2, 3, 4, 5};
> int sum = Arrays.stream(numbers).sum(); // 15
>    ```
>
> –î–ª—è –æ–±'—î–∫—Ç–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –π–æ–≥–æ –Ω–∞ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏–π —á–µ—Ä–µ–∑ `mapToInt`.
>
> ```java
> List<Integer> list = List.of(1, 2, 3, 4, 5);
> int sumFromList = list.stream().mapToInt(Integer::intValue).sum();
>    ```
>
> **2. –ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `reduce()` (–±—ñ–ª—å—à —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π —Å–ø–æ—Å—ñ–±):**
> –û–ø–µ—Ä–∞—Ü—ñ—è `reduce` –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ –¥–ª—è –±—É–¥—å-—è–∫–æ–≥–æ —Ç–∏–ø—É –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó, –≤–∫–ª—é—á–∞—é—á–∏ —Å—É–º—É–≤–∞–Ω–Ω—è.
>
> ```java
> int sumWithReduce = list.stream().reduce(0, Integer::sum); // –∞–±–æ (a, b) -> a + b
>    ```
>
> –•–æ—á–∞ —Ü–µ –ø—Ä–∞—Ü—é—î, `.sum()` —î –±—ñ–ª—å—à —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–º —Ç–∞ —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–∏–º –¥–ª—è —Ü—ñ—î—ó –∑–∞–¥–∞—á—ñ.
>
> **3. –ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Collectors.summingInt()` (–¥–ª—è –æ–±'—î–∫—Ç–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤):**
> –¶–µ–π –∫–æ–ª–µ–∫—Ç–æ—Ä –¥–æ–∑–≤–æ–ª—è—î —É–Ω–∏–∫–Ω—É—Ç–∏ —è–≤–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É `mapToInt`.
>
> ```java
> int sumWithCollector = list.stream().collect(Collectors.summingInt(Integer::intValue));
>    ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–¥–Ω—ñ—î—ó –π —Ç—ñ—î—ó –∂ –∑–∞–¥–∞—á—ñ —Ç–∞ –≤–º—ñ–Ω–Ω—è –æ–±—Ä–∞—Ç–∏ –Ω–∞–π–±—ñ–ª—å—à –ø—ñ–¥—Ö–æ–¥—è—â–∏–π —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ `IntSummaryStatistics` —ñ –≤ —á–æ–º—É –π–æ–≥–æ –ø–µ—Ä–µ–≤–∞–≥–∞?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> `IntSummaryStatistics` (—ñ –π–æ–≥–æ –∞–Ω–∞–ª–æ–≥–∏ `LongSummaryStatistics`, `DoubleSummaryStatistics`) ‚Äî —Ü–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –∫–ª–∞—Å-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –∑—ñ–±—Ä–∞—Ç–∏ **–≤—Å—é –æ—Å–Ω–æ–≤–Ω—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É** –ø—Ä–æ —á–∏—Å–ª–æ–≤–∏–π –ø–æ—Ç—ñ–∫ **–∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö—ñ–¥**.
>
> –í—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å —Ç–∞–∫—ñ –º–µ—Ç—Ä–∏–∫–∏:
>
> * –ö—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ (`getCount()`)
> * –°—É–º–∞ (`getSum()`)
> * –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è (`getMin()`)
> * –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è (`getMax()`)
> * –°–µ—Ä–µ–¥–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è (`getAverage()`)
>
> **–ì–æ–ª–æ–≤–Ω–∞ –ø–µ—Ä–µ–≤–∞–≥–∞ ‚Äî –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:**
>
> –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –∑ —Ü–∏—Ö –º–µ—Ç—Ä–∏–∫, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `summaryStatistics()` –Ω–∞ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–æ–º—É –ø–æ—Ç–æ—Ü—ñ –∞–±–æ `Collectors.summarizingInt()` –Ω–∞ –æ–±'—î–∫—Ç–Ω–æ–º—É —î **–∑–Ω–∞—á–Ω–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—à–∏–º**, –Ω—ñ–∂ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `count()`, `sum()`, `min()` –æ–∫—Ä–µ–º–æ.
>
> –¶–µ —Ç–æ–º—É, —â–æ `summaryStatistics` –æ–±—Ö–æ–¥–∏—Ç—å –ø–æ—Ç—ñ–∫ –ª–∏—à–µ **–æ–¥–∏–Ω —Ä–∞–∑**, –æ–Ω–æ–≤–ª—é—é—á–∏ –≤—Å—ñ –ø–æ–∫–∞–∑–Ω–∏–∫–∏ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ, —Ç–æ–¥—ñ —è–∫ –æ–∫—Ä–µ–º—ñ –≤–∏–∫–ª–∏–∫–∏ –≤–∏–º–∞–≥–∞–ª–∏ –± –±–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤–æ–≥–æ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è –ø–æ –≤—Å—ñ—Ö –¥–∞–Ω–∏—Ö.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
List<Integer> numbers = List.of(10, 20, 30);
IntSummaryStatistics stats = numbers.stream()
    .collect(Collectors.summarizingInt(Integer::intValue));

System.out.println(stats); // IntSummaryStatistics{count=3, sum=60, min=10, max=30, average=20.000000}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ —É–Ω–∏–∫–∞—Ç–∏ –±–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤–æ—ó –æ–±—Ä–æ–±–∫–∏ –ø–æ—Ç–æ–∫—É. –ó–Ω–∞–Ω–Ω—è –ø—Ä–æ `SummaryStatistics` —î –æ–∑–Ω–∞–∫–æ—é –¥–æ—Å–≤—ñ–¥—á–µ–Ω–æ–≥–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞, —è–∫–∏–π –¥—É–º–∞—î –ø—Ä–æ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–µ—Ä–µ–¥–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –ø–æ—Ç–æ–∫—É? –ß–æ–º—É –º–µ—Ç–æ–¥ `average()` –ø–æ–≤–µ—Ä—Ç–∞—î `OptionalDouble`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏—Ö –ø–æ—Ç–æ–∫–∞—Ö (`IntStream`, `LongStream`, `DoubleStream`) —ñ—Å–Ω—É—î —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è **`.average()`**.
>
> **–ß–æ–º—É –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è `OptionalDouble`:**
>
> –ú–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä—Ç–∞—î `OptionalDouble` (—Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –≤–µ—Ä—Å—ñ—è `Optional` –¥–ª—è `double`), –æ—Å–∫—ñ–ª—å–∫–∏ –ø–æ—Ç—ñ–∫, –Ω–∞ —è–∫–æ–º—É –≤—ñ–Ω –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è, **–º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º**.
>
> –í –º–∞—Ç–µ–º–∞—Ç–∏—Ü—ñ —Å–µ—Ä–µ–¥–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –ø–æ—Ä–æ–∂–Ω—å–æ–≥–æ –Ω–∞–±–æ—Ä—É –Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–æ. –Ø–∫–±–∏ –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä—Ç–∞–≤ –ø—Ä–æ—Å—Ç–æ `double`, –≤—ñ–Ω –±–∏ –±—É–≤ –∑–º—É—à–µ–Ω–∏–π –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ —è–∫–µ—Å—å –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 0 –∞–±–æ `NaN`), —â–æ –±—É–ª–æ –± –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–º —ñ –º–æ–≥–ª–æ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ª–æ–≥—ñ—á–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫.
>
> `OptionalDouble` –µ–ª–µ–≥–∞–Ω—Ç–Ω–æ –≤–∏—Ä—ñ—à—É—î —Ü—é –ø—Ä–æ–±–ª–µ–º—É, –∑–º—É—à—É—é—á–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ —è–≤–Ω–æ –æ–±—Ä–æ–±–∏—Ç–∏ –≤–∏–ø–∞–¥–æ–∫ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
int[] numbers = {2, 4, 9};

// average() –ø–æ–≤–µ—Ä—Ç–∞—î OptionalDouble
OptionalDouble avgOptional = Arrays.stream(numbers).average();

// –ë–µ–∑–ø–µ—á–Ω–∞ –æ–±—Ä–æ–±–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
avgOptional.ifPresent(avg -> System.out.println("–°–µ—Ä–µ–¥–Ω—î: " + avg)); // 5.0
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è API –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤ —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä–æ–ª—ñ `Optional`-—Ç–∏–ø—ñ–≤ –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ —á–æ–º—É —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ `stream.count()` —ñ `collection.size()`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –•–æ—á–∞ –æ–±–∏–¥–≤–∞ –º–æ–∂—É—Ç—å –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –≤–æ–Ω–∏ –º–∞—é—Ç—å —Ä—ñ–∑–Ω–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.
>
> * **`collection.size()`:**
>   * **–©–æ —Ä–æ–±–∏—Ç—å:** –ü–æ–≤–µ—Ä—Ç–∞—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, —â–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è **–≤ –∫–æ–ª–µ–∫—Ü—ñ—ó**.
>   * **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:** **O(1)**. –¶–µ –¥—É–∂–µ —à–≤–∏–¥–∫–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è, –æ—Å–∫—ñ–ª—å–∫–∏ –∫–æ–ª–µ–∫—Ü—ñ—ó –∑–∞–∑–≤–∏—á–∞–π –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –ª—ñ—á–∏–ª—å–Ω–∏–∫.
>
> * **`stream.count()`:**
>   * **–©–æ —Ä–æ–±–∏—Ç—å:** –Ñ **—Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é**, —è–∫–∞ –æ–±—á–∏—Å–ª—é—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ **—É –ø–æ—Ç–æ—Ü—ñ –ø—ñ—Å–ª—è** –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø—Ä–æ–º—ñ–∂–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π.
>   * **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:** **O(n)**. –©–æ–± –ø–æ—Ä–∞—Ö—É–≤–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏, `count()` –ø–æ–≤–∏–Ω–µ–Ω –ø—Ä–æ–π—Ç–∏ –ø–æ –≤—Å—å–æ–º—É –ø–æ—Ç–æ–∫—É.
>
> **–ö–æ–ª–∏ —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**
>
> * –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ **—É –ø–æ—á–∞—Ç–∫–æ–≤—ñ–π –∫–æ–ª–µ–∫—Ü—ñ—ó** ‚Äî –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `.size()`.
> * –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ **–ø—ñ—Å–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó** –∞–±–æ —ñ–Ω—à–∏—Ö –ø—Ä–æ–º—ñ–∂–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `.count()`.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
List<String> list = List.of("a", "b", "cc");

int size = list.size(); // 3

long countAfterFilter = list.stream()
                           .filter(s -> s.length() == 1)
                           .count(); // 2
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ —Å—Ç–∞—Ç–∏—á–Ω–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é –¥–∞–Ω–∏—Ö (–∫–æ–ª–µ–∫—Ü—ñ—è) —Ç–∞ –¥–∏–Ω–∞–º—ñ—á–Ω–∏–º –∫–æ–Ω–≤–µ—î—Ä–æ–º –æ–±—Ä–æ–±–∫–∏ (–ø–æ—Ç—ñ–∫).*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –∑–Ω–∞–π—Ç–∏ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –∞–±–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç —É –ø–æ—Ç–æ—Ü—ñ? –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥–∏ –¥–ª—è —á–∏—Å–ª–æ–≤–∏—Ö —Ç–∞ –æ–±'—î–∫—Ç–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤.

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–î–ª—è –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤ (`IntStream` —ñ —Ç.–¥.):**
> –Ü—Å–Ω—É—é—Ç—å —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó `.min()` —Ç–∞ `.max()`. –í–æ–Ω–∏ –Ω–µ –ø—Ä–∏–π–º–∞—é—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ —ñ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å `OptionalInt` / `OptionalLong` / `OptionalDouble`.
>
> ```java
> OptionalInt min = IntStream.of(5, 2, 8).min(); // OptionalInt[2]
> ```
>
> **–î–ª—è –æ–±'—î–∫—Ç–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤ (`Stream<T>`):**
> –ú–µ—Ç–æ–¥–∏ `.min()` —Ç–∞ `.max()` –ø—Ä–∏–π–º–∞—é—Ç—å **`Comparator`** —è–∫ –∞—Ä–≥—É–º–µ–Ω—Ç, —â–æ–± –∑–Ω–∞—Ç–∏, –∑–∞ —è–∫–∏–º –∫—Ä–∏—Ç–µ—Ä—ñ—î–º –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏. –í–æ–Ω–∏ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å `Optional<T>`.
>
> ```java
> List<User> users = ...;
> // –ó–Ω–∞—Ö–æ–¥–∏–º–æ –Ω–∞–π—Å—Ç–∞—Ä—à–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
> Optional<User> oldestUser = users.stream()
>                                 .max(Comparator.comparingInt(User::getAge));
> ```
>
> –ë–µ–∑ `Comparator`'–∞ Java –Ω–µ –∑–Ω–∞—î, —è–∫ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏ `User`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ–π –¥–ª—è –ø–æ—à—É–∫—É –µ–∫—Å—Ç—Ä–µ–º—É–º—ñ–≤ —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —ó—Ö–Ω—å–æ—ó –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ `Comparable` / `Comparator` –¥–ª—è –æ–±'—î–∫—Ç–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –æ–ø–µ—Ä–∞—Ü—ñ—è `reduce()` –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å? –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ –ø–æ—à—É–∫—É —Å—É–º–∏. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`reduce()`** ‚Äî —Ü–µ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó, –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —è–∫–æ—ó –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–æ –±—É–¥—å-—è–∫—É —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é.
>
> **–î–ª—è –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —Å—É–º–∏** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤–µ—Ä—Å—ñ—è `reduce(identity, accumulator)`:
>
> * `identity`: –ø–æ—á–∞—Ç–∫–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è —Å—É–º–∏, —Ç–æ–±—Ç–æ **0**.
> * `accumulator`: —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫–∞ –¥–æ–¥–∞—î –Ω–∞—Å—Ç—É–ø–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç –¥–æ –ø—Ä–æ–º—ñ–∂–Ω–æ—ó —Å—É–º–∏.
>
> –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ —î –±—ñ–ª—å—à –∑–∞–≥–∞–ª—å–Ω–∏–º —ñ –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è —Ç–æ–¥—ñ, –∫–æ–ª–∏ –Ω–µ–º–∞—î –≥–æ—Ç–æ–≤–æ–≥–æ –º–µ—Ç–æ–¥—É `sum()`, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –æ–±'—î–∫—Ç–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
List<Integer> numbers = List.of(1, 2, 3, 4);

// –í–µ—Ä—Å—ñ—è –∑ –ª—è–º–±–¥–æ—é
int sum1 = numbers.stream().reduce(0, (partialSum, element) -> partialSum + element);

// –í–µ—Ä—Å—ñ—è –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ –º–µ—Ç–æ–¥ (–±—ñ–ª—å—à —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–æ)
int sum2 = numbers.stream().reduce(0, Integer::sum);

System.out.println(sum1); // 10
System.out.println(sum2); // 10
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è `reduce` —è–∫ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó, –Ω–∞ —è–∫—ñ–π –±–∞–∑—É—é—Ç—å—Å—è –±–∞–≥–∞—Ç–æ —ñ–Ω—à–∏—Ö –∞–≥—Ä–µ–≥–∞—Ü—ñ–π.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —â–æ —Ç–∞–∫–µ `Collectors.summarizingInt` —ñ —è–∫ –≤—ñ–Ω –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ `IntSummaryStatistics`. ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`Collectors.summarizingInt(ToIntFunction<T> mapper)`** ‚Äî —Ü–µ –∫–æ–ª–µ–∫—Ç–æ—Ä, –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –¥–æ **–æ–±'—î–∫—Ç–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤ (`Stream<T>`)**.
>
> **–ô–æ–≥–æ —Ä–æ–±–æ—Ç–∞ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –¥–≤–æ—Ö –∫—Ä–æ–∫—ñ–≤:**
>
> 1. –í—ñ–Ω –ø—Ä–∏–π–º–∞—î —Ñ—É–Ω–∫—Ü—ñ—é (`mapper`), —è–∫–∞ –≤–∏—Ç—è–≥—É—î –∑ –∫–æ–∂–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ `T` –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–µ `int` –∑–Ω–∞—á–µ–Ω–Ω—è.
> 2. –ü–æ—Ç—ñ–º –≤—ñ–Ω –∑–±–∏—Ä–∞—î –≤—Å—ñ —Ü—ñ `int` –∑–Ω–∞—á–µ–Ω–Ω—è —ñ –æ–±—á–∏—Å–ª—é—î –¥–ª—è –Ω–∏—Ö –ø–æ–≤–Ω—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, –ø–æ–≤–µ—Ä—Ç–∞—é—á–∏ –≤ –∫—ñ–Ω—Ü—ñ –æ–±'—î–∫—Ç **`IntSummaryStatistics`**.
>
> –¶–µ, –ø–æ —Å—É—Ç—ñ, –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç –ª–∞–Ω—Ü—é–∂–∫–∞ `mapToInt(...).summaryStatistics()`, –∞–ª–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —è–∫ —î–¥–∏–Ω–∏–π `Collector`, —â–æ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ –∑—Ä—É—á–Ω–∏–º –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫ `downstream`-–∫–æ–ª–µ–∫—Ç–æ—Ä–∞ –≤ `groupingBy`.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
// –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–≤–Ω—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤—ñ–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
IntSummaryStatistics ageStats = users.stream()
    .collect(Collectors.summarizingInt(User::getAge));
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –∫–æ–ª–µ–∫—Ç–æ—Ä—ñ–≤ —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è, —è–∫ –≤–æ–Ω–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –Ω–∞ –æ–±'—î–∫—Ç–Ω–∏—Ö –ø–æ—Ç–æ–∫–∞—Ö.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ –±—ñ–ª—å—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —Å—É–º–∏ –≤—ñ–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤: `collect(summarizingInt(...)).getSum()` —á–∏ `mapToInt(...).sum()`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`mapToInt(...).sum()` –±—É–¥–µ –±—ñ–ª—å—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º.**
>
> **–ü—Ä–∏—á–∏–Ω–∞:**
>
> * **`collect(Collectors.summarizingInt(...))`**:
>     –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –æ–±—á–∏—Å–ª—é—î **–≤—Å—ñ –ø'—è—Ç—å** —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö –º–µ—Ç—Ä–∏–∫ (count, sum, min, max, average), –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ª–∏—à–µ –æ–¥–Ω–∞ –∑ –Ω–∏—Ö (—Å—É–º–∞). –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –∑–∞–π–≤–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å.
>
> * **`mapToInt(...).sum()`**:
>     –¶–µ–π –ª–∞–Ω—Ü—é–∂–æ–∫ —î **—Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–º —ñ —Å—Ñ–æ–∫—É—Å–æ–≤–∞–Ω–∏–º**. –í—ñ–Ω —Å–ø–æ—á–∞—Ç–∫—É —Å—Ç–≤–æ—Ä—é—î `IntStream`, –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–æ–Ω—É—î –ª–∏—à–µ –æ–¥–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é ‚Äî –ø—ñ–¥—Å—É–º–æ–≤—É–≤–∞–Ω–Ω—è. –í—ñ–Ω –Ω–µ –≤–∏–∫–æ–Ω—É—î –∂–æ–¥–Ω–∏—Ö –∑–∞–π–≤–∏—Ö –¥—ñ–π.
>
> **–í–∏—Å–Ω–æ–≤–æ–∫:** `summarizingInt` —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–∏—à–µ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –≤–∞–º –¥—ñ–π—Å–Ω–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ **–∫—ñ–ª—å–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö –ø–æ–∫–∞–∑–Ω–∏–∫—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ**. –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω –ª–∏—à–µ –æ–¥–∏–Ω (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—É–º–∞ –∞–±–æ —Å–µ—Ä–µ–¥–Ω—î), –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –º–µ—Ç–æ–¥ –Ω–∞ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–æ–º—É –ø–æ—Ç–æ—Ü—ñ (`.sum()`, `.average()` —Ç–æ—â–æ).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –æ–±–∏—Ä–∞—Ç–∏ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ä–æ–±–æ—á–µ, –∞ –Ω–∞–π–±—ñ–ª—å—à –æ–ø—Ç–∏–º–∞–ª—å–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è. –¶–µ –ø–æ–∫–∞–∑—É—î, —â–æ –∫–∞–Ω–¥–∏–¥–∞—Ç –¥—É–º–∞—î –ø—Ä–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –Ω–∞ —Ä—ñ–≤–Ω—ñ API.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `reduce` –∑–Ω–∞–π—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç —É –ø–æ—Ç–æ—Ü—ñ, –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `max()`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è —Ü—å–æ–≥–æ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –≤–µ—Ä—Å—ñ—é `reduce` –∑ –æ–¥–Ω–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º, —è–∫–∞ –ø–æ–≤–µ—Ä—Ç–∞—î `Optional`.
>
> **–ê–∫—É–º—É–ª—è—Ç–æ—Ä** (`BinaryOperator`) –ø–æ–≤–∏–Ω–µ–Ω –ø—Ä–∏–π–º–∞—Ç–∏ –¥–≤–∞ –µ–ª–µ–º–µ–Ω—Ç–∏ —ñ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –±—ñ–ª—å—à–∏–π –∑ –Ω–∏—Ö. –î–ª—è —Ü—å–æ–≥–æ —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –º–µ—Ç–æ–¥ `Integer.max` (–∞–±–æ `Math.max`).

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É:**

```java
List<Integer> numbers = List.of(10, 5, 25, 15);

// reduce() –ø–æ–≤–µ—Ä–Ω–µ Optional, –æ—Å–∫—ñ–ª—å–∫–∏ –ø–æ—Ç—ñ–∫ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º
Optional<Integer> maxOptional = numbers.stream()
    .reduce(Integer::max); // –∞–±–æ (a, b) -> Math.max(a, b)

maxOptional.ifPresent(max -> System.out.println("Max: " + max)); // 25
```

–¶–µ–π –ø—Ä–∏–∫–ª–∞–¥ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —â–æ `reduce` —î –±—ñ–ª—å—à –∑–∞–≥–∞–ª—å–Ω–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é, –Ω–∞ –æ—Å–Ω–æ–≤—ñ —è–∫–æ—ó –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `max`, `min` —Ç–∞ `sum`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ—ó `reduce` —Ç–∞ –≤–º—ñ–Ω–Ω—è –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ —ó—ó –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è, —è–∫—â–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `average()` –Ω–∞ –ø–æ—Ä–æ–∂–Ω—å–æ–º—É `IntStream`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –í–∏–∫–ª–∏–∫ `.average()` –Ω–∞ –ø–æ—Ä–æ–∂–Ω—å–æ–º—É `IntStream` **–Ω–µ –∫–∏–Ω–µ –≤–∏–Ω—è—Ç–æ–∫**.
>
> –í—ñ–Ω –∫–æ—Ä–µ–∫—Ç–Ω–æ –ø–æ–≤–µ—Ä–Ω–µ **–ø–æ—Ä–æ–∂–Ω—ñ–π `OptionalDouble`** (`OptionalDouble.empty()`).
>
> –¶–µ —î –æ—Å–Ω–æ–≤–Ω–æ—é –ø–µ—Ä–µ–≤–∞–≥–æ—é `Optional`-—Ç–∏–ø—ñ–≤. –í–æ–Ω–∏ –±—É–ª–∏ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –¥–ª—è —Ç–æ–≥–æ, —â–æ–± –±–µ–∑–ø–µ—á–Ω–æ –º–æ–¥–µ–ª—é–≤–∞—Ç–∏ —Å–∏—Ç—É–∞—Ü—ñ—ó, –∫–æ–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ –±—É—Ç–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ–º. –ó–∞–º—ñ—Å—Ç—å –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è `null` –∞–±–æ –∫–∏–¥–∞–Ω–Ω—è –≤–∏–Ω—è—Ç–∫—É, API –ø–æ–≤–µ—Ä—Ç–∞—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —è–∫–∏–π –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è, –∞ –º–æ–∂–µ —ñ –Ω–µ –º—ñ—Å—Ç–∏—Ç–∏, –∑–º—É—à—É—é—á–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ –æ–±—Ä–æ–±–∏—Ç–∏ –æ–±–∏–¥–≤–∞ –≤–∏–ø–∞–¥–∫–∏.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
OptionalDouble result = IntStream.empty().average();

// –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î –∑–Ω–∞—á–µ–Ω–Ω—è
System.out.println(result.isPresent()); // false

// –ù–∞–¥–∞—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
double average = result.orElse(0.0); // 0.0
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤ API `Stream` —Ç–∞ `Optional`. –¶–µ –ø–∏—Ç–∞–Ω–Ω—è –Ω–∞ —É–≤–∞–∂–Ω—ñ—Å—Ç—å –¥–æ –¥–µ—Ç–∞–ª–µ–π —Ç–∞ –∑–Ω–∞–Ω–Ω—è –æ–±—Ä–æ–±–∫–∏ –∫—Ä–∞–π–Ω—ñ—Ö –≤–∏–ø–∞–¥–∫—ñ–≤.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `Collectors.summarizingInt` —è–∫ `downstream`-–∫–æ–ª–µ–∫—Ç–æ—Ä –¥–ª—è `groupingBy`? –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, —Ü–µ –æ–¥–∏–Ω –∑ –Ω–∞–π–ø–æ—Ç—É–∂–Ω—ñ—à–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤** –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ–±–æ—Ö –∫–æ–ª–µ–∫—Ç–æ—Ä—ñ–≤. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–≤–Ω—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –∫–æ–∂–Ω–æ—ó –≥—Ä—É–ø–∏.
>
> **–ó–∞–¥–∞—á–∞:** –Ñ —Å–ø–∏—Å–æ–∫ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤ –∑ —Ä—ñ–∑–Ω–∏—Ö –≤—ñ–¥–¥—ñ–ª—ñ–≤. –ü–æ—Ç—Ä—ñ–±–Ω–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–≤–Ω—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∑–∞—Ä–ø–ª–∞—Ç–∞—Ö (–∫—ñ–ª—å–∫—ñ—Å—Ç—å, —Å—É–º–∞, —Å–µ—Ä–µ–¥–Ω—î, min, max) –¥–ª—è **–∫–æ–∂–Ω–æ–≥–æ –≤—ñ–¥–¥—ñ–ª—É –æ–∫—Ä–µ–º–æ**.
>
> **–†—ñ—à–µ–Ω–Ω—è:**
>
> 1. `groupingBy` –≥—Ä—É–ø—É—î —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤ –∑–∞ –≤—ñ–¥–¥—ñ–ª–æ–º.
> 2. `summarizingDouble` (–¥–ª—è –∑–∞—Ä–ø–ª–∞—Ç) –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è —è–∫ `downstream`-–∫–æ–ª–µ–∫—Ç–æ—Ä –¥–æ –∫–æ–∂–Ω–æ—ó –∑ —Ü–∏—Ö –≥—Ä—É–ø.
>
> –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –±—É–¥–µ `Map<String, DoubleSummaryStatistics>`, –¥–µ –∫–ª—é—á ‚Äî —Ü–µ –Ω–∞–∑–≤–∞ –≤—ñ–¥–¥—ñ–ª—É, –∞ –∑–Ω–∞—á–µ–Ω–Ω—è ‚Äî –æ–±'—î–∫—Ç –∑—ñ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É:**

```java
Map<String, DoubleSummaryStatistics> statsByDepartment = employees.stream()
    .collect(Collectors.groupingBy(
        Employee::getDepartment,                           // –ì—Ä—É–ø—É—î–º–æ –∑–∞ –≤—ñ–¥–¥—ñ–ª–æ–º
        Collectors.summarizingDouble(Employee::getSalary)  // –ó–±–∏—Ä–∞—î–º–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –∫–æ–∂–Ω–æ—ó –≥—Ä—É–ø–∏
    ));

statsByDepartment.forEach((department, stats) -> {
    System.out.println("Department: " + department + ", Stats: " + stats);
});
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ –∫–æ–ª–µ–∫—Ç–æ—Ä–∏ –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å. –¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≤–∏—Å–æ–∫–∏–π —Ä—ñ–≤–µ–Ω—å –≤–æ–ª–æ–¥—ñ–Ω–Ω—è `Stream API`.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ü–æ—è—Å–Ω—ñ—Ç—å, —è–∫ –±–∏ –≤–∏ "–≤—Ä—É—á–Ω—É" —Ä–µ–∞–ª—ñ–∑—É–≤–∞–ª–∏ –ª–æ–≥—ñ–∫—É `sum()` –¥–ª—è `Stream<Integer>`, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ç—ñ–ª—å–∫–∏ `reduce`. ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ó–≤–∏—á–∞–π–Ω–æ. –ú–µ—Ç–æ–¥ `sum()` –Ω–∞ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–æ–º—É –ø–æ—Ç–æ—Ü—ñ —î –ª–∏—à–µ –∑—Ä—É—á–Ω–æ—é –æ–±–≥–æ—Ä—Ç–∫–æ—é. –ô–æ–≥–æ –ª–æ–≥—ñ–∫—É –º–æ–∂–Ω–∞ –ª–µ–≥–∫–æ –≤—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `reduce`.
>
> **–î–ª—è `Stream<Integer>`:**
> –ù–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –≤–µ—Ä—Å—ñ—è `reduce` –∑ –ø–æ—á–∞—Ç–∫–æ–≤–∏–º –∑–Ω–∞—á–µ–Ω–Ω—è–º.
>
> * `identity`: –¥–ª—è —Å—É–º–∏ —Ü–µ `0`.
> * `accumulator`: —Ñ—É–Ω–∫—Ü—ñ—è, —â–æ –¥–æ–¥–∞—î –¥–≤–∞ —á–∏—Å–ª–∞. –¶–µ `(a, b) -> a + b` –∞–±–æ, —â–æ –∫—Ä–∞—â–µ, –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –º–µ—Ç–æ–¥ `Integer::sum`.
>
> #### **–ü—Ä–∏–∫–ª–∞–¥:**
>
> ```java
> List<Integer> numbers = List.of(1, 2, 3, 4, 5);
> 
> // –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è sum() —á–µ—Ä–µ–∑ reduce
> int sum = numbers.stream().reduce(0, Integer::sum);
> ```
>
> **–Ø–∫–±–∏ –º–∏ –ø—Ä–∞—Ü—é–≤–∞–ª–∏ –∑ `IntStream`:**
> `int sum = intStream.reduce(0, (a, b) -> a + b);`
>
> –¶–µ –ø–æ–∫–∞–∑—É—î, –Ω–∞—Å–∫—ñ–ª—å–∫–∏ `reduce` —î —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é, –Ω–∞ —è–∫—ñ–π –ø–æ–±—É–¥–æ–≤–∞–Ω–æ –±–∞–≥–∞—Ç–æ —ñ–Ω—à–∏—Ö –∞–≥—Ä–µ–≥–∞—Ü—ñ–π.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –ø—Ä–∞—Ü—é—î —Ä–µ–¥—É–∫—Ü—ñ—è, —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –≤—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –±—ñ–ª—å—à –∑–∞–≥–∞–ª—å–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–†–æ–∑–≥–ª—è–Ω—å—Ç–µ –æ–ø–µ—Ä–∞—Ü—ñ—é `reduce`. –ß–∏ –º–æ–∂–µ —ó—ó –∞–∫—É–º—É–ª—è—Ç–æ—Ä –ø–æ—Ä—É—à–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è? –Ø–∫—â–æ —Ç–∞–∫, —Ç–æ —è–∫? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, –º–æ–∂–µ**, —è–∫—â–æ –∞–∫—É–º—É–ª—è—Ç–æ—Ä —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∑ **–ø–æ–±—ñ—á–Ω–∏–º–∏ –µ—Ñ–µ–∫—Ç–∞–º–∏**.
>
> –ö–æ–Ω—Ç—Ä–∞–∫—Ç `reduce` –≤–∏–º–∞–≥–∞—î, —â–æ–± —Ñ—É–Ω–∫—Ü—ñ—è-–∞–∫—É–º—É–ª—è—Ç–æ—Ä –±—É–ª–∞ **—á–∏—Å—Ç–æ—é**, **–±–µ–∑—Å—Ç–∞–Ω–æ–≤–æ—é** —Ç–∞ **–∞—Å–æ—Ü—ñ–∞—Ç–∏–≤–Ω–æ—é** (–æ—Å–æ–±–ª–∏–≤–æ –¥–ª—è –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤).
>
> **–ü—Ä–∏–∫–ª–∞–¥ –ø–æ–≥–∞–Ω–æ–≥–æ –∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞:**
>
> ```java
> List<Integer> list = List.of(1, 2, 3);
> int externalSum = 0; // –ó–æ–≤–Ω—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω
> 
> // –ü–û–ì–ê–ù–û: –∞–∫—É–º—É–ª—è—Ç–æ—Ä –º–∞—î –ø–æ–±—ñ—á–Ω–∏–π –µ—Ñ–µ–∫—Ç - –∑–º—ñ–Ω—é—î –∑–æ–≤–Ω—ñ—à–Ω—é –∑–º—ñ–Ω–Ω—É
> list.stream().reduce(0, (a, b) -> {
>     externalSum += b;
>     return a + b;
> });
> ```
>
> –¶–µ —î –≥—Ä—É–±–∏–º –ø–æ—Ä—É—à–µ–Ω–Ω—è–º –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ –§–ü. –ê –≤ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ–º—É –ø–æ—Ç–æ—Ü—ñ —Ç–∞–∫–∏–π –∫–æ–¥ —â–µ –π –Ω–µ –±—É–¥–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º —ñ –¥–∞—Å—Ç—å –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
>
> **–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –∞–∫—É–º—É–ª—è—Ç–æ—Ä** –ø–æ–≤–∏–Ω–µ–Ω –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ **–Ω–æ–≤–∏–π** —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –Ω—ñ—á–æ–≥–æ –∑–∞ –º–µ–∂–∞–º–∏ —Å–≤–æ—î—ó –æ–±–ª–∞—Å—Ç—ñ –≤–∏–¥–∏–º–æ—Å—Ç—ñ.
> `(partialSum, element) -> partialSum + element`
>
> –¶—è —Ñ—É–Ω–∫—Ü—ñ—è —î —á–∏—Å—Ç–æ—é ‚Äî —ó—ó —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ª–µ–∂–∏—Ç—å –ª–∏—à–µ –≤—ñ–¥ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –≤–∏–º–æ–≥ –¥–æ —Ñ—É–Ω–∫—Ü—ñ–π, —â–æ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è –≤ –æ–ø–µ—Ä–∞—Ü—ñ—ó `Stream API`, –∑–æ–∫—Ä–µ–º–∞ —á–∏—Å—Ç–æ—Ç–∏ —Ç–∞ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –ø–æ–±—ñ—á–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£ –≤–∞—Å —î `Stream<Optional<Integer>>`. –Ø–∫ –∑–Ω–∞–π—Ç–∏ —Å—É–º—É –≤—Å—ñ—Ö –ø—Ä–∏—Å—É—Ç–Ω—ñ—Ö –∑–Ω–∞—á–µ–Ω—å –Ω–∞–π–µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–∏–º —Å–ø–æ—Å–æ–±–æ–º? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–∞ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—é —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤ –ø–æ—Ç–æ–∫—ñ–≤.
>
> **–õ–∞–Ω—Ü—é–∂–æ–∫ –æ–ø–µ—Ä–∞—Ü—ñ–π:**
>
> 1. **–í—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ `Optional`'–∏:** –°–ø–æ—á–∞—Ç–∫—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–ª–∏—à–∏—Ç–∏ –ª–∏—à–µ —Ç—ñ `Optional`, —è–∫—ñ –º—ñ—Å—Ç—è—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è. –î–ª—è —Ü—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ `filter` –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ –º–µ—Ç–æ–¥ `Optional::isPresent`.
> 2. **–í–∏—Ç—è–≥–Ω—É—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è:** –¢–µ–ø–µ—Ä —É –Ω–∞—Å —î `Stream<Optional<Integer>>`, –¥–µ –∫–æ–∂–µ–Ω `Optional` –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –Ω–µ –ø–æ—Ä–æ–∂–Ω—ñ–π. –ü–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏—Ç—è–≥–Ω—É—Ç–∏ –∑ –Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–Ω—è. –¶–µ —Ä–æ–±–∏—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `map` –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ –º–µ—Ç–æ–¥ `Optional::get`. –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –±—É–¥–µ `Stream<Integer>`.
> 3. **–ü–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–∞ –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω–∏–π –ø–æ—Ç—ñ–∫:** –î–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—ñ–¥—Å—É–º–æ–≤—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î–º–æ `Stream<Integer>` –Ω–∞ `IntStream` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `mapToInt(Integer::intValue)`.
> 4. **–û–±—á–∏—Å–ª–∏—Ç–∏ —Å—É–º—É:** –í–∏–∫–ª–∏–∫–∞—î–º–æ —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é `.sum()`.
>
> #### **–ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É:**
>
> ```java
> Stream<Optional<Integer>> streamOfOptionals = Stream.of(
>     Optional.of(10),
>     Optional.empty(),
>     Optional.of(20)
> );
> 
> int sum = streamOfOptionals
>     .filter(Optional::isPresent)
>     .map(Optional::get)
>     .mapToInt(Integer::intValue)
>     .sum();
>     
> System.out.println(sum); // 30
> ```
>
> **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –∑ `flatMap` (–∑ Java 9):**
> –ó Java 9 `Optional` –º–∞—î –º–µ—Ç–æ–¥ `.stream()`, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ç—ñ–∫ –∑ –æ–¥–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ –∞–±–æ –ø–æ—Ä–æ–∂–Ω—ñ–π. –¶–µ –¥–æ–∑–≤–æ–ª—è—î —Å–ø—Ä–æ—Å—Ç–∏—Ç–∏ –ª–∞–Ω—Ü—é–∂–æ–∫.
>
> ```java
> int sum2 = streamOfOptionals
>     .flatMap(Optional::stream) // Optional<T> -> Stream<T>
>     .mapToInt(Integer::intValue)
>     .sum();
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –≤–∏—Ä—ñ—à—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –∑ –æ–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—é `Optional` —Ç–∞ `Stream API`. –¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≤–ø–µ–≤–Ω–µ–Ω–µ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏–º–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏ Java.*

* * *
