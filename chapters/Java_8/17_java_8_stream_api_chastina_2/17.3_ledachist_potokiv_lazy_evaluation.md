---
layout: default
title: "–õ–µ–¥–∞—á—ñ—Å—Ç—å –ø–æ—Ç–æ–∫—ñ–≤ (Lazy Evaluation)"
parent: "Stream API"
grand_parent: "Java 8"
nav_order: 3
---

# –õ–µ–¥–∞—á—ñ—Å—Ç—å –ø–æ—Ç–æ–∫—ñ–≤ (Lazy Evaluation)

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `Lazy evaluation` ‚Äì —Ü–µ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, –∑–∞ —è–∫–æ—ó –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –ø—Ä–æ–º—ñ–∂–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π —É Stream API –≤—ñ–¥–∫–ª–∞–¥–∞—î—Ç—å—Å—è –¥–æ –º–æ–º–µ–Ω—Ç—É, –∫–æ–ª–∏ —ó—Ö–Ω—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥—ñ–π—Å–Ω–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω (—Ç–æ–±—Ç–æ –ø—Ä–∏ –≤–∏–∫–ª–∏–∫—É –∫—ñ–Ω—Ü–µ–≤–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó).

* –ø–æ–Ω—è—Ç—Ç—è: Lazy Evaluation, `short-circuiting` (–∫–æ—Ä–æ—Ç–∫–µ –∑–∞–º–∏–∫–∞–Ω–Ω—è).

* –ø—Ä–∏–∫–ª–∞–¥–∏: `filter(...).findFirst()` (–æ–±—Ä–æ–±–∫–∞ –∑—É–ø–∏–Ω—è—î—Ç—å—Å—è –ø—ñ—Å–ª—è –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –ø–µ—Ä—à–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞), `Stream.iterate(...).limit(...)` (–¥–ª—è –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏—Ö —Å—Ç—Ä—ñ–º—ñ–≤).

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: –û–ø—Ç–∏–º—ñ–∑—É—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, –¥–æ–∑–≤–æ–ª—è—î –æ–±—Ä–æ–±–ª—è—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ —Å—Ç—Ä—ñ–º–∏, –º—ñ–Ω—ñ–º—ñ–∑—É—î –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –ü—Ä–∏–Ω—Ü–∏–ø, —è–∫ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**Lazy evaluation** ‚Äî —Ü–µ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, –∑–∞ —è–∫–æ—ó –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –≤–∏—Ä–∞–∑—ñ–≤ –≤—ñ–¥–∫–ª–∞–¥–∞—î—Ç—å—Å—è –¥–æ –º–æ–º–µ–Ω—Ç—É, –∫–æ–ª–∏ —ó—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥—ñ–π—Å–Ω–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω. –£ Java Stream API —Ü–µ –æ–∑–Ω–∞—á–∞—î, —â–æ **–ø—Ä–æ–º—ñ–∂–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó** –Ω–µ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –≤—ñ–¥—Ä–∞–∑—É, –∞ –ª–∏—à–µ –ø—Ä–∏ –≤–∏–∫–ª–∏–∫—É **–∫—ñ–Ω—Ü–µ–≤–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó**.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–ü—Ä–æ–º—ñ–∂–Ω—ñ –¥—ñ—ó –≤ —Å—Ç—Ä—ñ–º—ñ ‚Äî —Ü–µ —è–∫ —Å–ø–∏—Å–æ–∫ —Å–ø—Ä–∞–≤ –Ω–∞ –ø–æ—Ç—ñ–º. Java –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É—î, *—â–æ* —Ç–∏ —Ö–æ—á–µ—à –∑—Ä–æ–±–∏—Ç–∏, –∞–ª–µ *–Ω–µ—Ä–æ–±–∏—Ç—å*, –ø–æ–∫–∏ —Ç–∏ –Ω–µ —Å–∫–∞–∂–µ—à: ¬´–û–∫–µ–π, –≤–∏–∫–æ–Ω–∞–π¬ª ‚Äî —Ç–æ–±—Ç–æ –Ω–µ –≤–∏–∫–ª–∏—á–µ—à —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é (**`collect(), findFirst(), forEach()`** —ñ —Ç.–¥.)

---

## üìä **Lazy vs Eager –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ Stream API:**

|      –ö–∞—Ç–µ–≥–æ—Ä—ñ—è       |        Lazy (–ª–µ–¥–∞—á–∞)         |            Eager (–∂–∞–¥—ñ–±–Ω–∞)            |
|:--------------------:|:----------------------------:|:-------------------------------------:|
|   **–¢–∏–ø –æ–ø–µ—Ä–∞—Ü—ñ–π**   | –ü—Ä–æ–º—ñ–∂–Ω—ñ (**`filter, map`**) |  –ö—ñ–Ω—Ü–µ–≤—ñ (**`collect, findFirst`**)   |
| **–ö–æ–ª–∏ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è** |  –õ–∏—à–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É –∫—ñ–Ω—Ü–µ–≤–æ—ó   |          –û–¥—Ä–∞–∑—É –ø—Ä–∏ –≤–∏–∫–ª–∏–∫—É           |
|     **–ü–æ–≤–µ—Ä—Ç–∞—î**     |         –ù–æ–≤–∏–π Stream         | –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (List, Optional) |
|     **–û–±—Ä–æ–±–∫–∞**      |   –ü–æ–µ–ª–µ–º–µ–Ω—Ç–Ω–∞, –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞   |        –ü–æ –≤—Å—å–æ–º—É —Å—Ç—Ä—ñ–º—É –æ–¥—Ä–∞–∑—É        |
|   **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è**    |           –ú–æ–∂–ª–∏–≤–∞            |             –ó–∞–∑–≤–∏—á–∞–π ‚Äî –Ω—ñ             |

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

–£—è–≤–∏, —â–æ —Ç–∏ —Å–∫–ª–∞–¥–∞—î—à –ø–ª–∞–Ω –Ω–∞ –¥–µ–Ω—å:

* –ü—ñ—Ç–∏ –≤ –º–∞–≥–∞–∑–∏–Ω
* –ö—É–ø–∏—Ç–∏ –∫–∞–≤—É
* –ö—É–ø–∏—Ç–∏ —Ö–ª—ñ–±  
  
  –ê–ª–µ —Ç–∏ –Ω–µ –π–¥–µ—à –æ–¥—Ä–∞–∑—É ‚Äî —á–µ–∫–∞—î—à, –ø–æ–∫–∏ –±—É–¥–µ –ø–æ—Ç—Ä–µ–±–∞. –¶–µ —ñ —î **–ª–µ–¥–∞—á—ñ—Å—Ç—å**: —Ç–∏ *–ø–ª–∞–Ω—É—î—à*, –∞–ª–µ –Ω–µ *–≤–∏–∫–æ–Ω—É—î—à*, –ø–æ–∫–∏ –Ω–µ –Ω–∞—Å—Ç–∞–Ω–µ –º–æ–º–µ–Ω—Ç (–∫—ñ–Ω—Ü–µ–≤–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è).

–£ —Å—Ç—Ä—ñ–º–∞—Ö —Ç–∞–∫ —Å–∞–º–æ ‚Äî –ø–æ–∫–∏ –Ω–µ –±—É–¥–µ —Ñ—ñ–Ω–∞–ª—å–Ω–æ–≥–æ ‚Äúexecute‚Äù, Java –Ω—ñ—á–æ–≥–æ –Ω–µ —Ä–æ–±–∏—Ç—å, —Ç—ñ–ª—å–∫–∏ –∑–±–∏—Ä–∞—î ‚Äú–º–∞—Ä—à—Ä—É—Ç‚Äù.

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

### **üîπ –ë–µ–∑ –∫—ñ–Ω—Ü–µ–≤–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó ‚Äî –Ω—ñ—á–æ–≥–æ –Ω–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:**

```java
Stream.of("a", "b", "c")
    .map(s -> {
        System.out.println("Mapping: " + s);
        return s.toUpperCase();
    });
// –Ω—ñ—á–æ–≥–æ –Ω–µ –≤–∏–≤–æ–¥–∏—Ç—å—Å—è
```

### **üîπ –ó `findFirst()` ‚Äî –ª–µ–¥–∞—á–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è:**

```java
Stream.of("beta", "alpha", "gamma")
    .filter(s -> {
        System.out.println("Filtering: " + s);
        return s.startsWith("a");
    })
    .findFirst();
```

üñ®Ô∏è –í–∏–≤—ñ–¥:

```java
Filtering: beta
Filtering: alpha
```

`gamma` –Ω–∞–≤—ñ—Ç—å –Ω–µ –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è ‚Äî –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –∑—É–ø–∏–Ω—è—î—Ç—å—Å—è, —â–æ–π–Ω–æ –∑–Ω–∞–π–¥–µ–Ω–æ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç.

---

### **üîπ –ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π —Å—Ç—Ä—ñ–º \+ limit:**

```java
Stream.iterate(1, n -> n + 1)
    .filter(n -> n % 5 == 0)
    .limit(3)
    .forEach(System.out::println);
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: 5, 10, 15  
–ù–∞–≤—ñ—Ç—å –∑ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–º —Å—Ç—Ä—ñ–º–æ–º Java –Ω–µ –∑–∞–≤–∏—Å–∞—î ‚Äî –æ–±—Ä–æ–±–∫–∞ –π–¥–µ —Ä—ñ–≤–Ω–æ –¥–æ **`limit(3)`**, –∑–∞–≤–¥—è–∫–∏ –ª–µ–¥–∞—á–æ—Å—Ç—ñ.

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

|         –û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å         |     –ü—Ä–æ–º—ñ–∂–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó (lazy)     |             –ö—ñ–Ω—Ü–µ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó (eager)              |
|:---------------------------:|:--------------------------------:|:-------------------------------------------------:|
|         **–ü—Ä–∏–∫–ª–∞–¥**         |      **`map(), filter()`**       |       **`collect(), count(), findFirst()`**       |
|   **–í–∏–∫–æ–Ω—É—é—Ç—å—Å—è –æ–¥—Ä–∞–∑—É?
   |                ‚ùå                 |                         ‚úÖ                         |
|       **–ü–æ–≤–µ—Ä—Ç–∞—é—Ç—å**        |              Stream              | –ó–Ω–∞—á–µ–Ω–Ω—è (**`List`**, **`long`**, **`Optional`**) |
|  **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è**   |          –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ–π           |               –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É                |
| **–ú–æ–∂—É—Ç—å –±—É—Ç–∏ –±–µ–∑–∫—ñ–Ω–µ—á–Ω—ñ?
 | ‚úÖ (–∑ **`limit()`** –∞–±–æ –ø–æ–¥—ñ–±–Ω–∏–º) |             ‚ùå (–ø–æ—Ç—Ä–µ–±—É—é—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è)             |

---

## **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –ß–∏–º –ø—Ä–æ–º—ñ–∂–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è –≤—ñ–¥ –∫—ñ–Ω—Ü–µ–≤–∏—Ö?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–ü—Ä–æ–º—ñ–∂–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –æ–ø–∏—Å—É—é—Ç—å, *—è–∫ –æ–±—Ä–æ–±–ª—è—Ç–∏ –¥–∞–Ω—ñ*, –∞–ª–µ —Å–∞–º—ñ –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—å –æ–±—Ä–æ–±–∫—É. –ö—ñ–Ω—Ü–µ–≤—ñ ‚Äî –∞–∫—Ç–∏–≤—É—é—Ç—å —Å—Ç—Ä—ñ–º, –æ–±—Ä–æ–±–ª—è—é—á–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –ø–æ –ª–∞–Ω—Ü—é–∂–∫—É.

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –ß–æ–º—É filter() —ñ map() –Ω–µ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å println, —è–∫—â–æ –Ω–µ–º–∞—î collect()?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–¶–µ –æ–∑–Ω–∞–∫–∞ –ª–µ–¥–∞—á–æ—Å—Ç—ñ. Java –≤—ñ–¥–∫–ª–∞–¥–∞—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, –ø–æ–∫–∏ –Ω–µ –±—É–¥–µ —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É. **`println`** –≤ map/filter –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –±–µ–∑ –∫—ñ–Ω—Ü–µ–≤–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó.

---

### **‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

 –Ø–∫ –ø—Ä–∞—Ü—é—î –ø–æ—Ä—è–¥–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ–π —É —Å—Ç—Ä—ñ–º—ñ?

### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**

–ü–æ–µ–ª–µ–º–µ–Ω—Ç–Ω–æ, –∑–ª—ñ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –µ–ª–µ–º–µ–Ω—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å **`filter`**, –ø–æ—Ç—ñ–º **`map`**, –ø–æ—Ç—ñ–º (—è–∫—â–æ –∑–∞–ª–∏—à–∏–≤—Å—è) ‚Äî –¥–æ –∫—ñ–Ω—Ü–µ–≤–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó. –¶–µ –¥–æ–∑–≤–æ–ª—è—î Java –∑—É–ø–∏–Ω–∏—Ç–∏ –æ–±—Ä–æ–±–∫—É –¥–æ—Å—Ç—Ä–æ–∫–æ–≤–æ, —è–∫—â–æ —Ü—å–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è **`findFirst()`**).

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**–ü–ª–∞–Ω –±–µ–∑ –¥—ñ—ó ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–ø–∏—Å–æ–∫. –ü–æ—Ç—ñ–∫ –±–µ–∑ –∫—ñ–Ω—Ü—è ‚Äî –ø—Ä–æ—Å—Ç–æ –º–∞—Ä—à—Ä—É—Ç\!**

–∞–±–æ

**Lazy river: –ø–ª–∏–≤–µ –ª–∏—à–µ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –≤—ñ–¥–∫—Ä–∏–≤ –¥–∞–º–±—É (—Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é)**

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* **Lazy evaluation** ‚Äî —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º, —â–æ –¥–æ–∑–≤–æ–ª—è—î **–≤—ñ–¥–∫–ª–∞—Å—Ç–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è** –¥–æ –ø–æ—Ç—Ä–µ–±–∏.
* **–ü—Ä–æ–º—ñ–∂–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó** (**`filter`**, **`map`**) —Å–∞–º—ñ –ø–æ —Å–æ–±—ñ –Ω—ñ—á–æ–≥–æ –Ω–µ —Ä–æ–±–ª—è—Ç—å.
* –í—Å–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ª–∏—à–µ –ø—ñ—Å–ª—è **–∫—ñ–Ω—Ü–µ–≤–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó** (**`collect`**, **`count`**, **`findFirst`**, **`forEach`**).
* –ó–∞–≤–¥—è–∫–∏ —Ü—å–æ–º—É –ø–æ—Ç—ñ–∫ –º–æ–∂–µ:
  * –æ–±—Ä–æ–±–ª—è—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ
  * **–æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è**
  * –º—ñ–Ω—ñ–º—ñ–∑—É–≤–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç–∏ —á–∞—Å—É –π –ø–∞–º‚Äô—è—Ç—ñ

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**–û—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è Stream API (Oracle)**](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html)
