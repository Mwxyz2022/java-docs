---
layout: default
title: "–†–æ–±–æ—Ç–∞ –∑ Map —è–∫ –¥–∂–µ—Ä–µ–ª–æ–º –¥–∞–Ω–∏—Ö"
parent: "Stream API"
grand_parent: "Java 8"
nav_order: 8
---

# –†–æ–±–æ—Ç–∞ –∑ Map —è–∫ –¥–∂–µ—Ä–µ–ª–æ–º –¥–∞–Ω–∏—Ö

* –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å: `Map` –Ω–µ —î –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—ñ–º –¥–∂–µ—Ä–µ–ª–æ–º Stream, —Ç–æ–º—É –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —ó—ó –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Stream API –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —ó—ó –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è: `entrySet()` (–¥–ª—è –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è), `keySet()` (–¥–ª—è –∫–ª—é—á—ñ–≤) –∞–±–æ `values()` (–¥–ª—è –∑–Ω–∞—á–µ–Ω—å).

* –ø–æ–Ω—è—Ç—Ç—è: `Map.Entry`, `entrySet()`, `keySet()`, `values()`.

* –ø—Ä–∏–∫–ª–∞–¥–∏: `scores.entrySet().stream().filter(e -> e.getKey().startsWith("A"))`, `scores.values().stream().map(v -> v * 2)`.

* –∫–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏: `entrySet()` ‚Äì –Ω–∞–π—É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ—à–∏–π, –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –∑ –∫–ª—é—á–µ–º —Ç–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º.

* —â–æ –≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ: –Ø–∫ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ `Map` —á–µ—Ä–µ–∑ —Å—Ç—Ä—ñ–º–∏.

### **‚úÖ –û—Ñ—ñ—Ü—ñ–π–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

**`Map<K, V>`** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö, —è–∫–∞ –∑–±–µ—Ä—ñ–≥–∞—î –ø–∞—Ä–∏ "–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è". –£ Java Stream API **`Map`** –Ω–µ —î –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—ñ–º –¥–∂–µ—Ä–µ–ª–æ–º —Å—Ç—Ä—ñ–º—É, —Ç–æ–º—É –æ–±—Ä–æ–±–∫–∞ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —á–µ—Ä–µ–∑ —ó—ó –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è: **`entrySet(), keySet()`** –∞–±–æ **`values()`**.

### **üß† –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–©–æ–± –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ **`Map`** —É —Å—Ç—Ä—ñ–º–∞—Ö, —Å–ø–æ—á–∞—Ç–∫—É —Ç—Ä–µ–±–∞ "–≤–∏—Ç—è–≥–Ω—É—Ç–∏" —è–∫—É—Å—å —á–∞—Å—Ç–∏–Ω—É –∫–∞—Ä—Ç–∏ ‚Äî –∫–ª—é—á—ñ, –∑–Ω–∞—á–µ–Ω–Ω—è –∞–±–æ –ø–∞—Ä–∏. –ê –¥–∞–ª—ñ ‚Äî –≤–∂–µ –∑–Ω–∞–π–æ–º—ñ stream-—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

---

## **–û—Å–Ω–æ–≤–Ω–µ**

üìä **–ü—ñ–¥—Ö–æ–¥–∏ –¥–æ –æ–±—Ä–æ–±–∫–∏ Map:**

* **`map.entrySet() --> Set<Map.Entry<K, V>>`** ‚Äî **–æ—Å–Ω–æ–≤–Ω–∏–π —Å–ø–æ—Å—ñ–±**, –¥–æ—Å—Ç—É–ø –¥–æ —ñ –∫–ª—é—á–∞, —ñ –∑–Ω–∞—á–µ–Ω–Ω—è
* **`map.keySet() --> Set<K>`** ‚Äî —Å—Ç—Ä—ñ–º –ª–∏—à–µ –∫–ª—é—á—ñ–≤
* **`map.values() --> Collection<V>`** ‚Äî —Å—Ç—Ä—ñ–º –ª–∏—à–µ –∑–Ω–∞—á–µ–Ω—å

**üìå –î–æ—Å—Ç—É–ø –¥–æ –∫–ª—é—á–∞ —Ç–∞ –∑–Ω–∞—á–µ–Ω–Ω—è:**

```java
map.entrySet().stream()
    .filter(e -> e.getKey().startsWith("A") && e.getValue() > 10)
    .forEach(e -> System.out.println(e.getKey() + " --> " + e.getValue()));
```

---

## **–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø–∞–ª—å—Ü—è—Ö (üí°)**

**`Map`** ‚Äî —Ü–µ —è–∫ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∏–π –¥–æ–≤—ñ–¥–Ω–∏–∫.

* **`keySet()`** ‚Äî –ø—Ä–æ—Å—Ç–æ —ñ–º–µ–Ω–∞ –ª—é–¥–µ–π
* **`values()`** ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–æ–º–µ—Ä–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤
* **`entrySet()`** ‚Äî –ø–æ–≤–Ω–∏–π –∑–∞–ø–∏—Å: —ñ–º‚Äô—è \+ –Ω–æ–º–µ—Ä

–Ø–∫—â–æ —Ö–æ—á–µ—à —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –∞–±–æ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º—É–≤–∞—Ç–∏ **–æ–¥–Ω–æ—á–∞—Å–Ω–æ —ñ –∫–ª—é—á, —ñ –∑–Ω–∞—á–µ–Ω–Ω—è** ‚Äî –±–µ—Ä–∏ **`entrySet()`**

---

## **–ö–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ (üß™)**

```java
// –î–∞–Ω—ñ
Map<String, Integer> scores = Map.of("Alice", 90, "Bob", 70, "Anna", 85);

// üîç –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è: –∑–Ω–∞–π—Ç–∏ –≤—Å—ñ—Ö –∑ —ñ–º–µ–Ω–µ–º –Ω–∞ A —Ç–∞ –±–∞–ª–∞–º–∏ > 80
scores.entrySet().stream()
      .filter(e -> e.getKey().startsWith("A") && e.getValue() > 80)
      .forEach(e -> System.out.println(e.getKey() + ": " + e.getValue()));
```

```java
// üîÅ –ó–±—ñ–ª—å—à–∏—Ç–∏ –≤—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞ 10
Map<String, Integer> increased = scores.entrySet().stream()
    .collect(Collectors.toMap(
        Map.Entry::getKey,
        e -> e.getValue() + 10
    ));
```

```java
// üì¶ –û—Ç—Ä–∏–º–∞—Ç–∏ —Å—Ç—Ä—ñ–º –∑–Ω–∞—á–µ–Ω—å
scores.values().stream()
      .map(v -> v * 2)
      .forEach(System.out::println);
```

```java
// üì¶ –û—Ç—Ä–∏–º–∞—Ç–∏ —Å—Ç—Ä—ñ–º –∫–ª—é—á—ñ–≤
scores.keySet().stream()
      .filter(k -> k.length() > 3)
      .forEach(System.out::println);
```

---

## **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (‚öñÔ∏è)**

|      –ú–µ—Ç–æ–¥       |    –î–æ—Å—Ç—É–ø –¥–æ     |  –¢–∏–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –¥–ª—è stream()  |           –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏           |
|:----------------:|:----------------:|:-----------------------------:|:----------------------------------------:|
| **`entrySet()`** | –∫–ª—é—á \+ –∑–Ω–∞—á–µ–Ω–Ω—è | **`Stream<Map.Entry<K, V>>`** | –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π, –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –æ–±–∏–¥–≤–∞ –ø–æ–ª—è |
|  **`keySet()`**  |    –ª–∏—à–µ –∫–ª—é—á—ñ    |        **`Stream<K>`**        |        –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ —Ç—ñ–ª—å–∫–∏ –∫–ª—é—á—ñ        |
|  **`values()`**  |  –ª–∏—à–µ –∑–Ω–∞—á–µ–Ω–Ω—è   |        **`Stream<V>`**        |      –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ —Ç—ñ–ª—å–∫–∏ –∑–Ω–∞—á–µ–Ω–Ω—è       |

---

## **üß† –ú–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–ª—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:**

**"entrySet ‚Äî –ø–æ–≤–Ω–∏–π –Ω–∞–±—ñ—Ä, keySet ‚Äî —ñ–º–µ–Ω–∞, values ‚Äî —á–∏—Å–ª–∞"**

### –ü–∞–º‚Äô—è—Ç–∞–π

üì¶ **`entrySet()`** \= –∫–æ—Ä–æ–±–∫–∞ –∑ —É—Å—ñ–º –≤–º—ñ—Å—Ç–æ–º

üîë **`keySet()`** \= –ª–∏—à–µ –º—ñ—Ç–∫–∏ –Ω–∞ –∫–æ—Ä–æ–±–∫–∞—Ö

üí∞ **`values()`** \= –ª–∏—à–µ –≤–º—ñ—Å—Ç –±–µ–∑ –µ—Ç–∏–∫–µ—Ç–æ–∫

---

## **üü© –ü—ñ–¥—Å—É–º–æ–∫:**

* –©–æ–± –æ–±—Ä–æ–±–ª—è—Ç–∏ **`Map`** —á–µ—Ä–µ–∑ —Å—Ç—Ä—ñ–º–∏ ‚Äî –æ–±–∏—Ä–∞–π **`entrySet(), keySet()`** –∞–±–æ **`values()`** –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∑–∞–¥–∞—á—ñ.
* **`entrySet()`** ‚Äî –Ω–∞–π–ø–æ—Ç—É–∂–Ω—ñ—à–∏–π, –¥–∞—î –¥–æ—Å—Ç—É–ø –¥–æ —ñ –∫–ª—é—á–∞, —ñ –∑–Ω–∞—á–µ–Ω–Ω—è.
* –ß–µ—Ä–µ–∑ —Å—Ç—Ä—ñ–º–∏ –∑—Ä—É—á–Ω–æ **—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏**, **–ø–µ—Ä–µ—Ç–≤–æ—Ä—é–≤–∞—Ç–∏**, **–∑–±–∏—Ä–∞—Ç–∏** –Ω–æ–≤—ñ –º–∞–ø–∏.
* –ó–≤–µ—Ä—Ç–∞–π —É–≤–∞–≥—É –Ω–∞ **—Ç–∏–ø –ø–æ–≤–µ—Ä–Ω–µ–Ω–æ–≥–æ —Å—Ç—Ä—ñ–º—É** ‚Äî —Ü–µ –¥–æ–ø–æ–º–∞–≥–∞—î –Ω–µ –ø–æ–º–∏–ª—è—Ç–∏—Å—å –ø—Ä–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è—Ö.

---

### **üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞:**

* [**JavaDocs ‚Äî Map.Entry**](https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html)
* [**StackOverflow: Java 8 Filter a Map**](https://stackoverflow.com/questions/26810998/filter-a-map-by-values-in-java-8)

* * *

# **FAQ ‚Äî –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (‚ùì)**

### **1 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Map` –Ω–µ –º–∞—î –º–µ—Ç–æ–¥—É `.stream()` –Ω–∞–ø—Ä—è–º—É?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Map<K, V>` –Ω–µ —É—Å–ø–∞–¥–∫–æ–≤—É—î—Ç—å—Å—è –≤—ñ–¥ `Collection<E>` —ñ —Ç–æ–º—É –Ω–µ –º–∞—î –º–µ—Ç–æ–¥—É `.stream()`.
>
> **–û—Å–Ω–æ–≤–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞:** `Map` ‚Äî —Ü–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö, —â–æ –∑–±–µ—Ä—ñ–≥–∞—î –ø–∞—Ä–∏ "–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è", –∞ –Ω–µ –ø—Ä–æ—Å—Ç—É –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤. –¢–æ–º—É –Ω–µ –∑—Ä–æ–∑—É–º—ñ–ª–æ, –∑ —á–æ–≥–æ —Å–∞–º–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –ø–æ—Ç—ñ–∫:
>
> * –ó –∫–ª—é—á—ñ–≤ (`K`)?
> * –ó—ñ –∑–Ω–∞—á–µ–Ω—å (`V`)?
> * –ó –ø–∞—Ä "–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è" (`Map.Entry<K, V>`)?
>
> –û—Å–∫—ñ–ª—å–∫–∏ —ñ—Å–Ω—É—î –∫—ñ–ª—å–∫–∞ –ª–æ–≥—ñ—á–Ω–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ `Map` —è–∫ –ø–æ—Ç—ñ–∫, —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ Java API –≤–∏—Ä—ñ—à–∏–ª–∏ –Ω–µ –æ–±–∏—Ä–∞—Ç–∏ –æ–¥–∏–Ω "–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º". –ó–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ, `Map` –Ω–∞–¥–∞—î —Ç—Ä–∏ –æ–∫—Ä–µ–º–∏—Ö **"–≤–∏–¥—É" (views)**, –∑ —è–∫–∏—Ö –≤–∂–µ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Ç—ñ–∫.

#### **üìù –ö–æ–º–µ–Ω—Ç–∞—Ä:**

`Views` ‚Äî —Ü–µ –æ–±'—î–∫—Ç–∏, —â–æ –Ω–∞–¥–∞—é—Ç—å "–ø–æ–≥–ª—è–¥" –Ω–∞ –¥–∞–Ω—ñ –º–∞–ø–∏. –¶–µ `keySet()`, `values()` —Ç–∞ `entrySet()`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —á–∏–º `Map` –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ `Collection`, —ñ –∑–Ω–∞–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ `Map` —É `Stream API` –ø–æ—Ç—Ä—ñ–±–µ–Ω –ø—Ä–æ–º—ñ–∂–Ω–∏–π –∫—Ä–æ–∫.*

* * *

### **2 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—ñ —î —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ñ —Å–ø–æ—Å–æ–±–∏ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Ç—ñ–∫ –∑ `Map`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ü—Å–Ω—É—é—Ç—å —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ñ —Å–ø–æ—Å–æ–±–∏, –∫–æ–∂–µ–Ω –∑ —è–∫–∏—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π "–≤–∏–¥" (view) –º–∞–ø–∏:
>
> 1. **`map.keySet().stream()` ‚Äî –ø–æ—Ç—ñ–∫ –∫–ª—é—á—ñ–≤:**
>     * –°—Ç–≤–æ—Ä—é—î `Stream<K>`, —â–æ –º—ñ—Å—Ç–∏—Ç—å –ª–∏—à–µ –∫–ª—é—á—ñ –∑ –º–∞–ø–∏.
>     * **–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –ö–æ–ª–∏ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó –ª–∏—à–µ –Ω–∞–¥ –∫–ª—é—á–∞–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –∞–±–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ —ó—Ö).
>
> 2. **`map.values().stream()` ‚Äî –ø–æ—Ç—ñ–∫ –∑–Ω–∞—á–µ–Ω—å:**
>     * –°—Ç–≤–æ—Ä—é—î `Stream<V>`, —â–æ –º—ñ—Å—Ç–∏—Ç—å –ª–∏—à–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –º–∞–ø–∏.
>     * **–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –ö–æ–ª–∏ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –ª–∏—à–µ –∑—ñ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–Ω–∞–π—Ç–∏ —Å—É–º—É –∞–±–æ —Å–µ—Ä–µ–¥–Ω—î).
>
> 3. **`map.entrySet().stream()` ‚Äî –ø–æ—Ç—ñ–∫ –ø–∞—Ä "–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è":**
>     * –°—Ç–≤–æ—Ä—é—î `Stream<Map.Entry<K, V>>`, –¥–µ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç ‚Äî —Ü–µ –æ–±'—î–∫—Ç `Entry`, —â–æ –º—ñ—Å—Ç–∏—Ç—å —ñ –∫–ª—é—á, —ñ –∑–Ω–∞—á–µ–Ω–Ω—è.
>     * **–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –¶–µ **–Ω–∞–π–ø–æ—Ç—É–∂–Ω—ñ—à–∏–π —ñ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏–π** —Å–ø–æ—Å—ñ–±, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î –æ–¥–Ω–æ—á–∞—Å–Ω–æ —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ —Ç–∞ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —è–∫ –∫–ª—é—á, —Ç–∞–∫ —ñ –∑–Ω–∞—á–µ–Ω–Ω—è.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ç—Ä—å–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—É –∑ `Map` —Ç–∞ —ó—Ö–Ω—å–æ–≥–æ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è.*

* * *

### **3 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ `Map` –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `Stream API`?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è —Ü—å–æ–≥–æ –Ω–∞–π–∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–æ—Ç—ñ–∫ **`entrySet()`**, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –¥–∞—î –¥–æ—Å—Ç—É–ø —ñ –¥–æ –∫–ª—é—á—ñ–≤, —ñ –¥–æ –∑–Ω–∞—á–µ–Ω—å, —ñ –¥–æ–∑–≤–æ–ª—è—î –≤ –∫—ñ–Ω—Ü—ñ –∑—ñ–±—Ä–∞—Ç–∏ –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω—ñ –ø–∞—Ä–∏ –≤ –Ω–æ–≤—É –º–∞–ø—É.
>
> **–ö—Ä–æ–∫–∏:**
>
> 1. –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—Ç—ñ–∫ –ø–∞—Ä: `map.entrySet().stream()`.
> 2. –í—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –ø–æ—Ç—ñ–∫ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `filter()`, –¥–µ –ø—Ä–µ–¥–∏–∫–∞—Ç –±—É–¥–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è `entry.getValue()`.
> 3. –ó—ñ–±—Ä–∞—Ç–∏ –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω—ñ –ø–∞—Ä–∏ –Ω–∞–∑–∞–¥ —É `Map` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Collectors.toMap()`.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

–í—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –º–∞–ø—É, –∑–∞–ª–∏—à–∏–≤—à–∏ –ª–∏—à–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –≤—ñ–∫ —è–∫–∏—Ö –±—ñ–ª—å—à–µ 30.

```java
Map<String, Integer> userAges = Map.of("Alice", 25, "Bob", 35, "Charlie", 40);

Map<String, Integer> olderUsers = userAges.entrySet().stream()
    .filter(entry -> entry.getValue() > 30) // –§—ñ–ª—å—Ç—Ä—É—î–º–æ –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º
    .collect(Collectors.toMap(
        Map.Entry::getKey,     // –ö–ª—é—á –∑–∞–ª–∏—à–∞—î–º–æ —Ç–æ–π —Å–∞–º–∏–π
        Map.Entry::getValue    // –ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞–ª–∏—à–∞—î–º–æ —Ç–µ —Å–∞–º–µ
    ));

System.out.println(olderUsers); // {Bob=35, Charlie=40}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ —Ä–æ–±–æ—Ç–∏ –∑ `Map` —Ç–∞ `Stream API`. –¶–µ –¥—É–∂–µ –ø–æ—à–∏—Ä–µ–Ω–∞ –∑–∞–¥–∞—á–∞.*

* * *

### **4 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –æ–¥–Ω—É –º–∞–ø—É –Ω–∞ —ñ–Ω—à—É, –∑–º—ñ–Ω—é—é—á–∏ —ó—ó –∑–Ω–∞—á–µ–Ω–Ω—è?

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –î–ª—è —Ü—å–æ–≥–æ —Ç–∞–∫–æ–∂ —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –ø–æ—Ç—ñ–∫ **`entrySet()`**. –í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î –≤–∑—è—Ç–∏ –∫–ª—é—á –∑—ñ —Å—Ç–∞—Ä–æ—ó –ø–∞—Ä–∏, –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–æ –∑–Ω–∞—á–µ–Ω–Ω—è —ñ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –ø–∞—Ä—É –¥–ª—è –Ω–æ–≤–æ—ó –º–∞–ø–∏.
>
> **–ö—Ä–æ–∫–∏:**
>
> 1. –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—Ç—ñ–∫ –ø–∞—Ä: `map.entrySet().stream()`.
> 2. –ó—ñ–±—Ä–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É –Ω–æ–≤—É –º–∞–ø—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Collectors.toMap()`.
> 3. –£ `toMap()` –≤–∫–∞–∑–∞—Ç–∏:
>     * `keyMapper`: —Ñ—É–Ω–∫—Ü—ñ—é, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î –∫–ª—é—á (–∑–∞–∑–≤–∏—á–∞–π `Map.Entry::getKey`).
>     * `valueMapper`: —Ñ—É–Ω–∫—Ü—ñ—é, —â–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î —Å—Ç–∞—Ä–µ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞ –Ω–æ–≤–µ.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

–ü–æ–¥–≤–æ—ó—Ç–∏ –≤—ñ–∫ –∫–æ–∂–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

```java
Map<String, Integer> userAges = Map.of("Alice", 25, "Bob", 35);

Map<String, Integer> doubledAges = userAges.entrySet().stream()
    .collect(Collectors.toMap(
        Map.Entry::getKey,                // –ö–ª—é—á –∑–∞–ª–∏—à–∞—î–º–æ —è–∫ —î
        entry -> entry.getValue() * 2     // –ó–Ω–∞—á–µ–Ω–Ω—è –ø–æ–¥–≤–æ—é—î–º–æ
    ));
    
System.out.println(doubledAges); // {Alice=50, Bob=70}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–í–º—ñ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `Collectors.toMap` –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞–ø, —â–æ —î –∫–ª—é—á–æ–≤–æ—é –Ω–∞–≤–∏—á–∫–æ—é.*

* * *

### **5 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –≤—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ `Map` –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Stream API`? –Ø–∫—â–æ —Ç–∞–∫, —Ç–æ —è–∫? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, –º–æ–∂–Ω–∞.** –û–¥–Ω–∞–∫ –≤–∞–∂–ª–∏–≤–æ –ø–∞–º'—è—Ç–∞—Ç–∏, —â–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ `Map` (—è–∫ `HashMap`) **–Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å –ø–æ—Ä—è–¥–∫—É**. –¢–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –º–∞—î –±—É—Ç–∏ `LinkedHashMap`, —è–∫–∏–π –∑–±–µ—Ä—ñ–≥–∞—î –ø–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏.
>
> **–ö—Ä–æ–∫–∏:**
>
> 1. –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—Ç—ñ–∫ `entrySet()`.
> 2. –í—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ —Ü–µ–π –ø–æ—Ç—ñ–∫ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `sorted()`. –Ø–∫ `Comparator` –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `Map.Entry.comparingByValue()`.
> 3. –ó—ñ–±—Ä–∞—Ç–∏ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ –ø–∞—Ä–∏ –≤ **`LinkedHashMap`**. –¶–µ **–∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ**, –æ—Å–∫—ñ–ª—å–∫–∏ –∑–≤–∏—á–∞–π–Ω–∏–π `toMap` –∑–Ω–æ–≤—É –ø–µ—Ä–µ–º—ñ—à–∞—î –µ–ª–µ–º–µ–Ω—Ç–∏. –î–ª—è —Ü—å–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω—É –≤–µ—Ä—Å—ñ—é `toMap`, —â–æ –¥–æ–∑–≤–æ–ª—è—î –≤–∫–∞–∑–∞—Ç–∏ —Ç–∏–ø –º–∞–ø–∏.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
Map<String, Integer> scores = Map.of("Bob", 80, "Alice", 95, "Charlie", 70);

// –°–æ—Ä—Ç—É—î–º–æ –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º (–±–∞–ª–∞–º–∏)
LinkedHashMap<String, Integer> sortedByScore = scores.entrySet().stream()
    .sorted(Map.Entry.comparingByValue())
    .collect(Collectors.toMap(
        Map.Entry::getKey,
        Map.Entry::getValue,
        (oldValue, newValue) -> oldValue, // –§—É–Ω–∫—Ü—ñ—è –∑–ª–∏—Ç—Ç—è (–¥–ª—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ –∫–ª—é—á—ñ–≤)
        LinkedHashMap::new               // –í–∫–∞–∑—É—î–º–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ LinkedHashMap
    ));
    
System.out.println(sortedByScore); // {Charlie=70, Bob=80, Alice=95}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è, —â–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –º–∞–ø–∏ ‚Äî —Ü–µ –Ω–µ—Ç—Ä–∏–≤—ñ–∞–ª—å–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω –∑–Ω–∞—Ç–∏ –ø—Ä–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `LinkedHashMap` –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–æ—Ä—è–¥–∫—É.*

* * *

### **6 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–©–æ —Ç–∞–∫–µ `Map.Entry` —ñ —è–∫ –∑ –Ω–∏–º –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤ –ø–æ—Ç–æ—Ü—ñ? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`Map.Entry<K, V>`** ‚Äî —Ü–µ –≤–∫–ª–∞–¥–µ–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `Map`, —è–∫–∏–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î –æ–¥–Ω—É **–ø–∞—Ä—É "–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è"**. –ö–æ–ª–∏ –≤–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –ø–æ—Ç—ñ–∫ –∑ `entrySet()`, –≤–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ `Stream<Map.Entry<K, V>>`.
>
> **–û—Å–Ω–æ–≤–Ω—ñ –º–µ—Ç–æ–¥–∏ `Map.Entry`:**
>
> * `getKey()`: –ø–æ–≤–µ—Ä—Ç–∞—î –∫–ª—é—á.
> * `getValue()`: –ø–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è.
> * `setValue(V value)`: –∑–º—ñ–Ω—é—î –∑–Ω–∞—á–µ–Ω–Ω—è (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ä—ñ–¥–∫–æ –≤ —Å—Ç—Ä—ñ–º–∞—Ö).
>
> –ü—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –Ω–∏–º –¥—É–∂–µ –ø—Ä–æ—Å—Ç–æ: –≤ –ª—è–º–±–¥–∞-–≤–∏—Ä–∞–∑–∞—Ö –≤–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –æ–±'—î–∫—Ç `entry` —ñ –≤–∏–∫–ª–∏–∫–∞—î—Ç–µ –Ω–∞ –Ω—å–æ–º—É –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –º–µ—Ç–æ–¥.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

```java
map.entrySet().stream()
   .filter(entry -> entry.getKey().length() > 5)
   .map(entry -> entry.getValue().toUpperCase())
   // ...
```

–î–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –º–µ—Ç–æ–¥–∏: `Map.Entry::getKey` —Ç–∞ `Map.Entry::getValue`.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –±–∞–∑–æ–≤–æ–≥–æ API –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ `Map`. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω —Ä–æ–∑—É–º—ñ—Ç–∏, —â–æ —Ç–∞–∫–µ `Entry` —ñ —è–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑ –Ω—å–æ–≥–æ –∫–ª—é—á –∞–±–æ –∑–Ω–∞—á–µ–Ω–Ω—è.*

* * *

### **7 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫—ñ –Ω–µ–¥–æ–ª—ñ–∫–∏ –º–∞—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—É –∑ `keySet()` –∞–±–æ `values()`, —è–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω—ñ —ñ –∫–ª—é—á—ñ, —ñ –∑–Ω–∞—á–µ–Ω–Ω—è? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –Ø–∫—â–æ –≤–∞–º –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ —ñ –∫–ª—é—á, —ñ –∑–Ω–∞—á–µ–Ω–Ω—è, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `keySet().stream()` –∞–±–æ `values().stream()` —î **–∞–Ω—Ç–∏–ø–∞—Ç–µ—Ä–Ω–æ–º**.
>
> **–ü—Ä–æ–±–ª–µ–º–∞ –∑ `keySet().stream()`:**
>
> –©–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è, –≤–∞–º –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Å—Ç—Ä—ñ–º—É –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–ª—é—á–∞ —Ä–æ–±–∏—Ç–∏ **–¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –≤–∏–∫–ª–∏–∫ `map.get(key)`**. –¶–µ:
>
> * **–ù–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ:** –ü–æ—à—É–∫ —É `HashMap` –º–∞—î —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å O(1), –∞–ª–µ —Ü–µ –≤—Å–µ –æ–¥–Ω–æ –∑–∞–π–≤–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è. –î–ª—è `TreeMap` —Ü–µ –±—É–¥–µ O(log n), —â–æ —â–µ –≥—ñ—Ä—à–µ.
> * **–ú–µ–Ω—à —á–∏—Ç–∞–±–µ–ª—å–Ω–æ:** –í–∞—à –∫–æ–¥ –±—É–¥–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ —è–∫ `map.keySet().stream().map(key -> map.get(key)...)`.
>
> **–ü—Ä–æ–±–ª–µ–º–∞ –∑ `values().stream()`:**
>
> –ó –ø–æ—Ç–æ–∫—É –∑–Ω–∞—á–µ–Ω—å –≤–∏ –≤–∑–∞–≥–∞–ª—ñ **–Ω–µ –º–∞—î—Ç–µ –¥–æ—Å—Ç—É–ø—É –¥–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –∫–ª—é—á—ñ–≤**, —Ç–æ–º—É –≤–∏–∫–æ–Ω–∞—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó, —â–æ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –∫–ª—é—á—ñ–≤, –Ω–µ–º–æ–∂–ª–∏–≤–æ.
>
> **–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥:**
> **–ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `entrySet().stream()`**, –∫–æ–ª–∏ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–æ—Å—Ç—É–ø –¥–æ –æ–±–æ—Ö —á–∞—Å—Ç–∏–Ω –ø–∞—Ä–∏. `Map.Entry` –Ω–∞–¥–∞—î —ñ –∫–ª—é—á, —ñ –∑–Ω–∞—á–µ–Ω–Ω—è –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –ø–æ—à—É–∫—ñ–≤.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–†–æ–∑—É–º—ñ–Ω–Ω—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω —É—Å–≤—ñ–¥–æ–º–ª—é–≤–∞—Ç–∏, —â–æ `entrySet()` —î –Ω–∞–π–±—ñ–ª—å—à –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º —Ä–æ–±–æ—Ç–∏ –∑ –ø–∞—Ä–∞–º–∏ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è.*

* * *

### **8 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏–π –ø–æ—Ç—ñ–∫ (`parallelStream`) –∑ `Map`? ‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–¢–∞–∫, –º–æ–∂–Ω–∞.** –û—Å–∫—ñ–ª—å–∫–∏ "–≤–∏–¥–∏" –º–∞–ø–∏ (`entrySet`, `keySet`, `values`) —î –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏ (`Set` –∞–±–æ `Collection`), –≤–æ–Ω–∏ –º–∞—é—Ç—å –º–µ—Ç–æ–¥ `.parallelStream()`.
>
> ```java
> Map<String, Integer> map = ...;
> map.entrySet().parallelStream()
>    .forEach(...);
> ```
>
> **–ê–ª–µ —î –≤–∞–∂–ª–∏–≤–∏–π –Ω—é–∞–Ω—Å:**
>
> –ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ —Å–∏–ª—å–Ω–æ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Å–∞–º–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó `Map`.
>
> * `HashMap`: –ô–æ–≥–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–º–∞—Å–∏–≤ –±–∞–∫–µ—Ç—ñ–≤) —Ä–æ–∑–±–∏–≤–∞—î—Ç—å—Å—è –Ω–∞ —á–∞—Å—Ç–∏–Ω–∏ (split) **–Ω–µ –¥—É–∂–µ –¥–æ–±—Ä–µ**, —Ç–æ–º—É –ø—Ä–∏—Ä—ñ—Å—Ç –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–≤–µ–ª–∏–∫–∏–º.
> * `ConcurrentHashMap`: –°–ø–µ—Ü—ñ–∞–ª—å–Ω–æ —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –¥–ª—è –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ. –ô–æ–≥–æ `spliterator` —î –∑–Ω–∞—á–Ω–æ –±—ñ–ª—å—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º, —Ç–æ–º—É `parallelStream()` –Ω–∞ –Ω—å–æ–º—É –ø—Ä–∞—Ü—é—î –∫—Ä–∞—â–µ.
> * `TreeMap`: –†–æ–∑–±–∏–≤–∞—î—Ç—å—Å—è –¥–æ—Å–∏—Ç—å –¥–æ–±—Ä–µ –∑–∞–≤–¥—è–∫–∏ –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω—ñ–π –¥–µ—Ä–µ–≤–æ–ø–æ–¥—ñ–±–Ω—ñ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ.
>
> –¢–æ–º—É `parallelStream` –Ω–∞ `Map` —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑ –æ–±–µ—Ä–µ–∂–Ω—ñ—Å—Ç—é —ñ –ª–∏—à–µ –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –º–∞–ø —Ç–∞ "–¥–æ—Ä–æ–≥–∏—Ö" –æ–±—á–∏—Å–ª–µ–Ω—å.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –ø—Ä–∞—Ü—é—î –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–∏—Ö.*

* * *

### **9 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –∑—ñ–±—Ä–∞—Ç–∏ –ø–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö —É `Map`, —è–∫—â–æ –∫–ª—é—á—ñ –º–æ–∂—É—Ç—å –¥—É–±–ª—é–≤–∞—Ç–∏—Å—è? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π `Collectors.toMap(keyMapper, valueMapper)` –∫–∏–Ω–µ `IllegalStateException`, —è–∫—â–æ –∑—É—Å—Ç—Ä—ñ–Ω–µ –¥—É–±–ª—ñ–∫–∞—Ç –∫–ª—é—á–∞.
>
> –©–æ–± –æ–±—Ä–æ–±–∏—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç–∏, –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω—É –≤–µ—Ä—Å—ñ—é `toMap`, —è–∫–∞ –ø—Ä–∏–π–º–∞—î —Ç—Ä–µ—Ç—ñ–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî **—Ñ—É–Ω–∫—Ü—ñ—é –∑–ª–∏—Ç—Ç—è (merge function)**.
>
> **`toMap(keyMapper, valueMapper, mergeFunction)`**
>
> * **`mergeFunction`**: –¶–µ `BinaryOperator`, —è–∫–∏–π –ø—Ä–∏–π–º–∞—î –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–Ω—è (`oldValue`, `newValue`), —â–æ –∞—Å–æ—Ü—ñ—é—é—Ç—å—Å—è –∑ –æ–¥–Ω–∞–∫–æ–≤–∏–º –∫–ª—é—á–µ–º, —ñ –≤–∏—Ä—ñ—à—É—î, —è–∫–µ –∑ –Ω–∏—Ö –∑–∞–ª–∏—à–∏—Ç–∏ –∞–±–æ —è–∫ —ó—Ö –æ–±'—î–¥–Ω–∞—Ç–∏.
>
> #### –ü—Ä–∏–∫–ª–∞–¥
>
> –ó—ñ–±—Ä–∞—Ç–∏ –º–∞–ø—É "–¥–æ–≤–∂–∏–Ω–∞ —Å–ª–æ–≤–∞ -> —Å–∞–º–µ —Å–ª–æ–≤–æ". –Ø–∫—â–æ —î –∫—ñ–ª—å–∫–∞ —Å–ª—ñ–≤ –æ–¥–Ω–∞–∫–æ–≤–æ—ó –¥–æ–≤–∂–∏–Ω–∏, –∑–∞–ª–∏—à–∏—Ç–∏ –ø–µ—Ä—à–µ, —â–æ –∑—É—Å—Ç—Ä—ñ–ª–æ—Å—è.
>
> ```java
> List<String> words = List.of("apple", "banana", "cat", "dog");
> Map<Integer, String> lengthToWord = words.stream()
>     .collect(Collectors.toMap(
>         String::length,
>         word -> word,
>         (existingWord, newWord) -> existingWord // –ü—Ä–∏ –¥—É–±–ª—ñ–∫–∞—Ç—ñ –∑–∞–ª–∏—à–∞—î–º–æ —ñ—Å–Ω—É—é—á–µ
>     ));
>
> System.out.println(lengthToWord); // {3=cat, 5=apple, 6=banana}
> ```
>
> –Ü–Ω—à—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –∑–ª–∏—Ç—Ç—è: `(v1, v2) -> v2` (–∑–∞–ª–∏—à–∏—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—î), `(v1, v2) -> v1 + "," + v2` (–æ–±'—î–¥–Ω–∞—Ç–∏).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –ø—Ä–æ—Å—É–Ω—É—Ç–∏—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π –∫–æ–ª–µ–∫—Ç–æ—Ä—ñ–≤. –û–±—Ä–æ–±–∫–∞ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ –∫–ª—é—á—ñ–≤ ‚Äî –¥—É–∂–µ –ø–æ—à–∏—Ä–µ–Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–Ω–∞ –∑–∞–¥–∞—á–∞.*

* * *

### **10 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `Collectors.groupingBy()` –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—É –≤ `Map`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **`Collectors.groupingBy()`** ‚Äî —Ü–µ –ø–æ—Ç—É–∂–Ω–∏–π –∫–æ–ª–µ–∫—Ç–æ—Ä, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –ø–æ—Ç–æ–∫—É –≤ `Map` –∑–∞ –ø–µ–≤–Ω–∏–º –∫—Ä–∏—Ç–µ—Ä—ñ—î–º (–∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º).
>
> **–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∞ –≤–µ—Ä—Å—ñ—è:**
>
> `groupingBy(Function<? super T, ? extends K> classifier)`
>
> * –í—ñ–Ω –ø—Ä–∏–π–º–∞—î **—Ñ—É–Ω–∫—Ü—ñ—é-–∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ç–æ—Ä**, —è–∫–∞ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ –ø–æ–≤–µ—Ä—Ç–∞—î **–∫–ª—é—á**, –∑–∞ —è–∫–∏–º –π–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–≥—Ä—É–ø—É–≤–∞—Ç–∏.
> * –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –±—É–¥–µ `Map<K, List<T>>`, –¥–µ –∫–ª—é—á ‚Äî —Ü–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∞, –∞ –∑–Ω–∞—á–µ–Ω–Ω—è ‚Äî —Å–ø–∏—Å–æ–∫ —É—Å—ñ—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, —â–æ –ø–æ—Ç—Ä–∞–ø–∏–ª–∏ –≤ —Ü—é –≥—Ä—É–ø—É.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥:**

–ó–≥—Ä—É–ø—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑–∞ –º—ñ—Å—Ç–∞–º–∏.

```java
List<User> users = ...;
Map<String, List<User>> usersByCity = users.stream()
    .collect(Collectors.groupingBy(User::getCity));

// –†–µ–∑—É–ª—å—Ç–∞—Ç: {"Kyiv" -> [User1, User3], "Lviv" -> [User2]}
```

`groupingBy` –º–∞—î –∑–Ω–∞—á–Ω–æ —Å–∫–ª–∞–¥–Ω—ñ—à—ñ –≤–µ—Ä—Å—ñ—ó, —â–æ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Ç–∏–ø –∫—ñ–Ω—Ü–µ–≤–æ—ó –∫–æ–ª–µ–∫—Ü—ñ—ó –∞–±–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –ø–æ–¥–∞–ª—å—à—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó (downstream collectors).

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –ø–æ—Ç—É–∂–Ω–∏—Ö –∫–æ–ª–µ–∫—Ç–æ—Ä—ñ–≤ –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö. `groupingBy` —î –∫–ª—é—á–æ–≤–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å –∑ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è.*

* * *

### **11 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–£—è–≤—ñ—Ç—å, —â–æ –≤–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –∑ –ø–æ—Ç–æ–∫–æ–º `Map.Entry`. –Ø–∫ –º–æ–∂–Ω–∞ –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –π–æ–≥–æ –∑–∞ –∫–ª—é—á–µ–º —ñ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–∞ –ø–æ—Ç—ñ–∫ –∑–Ω–∞—á–µ–Ω—å –æ–¥–Ω–∏–º –ª–∞–Ω—Ü—é–∂–∫–æ–º? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –ª–µ–≥–∫–æ –∑—Ä–æ–±–∏—Ç–∏, —Å–∫–æ–º–±—ñ–Ω—É–≤–∞–≤—à–∏ `filter` —Ç–∞ `map`.
>
> **–°—Ü–µ–Ω–∞—Ä—ñ–π:** –£ –Ω–∞—Å —î `Map<String, Integer>`. –ü–æ—Ç—Ä—ñ–±–Ω–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω—å (–≤—ñ–∫—É), –∞–ª–µ —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, —á–∏—î —ñ–º'—è –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ "A".
>
> **–õ–∞–Ω—Ü—é–∂–æ–∫:**
>
> 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ `Stream<Map.Entry<String, Integer>>` –∑ `entrySet()`.
> 2. `filter()` –ø–æ –∫–ª—é—á—É (`entry.getKey()`).
> 3. `map()` –Ω–∞ –ø–æ—Ç—ñ–∫ –∑–Ω–∞—á–µ–Ω—å (`entry.getValue()`).
> 4. `collect()` —É —Å–ø–∏—Å–æ–∫.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É:**

```java
Map<String, Integer> userAges = Map.of("Alice", 25, "Bob", 30, "Anna", 22);

List<Integer> agesOfA = userAges.entrySet().stream()
    .filter(entry -> entry.getKey().startsWith("A")) // 1. –§—ñ–ª—å—Ç—Ä—É—î–º–æ
    .map(Map.Entry::getValue)                          // 2. –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î–º–æ –Ω–∞ –ø–æ—Ç—ñ–∫ –∑–Ω–∞—á–µ–Ω—å
    .collect(Collectors.toList());

System.out.println(agesOfA); // [25, 22] (–ø–æ—Ä—è–¥–æ–∫ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∏–π)
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –±—É–¥—É–≤–∞—Ç–∏ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ –ª–∞–Ω—Ü—é–∂–∫–∏ –æ–ø–µ—Ä–∞—Ü—ñ–π –¥–ª—è –æ–±—Ä–æ–±–∫–∏ `Map.Entry`.*

* * *

### **12 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–æ–º—É —ñ—Ç–µ—Ä–∞—Ü—ñ—è –ø–æ `Map` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `forEach` (–∑ `BiConsumer`) –º–æ–∂–µ –±—É—Ç–∏ –∑—Ä—É—á–Ω—ñ—à–æ—é, –Ω—ñ–∂ —á–µ—Ä–µ–∑ `entrySet().stream().forEach`? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –ú–µ—Ç–æ–¥ **`Map.forEach(BiConsumer<K, V> action)`**, –¥–æ–¥–∞–Ω–∏–π —É Java 8, –Ω–∞–¥–∞—î –±—ñ–ª—å—à –∫–æ–º–ø–∞–∫—Ç–Ω–∏–π —Ç–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –ø—Ä–æ—Å—Ç–æ—ó —ñ—Ç–µ—Ä–∞—Ü—ñ—ó, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –æ–¥—Ä–∞–∑—É –¥–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –∫–ª—é—á–∞ —Ç–∞ –∑–Ω–∞—á–µ–Ω–Ω—è —è–∫ –¥–æ –æ–∫—Ä–µ–º–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤.
>
> **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è:**
>
> **`forEach` –∑ `BiConsumer` (–∫—Ä–∞—â–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç):**
>
> ```java
> map.forEach((key, value) -> {
>     System.out.println("Key: " + key + ", Value: " + value);
> });
> ```
>
> * –ö–æ–¥ —á–∏—Å—Ç—ñ—à–∏–π, –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–æ–∑–ø–∞–∫–æ–≤—É–≤–∞—Ç–∏ `Map.Entry`.
> * –ó–º—ñ–Ω–Ω—ñ `key` —Ç–∞ `value` –æ–¥—Ä–∞–∑—É –¥–æ—Å—Ç—É–ø–Ω—ñ.
>
> **`entrySet().stream().forEach`:**
>
> ```java
> map.entrySet().stream().forEach(entry -> {
>     System.out.println("Key: " + entry.getKey() + ", Value: " + entry.getValue());
> });
> ```
>
> * –ë—ñ–ª—å—à –±–∞–≥–∞—Ç–æ—Å–ª—ñ–≤–Ω–∏–π, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –∑ –æ–±'—î–∫—Ç–æ–º `Entry`.
> * –í–∏–º–∞–≥–∞—î –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –≤–∏–∫–ª–∏–∫—ñ–≤ `getKey()` —Ç–∞ `getValue()`.
>
> **–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `entrySet().stream()`:**
> –ö–æ–ª–∏ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—ñ—Ç–µ—Ä—É–≤–∞—Ç–∏—Å—è, –∞ –≤–∏–∫–æ–Ω–∞—Ç–∏ **–ø—Ä–æ–º—ñ–∂–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó** (`filter`, `map`, `sorted` —Ç–æ—â–æ) –ø–µ—Ä–µ–¥ —Ñ—ñ–Ω–∞–ª—å–Ω–æ—é –¥—ñ—î—é. `Map.forEach` —î —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é —ñ –Ω–µ –¥–æ–∑–≤–æ–ª—è—î –±—É–¥—É–≤–∞—Ç–∏ –ª–∞–Ω—Ü—é–∂–∫–∏.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–Ω–∞–Ω–Ω—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏—Ö, –±—ñ–ª—å—à –∑—Ä—É—á–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤, —â–æ –∑'—è–≤–∏–ª–∏—Å—è –≤ Java 8, —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è, –∫–æ–ª–∏ —ó—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —î –¥–æ—Ü—ñ–ª—å–Ω–∏–º.*

* * *

### **13 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–Ø–∫ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Stream API –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ `List<User>` –Ω–∞ `Map<Long, String>` (ID -> —ñ–º'—è)? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –∫–ª–∞—Å–∏—á–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è, —è–∫–µ –≤–∏—Ä—ñ—à—É—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **`Collectors.toMap()`**.
>
> **–ó–∞–¥–∞—á–∞:** –°—Ç–≤–æ—Ä–∏—Ç–∏ `Map`, –¥–µ –∫–ª—é—á–µ–º –±—É–¥–µ –ø–æ–ª–µ `id` –æ–±'—î–∫—Ç–∞ `User`, –∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º ‚Äî –ø–æ–ª–µ `name`.
>
> **–ö—Ä–æ–∫–∏:**
>
> 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Ç—ñ–∫ –∑—ñ —Å–ø–∏—Å–∫—É: `users.stream()`.
> 2. –í–∏–∫–ª–∏–∫–∞—Ç–∏ `collect()` –∑ `Collectors.toMap()`.
> 3. –ü–µ—Ä–µ–¥–∞—Ç–∏ –≤ `toMap` –¥–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó-–º–∞–ø–ø–µ—Ä–∏:
>    * –ü–µ—Ä—à–∞ (`keyMapper`): `User::getId` ‚Äî –≥–æ–≤–æ—Ä–∏—Ç—å, —è–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∫–ª—é—á.
>    * –î—Ä—É–≥–∞ (`valueMapper`): `User::getName` ‚Äî –≥–æ–≤–æ—Ä–∏—Ç—å, —è–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É:**

```java
List<User> users = List.of(new User(1L, "Alice"), new User(2L, "Bob"));

Map<Long, String> idToNameMap = users.stream()
    .collect(Collectors.toMap(User::getId, User::getName));

System.out.println(idToNameMap); // {1=Alice, 2=Bob}
```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–í–æ–ª–æ–¥—ñ–Ω–Ω—è `Collectors.toMap`. –¶–µ –æ–¥–∏–Ω –∑ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏—Ö –∫–æ–ª–µ–∫—Ç–æ—Ä—ñ–≤, —ñ –≤–º—ñ–Ω–Ω—è –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º.*

* * *

### **14 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–ß–∏ –≥–∞—Ä–∞–Ω—Ç—É—î `map.values().stream()` —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –∑–Ω–∞—á–µ–Ω—å? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> **–ù—ñ, –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î.**
>
> **`map.values()`** –ø–æ–≤–µ—Ä—Ç–∞—î `Collection<V>`, —è–∫–∞ –º—ñ—Å—Ç–∏—Ç—å **–≤—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è** –∑ –º–∞–ø–∏. –Ø–∫—â–æ –∫—ñ–ª—å–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –∫–ª—é—á—ñ–≤ —É –º–∞–ø—ñ –≤–∫–∞–∑—É—é—Ç—å –Ω–∞ –æ–¥–Ω–µ –π —Ç–µ —Å–∞–º–µ –∑–Ω–∞—á–µ–Ω–Ω—è (–∞–±–æ –Ω–∞ —Ä—ñ–≤–Ω—ñ –∑–∞ `equals` –æ–±'—î–∫—Ç–∏), —Ç–æ —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è –±—É–¥–µ –ø—Ä–∏—Å—É—Ç–Ω—î –≤ –∫–æ–ª–µ–∫—Ü—ñ—ó **–∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤**.
>
> –û—Ç–∂–µ, —ñ `stream`, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –∑ —Ü—ñ—î—ó –∫–æ–ª–µ–∫—Ü—ñ—ó, —Ç–∞–∫–æ–∂ –±—É–¥–µ –º—ñ—Å—Ç–∏—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç–∏.
>
> **–Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è:**
> –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω –ø–æ—Ç—ñ–∫ –ª–∏—à–µ —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å, –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ –ø—Ä–æ–º—ñ–∂–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é **`.distinct()`**.
>
> ```java
> Map<String, String> cityByPerson = Map.of("John", "Lviv", "Jane", "Kyiv", "Peter", "Lviv");
>
> // –ó –¥—É–±–ª—ñ–∫–∞—Ç–∞–º–∏
> List<String> allCities = cityByPerson.values().stream().collect(Collectors.toList()); // [Lviv, Kyiv, Lviv]
>
> // –£–Ω—ñ–∫–∞–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è
> Set<String> uniqueCities = cityByPerson.values().stream().distinct().collect(Collectors.toSet()); // [Lviv, Kyiv]
> ```

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–¢–æ—á–Ω–µ –∑–Ω–∞–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤ `Map` —Ç–∞ –π–æ–≥–æ –º–µ—Ç–æ–¥—ñ–≤. –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤–∏–Ω–µ–Ω –ø–∞–º'—è—Ç–∞—Ç–∏, —â–æ –∫–ª—é—á—ñ —É –º–∞–ø—ñ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ, –∞ –∑–Ω–∞—á–µ–Ω–Ω—è ‚Äî –Ω—ñ.*

* * *

### **15 ‚ùì –ü–∏—Ç–∞–Ω–Ω—è:**

–í–∏ –º–∞—î—Ç–µ `Map<Integer, String>`. –Ø–∫ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ —ó—ó –Ω–∞ `Map<String, Integer>` (—ñ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏), –ø—Ä–∏–ø—É—Å–∫–∞—é—á–∏, —â–æ –∑–Ω–∞—á–µ–Ω–Ω—è —É–Ω—ñ–∫–∞–ª—å–Ω—ñ? ‚≠êÔ∏è‚≠êÔ∏è

> #### **üí¨ –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
>
> –¶–µ –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–∞ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —è–∫ –∫–ª—é—á—ñ–≤, —Ç–∞–∫ —ñ –∑–Ω–∞—á–µ–Ω—å. –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ —Ü–µ –∑—Ä–æ–±–∏—Ç–∏, –ø—Ä–∞—Ü—é—é—á–∏ –∑ –ø–æ—Ç–æ–∫–æ–º `entrySet()`.
>
> **–ó–∞–¥–∞—á–∞:** –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –º–∞–ø—É, –¥–µ —Å—Ç–∞—Ä–µ –∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ç–∞–Ω–µ –Ω–æ–≤–∏–º –∫–ª—é—á–µ–º, –∞ —Å—Ç–∞—Ä–∏–π –∫–ª—é—á ‚Äî –Ω–æ–≤–∏–º –∑–Ω–∞—á–µ–Ω–Ω—è–º.
>
> **–õ–∞–Ω—Ü—é–∂–æ–∫ –æ–ø–µ—Ä–∞—Ü—ñ–π:**
>
> 1. –°—Ç–≤–æ—Ä—é—î–º–æ `stream()` –∑ `entrySet()`.
> 2. –ó–±–∏—Ä–∞—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `Collectors.toMap()`.
> 3. –£ `toMap` –º—ñ–Ω—è—î–º–æ –º—ñ—Å—Ü—è–º–∏ –º–∞–ø–ø–µ—Ä–∏:
>     * `keyMapper`: –±—É–¥–µ `Map.Entry::getValue`.
>     * `valueMapper`: –±—É–¥–µ `Map.Entry::getKey`.

#### **üìù –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É:**

```java
Map<Integer, String> idToName = Map.of(1, "one", 2, "two", 3, "three");

Map<String, Integer> nameToId = idToName.entrySet().stream()
    .collect(Collectors.toMap(
        Map.Entry::getValue, // –°—Ç–∞—Ä–µ –∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ç–∞—î –Ω–æ–≤–∏–º –∫–ª—é—á–µ–º
        Map.Entry::getKey    // –°—Ç–∞—Ä–∏–π –∫–ª—é—á —Å—Ç–∞—î –Ω–æ–≤–∏–º –∑–Ω–∞—á–µ–Ω–Ω—è–º
    ));
    
System.out.println(nameToId); // {one=1, two=2, three=3}
```

**–í–∞–∂–ª–∏–≤–æ:** –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ –∫–æ—Ä–µ–∫—Ç–Ω–æ –ª–∏—à–µ –∑–∞ —É–º–æ–≤–∏, —â–æ –∑–Ω–∞—á–µ–Ω–Ω—è –≤ –ø–æ—á–∞—Ç–∫–æ–≤—ñ–π –º–∞–ø—ñ —î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏. –í —ñ–Ω—à–æ–º—É –≤–∏–ø–∞–¥–∫—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ –Ω–∞–¥–∞—Ç–∏ `mergeFunction` –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ –∫–ª—é—á—ñ–≤ —É –Ω–æ–≤—ñ–π –º–∞–ø—ñ.

#### **üìå –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:**

*–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –≥–Ω—É—á–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `Collectors.toMap` —Ç–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –º–µ—Ç–æ–¥–∏ –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –Ω–µ—Ç—Ä–∏–≤—ñ–∞–ª—å–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å –∑ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö.*

* * *
